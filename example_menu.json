{
  "version": "1.14.0",
  "compound": {
    "kind": "page",
    "id": "example_menu",
    "name": "Example showing all possible functionality",
    "url_base": "example_menu",
    "url": "example_menu.html",
    "include": null,
    "has_template_details": false,
    "templates": null,
    "brief": "",
    "description": "<p><a name=\"md_examples_2menu__a__la__carte_2_read_me\"></a></p><p>This shows most of the functionality of the library at once. It has code in it for every possible sensor and modem and for both AVR and SAMD boards. This example should <em>never</em> be used directly; it is intended to document all possibilities and to verify compilation.</p><p>To create your own code, I recommend starting from a much simpler targeted example, like the <a href=\"https://github.com/EnviroDIY/ModularSensors/tree/master/examples/logging_to_MMW\">Logging to MMW</a> example, and then adding to it based on only the parts of this menu example that apply to you.</p><hr/><section id=\"example_menu_walk\"><h2>Walking Through the Code</h2><aside class=\"m-note m-info\"><h4>Note</h4><p>This walkthrough is intended to be viewed on GitHub pages at <a href=\"https://envirodiy.github.io/ModularSensors/example_menu.html\">https://envirodiy.github.io/ModularSensors/example_<wbr />menu.html</a>*</p></aside><aside class=\"m-note m-danger\"><h4>Warning</h4><p>This example is long. This walk-through is really, really long. Make use of the table of contents to skip to the parts you need.</p><hr/></aside><section id=\"menu_walk_defines_includes\"><h3>Defines and Includes</h3><section id=\"menu_walk_defines\"><h4>Defines for the Arduino IDE</h4><p>The top few lines of the examples set defines of buffer sizes and yields needed for the Arduino IDE. That IDE read any defines within the top few lines and applies them as build flags for the processor. This is <em>not</em> standard behavior for C++ (which is what Arduino code really is) - this is a unique aspect of the Arduino IDE.</p><div class=\"m-code-arduino\"><div class=\"highlight\"><div class=\"line\"><a id=\"l-1\" name=\"l-1\"></a><span class=\"linenos\">1</span><span class=\"cp\">#ifndef TINY_GSM_RX_BUFFER</span></div>\n<div class=\"line\"><a id=\"l-2\" name=\"l-2\"></a><span class=\"linenos\">2</span><span class=\"cp\">#define TINY_GSM_RX_BUFFER 64</span></div>\n<div class=\"line\"><a id=\"l-3\" name=\"l-3\"></a><span class=\"linenos\">3</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-4\" name=\"l-4\"></a><span class=\"linenos\">4</span><span class=\"cp\">#ifndef TINY_GSM_YIELD_MS</span></div>\n<div class=\"line\"><a id=\"l-5\" name=\"l-5\"></a><span class=\"linenos\">5</span><span class=\"cp\">#define TINY_GSM_YIELD_MS 2</span></div>\n<div class=\"line\"><a id=\"l-6\" name=\"l-6\"></a><span class=\"linenos\">6</span><span class=\"cp\">#endif</span>\n</div></div></div><p>If you are using PlatformIO, you should instead set these as global build flags in your platformio.ini. This is standard behavior for C++.</p><div class=\"m-code-pygments-default\"><div class=\"highlight\"><div class=\"line\"><a id=\"l-1\" name=\"l-1\"></a><span class=\"linenos\">1</span><span class=\"na\">build_flags</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-2\" name=\"l-2\"></a><span class=\"linenos\">2</span><span class=\"w\">    </span><span class=\"na\">-D SDI12_EXTERNAL_PCINT</span></div>\n<div class=\"line\"><a id=\"l-3\" name=\"l-3\"></a><span class=\"linenos\">3</span><span class=\"w\">    </span><span class=\"na\">-D NEOSWSERIAL_EXTERNAL_PCINT</span></div>\n<div class=\"line\"><a id=\"l-4\" name=\"l-4\"></a><span class=\"linenos\">4</span><span class=\"w\">    </span><span class=\"na\">-D MQTT_MAX_PACKET_SIZE</span><span class=\"o\">=</span><span class=\"s\">240</span></div>\n<div class=\"line\"><a id=\"l-5\" name=\"l-5\"></a><span class=\"linenos\">5</span><span class=\"w\">    </span><span class=\"na\">-D TINY_GSM_RX_BUFFER</span><span class=\"o\">=</span><span class=\"s\">64</span></div>\n<div class=\"line\"><a id=\"l-6\" name=\"l-6\"></a><span class=\"linenos\">6</span><span class=\"w\">    </span><span class=\"na\">-D TINY_GSM_YIELD_MS</span><span class=\"o\">=</span><span class=\"s\">2</span>\n</div></div></div><hr/></section><section id=\"menu_walk_includes\"><h4>Library Includes</h4><p>Next, include the libraries needed for every program using ModularSensors.</p><div class=\"m-code-arduino\"><div class=\"highlight\"><div class=\"line\"><a id=\"l-1\" name=\"l-1\"></a><span class=\"linenos\">1</span><span class=\"c1\">// The Arduino library is needed for every Arduino program.</span></div>\n<div class=\"line\"><a id=\"l-2\" name=\"l-2\"></a><span class=\"linenos\">2</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;Arduino.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-3\" name=\"l-3\"></a><span class=\"linenos\">3</span></div>\n<div class=\"line\"><a id=\"l-4\" name=\"l-4\"></a><span class=\"linenos\">4</span><span class=\"c1\">// Include the main header for ModularSensors</span></div>\n<div class=\"line\"><a id=\"l-5\" name=\"l-5\"></a><span class=\"linenos\">5</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;ModularSensors.h&gt;</span>\n</div></div></div><hr/></section></section><section id=\"menu_walk_logger_and_modem_settings\"><h3>Logger Settings</h3><section id=\"menu_walk_serial_ports\"><h4>Creating Extra Serial Ports</h4><p>This section of the example has all the code to create and link to serial ports for both AVR and SAMD based boards. The EnviroDIY Mayfly, the Arduino Mega, UNO, and Leonardo are all AVR boards. The Arduino Zero, the M0 and the Sodaq Autonomo are all SAMD boards.</p><p>Many different sensors communicate using some sort of serial or transistor-transistor-logic (TTL) protocol. Among these are any sensors using RS232, RS485, RS422. Generally each serial variant (or sometimes each sensor) needs a dedicated serial &quot;port&quot; - its own connection to the processor. Most processors have built in dedicated wires for serial communication - &quot;Hardware&quot; serial. See the page on <a href=\"page_arduino_streams.html\" class=\"m-doc\">Arduino streams</a> for much more detail about serial connections with Arduino processors.</p><hr/><section id=\"menu_walk_avr_serial_ports\"><h5>AVR Boards</h5><p>Most Arduino AVR style boards have very few (ie, one, or none) dedicated serial ports <em>available</em> after counting out the programming serial port. So to connect anything else, we need to try to emulate the processor serial functionality with a software library. This example shows three possible libraries that can be used to emulate a serial port on an AVR board.</p><section id=\"menu_walk_altsoftserial\"><h6>AltSoftSerial</h6><p><a href=\"https://github.com/PaulStoffregen/AltSoftSerial\">AltSoftSerial</a> by Paul Stoffregen is the most accurate software serial port for AVR boards. AltSoftSerial can only be used on one set of pins on each board so only one AltSoftSerial port can be used. Not all AVR boards are supported by AltSoftSerial. See the <a href=\"page_processor_compatibility.html\" class=\"m-doc\">processor compatibility</a> page for more information on which pins are used on supported boards.</p><div class=\"m-code-arduino\"><div class=\"highlight\"><div class=\"line\"><a id=\"l-1\" name=\"l-1\"></a><span class=\"linenos\">1</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;AltSoftSerial.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-2\" name=\"l-2\"></a><span class=\"linenos\">2</span><span class=\"n\">AltSoftSerial</span><span class=\"w\"> </span><span class=\"n\">altSoftSerial</span><span class=\"p\">;</span>\n</div></div></div></section><section id=\"menu_walk_neoswserial\"><h6>NeoSWSerial</h6><p><a href=\"https://github.com/SRGDamia1/NeoSWSerial\">NeoSWSerial</a> is the best software serial that can be used on any pin supporting interrupts. You can use as many instances of NeoSWSerial as you want. Each instance requires two pins, one for data in and another for data out. If you only want to use the serial line for incoming or outgoing data, set the other pin to -1. Not all AVR boards are supported by NeoSWSerial.</p><div class=\"m-code-arduino\"><div class=\"highlight\"><div class=\"line\"><a id=\"l-1\" name=\"l-1\"></a><span class=\"linenos\">1</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;NeoSWSerial.h&gt;</span><span class=\"c1\">          // for the stream communication</span></div>\n<div class=\"line\"><a id=\"l-2\" name=\"l-2\"></a><span class=\"linenos\">2</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">neoSSerial1Rx</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">11</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// data in pin</span></div>\n<div class=\"line\"><a id=\"l-3\" name=\"l-3\"></a><span class=\"linenos\">3</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">neoSSerial1Tx</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">-1</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// data out pin</span></div>\n<div class=\"line\"><a id=\"l-4\" name=\"l-4\"></a><span class=\"linenos\">4</span><span class=\"n\">NeoSWSerial</span><span class=\"w\">  </span><span class=\"nf\">neoSSerial1</span><span class=\"p\">(</span><span class=\"n\">neoSSerial1Rx</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">neoSSerial1Tx</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-5\" name=\"l-5\"></a><span class=\"linenos\">5</span><span class=\"c1\">// To use NeoSWSerial in this library, we define a function to receive data</span></div>\n<div class=\"line\"><a id=\"l-6\" name=\"l-6\"></a><span class=\"linenos\">6</span><span class=\"c1\">// This is just a short-cut for later</span></div>\n<div class=\"line\"><a id=\"l-7\" name=\"l-7\"></a><span class=\"linenos\">7</span><span class=\"kr\">void</span><span class=\"w\"> </span><span class=\"nf\">neoSSerial1ISR</span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"p\">{</span></div>\n<div class=\"line\"><a id=\"l-8\" name=\"l-8\"></a><span class=\"linenos\">8</span><span class=\"w\">    </span><span class=\"n\">NeoSWSerial</span><span class=\"o\">::</span><span class=\"n\">rxISR</span><span class=\"p\">(</span><span class=\"o\">*</span><span class=\"n\">portInputRegister</span><span class=\"p\">(</span><span class=\"n\">digitalPinToPort</span><span class=\"p\">(</span><span class=\"n\">neoSSerial1Rx</span><span class=\"p\">)));</span></div>\n<div class=\"line\"><a id=\"l-9\" name=\"l-9\"></a><span class=\"linenos\">9</span><span class=\"p\">}</span>\n</div></div></div><p>When using NeoSWSerial we will also have to actually set the data receiving (Rx) pin modes for interrupt in the <a href=\"https://envirodiy.github.io/ModularSensors/menu_a_la_carte_8ino-example.html#enu_walk_setup_serial_interrupts\">setup function</a>.</p></section><section id=\"menu_walk_softwareserial\"><h6>SoftwareSerial with External Interrupts</h6><p>The &quot;standard&quot; software serial library uses interrupts that conflict with several other libraries used within this program. I&#x27;ve created a <a href=\"https://github.com/EnviroDIY/SoftwareSerial_ExtInts\">version of software serial that has been stripped of interrupts</a> but it is still far from ideal. This should be used only use if necessary. It is not a very accurate serial port!</p><p>Accepting its poor quality, you can use as many instances of SoftwareSerial as you want. Each instance requires two pins, one for data in and another for data out. If you only want to use the serial line for incoming or outgoing data, set the other pin to -1.</p><div class=\"m-code-arduino\"><div class=\"highlight\"><div class=\"line\"><a id=\"l-1\" name=\"l-1\"></a><span class=\"linenos\">1</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">softSerialRx</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">A3</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// data in pin</span></div>\n<div class=\"line\"><a id=\"l-2\" name=\"l-2\"></a><span class=\"linenos\">2</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">softSerialTx</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">A4</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// data out pin</span></div>\n<div class=\"line\"><a id=\"l-3\" name=\"l-3\"></a><span class=\"linenos\">3</span></div>\n<div class=\"line\"><a id=\"l-4\" name=\"l-4\"></a><span class=\"linenos\">4</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;SoftwareSerial_ExtInts.h&gt;</span><span class=\"c1\">  // for the stream communication</span></div>\n<div class=\"line\"><a id=\"l-5\" name=\"l-5\"></a><span class=\"linenos\">5</span><span class=\"n\">SoftwareSerial_ExtInts</span><span class=\"w\"> </span><span class=\"nf\">softSerial1</span><span class=\"p\">(</span><span class=\"n\">softSerialRx</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">softSerialTx</span><span class=\"p\">);</span>\n</div></div></div><p>When using SoftwareSerial with External Interrupts we will also have to actually set the data receiving (Rx) pin modes for interrupt in the <a href=\"https://envirodiy.github.io/ModularSensors/menu_a_la_carte_8ino-example.html#enu_walk_setup_serial_interrupts\">setup function</a>.</p></section><section id=\"menu_walk_softwarewire\"><h6>Software I2C/Wire</h6><p>This creates a software I2C (wire) instance that can be shared between multiple sensors. Only Testato&#x27;s <a href=\"https://github.com/Testato/SoftwareWire\">SoftwareWire</a> library is supported.</p><div class=\"m-code-arduino\"><div class=\"highlight\"><div class=\"line\"><a id=\"l-1\" name=\"l-1\"></a><span class=\"linenos\"> 1</span><span class=\"c1\">// A software I2C (Wire) instance using Testato&#39;s SoftwareWire</span></div>\n<div class=\"line\"><a id=\"l-2\" name=\"l-2\"></a><span class=\"linenos\"> 2</span><span class=\"c1\">// To use SoftwareWire, you must also set a define for the sensor you want to</span></div>\n<div class=\"line\"><a id=\"l-3\" name=\"l-3\"></a><span class=\"linenos\"> 3</span><span class=\"c1\">// use Software I2C for, ie:</span></div>\n<div class=\"line\"><a id=\"l-4\" name=\"l-4\"></a><span class=\"linenos\"> 4</span><span class=\"c1\">//   `#define MS_RAIN_SOFTWAREWIRE`</span></div>\n<div class=\"line\"><a id=\"l-5\" name=\"l-5\"></a><span class=\"linenos\"> 5</span><span class=\"c1\">//   `#define MS_PALEOTERRA_SOFTWAREWIRE`</span></div>\n<div class=\"line\"><a id=\"l-6\" name=\"l-6\"></a><span class=\"linenos\"> 6</span><span class=\"c1\">// or set the build flag(s):</span></div>\n<div class=\"line\"><a id=\"l-7\" name=\"l-7\"></a><span class=\"linenos\"> 7</span><span class=\"c1\">//   `-D MS_RAIN_SOFTWAREWIRE`</span></div>\n<div class=\"line\"><a id=\"l-8\" name=\"l-8\"></a><span class=\"linenos\"> 8</span><span class=\"c1\">//   `-D MS_PALEOTERRA_SOFTWAREWIRE`</span></div>\n<div class=\"line\"><a id=\"l-9\" name=\"l-9\"></a><span class=\"linenos\"> 9</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;SoftwareWire.h&gt;</span><span class=\"c1\">  // Testato&#39;s Software I2C</span></div>\n<div class=\"line\"><a id=\"l-10\" name=\"l-10\"></a><span class=\"linenos\">10</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">softwareSDA</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">5</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-11\" name=\"l-11\"></a><span class=\"linenos\">11</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">softwareSCL</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">4</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-12\" name=\"l-12\"></a><span class=\"linenos\">12</span><span class=\"n\">SoftwareWire</span><span class=\"w\"> </span><span class=\"nf\">softI2C</span><span class=\"p\">(</span><span class=\"n\">softwareSDA</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">softwareSCL</span><span class=\"p\">);</span>\n</div></div></div><hr/></section></section><section id=\"menu_walk_samd_serial_ports\"><h5>SAMD Boards</h5><p>The SAMD21 supports up to 6 <em>hardware</em> serial ports, which is <em>awesome</em>. But, the Arduino core doesn&#x27;t make use of all of them, so we have to assign them ourselves.</p><p>This section of code assigns SERCOM&#x27;s 1 and 2 to act as Serial2 and Serial3 on pins 10/11 and 5/2 respectively. These pin selections are based on the Adafruit Feather M0.</p><div class=\"m-code-arduino\"><div class=\"highlight\"><div class=\"line\"><a id=\"l-1\" name=\"l-1\"></a><span class=\"linenos\"> 1</span><span class=\"c1\">// The SAMD21 has 6 &quot;SERCOM&quot; ports, any of which can be used for UART</span></div>\n<div class=\"line\"><a id=\"l-2\" name=\"l-2\"></a><span class=\"linenos\"> 2</span><span class=\"c1\">// communication.  The &quot;core&quot; code for most boards defines one or more UART</span></div>\n<div class=\"line\"><a id=\"l-3\" name=\"l-3\"></a><span class=\"linenos\"> 3</span><span class=\"c1\">// (Serial) ports with the SERCOMs and uses others for I2C and SPI.  We can</span></div>\n<div class=\"line\"><a id=\"l-4\" name=\"l-4\"></a><span class=\"linenos\"> 4</span><span class=\"c1\">// create new UART ports on any available SERCOM.  The table below shows</span></div>\n<div class=\"line\"><a id=\"l-5\" name=\"l-5\"></a><span class=\"linenos\"> 5</span><span class=\"c1\">// definitions for select boards.</span></div>\n<div class=\"line\"><a id=\"l-6\" name=\"l-6\"></a><span class=\"linenos\"> 6</span></div>\n<div class=\"line\"><a id=\"l-7\" name=\"l-7\"></a><span class=\"linenos\"> 7</span><span class=\"c1\">// Board =&gt;   Arduino Zero       Adafruit Feather M0</span></div>\n<div class=\"line\"><a id=\"l-8\" name=\"l-8\"></a><span class=\"linenos\"> 8</span><span class=\"c1\">// -------    ---------------    ----------------</span></div>\n<div class=\"line\"><a id=\"l-9\" name=\"l-9\"></a><span class=\"linenos\"> 9</span><span class=\"c1\">// SERCOM0    Serial1 (D0/D1)    Serial1 (D0/D1)</span></div>\n<div class=\"line\"><a id=\"l-10\" name=\"l-10\"></a><span class=\"linenos\">10</span><span class=\"c1\">// SERCOM1    Available          Available</span></div>\n<div class=\"line\"><a id=\"l-11\" name=\"l-11\"></a><span class=\"linenos\">11</span><span class=\"c1\">// SERCOM2    Available          Available</span></div>\n<div class=\"line\"><a id=\"l-12\" name=\"l-12\"></a><span class=\"linenos\">12</span><span class=\"c1\">// SERCOM3    I2C (D20/D21)      I2C (D20/D21)</span></div>\n<div class=\"line\"><a id=\"l-13\" name=\"l-13\"></a><span class=\"linenos\">13</span><span class=\"c1\">// SERCOM4    SPI (D21/22/23)    SPI (D21/22/23)</span></div>\n<div class=\"line\"><a id=\"l-14\" name=\"l-14\"></a><span class=\"linenos\">14</span><span class=\"c1\">// SERCOM5    EDBG/Serial        Available</span></div>\n<div class=\"line\"><a id=\"l-15\" name=\"l-15\"></a><span class=\"linenos\">15</span></div>\n<div class=\"line\"><a id=\"l-16\" name=\"l-16\"></a><span class=\"linenos\">16</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;wiring_private.h&gt;</span><span class=\"c1\">  // Needed for SAMD pinPeripheral() function</span></div>\n<div class=\"line\"><a id=\"l-17\" name=\"l-17\"></a><span class=\"linenos\">17</span></div>\n<div class=\"line\"><a id=\"l-18\" name=\"l-18\"></a><span class=\"linenos\">18</span><span class=\"c1\">// Set up a &#39;new&#39; UART using SERCOM1</span></div>\n<div class=\"line\"><a id=\"l-19\" name=\"l-19\"></a><span class=\"linenos\">19</span><span class=\"c1\">// The Rx will be on digital pin 11, which is SERCOM1&#39;s Pad #0</span></div>\n<div class=\"line\"><a id=\"l-20\" name=\"l-20\"></a><span class=\"linenos\">20</span><span class=\"c1\">// The Tx will be on digital pin 10, which is SERCOM1&#39;s Pad #2</span></div>\n<div class=\"line\"><a id=\"l-21\" name=\"l-21\"></a><span class=\"linenos\">21</span><span class=\"c1\">// NOTE:  SERCOM1 is undefined on a &quot;standard&quot; Arduino Zero and many clones,</span></div>\n<div class=\"line\"><a id=\"l-22\" name=\"l-22\"></a><span class=\"linenos\">22</span><span class=\"c1\">//        but not all!  Please check the variant.cpp file for you individual</span></div>\n<div class=\"line\"><a id=\"l-23\" name=\"l-23\"></a><span class=\"linenos\">23</span><span class=\"c1\">//        board!</span></div>\n<div class=\"line\"><a id=\"l-24\" name=\"l-24\"></a><span class=\"linenos\">24</span><span class=\"n\">Uart</span><span class=\"w\"> </span><span class=\"nf\">Serial2</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">sercom1</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mi\">11</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mi\">10</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">SERCOM_RX_PAD_0</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">UART_TX_PAD_2</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-25\" name=\"l-25\"></a><span class=\"linenos\">25</span><span class=\"c1\">// Hand over the interrupts to the sercom port</span></div>\n<div class=\"line\"><a id=\"l-26\" name=\"l-26\"></a><span class=\"linenos\">26</span><span class=\"kr\">void</span><span class=\"w\"> </span><span class=\"nf\">SERCOM1_Handler</span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"p\">{</span></div>\n<div class=\"line\"><a id=\"l-27\" name=\"l-27\"></a><span class=\"linenos\">27</span><span class=\"w\">    </span><span class=\"n\">Serial2</span><span class=\"p\">.</span><span class=\"n\">IrqHandler</span><span class=\"p\">();</span></div>\n<div class=\"line\"><a id=\"l-28\" name=\"l-28\"></a><span class=\"linenos\">28</span><span class=\"p\">}</span></div>\n<div class=\"line\"><a id=\"l-29\" name=\"l-29\"></a><span class=\"linenos\">29</span><span class=\"cp\">#define ENABLE_SERIAL2</span></div>\n<div class=\"line\"><a id=\"l-30\" name=\"l-30\"></a><span class=\"linenos\">30</span></div>\n<div class=\"line\"><a id=\"l-31\" name=\"l-31\"></a><span class=\"linenos\">31</span><span class=\"c1\">// Set up a &#39;new&#39; UART using SERCOM2</span></div>\n<div class=\"line\"><a id=\"l-32\" name=\"l-32\"></a><span class=\"linenos\">32</span><span class=\"c1\">// The Rx will be on digital pin 5, which is SERCOM2&#39;s Pad #3</span></div>\n<div class=\"line\"><a id=\"l-33\" name=\"l-33\"></a><span class=\"linenos\">33</span><span class=\"c1\">// The Tx will be on digital pin 2, which is SERCOM2&#39;s Pad #2</span></div>\n<div class=\"line\"><a id=\"l-34\" name=\"l-34\"></a><span class=\"linenos\">34</span><span class=\"c1\">// NOTE:  SERCOM2 is undefined on a &quot;standard&quot; Arduino Zero and many clones,</span></div>\n<div class=\"line\"><a id=\"l-35\" name=\"l-35\"></a><span class=\"linenos\">35</span><span class=\"c1\">//        but not all!  Please check the variant.cpp file for you individual</span></div>\n<div class=\"line\"><a id=\"l-36\" name=\"l-36\"></a><span class=\"linenos\">36</span><span class=\"c1\">//        board! Sodaq Autonomo&#39;s and Sodaq One&#39;s do NOT follow the &#39;standard&#39;</span></div>\n<div class=\"line\"><a id=\"l-37\" name=\"l-37\"></a><span class=\"linenos\">37</span><span class=\"c1\">//        SERCOM definitions!</span></div>\n<div class=\"line\"><a id=\"l-38\" name=\"l-38\"></a><span class=\"linenos\">38</span><span class=\"n\">Uart</span><span class=\"w\"> </span><span class=\"nf\">Serial3</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">sercom2</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mi\">5</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">SERCOM_RX_PAD_3</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">UART_TX_PAD_2</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-39\" name=\"l-39\"></a><span class=\"linenos\">39</span><span class=\"c1\">// Hand over the interrupts to the sercom port</span></div>\n<div class=\"line\"><a id=\"l-40\" name=\"l-40\"></a><span class=\"linenos\">40</span><span class=\"kr\">void</span><span class=\"w\"> </span><span class=\"nf\">SERCOM2_Handler</span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"p\">{</span></div>\n<div class=\"line\"><a id=\"l-41\" name=\"l-41\"></a><span class=\"linenos\">41</span><span class=\"w\">    </span><span class=\"n\">Serial3</span><span class=\"p\">.</span><span class=\"n\">IrqHandler</span><span class=\"p\">();</span></div>\n<div class=\"line\"><a id=\"l-42\" name=\"l-42\"></a><span class=\"linenos\">42</span><span class=\"p\">}</span></div>\n<div class=\"line\"><a id=\"l-43\" name=\"l-43\"></a><span class=\"linenos\">43</span><span class=\"cp\">#define ENABLE_SERIAL3</span>\n</div></div></div><p>In addition to creating the extra SERCOM ports here, the pins must be set up as the proper pin peripherals after the serial ports are begun. This is shown in the <a href=\"https://envirodiy.github.io/ModularSensors/menu_a_la_carte_8ino-example.html#enu_walk_setup_pin_periph\">SAMD Pin Peripherals section</a> of the setup function.</p><p>NOTE: The SAMD51 board has an amazing <em>8</em> available SERCOM&#x27;s, but I do not have any example code for using them.</p><hr/></section></section><section id=\"menu_walk_assign_ports_sw\"><h4>Assigning Serial Port Functionality</h4><p>This section just assigns all the serial ports from the <a href=\"#menu_walk_serial_ports\" class=\"m-doc\">Creating Extra Serial Ports</a> section above to specific functionality. For a board with the option of up to 4 hardware serial ports, like the SAMD21 or Arduino Mega, we use the Serial1 to talk to the modem, Serial2 for modbus, and Serial3 for the Maxbotix.</p><div class=\"m-code-arduino\"><div class=\"highlight\"><div class=\"line\"><a id=\"l-1\" name=\"l-1\"></a><span class=\"linenos\"> 1</span><span class=\"c1\">// If there are additional hardware Serial ports possible - use them!</span></div>\n<div class=\"line\"><a id=\"l-2\" name=\"l-2\"></a><span class=\"linenos\"> 2</span></div>\n<div class=\"line\"><a id=\"l-3\" name=\"l-3\"></a><span class=\"linenos\"> 3</span><span class=\"c1\">// We give the modem first priority and assign it to hardware serial</span></div>\n<div class=\"line\"><a id=\"l-4\" name=\"l-4\"></a><span class=\"linenos\"> 4</span><span class=\"c1\">// All of the supported processors have a hardware port available named Serial1</span></div>\n<div class=\"line\"><a id=\"l-5\" name=\"l-5\"></a><span class=\"linenos\"> 5</span><span class=\"cp\">#if defined(ENVIRODIY_STONEFLY_M4)</span></div>\n<div class=\"line\"><a id=\"l-6\" name=\"l-6\"></a><span class=\"linenos\"> 6</span><span class=\"cp\">#define modemSerial SerialBee</span></div>\n<div class=\"line\"><a id=\"l-7\" name=\"l-7\"></a><span class=\"linenos\"> 7</span><span class=\"c1\">// Helper for alternate print out</span></div>\n<div class=\"line\"><a id=\"l-8\" name=\"l-8\"></a><span class=\"linenos\"> 8</span><span class=\"c1\">// useful for SAMD boards which are a PITA to debug over USB when sleeping</span></div>\n<div class=\"line\"><a id=\"l-9\" name=\"l-9\"></a><span class=\"linenos\"> 9</span><span class=\"cp\">#elif defined(ARDUINO_ARCH_SAMD) &amp;&amp; defined(MS_2ND_OUTPUT)</span></div>\n<div class=\"line\"><a id=\"l-10\" name=\"l-10\"></a><span class=\"linenos\">10</span><span class=\"cp\">#define modemSerial Serial2</span></div>\n<div class=\"line\"><a id=\"l-11\" name=\"l-11\"></a><span class=\"linenos\">11</span><span class=\"cp\">#else</span></div>\n<div class=\"line\"><a id=\"l-12\" name=\"l-12\"></a><span class=\"linenos\">12</span><span class=\"cp\">#define modemSerial Serial1</span></div>\n<div class=\"line\"><a id=\"l-13\" name=\"l-13\"></a><span class=\"linenos\">13</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-14\" name=\"l-14\"></a><span class=\"linenos\">14</span></div>\n<div class=\"line\"><a id=\"l-15\" name=\"l-15\"></a><span class=\"linenos\">15</span><span class=\"c1\">// Define the serial port for modbus</span></div>\n<div class=\"line\"><a id=\"l-16\" name=\"l-16\"></a><span class=\"linenos\">16</span><span class=\"c1\">// Modbus (at 9600 8N1) is used by the Keller level loggers and Yosemitech</span></div>\n<div class=\"line\"><a id=\"l-17\" name=\"l-17\"></a><span class=\"linenos\">17</span><span class=\"c1\">// sensors</span></div>\n<div class=\"line\"><a id=\"l-18\" name=\"l-18\"></a><span class=\"linenos\">18</span><span class=\"cp\">#define modbusSerial Serial2</span></div>\n<div class=\"line\"><a id=\"l-19\" name=\"l-19\"></a><span class=\"linenos\">19</span></div>\n<div class=\"line\"><a id=\"l-20\" name=\"l-20\"></a><span class=\"linenos\">20</span><span class=\"cp\">#if defined(BUILD_SENSOR_MAX_BOTIX_SONAR)</span></div>\n<div class=\"line\"><a id=\"l-21\" name=\"l-21\"></a><span class=\"linenos\">21</span><span class=\"cp\">#define sonarSerial Serial3</span></div>\n<div class=\"line\"><a id=\"l-22\" name=\"l-22\"></a><span class=\"linenos\">22</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-23\" name=\"l-23\"></a><span class=\"linenos\">23</span></div>\n<div class=\"line\"><a id=\"l-24\" name=\"l-24\"></a><span class=\"linenos\">24</span><span class=\"cp\">#if defined(BUILD_SENSOR_GEOLUX_HYDRO_CAM)</span></div>\n<div class=\"line\"><a id=\"l-25\" name=\"l-25\"></a><span class=\"linenos\">25</span><span class=\"cp\">#define cameraSerial Serial1</span></div>\n<div class=\"line\"><a id=\"l-26\" name=\"l-26\"></a><span class=\"linenos\">26</span><span class=\"cp\">#endif</span>\n</div></div></div><p>For an AVR board where we&#x27;re relying on a mix of hardware and software ports, we use hardware Serial 1 for the modem, AltSoftSerial for modbus, and NeoSWSerial for the Maxbotix. Depending on how you rank the importance of each component, you can adjust these to your liking.</p><div class=\"m-code-arduino\"><div class=\"highlight\"><div class=\"line\"><a id=\"l-1\" name=\"l-1\"></a><span class=\"linenos\"> 1</span><span class=\"c1\">// We give the modem first priority and assign it to hardware serial</span></div>\n<div class=\"line\"><a id=\"l-2\" name=\"l-2\"></a><span class=\"linenos\"> 2</span><span class=\"c1\">// All of the supported processors have a hardware port available named Serial1</span></div>\n<div class=\"line\"><a id=\"l-3\" name=\"l-3\"></a><span class=\"linenos\"> 3</span><span class=\"cp\">#define modemSerial Serial1</span></div>\n<div class=\"line\"><a id=\"l-4\" name=\"l-4\"></a><span class=\"linenos\"> 4</span></div>\n<div class=\"line\"><a id=\"l-5\" name=\"l-5\"></a><span class=\"linenos\"> 5</span><span class=\"c1\">// Define the serial port for modbus</span></div>\n<div class=\"line\"><a id=\"l-6\" name=\"l-6\"></a><span class=\"linenos\"> 6</span><span class=\"c1\">// Modbus (at 9600 8N1) is used by the Keller level loggers and Yosemitech</span></div>\n<div class=\"line\"><a id=\"l-7\" name=\"l-7\"></a><span class=\"linenos\"> 7</span><span class=\"c1\">// sensors</span></div>\n<div class=\"line\"><a id=\"l-8\" name=\"l-8\"></a><span class=\"linenos\"> 8</span><span class=\"c1\">// Since AltSoftSerial is the best software option, we use it for modbus</span></div>\n<div class=\"line\"><a id=\"l-9\" name=\"l-9\"></a><span class=\"linenos\"> 9</span><span class=\"c1\">// If AltSoftSerial (or its pins) aren&#39;t available, use NeoSWSerial</span></div>\n<div class=\"line\"><a id=\"l-10\" name=\"l-10\"></a><span class=\"linenos\">10</span><span class=\"c1\">// SoftwareSerial **WILL NOT** work for modbus!</span></div>\n<div class=\"line\"><a id=\"l-11\" name=\"l-11\"></a><span class=\"linenos\">11</span><span class=\"cp\">#if defined(BUILD_TEST_ALTSOFTSERIAL) &amp;&amp; \\</span></div>\n<div class=\"line\"><a id=\"l-12\" name=\"l-12\"></a><span class=\"linenos\">12</span><span class=\"cp\">    (defined(__AVR__) || defined(ARDUINO_ARCH_AVR))</span></div>\n<div class=\"line\"><a id=\"l-13\" name=\"l-13\"></a><span class=\"linenos\">13</span><span class=\"c1\">// For AltSoftSerial</span></div>\n<div class=\"line\"><a id=\"l-14\" name=\"l-14\"></a><span class=\"linenos\">14</span><span class=\"cp\">#define modbusSerial altSoftSerial</span></div>\n<div class=\"line\"><a id=\"l-15\" name=\"l-15\"></a><span class=\"linenos\">15</span><span class=\"cp\">#elif defined(BUILD_TEST_NEOSWSERIAL) &amp;&amp; \\</span></div>\n<div class=\"line\"><a id=\"l-16\" name=\"l-16\"></a><span class=\"linenos\">16</span><span class=\"cp\">    (defined(__AVR__) || defined(ARDUINO_ARCH_AVR))</span></div>\n<div class=\"line\"><a id=\"l-17\" name=\"l-17\"></a><span class=\"linenos\">17</span><span class=\"c1\">// For Neo software serial</span></div>\n<div class=\"line\"><a id=\"l-18\" name=\"l-18\"></a><span class=\"linenos\">18</span><span class=\"cp\">#define modbusSerial neoSSerial1</span></div>\n<div class=\"line\"><a id=\"l-19\" name=\"l-19\"></a><span class=\"linenos\">19</span><span class=\"cp\">#elif defined(BUILD_TEST_SOFTSERIAL) &amp;&amp; \\</span></div>\n<div class=\"line\"><a id=\"l-20\" name=\"l-20\"></a><span class=\"linenos\">20</span><span class=\"cp\">    (defined(__AVR__) || defined(ARDUINO_ARCH_AVR))</span></div>\n<div class=\"line\"><a id=\"l-21\" name=\"l-21\"></a><span class=\"linenos\">21</span><span class=\"c1\">// For software serial</span></div>\n<div class=\"line\"><a id=\"l-22\" name=\"l-22\"></a><span class=\"linenos\">22</span><span class=\"cp\">#define modbusSerial softSerial1</span></div>\n<div class=\"line\"><a id=\"l-23\" name=\"l-23\"></a><span class=\"linenos\">23</span><span class=\"cp\">#else</span></div>\n<div class=\"line\"><a id=\"l-24\" name=\"l-24\"></a><span class=\"linenos\">24</span><span class=\"c1\">// Hardware serial</span></div>\n<div class=\"line\"><a id=\"l-25\" name=\"l-25\"></a><span class=\"linenos\">25</span><span class=\"cp\">#define modbusSerial Serial1</span></div>\n<div class=\"line\"><a id=\"l-26\" name=\"l-26\"></a><span class=\"linenos\">26</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-27\" name=\"l-27\"></a><span class=\"linenos\">27</span></div>\n<div class=\"line\"><a id=\"l-28\" name=\"l-28\"></a><span class=\"linenos\">28</span><span class=\"c1\">// Since the Maxbotix only needs one-way communication and sends a simple text</span></div>\n<div class=\"line\"><a id=\"l-29\" name=\"l-29\"></a><span class=\"linenos\">29</span><span class=\"c1\">// string repeatedly, almost any software serial port will do for it.</span></div>\n<div class=\"line\"><a id=\"l-30\" name=\"l-30\"></a><span class=\"linenos\">30</span><span class=\"cp\">#if defined(BUILD_TEST_ALTSOFTSERIAL) &amp;&amp; defined(BUILD_SENSOR_MAX_BOTIX_SONAR)</span></div>\n<div class=\"line\"><a id=\"l-31\" name=\"l-31\"></a><span class=\"linenos\">31</span><span class=\"c1\">// For AltSoftSerial</span></div>\n<div class=\"line\"><a id=\"l-32\" name=\"l-32\"></a><span class=\"linenos\">32</span><span class=\"cp\">#define sonarSerial altSoftSerial</span></div>\n<div class=\"line\"><a id=\"l-33\" name=\"l-33\"></a><span class=\"linenos\">33</span><span class=\"cp\">#elif defined(BUILD_TEST_NEOSWSERIAL) &amp;&amp; defined(BUILD_SENSOR_MAX_BOTIX_SONAR)</span></div>\n<div class=\"line\"><a id=\"l-34\" name=\"l-34\"></a><span class=\"linenos\">34</span><span class=\"c1\">// For Neo software serial</span></div>\n<div class=\"line\"><a id=\"l-35\" name=\"l-35\"></a><span class=\"linenos\">35</span><span class=\"cp\">#define sonarSerial neoSSerial1</span></div>\n<div class=\"line\"><a id=\"l-36\" name=\"l-36\"></a><span class=\"linenos\">36</span><span class=\"cp\">#elif defined(BUILD_TEST_SOFTSERIAL) &amp;&amp; defined(BUILD_SENSOR_MAX_BOTIX_SONAR)</span></div>\n<div class=\"line\"><a id=\"l-37\" name=\"l-37\"></a><span class=\"linenos\">37</span><span class=\"c1\">// For software serial</span></div>\n<div class=\"line\"><a id=\"l-38\" name=\"l-38\"></a><span class=\"linenos\">38</span><span class=\"cp\">#define sonarSerial softSerial1</span></div>\n<div class=\"line\"><a id=\"l-39\" name=\"l-39\"></a><span class=\"linenos\">39</span><span class=\"cp\">#elif defined(BUILD_SENSOR_MAX_BOTIX_SONAR)</span></div>\n<div class=\"line\"><a id=\"l-40\" name=\"l-40\"></a><span class=\"linenos\">40</span><span class=\"c1\">// Hardware serial</span></div>\n<div class=\"line\"><a id=\"l-41\" name=\"l-41\"></a><span class=\"linenos\">41</span><span class=\"cp\">#define sonarSerial Serial1</span></div>\n<div class=\"line\"><a id=\"l-42\" name=\"l-42\"></a><span class=\"linenos\">42</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-43\" name=\"l-43\"></a><span class=\"linenos\">43</span></div>\n<div class=\"line\"><a id=\"l-44\" name=\"l-44\"></a><span class=\"linenos\">44</span><span class=\"c1\">// I **REALLY** don&#39;t recommend using a software serial for the camera, but oh</span></div>\n<div class=\"line\"><a id=\"l-45\" name=\"l-45\"></a><span class=\"linenos\">45</span><span class=\"c1\">// well</span></div>\n<div class=\"line\"><a id=\"l-46\" name=\"l-46\"></a><span class=\"linenos\">46</span><span class=\"cp\">#if defined(BUILD_TEST_ALTSOFTSERIAL) &amp;&amp; defined(BUILD_SENSOR_GEOLUX_HYDRO_CAM)</span></div>\n<div class=\"line\"><a id=\"l-47\" name=\"l-47\"></a><span class=\"linenos\">47</span><span class=\"c1\">// For AltSoftSerial</span></div>\n<div class=\"line\"><a id=\"l-48\" name=\"l-48\"></a><span class=\"linenos\">48</span><span class=\"cp\">#define cameraSerial altSoftSerial</span></div>\n<div class=\"line\"><a id=\"l-49\" name=\"l-49\"></a><span class=\"linenos\">49</span><span class=\"cp\">#elif defined(BUILD_TEST_NEOSWSERIAL) &amp;&amp; defined(BUILD_SENSOR_GEOLUX_HYDRO_CAM)</span></div>\n<div class=\"line\"><a id=\"l-50\" name=\"l-50\"></a><span class=\"linenos\">50</span><span class=\"c1\">// For Neo software serial</span></div>\n<div class=\"line\"><a id=\"l-51\" name=\"l-51\"></a><span class=\"linenos\">51</span><span class=\"cp\">#define cameraSerial neoSSerial1</span></div>\n<div class=\"line\"><a id=\"l-52\" name=\"l-52\"></a><span class=\"linenos\">52</span><span class=\"cp\">#elif defined(BUILD_TEST_SOFTSERIAL) &amp;&amp; defined(BUILD_SENSOR_GEOLUX_HYDRO_CAM)</span></div>\n<div class=\"line\"><a id=\"l-53\" name=\"l-53\"></a><span class=\"linenos\">53</span><span class=\"c1\">// For software serial</span></div>\n<div class=\"line\"><a id=\"l-54\" name=\"l-54\"></a><span class=\"linenos\">54</span><span class=\"cp\">#define cameraSerial softSerial1</span></div>\n<div class=\"line\"><a id=\"l-55\" name=\"l-55\"></a><span class=\"linenos\">55</span><span class=\"cp\">#elif defined(BUILD_SENSOR_GEOLUX_HYDRO_CAM)</span></div>\n<div class=\"line\"><a id=\"l-56\" name=\"l-56\"></a><span class=\"linenos\">56</span><span class=\"c1\">// Hardware serial</span></div>\n<div class=\"line\"><a id=\"l-57\" name=\"l-57\"></a><span class=\"linenos\">57</span><span class=\"cp\">#define cameraSerial Serial1</span></div>\n<div class=\"line\"><a id=\"l-58\" name=\"l-58\"></a><span class=\"linenos\">58</span><span class=\"cp\">#endif</span>\n</div></div></div><hr/></section><section id=\"menu_walk_logging_options\"><h4>Logging Options</h4><p>Here we set options for the logging and dataLogger object. This includes setting the time zone (daylight savings time is <strong>NOT</strong> applied) and setting all of the input and output pins related to the logger.</p><div class=\"m-code-arduino\"><div class=\"highlight\"><div class=\"line\"><a id=\"l-1\" name=\"l-1\"></a><span class=\"linenos\"> 1</span><span class=\"c1\">// The name of this program file - this is used only for console printouts at</span></div>\n<div class=\"line\"><a id=\"l-2\" name=\"l-2\"></a><span class=\"linenos\"> 2</span><span class=\"c1\">// start-up</span></div>\n<div class=\"line\"><a id=\"l-3\" name=\"l-3\"></a><span class=\"linenos\"> 3</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">sketchName</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s\">&quot;menu_a_la_carte.ino&quot;</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-4\" name=\"l-4\"></a><span class=\"linenos\"> 4</span><span class=\"c1\">// Logger ID, also becomes the prefix for the name of the data file on SD card</span></div>\n<div class=\"line\"><a id=\"l-5\" name=\"l-5\"></a><span class=\"linenos\"> 5</span><span class=\"c1\">// This is also used as the Thing Name, MQTT Client ID, and topic for AWS IOT</span></div>\n<div class=\"line\"><a id=\"l-6\" name=\"l-6\"></a><span class=\"linenos\"> 6</span><span class=\"c1\">// Core</span></div>\n<div class=\"line\"><a id=\"l-7\" name=\"l-7\"></a><span class=\"linenos\"> 7</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">LoggerID</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s\">&quot;your_logger_id&quot;</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-8\" name=\"l-8\"></a><span class=\"linenos\"> 8</span><span class=\"c1\">// Sampling feature UUID</span></div>\n<div class=\"line\"><a id=\"l-9\" name=\"l-9\"></a><span class=\"linenos\"> 9</span><span class=\"c1\">// This is used as the UUID for the sampling feature on Monitor My Watershed and</span></div>\n<div class=\"line\"><a id=\"l-10\" name=\"l-10\"></a><span class=\"linenos\">10</span><span class=\"c1\">// the sub-topic for AWS IOT Core</span></div>\n<div class=\"line\"><a id=\"l-11\" name=\"l-11\"></a><span class=\"linenos\">11</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">samplingFeature</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-12\" name=\"l-12\"></a><span class=\"linenos\">12</span><span class=\"c1\">// How frequently (in minutes) to log data</span></div>\n<div class=\"line\"><a id=\"l-13\" name=\"l-13\"></a><span class=\"linenos\">13</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">loggingInterval</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">15</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-14\" name=\"l-14\"></a><span class=\"linenos\">14</span><span class=\"c1\">// Your logger&#39;s timezone.</span></div>\n<div class=\"line\"><a id=\"l-15\" name=\"l-15\"></a><span class=\"linenos\">15</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">timeZone</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">-5</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Eastern Standard Time</span></div>\n<div class=\"line\"><a id=\"l-16\" name=\"l-16\"></a><span class=\"linenos\">16</span><span class=\"c1\">// NOTE:  Daylight savings time will not be applied!  Please use standard time!</span></div>\n<div class=\"line\"><a id=\"l-17\" name=\"l-17\"></a><span class=\"linenos\">17</span></div>\n<div class=\"line\"><a id=\"l-18\" name=\"l-18\"></a><span class=\"linenos\">18</span><span class=\"c1\">// Set the input and output pins for the logger</span></div>\n<div class=\"line\"><a id=\"l-19\" name=\"l-19\"></a><span class=\"linenos\">19</span><span class=\"c1\">// NOTE:  Use -1 for pins that do not apply</span></div>\n<div class=\"line\"><a id=\"l-20\" name=\"l-20\"></a><span class=\"linenos\">20</span><span class=\"cp\">#if defined(ARDUINO_AVR_ENVIRODIY_MAYFLY)</span></div>\n<div class=\"line\"><a id=\"l-21\" name=\"l-21\"></a><span class=\"linenos\">21</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int32_t</span><span class=\"w\"> </span><span class=\"n\">serialBaud</span><span class=\"w\">    </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">115200</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Baud rate for debugging</span></div>\n<div class=\"line\"><a id=\"l-22\" name=\"l-22\"></a><span class=\"linenos\">22</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">greenLED</span><span class=\"w\">      </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">8</span><span class=\"p\">;</span><span class=\"w\">       </span><span class=\"c1\">// Pin for the green LED</span></div>\n<div class=\"line\"><a id=\"l-23\" name=\"l-23\"></a><span class=\"linenos\">23</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">redLED</span><span class=\"w\">        </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">9</span><span class=\"p\">;</span><span class=\"w\">       </span><span class=\"c1\">// Pin for the red LED</span></div>\n<div class=\"line\"><a id=\"l-24\" name=\"l-24\"></a><span class=\"linenos\">24</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">buttonPin</span><span class=\"w\">     </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">21</span><span class=\"p\">;</span><span class=\"w\">     </span><span class=\"c1\">// Pin for debugging mode (ie, button pin)</span></div>\n<div class=\"line\"><a id=\"l-25\" name=\"l-25\"></a><span class=\"linenos\">25</span><span class=\"kr\">uint8_t</span><span class=\"w\">       </span><span class=\"n\">buttonPinMode</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"kr\">INPUT</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// mode for debugging pin</span></div>\n<div class=\"line\"><a id=\"l-26\" name=\"l-26\"></a><span class=\"linenos\">26</span><span class=\"c1\">// NOTE: On the Mayfly (and Stonefly), pin 21 is tied to a button that pulls the</span></div>\n<div class=\"line\"><a id=\"l-27\" name=\"l-27\"></a><span class=\"linenos\">27</span><span class=\"c1\">// pin HIGH when pressed and an external pull-down that keeps the pin LOW when</span></div>\n<div class=\"line\"><a id=\"l-28\" name=\"l-28\"></a><span class=\"linenos\">28</span><span class=\"c1\">// the button is not pressed. We want the pin mode to be INPUT - ie, floating</span></div>\n<div class=\"line\"><a id=\"l-29\" name=\"l-29\"></a><span class=\"linenos\">29</span><span class=\"c1\">// internally and pulled down externally until the button is pressed.  AVR</span></div>\n<div class=\"line\"><a id=\"l-30\" name=\"l-30\"></a><span class=\"linenos\">30</span><span class=\"c1\">// processors like the 1284P on the Mayfly do not have internal pull-down</span></div>\n<div class=\"line\"><a id=\"l-31\" name=\"l-31\"></a><span class=\"linenos\">31</span><span class=\"c1\">// resistors - they do not have an INPUT_PULLDOWN mode like SAMD processors.</span></div>\n<div class=\"line\"><a id=\"l-32\" name=\"l-32\"></a><span class=\"linenos\">32</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">wakePin</span><span class=\"w\">     </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">31</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU interrupt/alarm pin to wake from sleep</span></div>\n<div class=\"line\"><a id=\"l-33\" name=\"l-33\"></a><span class=\"linenos\">33</span><span class=\"kr\">uint8_t</span><span class=\"w\">      </span><span class=\"n\">wakePinMode</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"kr\">INPUT_PULLUP</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// mode for wake pin</span></div>\n<div class=\"line\"><a id=\"l-34\" name=\"l-34\"></a><span class=\"linenos\">34</span><span class=\"c1\">// Mayfly 0.x, 1.x D31 = A7</span></div>\n<div class=\"line\"><a id=\"l-35\" name=\"l-35\"></a><span class=\"linenos\">35</span><span class=\"c1\">// NOTE: On the Mayfly, pin D31=A7 is tied directly to the RTC INT/SQW pin</span></div>\n<div class=\"line\"><a id=\"l-36\" name=\"l-36\"></a><span class=\"linenos\">36</span><span class=\"c1\">// on the onboard DS3231 RTC.  The interrupt from the DS3231 will pull the pin</span></div>\n<div class=\"line\"><a id=\"l-37\" name=\"l-37\"></a><span class=\"linenos\">37</span><span class=\"c1\">// DOWN, so we want the pin mode to be INPUT_PULLUP - ie, pulled up until the</span></div>\n<div class=\"line\"><a id=\"l-38\" name=\"l-38\"></a><span class=\"linenos\">38</span><span class=\"c1\">// RTC pulls it down.</span></div>\n<div class=\"line\"><a id=\"l-39\" name=\"l-39\"></a><span class=\"linenos\">39</span><span class=\"c1\">// Set the wake pin to -1 if you do not want the main processor to sleep.</span></div>\n<div class=\"line\"><a id=\"l-40\" name=\"l-40\"></a><span class=\"linenos\">40</span><span class=\"c1\">// In a SAMD system where you are using the built-in RTC, set the wakePin to 1.</span></div>\n<div class=\"line\"><a id=\"l-41\" name=\"l-41\"></a><span class=\"linenos\">41</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">sdCardPwrPin</span><span class=\"w\">   </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">-1</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU SD card power pin</span></div>\n<div class=\"line\"><a id=\"l-42\" name=\"l-42\"></a><span class=\"linenos\">42</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">sdCardSSPin</span><span class=\"w\">    </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">12</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// SD card chip select/slave select pin</span></div>\n<div class=\"line\"><a id=\"l-43\" name=\"l-43\"></a><span class=\"linenos\">43</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">flashSSPin</span><span class=\"w\">     </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">20</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// onboard flash chip select/slave select pin</span></div>\n<div class=\"line\"><a id=\"l-44\" name=\"l-44\"></a><span class=\"linenos\">44</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">sensorPowerPin</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">22</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin controlling main sensor power</span></div>\n<div class=\"line\"><a id=\"l-45\" name=\"l-45\"></a><span class=\"linenos\">45</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">sdi12DataPin</span><span class=\"w\">   </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">7</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-46\" name=\"l-46\"></a><span class=\"linenos\">46</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">relayPowerPin</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">A3</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin controlling an optional power relay</span></div>\n<div class=\"line\"><a id=\"l-47\" name=\"l-47\"></a><span class=\"linenos\">47</span><span class=\"cp\">#elif defined(ENVIRODIY_STONEFLY_M4)</span></div>\n<div class=\"line\"><a id=\"l-48\" name=\"l-48\"></a><span class=\"linenos\">48</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int32_t</span><span class=\"w\"> </span><span class=\"n\">serialBaud</span><span class=\"w\">    </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">921600</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Baud rate for debugging</span></div>\n<div class=\"line\"><a id=\"l-49\" name=\"l-49\"></a><span class=\"linenos\">49</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">greenLED</span><span class=\"w\">      </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">8</span><span class=\"p\">;</span><span class=\"w\">       </span><span class=\"c1\">// Pin for the green LED</span></div>\n<div class=\"line\"><a id=\"l-50\" name=\"l-50\"></a><span class=\"linenos\">50</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">redLED</span><span class=\"w\">        </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">9</span><span class=\"p\">;</span><span class=\"w\">       </span><span class=\"c1\">// Pin for the red LED</span></div>\n<div class=\"line\"><a id=\"l-51\" name=\"l-51\"></a><span class=\"linenos\">51</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">buttonPin</span><span class=\"w\">     </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">21</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Pin for debugging mode (ie, button pin)</span></div>\n<div class=\"line\"><a id=\"l-52\" name=\"l-52\"></a><span class=\"linenos\">52</span><span class=\"kr\">uint8_t</span><span class=\"w\">       </span><span class=\"n\">buttonPinMode</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">INPUT_PULLDOWN</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// mode for debugging pin</span></div>\n<div class=\"line\"><a id=\"l-53\" name=\"l-53\"></a><span class=\"linenos\">53</span><span class=\"c1\">// NOTE: On the Stonefly (and Mayfly), 21 is tied to a button that pulls the pin</span></div>\n<div class=\"line\"><a id=\"l-54\" name=\"l-54\"></a><span class=\"linenos\">54</span><span class=\"c1\">// HIGH when pressed and an external pull-down that keeps the pin LOW when the</span></div>\n<div class=\"line\"><a id=\"l-55\" name=\"l-55\"></a><span class=\"linenos\">55</span><span class=\"c1\">// button is not pressed. We want the pin mode to be INPUT_PULLDOWN - ie, pulled</span></div>\n<div class=\"line\"><a id=\"l-56\" name=\"l-56\"></a><span class=\"linenos\">56</span><span class=\"c1\">// down both internally and externally until the button is pressed.</span></div>\n<div class=\"line\"><a id=\"l-57\" name=\"l-57\"></a><span class=\"linenos\">57</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">wakePin</span><span class=\"w\">     </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">38</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU interrupt/alarm pin to wake from sleep</span></div>\n<div class=\"line\"><a id=\"l-58\" name=\"l-58\"></a><span class=\"linenos\">58</span><span class=\"kr\">uint8_t</span><span class=\"w\">      </span><span class=\"n\">wakePinMode</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"kr\">INPUT_PULLUP</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// mode for wake pin</span></div>\n<div class=\"line\"><a id=\"l-59\" name=\"l-59\"></a><span class=\"linenos\">59</span><span class=\"c1\">// NOTE: On the Stonefly, pin D38 is tied directly to the RTC INT/SQW pin</span></div>\n<div class=\"line\"><a id=\"l-60\" name=\"l-60\"></a><span class=\"linenos\">60</span><span class=\"c1\">// on the onboard RV-8803 RTC.  The interrupt from the RV-8803 will pull the pin</span></div>\n<div class=\"line\"><a id=\"l-61\" name=\"l-61\"></a><span class=\"linenos\">61</span><span class=\"c1\">// DOWN, so we want the pin mode to be INPUT_PULLUP - ie, pulled up until the</span></div>\n<div class=\"line\"><a id=\"l-62\" name=\"l-62\"></a><span class=\"linenos\">62</span><span class=\"c1\">// RTC pulls it down.</span></div>\n<div class=\"line\"><a id=\"l-63\" name=\"l-63\"></a><span class=\"linenos\">63</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">sdCardPwrPin</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">-1</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU SD card power pin</span></div>\n<div class=\"line\"><a id=\"l-64\" name=\"l-64\"></a><span class=\"linenos\">64</span><span class=\"c1\">// const int8_t sdCardPwrPin   = 32;  // MCU SD card power pin</span></div>\n<div class=\"line\"><a id=\"l-65\" name=\"l-65\"></a><span class=\"linenos\">65</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">sdCardSSPin</span><span class=\"w\">    </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">29</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// SD card chip select/slave select pin</span></div>\n<div class=\"line\"><a id=\"l-66\" name=\"l-66\"></a><span class=\"linenos\">66</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">flashSSPin</span><span class=\"w\">     </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">20</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// onboard flash chip select/slave select pin</span></div>\n<div class=\"line\"><a id=\"l-67\" name=\"l-67\"></a><span class=\"linenos\">67</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">sensorPowerPin</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">22</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin controlling main sensor power</span></div>\n<div class=\"line\"><a id=\"l-68\" name=\"l-68\"></a><span class=\"linenos\">68</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">relayPowerPin</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">41</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin controlling an optional power relay</span></div>\n<div class=\"line\"><a id=\"l-69\" name=\"l-69\"></a><span class=\"linenos\">69</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">sdi12DataPin</span><span class=\"w\">  </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-70\" name=\"l-70\"></a><span class=\"linenos\">70</span><span class=\"cp\">#else</span></div>\n<div class=\"line\"><a id=\"l-71\" name=\"l-71\"></a><span class=\"linenos\">71</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int32_t</span><span class=\"w\"> </span><span class=\"n\">serialBaud</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">115200</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Baud rate for debugging</span></div>\n<div class=\"line\"><a id=\"l-72\" name=\"l-72\"></a><span class=\"linenos\">72</span><span class=\"cp\">#if defined(PIN_LED2)</span></div>\n<div class=\"line\"><a id=\"l-73\" name=\"l-73\"></a><span class=\"linenos\">73</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">greenLED</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">PIN_LED2</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Pin for the green LED</span></div>\n<div class=\"line\"><a id=\"l-74\" name=\"l-74\"></a><span class=\"linenos\">74</span><span class=\"cp\">#else</span></div>\n<div class=\"line\"><a id=\"l-75\" name=\"l-75\"></a><span class=\"linenos\">75</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">greenLED</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">-1</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Pin for the green LED</span></div>\n<div class=\"line\"><a id=\"l-76\" name=\"l-76\"></a><span class=\"linenos\">76</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-77\" name=\"l-77\"></a><span class=\"linenos\">77</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">redLED</span><span class=\"w\">        </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"kr\">LED_BUILTIN</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Pin for the red LED</span></div>\n<div class=\"line\"><a id=\"l-78\" name=\"l-78\"></a><span class=\"linenos\">78</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">buttonPin</span><span class=\"w\">     </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">-1</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Pin for debugging mode (ie, button pin)</span></div>\n<div class=\"line\"><a id=\"l-79\" name=\"l-79\"></a><span class=\"linenos\">79</span><span class=\"kr\">uint8_t</span><span class=\"w\">      </span><span class=\"n\">buttonPinMode</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"kr\">INPUT_PULLUP</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// mode for debugging pin</span></div>\n<div class=\"line\"><a id=\"l-80\" name=\"l-80\"></a><span class=\"linenos\">80</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">wakePin</span><span class=\"w\">       </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">-1</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU interrupt/alarm pin to wake from sleep</span></div>\n<div class=\"line\"><a id=\"l-81\" name=\"l-81\"></a><span class=\"linenos\">81</span><span class=\"kr\">uint8_t</span><span class=\"w\">      </span><span class=\"n\">wakePinMode</span><span class=\"w\">   </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"kr\">INPUT_PULLUP</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// mode for wake pin</span></div>\n<div class=\"line\"><a id=\"l-82\" name=\"l-82\"></a><span class=\"linenos\">82</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">sdCardPwrPin</span><span class=\"w\">  </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">-1</span><span class=\"p\">;</span><span class=\"w\">            </span><span class=\"c1\">// MCU SD card power pin</span></div>\n<div class=\"line\"><a id=\"l-83\" name=\"l-83\"></a><span class=\"linenos\">83</span><span class=\"cp\">#if defined(SDCARD_SS_PIN)</span></div>\n<div class=\"line\"><a id=\"l-84\" name=\"l-84\"></a><span class=\"linenos\">84</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">sdCardSSPin</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-85\" name=\"l-85\"></a><span class=\"linenos\">85</span><span class=\"w\">    </span><span class=\"n\">SDCARD_SS_PIN</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// SD card chip select/slave select pin</span></div>\n<div class=\"line\"><a id=\"l-86\" name=\"l-86\"></a><span class=\"linenos\">86</span><span class=\"cp\">#elif defined(PIN_SPI_SS)</span></div>\n<div class=\"line\"><a id=\"l-87\" name=\"l-87\"></a><span class=\"linenos\">87</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">sdCardSSPin</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">PIN_SPI_SS</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// SD card chip select/slave select pin</span></div>\n<div class=\"line\"><a id=\"l-88\" name=\"l-88\"></a><span class=\"linenos\">88</span><span class=\"cp\">#else</span></div>\n<div class=\"line\"><a id=\"l-89\" name=\"l-89\"></a><span class=\"linenos\">89</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">sdCardSSPin</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">-1</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// SD card chip select/slave select pin</span></div>\n<div class=\"line\"><a id=\"l-90\" name=\"l-90\"></a><span class=\"linenos\">90</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-91\" name=\"l-91\"></a><span class=\"linenos\">91</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">flashSSPin</span><span class=\"w\">     </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">-1</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// onboard flash chip select/slave select pin</span></div>\n<div class=\"line\"><a id=\"l-92\" name=\"l-92\"></a><span class=\"linenos\">92</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">sensorPowerPin</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">-1</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin controlling main sensor power</span></div>\n<div class=\"line\"><a id=\"l-93\" name=\"l-93\"></a><span class=\"linenos\">93</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">relayPowerPin</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">-1</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin controlling an optional power relay</span></div>\n<div class=\"line\"><a id=\"l-94\" name=\"l-94\"></a><span class=\"linenos\">94</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">sdi12DataPin</span><span class=\"w\">  </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-95\" name=\"l-95\"></a><span class=\"linenos\">95</span><span class=\"cp\">#endif</span>\n</div></div></div><hr/></section></section><section id=\"menu_walk_modem_settings\"><h3>WiFi/Cellular Modem Options</h3><p>This modem section is very lengthy because it contains the code with the constructor for every possible supported modem module. Do <em>NOT</em> try to use more than one modem at a time - it will <em>NOT</em> work.</p><p>To create any of the modems, we follow a similar pattern:</p><p>First, we&#x27;ll create a pointer to the serial port (Arduino Stream object) that we&#x27;ll use for communication between the modem and the MCU. We also assign the baud rate to a variable here. There is a table of <a href=\"page_modem_notes.html#modem_notes_bauds\" class=\"m-doc\">Default baud rates of supported modules</a> on the <a href=\"page_modem_notes.html\" class=\"m-doc\">Notes about Modems</a> page. The baud rate of any of the modules can be changed using AT commands or the <code>modem.gsmModem.setBaud(uint32_t baud)</code> function.</p><p>Next, we&#x27;ll assign all the pin numbers for all the other pins connected between the modem and the MCU. Pins that do not apply should be set as -1. There is a table of general <a href=\"page_modem_notes.html#modem_notes_sleep\" class=\"m-doc\">Sleep and Reset Pin Labels</a> and <a href=\"page_modem_notes.html#modem_notes_mayfly_0_pins\" class=\"m-doc\">Pin Numbers to Use when Connecting to a Mayfly 0.x</a> on the <a href=\"page_modem_notes.html\" class=\"m-doc\">Notes about Modems</a> page.</p><p>All the modems also need some sort of network credentials for internet access. For WiFi modems, you need the network name and password (assuming WPA2). For cellular models, you will need the APN assigned to you by the carrier you bought your SIM card from.</p><section id=\"menu_walk_digi_xbee_cellular_transparent\"><h4>Digi XBee Cellular - Transparent Mode</h4><p>This is the code to use for <em>any</em> of Digi&#x27;s cellular XBee or XBee3 modules. All of them can be implemented as a <a href=\"class_digi_x_bee_cellular_transparent.html\" class=\"m-doc\">DigiXBeeCellularTransparent</a> object - a subclass of <a href=\"class_digi_x_bee.html\" class=\"m-doc\">DigiXBee</a> and <a href=\"classlogger_modem.html\" class=\"m-doc\">loggerModem</a>. To create a <a href=\"class_digi_x_bee_cellular_transparent.html\" class=\"m-doc\">DigiXBeeCellularTransparent</a> object we need to know</p><ul><li>the serial object name,</li><li>the MCU pin controlling modem power,</li><li>the MCU pin connected to the status pin,</li><li>whether the status pin is the true status pin (<code>ON/SLEEP_N/DIO9</code>) or the <code>CTS_N/DIO7</code> pin,</li><li>the MCU pin connected to the <code>RESET_N</code>pin,</li><li>the <code>DTR_N/SLEEP_RQ/DIO8</code> pin,</li><li>and the SIM card&#x27;s cellular access point name (APN).</li></ul><p>Pins that do not apply should be set as -1. A helpful table detailing the pins to use with the EnviroDIY Mayfly is available on the <a href=\"page_modem_notes.html\" class=\"m-doc\">Modem Notes</a> page.</p><blockquote><p>[!NOTE] The u-blox based Digi XBee&#x27;s (3G global and LTE-M global) may be more stable used in bypass mode (below). The Telit based Digi XBees (LTE Cat1 both Verizon and AT&amp;T) can only use this mode.</p></blockquote><div class=\"m-code-arduino\"><div class=\"highlight\"><div class=\"line\"><a id=\"l-1\" name=\"l-1\"></a><span class=\"linenos\"> 1</span><span class=\"c1\">// For any Digi Cellular XBee&#39;s</span></div>\n<div class=\"line\"><a id=\"l-2\" name=\"l-2\"></a><span class=\"linenos\"> 2</span><span class=\"c1\">// NOTE:  The u-blox based Digi XBee&#39;s (3G global and LTE-M global) can be used</span></div>\n<div class=\"line\"><a id=\"l-3\" name=\"l-3\"></a><span class=\"linenos\"> 3</span><span class=\"c1\">// in either bypass or transparent mode, each with pros and cons</span></div>\n<div class=\"line\"><a id=\"l-4\" name=\"l-4\"></a><span class=\"linenos\"> 4</span><span class=\"c1\">// The Telit based Digi XBees (LTE Cat1) can only use this mode.</span></div>\n<div class=\"line\"><a id=\"l-5\" name=\"l-5\"></a><span class=\"linenos\"> 5</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;modems/DigiXBeeCellularTransparent.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-6\" name=\"l-6\"></a><span class=\"linenos\"> 6</span></div>\n<div class=\"line\"><a id=\"l-7\" name=\"l-7\"></a><span class=\"linenos\"> 7</span><span class=\"c1\">// NOTE: Extra hardware and software serial ports are created in the &quot;Settings</span></div>\n<div class=\"line\"><a id=\"l-8\" name=\"l-8\"></a><span class=\"linenos\"> 8</span><span class=\"c1\">// for Additional Serial Ports&quot; section</span></div>\n<div class=\"line\"><a id=\"l-9\" name=\"l-9\"></a><span class=\"linenos\"> 9</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int32_t</span><span class=\"w\"> </span><span class=\"n\">modemBaud</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">9600</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// All XBee&#39;s use 9600 by default</span></div>\n<div class=\"line\"><a id=\"l-10\" name=\"l-10\"></a><span class=\"linenos\">10</span></div>\n<div class=\"line\"><a id=\"l-11\" name=\"l-11\"></a><span class=\"linenos\">11</span><span class=\"c1\">// Modem Pins - Describe the physical pin connection of your modem to your board</span></div>\n<div class=\"line\"><a id=\"l-12\" name=\"l-12\"></a><span class=\"linenos\">12</span><span class=\"c1\">// NOTE:  Use -1 for pins that do not apply</span></div>\n<div class=\"line\"><a id=\"l-13\" name=\"l-13\"></a><span class=\"linenos\">13</span><span class=\"c1\">// The pin numbers here are for a Digi XBee with a Mayfly 0.x and LTE adapter</span></div>\n<div class=\"line\"><a id=\"l-14\" name=\"l-14\"></a><span class=\"linenos\">14</span><span class=\"c1\">// For options https://github.com/EnviroDIY/LTEbee-Adapter/edit/master/README.md</span></div>\n<div class=\"line\"><a id=\"l-15\" name=\"l-15\"></a><span class=\"linenos\">15</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemVccPin</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">-1</span><span class=\"p\">;</span><span class=\"w\">     </span><span class=\"c1\">// MCU pin controlling modem power</span></div>\n<div class=\"line\"><a id=\"l-16\" name=\"l-16\"></a><span class=\"linenos\">16</span><span class=\"w\">                                   </span><span class=\"c1\">// Option: modemVccPin = A5, if Mayfly SJ7 is</span></div>\n<div class=\"line\"><a id=\"l-17\" name=\"l-17\"></a><span class=\"linenos\">17</span><span class=\"w\">                                   </span><span class=\"c1\">// connected to the ASSOC pin</span></div>\n<div class=\"line\"><a id=\"l-18\" name=\"l-18\"></a><span class=\"linenos\">18</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemStatusPin</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">19</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin used to read modem status</span></div>\n<div class=\"line\"><a id=\"l-19\" name=\"l-19\"></a><span class=\"linenos\">19</span><span class=\"c1\">// NOTE:  If possible, use the `STATUS/SLEEP_not` (XBee pin 13) for status, but</span></div>\n<div class=\"line\"><a id=\"l-20\" name=\"l-20\"></a><span class=\"linenos\">20</span><span class=\"c1\">// the CTS pin can also be used if necessary</span></div>\n<div class=\"line\"><a id=\"l-21\" name=\"l-21\"></a><span class=\"linenos\">21</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">bool</span><span class=\"w\">   </span><span class=\"n\">useCTSforStatus</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"kr\">false</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Flag to use the CTS pin for status</span></div>\n<div class=\"line\"><a id=\"l-22\" name=\"l-22\"></a><span class=\"linenos\">22</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemResetPin</span><span class=\"w\">   </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">20</span><span class=\"p\">;</span><span class=\"w\">     </span><span class=\"c1\">// MCU pin connected to modem reset pin</span></div>\n<div class=\"line\"><a id=\"l-23\" name=\"l-23\"></a><span class=\"linenos\">23</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemSleepRqPin</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">23</span><span class=\"p\">;</span><span class=\"w\">     </span><span class=\"c1\">// MCU pin for modem sleep/wake request</span></div>\n<div class=\"line\"><a id=\"l-24\" name=\"l-24\"></a><span class=\"linenos\">24</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemLEDPin</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-25\" name=\"l-25\"></a><span class=\"linenos\">25</span><span class=\"w\">    </span><span class=\"n\">redLED</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin connected an LED to show modem status</span></div>\n<div class=\"line\"><a id=\"l-26\" name=\"l-26\"></a><span class=\"linenos\">26</span></div>\n<div class=\"line\"><a id=\"l-27\" name=\"l-27\"></a><span class=\"linenos\">27</span><span class=\"c1\">// Network connection information</span></div>\n<div class=\"line\"><a id=\"l-28\" name=\"l-28\"></a><span class=\"linenos\">28</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">apn</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">CELLULAR_APN</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// APN for GPRS connection</span></div>\n<div class=\"line\"><a id=\"l-29\" name=\"l-29\"></a><span class=\"linenos\">29</span></div>\n<div class=\"line\"><a id=\"l-30\" name=\"l-30\"></a><span class=\"linenos\">30</span><span class=\"c1\">// Create the modem object</span></div>\n<div class=\"line\"><a id=\"l-31\" name=\"l-31\"></a><span class=\"linenos\">31</span><span class=\"n\">DigiXBeeCellularTransparent</span><span class=\"w\"> </span><span class=\"nf\">modemXBCT</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">modemSerial</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">modemVccPin</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">modemStatusPin</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-32\" name=\"l-32\"></a><span class=\"linenos\">32</span><span class=\"w\">                                      </span><span class=\"n\">useCTSforStatus</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">modemResetPin</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-33\" name=\"l-33\"></a><span class=\"linenos\">33</span><span class=\"w\">                                      </span><span class=\"n\">modemSleepRqPin</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">apn</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-34\" name=\"l-34\"></a><span class=\"linenos\">34</span><span class=\"c1\">// Create an extra reference to the modem by a generic name</span></div>\n<div class=\"line\"><a id=\"l-35\" name=\"l-35\"></a><span class=\"linenos\">35</span><span class=\"n\">DigiXBeeCellularTransparent</span><span class=\"w\"> </span><span class=\"n\">modem</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">modemXBCT</span><span class=\"p\">;</span>\n</div></div></div><p>Depending on your cellular carrier, it is best to select the proper carrier profile and network. Setting these helps the modem to connect to network faster. This is shows in the <a href=\"https://envirodiy.github.io/ModularSensors/menu_a_la_carte_8ino-example.html#enu_walk_setup_xbeec_carrier\">XBee Cellular Carrier</a> chunk of the setup function.</p></section><section id=\"menu_walk_digi_xbee_lte_bypass\"><h4>Digi XBee3 LTE-M - Bypass Mode</h4><p>This code is for Digi&#x27;s LTE-M XBee3 based on the u-blox SARA R410M - used in bypass mode. To create a <a href=\"class_digi_x_bee_l_t_e_bypass.html\" class=\"m-doc\">DigiXBeeLTEBypass</a> object we need to know</p><ul><li>the serial object name,</li><li>the MCU pin controlling modem power,</li><li>the MCU pin connected to the status pin,</li><li>whether the status pin is the true status pin (<code>ON/SLEEP_N/DIO9</code>) or the <code>CTS_N/DIO7</code> pin,</li><li>the MCU pin connected to the <code>RESET_N</code>pin,</li><li>the <code>DTR_N/SLEEP_RQ/DIO8</code> pin,</li><li>and the SIM card&#x27;s cellular access point name (APN).</li></ul><p>Pins that do not apply should be set as -1. A helpful table detailing the pins to use with the EnviroDIY Mayfly is available on the <a href=\"page_modem_notes.html\" class=\"m-doc\">Modem Notes</a> page.</p><div class=\"m-code-arduino\"><div class=\"highlight\"><div class=\"line\"><a id=\"l-1\" name=\"l-1\"></a><span class=\"linenos\"> 1</span><span class=\"c1\">// For the u-blox SARA R410M based Digi LTE-M XBee3</span></div>\n<div class=\"line\"><a id=\"l-2\" name=\"l-2\"></a><span class=\"linenos\"> 2</span><span class=\"c1\">// NOTE:  According to the manual, this should be less stable than transparent</span></div>\n<div class=\"line\"><a id=\"l-3\" name=\"l-3\"></a><span class=\"linenos\"> 3</span><span class=\"c1\">// mode, but my experience is the complete reverse.</span></div>\n<div class=\"line\"><a id=\"l-4\" name=\"l-4\"></a><span class=\"linenos\"> 4</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;modems/DigiXBeeLTEBypass.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-5\" name=\"l-5\"></a><span class=\"linenos\"> 5</span></div>\n<div class=\"line\"><a id=\"l-6\" name=\"l-6\"></a><span class=\"linenos\"> 6</span><span class=\"c1\">// NOTE: Extra hardware and software serial ports are created in the &quot;Settings</span></div>\n<div class=\"line\"><a id=\"l-7\" name=\"l-7\"></a><span class=\"linenos\"> 7</span><span class=\"c1\">// for Additional Serial Ports&quot; section</span></div>\n<div class=\"line\"><a id=\"l-8\" name=\"l-8\"></a><span class=\"linenos\"> 8</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int32_t</span><span class=\"w\"> </span><span class=\"n\">modemBaud</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">9600</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// All XBee&#39;s use 9600 by default</span></div>\n<div class=\"line\"><a id=\"l-9\" name=\"l-9\"></a><span class=\"linenos\"> 9</span></div>\n<div class=\"line\"><a id=\"l-10\" name=\"l-10\"></a><span class=\"linenos\">10</span><span class=\"c1\">// Modem Pins - Describe the physical pin connection of your modem to your board</span></div>\n<div class=\"line\"><a id=\"l-11\" name=\"l-11\"></a><span class=\"linenos\">11</span><span class=\"c1\">// NOTE:  Use -1 for pins that do not apply</span></div>\n<div class=\"line\"><a id=\"l-12\" name=\"l-12\"></a><span class=\"linenos\">12</span><span class=\"c1\">// The pin numbers here are for a Digi XBee with a Mayfly 0.x and LTE adapter</span></div>\n<div class=\"line\"><a id=\"l-13\" name=\"l-13\"></a><span class=\"linenos\">13</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemVccPin</span><span class=\"w\">    </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">A5</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin controlling modem power</span></div>\n<div class=\"line\"><a id=\"l-14\" name=\"l-14\"></a><span class=\"linenos\">14</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemStatusPin</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">19</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin used to read modem status</span></div>\n<div class=\"line\"><a id=\"l-15\" name=\"l-15\"></a><span class=\"linenos\">15</span><span class=\"c1\">// NOTE:  If possible, use the `STATUS/SLEEP_not` (XBee pin 13) for status, but</span></div>\n<div class=\"line\"><a id=\"l-16\" name=\"l-16\"></a><span class=\"linenos\">16</span><span class=\"c1\">// the CTS pin can also be used if necessary</span></div>\n<div class=\"line\"><a id=\"l-17\" name=\"l-17\"></a><span class=\"linenos\">17</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">bool</span><span class=\"w\">   </span><span class=\"n\">useCTSforStatus</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"kr\">false</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Flag to use the CTS pin for status</span></div>\n<div class=\"line\"><a id=\"l-18\" name=\"l-18\"></a><span class=\"linenos\">18</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemResetPin</span><span class=\"w\">   </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">20</span><span class=\"p\">;</span><span class=\"w\">     </span><span class=\"c1\">// MCU pin connected to modem reset pin</span></div>\n<div class=\"line\"><a id=\"l-19\" name=\"l-19\"></a><span class=\"linenos\">19</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemSleepRqPin</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">23</span><span class=\"p\">;</span><span class=\"w\">     </span><span class=\"c1\">// MCU pin for modem sleep/wake request</span></div>\n<div class=\"line\"><a id=\"l-20\" name=\"l-20\"></a><span class=\"linenos\">20</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemLEDPin</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">redLED</span><span class=\"p\">;</span><span class=\"w\">     </span><span class=\"c1\">// MCU pin connected an LED to show modem</span></div>\n<div class=\"line\"><a id=\"l-21\" name=\"l-21\"></a><span class=\"linenos\">21</span><span class=\"w\">                                       </span><span class=\"c1\">// status</span></div>\n<div class=\"line\"><a id=\"l-22\" name=\"l-22\"></a><span class=\"linenos\">22</span></div>\n<div class=\"line\"><a id=\"l-23\" name=\"l-23\"></a><span class=\"linenos\">23</span><span class=\"c1\">// Network connection information</span></div>\n<div class=\"line\"><a id=\"l-24\" name=\"l-24\"></a><span class=\"linenos\">24</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">apn</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">CELLULAR_APN</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// APN for GPRS connection</span></div>\n<div class=\"line\"><a id=\"l-25\" name=\"l-25\"></a><span class=\"linenos\">25</span></div>\n<div class=\"line\"><a id=\"l-26\" name=\"l-26\"></a><span class=\"linenos\">26</span><span class=\"c1\">// Create the modem object</span></div>\n<div class=\"line\"><a id=\"l-27\" name=\"l-27\"></a><span class=\"linenos\">27</span><span class=\"n\">DigiXBeeLTEBypass</span><span class=\"w\"> </span><span class=\"nf\">modemXBLTEB</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">modemSerial</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">modemVccPin</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">modemStatusPin</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-28\" name=\"l-28\"></a><span class=\"linenos\">28</span><span class=\"w\">                              </span><span class=\"n\">useCTSforStatus</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">modemResetPin</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">modemSleepRqPin</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-29\" name=\"l-29\"></a><span class=\"linenos\">29</span><span class=\"w\">                              </span><span class=\"n\">apn</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-30\" name=\"l-30\"></a><span class=\"linenos\">30</span><span class=\"c1\">// Create an extra reference to the modem by a generic name</span></div>\n<div class=\"line\"><a id=\"l-31\" name=\"l-31\"></a><span class=\"linenos\">31</span><span class=\"n\">DigiXBeeLTEBypass</span><span class=\"w\"> </span><span class=\"n\">modem</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">modemXBLTEB</span><span class=\"p\">;</span>\n</div></div></div><p>Depending on your cellular carrier, it is best to select the proper carrier profile and network. Setting these helps the modem to connect to network faster. This is shows in the <a href=\"#setup_r4_carrier\" class=\"m-doc\">SARA R4 Cellular Carrier</a> chunk of the setup function.</p></section><section id=\"menu_walk_digi_xbee_3g_bypass\"><h4>Digi XBee 3G - Bypass Mode</h4><p>This code is for Digi&#x27;s 3G/2G XBee based on the u-blox SARA U201 - used in bypass mode. To create a <a href=\"class_digi_x_bee3_g_bypass.html\" class=\"m-doc\">DigiXBee3GBypass</a> object we need to know</p><ul><li>the serial object name,</li><li>the MCU pin controlling modem power,</li><li>the MCU pin connected to the status pin,</li><li>whether the status pin is the &quot;true&quot; status pin (<code>ON/SLEEP_N/DIO9</code>) or the <code>CTS_N/DIO7</code> pin,</li><li>the MCU pin connected to the <code>RESET_N</code>pin,</li><li>the <code>DTR_N/SLEEP_RQ/DIO8</code> pin,</li><li>and the SIM card&#x27;s cellular access point name (APN).</li></ul><p>Pins that do not apply should be set as -1. A helpful table detailing the pins to use with the EnviroDIY Mayfly is available on the <a href=\"page_modem_notes.html\" class=\"m-doc\">Modem Notes</a> page.</p><div class=\"m-code-arduino\"><div class=\"highlight\"><div class=\"line\"><a id=\"l-1\" name=\"l-1\"></a><span class=\"linenos\"> 1</span><span class=\"c1\">// For the u-blox SARA U201 based Digi 3G XBee with 2G fallback</span></div>\n<div class=\"line\"><a id=\"l-2\" name=\"l-2\"></a><span class=\"linenos\"> 2</span><span class=\"c1\">// NOTE:  According to the manual, this should be less stable than transparent</span></div>\n<div class=\"line\"><a id=\"l-3\" name=\"l-3\"></a><span class=\"linenos\"> 3</span><span class=\"c1\">// mode, but my experience is the complete reverse.</span></div>\n<div class=\"line\"><a id=\"l-4\" name=\"l-4\"></a><span class=\"linenos\"> 4</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;modems/DigiXBee3GBypass.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-5\" name=\"l-5\"></a><span class=\"linenos\"> 5</span></div>\n<div class=\"line\"><a id=\"l-6\" name=\"l-6\"></a><span class=\"linenos\"> 6</span><span class=\"c1\">// NOTE: Extra hardware and software serial ports are created in the &quot;Settings</span></div>\n<div class=\"line\"><a id=\"l-7\" name=\"l-7\"></a><span class=\"linenos\"> 7</span><span class=\"c1\">// for Additional Serial Ports&quot; section</span></div>\n<div class=\"line\"><a id=\"l-8\" name=\"l-8\"></a><span class=\"linenos\"> 8</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int32_t</span><span class=\"w\"> </span><span class=\"n\">modemBaud</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">9600</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// All XBee&#39;s use 9600 by default</span></div>\n<div class=\"line\"><a id=\"l-9\" name=\"l-9\"></a><span class=\"linenos\"> 9</span></div>\n<div class=\"line\"><a id=\"l-10\" name=\"l-10\"></a><span class=\"linenos\">10</span><span class=\"c1\">// Modem Pins - Describe the physical pin connection of your modem to your board</span></div>\n<div class=\"line\"><a id=\"l-11\" name=\"l-11\"></a><span class=\"linenos\">11</span><span class=\"c1\">// NOTE:  Use -1 for pins that do not apply</span></div>\n<div class=\"line\"><a id=\"l-12\" name=\"l-12\"></a><span class=\"linenos\">12</span><span class=\"c1\">// The pin numbers here are for a Digi XBee with a Mayfly and LTE adapter</span></div>\n<div class=\"line\"><a id=\"l-13\" name=\"l-13\"></a><span class=\"linenos\">13</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemVccPin</span><span class=\"w\">    </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">A5</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin controlling modem power</span></div>\n<div class=\"line\"><a id=\"l-14\" name=\"l-14\"></a><span class=\"linenos\">14</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemStatusPin</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">19</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin used to read modem status</span></div>\n<div class=\"line\"><a id=\"l-15\" name=\"l-15\"></a><span class=\"linenos\">15</span><span class=\"c1\">// NOTE:  If possible, use the `STATUS/SLEEP_not` (XBee pin 13) for status, but</span></div>\n<div class=\"line\"><a id=\"l-16\" name=\"l-16\"></a><span class=\"linenos\">16</span><span class=\"c1\">// the CTS pin can also be used if necessary</span></div>\n<div class=\"line\"><a id=\"l-17\" name=\"l-17\"></a><span class=\"linenos\">17</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">bool</span><span class=\"w\">   </span><span class=\"n\">useCTSforStatus</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"kr\">false</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Flag to use the CTS pin for status</span></div>\n<div class=\"line\"><a id=\"l-18\" name=\"l-18\"></a><span class=\"linenos\">18</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemResetPin</span><span class=\"w\">   </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">20</span><span class=\"p\">;</span><span class=\"w\">     </span><span class=\"c1\">// MCU pin connected to modem reset pin</span></div>\n<div class=\"line\"><a id=\"l-19\" name=\"l-19\"></a><span class=\"linenos\">19</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemSleepRqPin</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">23</span><span class=\"p\">;</span><span class=\"w\">     </span><span class=\"c1\">// MCU pin for modem sleep/wake request</span></div>\n<div class=\"line\"><a id=\"l-20\" name=\"l-20\"></a><span class=\"linenos\">20</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemLEDPin</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">redLED</span><span class=\"p\">;</span><span class=\"w\">     </span><span class=\"c1\">// MCU pin connected an LED to show modem</span></div>\n<div class=\"line\"><a id=\"l-21\" name=\"l-21\"></a><span class=\"linenos\">21</span><span class=\"w\">                                       </span><span class=\"c1\">// status</span></div>\n<div class=\"line\"><a id=\"l-22\" name=\"l-22\"></a><span class=\"linenos\">22</span></div>\n<div class=\"line\"><a id=\"l-23\" name=\"l-23\"></a><span class=\"linenos\">23</span><span class=\"c1\">// Network connection information</span></div>\n<div class=\"line\"><a id=\"l-24\" name=\"l-24\"></a><span class=\"linenos\">24</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">apn</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">CELLULAR_APN</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// APN for GPRS connection</span></div>\n<div class=\"line\"><a id=\"l-25\" name=\"l-25\"></a><span class=\"linenos\">25</span></div>\n<div class=\"line\"><a id=\"l-26\" name=\"l-26\"></a><span class=\"linenos\">26</span><span class=\"c1\">// Create the modem object</span></div>\n<div class=\"line\"><a id=\"l-27\" name=\"l-27\"></a><span class=\"linenos\">27</span><span class=\"n\">DigiXBee3GBypass</span><span class=\"w\"> </span><span class=\"nf\">modemXB3GB</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">modemSerial</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">modemVccPin</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">modemStatusPin</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-28\" name=\"l-28\"></a><span class=\"linenos\">28</span><span class=\"w\">                            </span><span class=\"n\">useCTSforStatus</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">modemResetPin</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">modemSleepRqPin</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-29\" name=\"l-29\"></a><span class=\"linenos\">29</span><span class=\"w\">                            </span><span class=\"n\">apn</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-30\" name=\"l-30\"></a><span class=\"linenos\">30</span><span class=\"c1\">// Create an extra reference to the modem by a generic name</span></div>\n<div class=\"line\"><a id=\"l-31\" name=\"l-31\"></a><span class=\"linenos\">31</span><span class=\"n\">DigiXBee3GBypass</span><span class=\"w\"> </span><span class=\"n\">modem</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">modemXB3GB</span><span class=\"p\">;</span>\n</div></div></div></section><section id=\"menu_walk_digi_xbee_wifi\"><h4>Digi XBee S6B WiFi</h4><p>This code is for the Digi&#x27;s S6B wifi module. To create a DigiXBeeWiFi object we need to know</p><ul><li>the serial object name,</li><li>the MCU pin controlling modem power,</li><li>the MCU pin connected to the status pin,</li><li>whether the status pin is the &quot;true&quot; status pin (<code>ON/SLEEP_N/DIO9</code>) or the <code>CTS_N/DIO7</code> pin,</li><li>the MCU pin connected to the <code>RESET_N</code>pin,</li><li>the <code>DTR_N/SLEEP_RQ/DIO8</code> pin,</li><li>the wifi access point name,</li><li>and the wifi WPA2 password.</li></ul><p>Pins that do not apply should be set as -1. A helpful table detailing the pins to use with the EnviroDIY Mayfly is available on the <a href=\"page_modem_notes.html\" class=\"m-doc\">Modem Notes</a> page.</p><div class=\"m-code-arduino\"><div class=\"highlight\"><div class=\"line\"><a id=\"l-1\" name=\"l-1\"></a><span class=\"linenos\"> 1</span><span class=\"c1\">// For the Digi Wifi XBee (S6B)</span></div>\n<div class=\"line\"><a id=\"l-2\" name=\"l-2\"></a><span class=\"linenos\"> 2</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;modems/DigiXBeeWifi.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-3\" name=\"l-3\"></a><span class=\"linenos\"> 3</span></div>\n<div class=\"line\"><a id=\"l-4\" name=\"l-4\"></a><span class=\"linenos\"> 4</span><span class=\"c1\">// NOTE: Extra hardware and software serial ports are created in the &quot;Settings</span></div>\n<div class=\"line\"><a id=\"l-5\" name=\"l-5\"></a><span class=\"linenos\"> 5</span><span class=\"c1\">// for Additional Serial Ports&quot; section</span></div>\n<div class=\"line\"><a id=\"l-6\" name=\"l-6\"></a><span class=\"linenos\"> 6</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int32_t</span><span class=\"w\"> </span><span class=\"n\">modemBaud</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">9600</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// All XBee&#39;s use 9600 by default</span></div>\n<div class=\"line\"><a id=\"l-7\" name=\"l-7\"></a><span class=\"linenos\"> 7</span></div>\n<div class=\"line\"><a id=\"l-8\" name=\"l-8\"></a><span class=\"linenos\"> 8</span><span class=\"c1\">// Modem Pins - Describe the physical pin connection of your modem to your board</span></div>\n<div class=\"line\"><a id=\"l-9\" name=\"l-9\"></a><span class=\"linenos\"> 9</span><span class=\"c1\">// NOTE:  Use -1 for pins that do not apply</span></div>\n<div class=\"line\"><a id=\"l-10\" name=\"l-10\"></a><span class=\"linenos\">10</span><span class=\"c1\">// The pin numbers here are for a Digi XBee directly connected to a Mayfly 1.x</span></div>\n<div class=\"line\"><a id=\"l-11\" name=\"l-11\"></a><span class=\"linenos\">11</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemVccPin</span><span class=\"w\">    </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">18</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin controlling modem power</span></div>\n<div class=\"line\"><a id=\"l-12\" name=\"l-12\"></a><span class=\"linenos\">12</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemStatusPin</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">19</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin used to read modem status</span></div>\n<div class=\"line\"><a id=\"l-13\" name=\"l-13\"></a><span class=\"linenos\">13</span><span class=\"c1\">// NOTE:  If possible, use the `STATUS/SLEEP_not` (XBee pin 13) for status, but</span></div>\n<div class=\"line\"><a id=\"l-14\" name=\"l-14\"></a><span class=\"linenos\">14</span><span class=\"c1\">// the CTS pin can also be used if necessary</span></div>\n<div class=\"line\"><a id=\"l-15\" name=\"l-15\"></a><span class=\"linenos\">15</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">bool</span><span class=\"w\">   </span><span class=\"n\">useCTSforStatus</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"kr\">true</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Flag to use the CTS pin for status</span></div>\n<div class=\"line\"><a id=\"l-16\" name=\"l-16\"></a><span class=\"linenos\">16</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemResetPin</span><span class=\"w\">   </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">A5</span><span class=\"p\">;</span><span class=\"w\">    </span><span class=\"c1\">// MCU pin connected to modem reset pin</span></div>\n<div class=\"line\"><a id=\"l-17\" name=\"l-17\"></a><span class=\"linenos\">17</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemSleepRqPin</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">23</span><span class=\"p\">;</span><span class=\"w\">    </span><span class=\"c1\">// MCU pin for modem sleep/wake request</span></div>\n<div class=\"line\"><a id=\"l-18\" name=\"l-18\"></a><span class=\"linenos\">18</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemLEDPin</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">redLED</span><span class=\"p\">;</span><span class=\"w\">    </span><span class=\"c1\">// MCU pin connected an LED to show modem</span></div>\n<div class=\"line\"><a id=\"l-19\" name=\"l-19\"></a><span class=\"linenos\">19</span><span class=\"w\">                                      </span><span class=\"c1\">// status</span></div>\n<div class=\"line\"><a id=\"l-20\" name=\"l-20\"></a><span class=\"linenos\">20</span></div>\n<div class=\"line\"><a id=\"l-21\" name=\"l-21\"></a><span class=\"linenos\">21</span><span class=\"c1\">// Network connection information</span></div>\n<div class=\"line\"><a id=\"l-22\" name=\"l-22\"></a><span class=\"linenos\">22</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">wifiId</span><span class=\"w\">  </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">WIFI_ID</span><span class=\"p\">;</span><span class=\"w\">      </span><span class=\"c1\">// WiFi access point name</span></div>\n<div class=\"line\"><a id=\"l-23\" name=\"l-23\"></a><span class=\"linenos\">23</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">wifiPwd</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">WIFI_PASSWD</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// WiFi password (WPA2)</span></div>\n<div class=\"line\"><a id=\"l-24\" name=\"l-24\"></a><span class=\"linenos\">24</span></div>\n<div class=\"line\"><a id=\"l-25\" name=\"l-25\"></a><span class=\"linenos\">25</span><span class=\"c1\">// Create the modem object</span></div>\n<div class=\"line\"><a id=\"l-26\" name=\"l-26\"></a><span class=\"linenos\">26</span><span class=\"n\">DigiXBeeWifi</span><span class=\"w\"> </span><span class=\"nf\">modemXBWF</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">modemSerial</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">modemVccPin</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">modemStatusPin</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-27\" name=\"l-27\"></a><span class=\"linenos\">27</span><span class=\"w\">                       </span><span class=\"n\">useCTSforStatus</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">modemResetPin</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">modemSleepRqPin</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">wifiId</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-28\" name=\"l-28\"></a><span class=\"linenos\">28</span><span class=\"w\">                       </span><span class=\"n\">wifiPwd</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-29\" name=\"l-29\"></a><span class=\"linenos\">29</span><span class=\"c1\">// Create an extra reference to the modem by a generic name</span></div>\n<div class=\"line\"><a id=\"l-30\" name=\"l-30\"></a><span class=\"linenos\">30</span><span class=\"n\">DigiXBeeWifi</span><span class=\"w\"> </span><span class=\"n\">modem</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">modemXBWF</span><span class=\"p\">;</span>\n</div></div></div></section><section id=\"menu_walk_espressif_esp8266\"><h4>Espressif ESP8266</h4><p>This code is for the <a href=\"class_espressif.html\" class=\"m-doc\">Espressif</a> ESP8266 operating with &quot;AT&quot; firmware. To create a <a href=\"class_espressif_e_s_p8266.html\" class=\"m-doc\">EspressifESP8266</a> object we need to know</p><ul><li>the serial object name,</li><li>the MCU pin controlling modem power,</li><li>the reset pin (MCU pin connected to the ESP&#x27;s <code>RSTB/DIO16</code>),</li><li>the wifi access point name,</li><li>and the wifi WPA2 password.</li></ul><p>Pins that do not apply should be set as -1.</p><div class=\"m-code-arduino\"><div class=\"highlight\"><div class=\"line\"><a id=\"l-1\" name=\"l-1\"></a><span class=\"linenos\"> 1</span><span class=\"c1\">// For almost anything based on the Espressif ESP8266 using the</span></div>\n<div class=\"line\"><a id=\"l-2\" name=\"l-2\"></a><span class=\"linenos\"> 2</span><span class=\"c1\">// AT command firmware</span></div>\n<div class=\"line\"><a id=\"l-3\" name=\"l-3\"></a><span class=\"linenos\"> 3</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;modems/EspressifESP8266.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-4\" name=\"l-4\"></a><span class=\"linenos\"> 4</span></div>\n<div class=\"line\"><a id=\"l-5\" name=\"l-5\"></a><span class=\"linenos\"> 5</span><span class=\"c1\">// NOTE: Extra hardware and software serial ports are created in the &quot;Settings</span></div>\n<div class=\"line\"><a id=\"l-6\" name=\"l-6\"></a><span class=\"linenos\"> 6</span><span class=\"c1\">// for Additional Serial Ports&quot; section</span></div>\n<div class=\"line\"><a id=\"l-7\" name=\"l-7\"></a><span class=\"linenos\"> 7</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int32_t</span><span class=\"w\"> </span><span class=\"n\">modemBaud</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">115200</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Communication speed of the modem</span></div>\n<div class=\"line\"><a id=\"l-8\" name=\"l-8\"></a><span class=\"linenos\"> 8</span><span class=\"c1\">// NOTE:  This baud rate too fast for an 8MHz board, like the Mayfly!  The</span></div>\n<div class=\"line\"><a id=\"l-9\" name=\"l-9\"></a><span class=\"linenos\"> 9</span><span class=\"c1\">// module should be programmed to a slower baud rate or set to auto-baud using</span></div>\n<div class=\"line\"><a id=\"l-10\" name=\"l-10\"></a><span class=\"linenos\">10</span><span class=\"c1\">// the AT+UART_CUR or AT+UART_DEF command.</span></div>\n<div class=\"line\"><a id=\"l-11\" name=\"l-11\"></a><span class=\"linenos\">11</span></div>\n<div class=\"line\"><a id=\"l-12\" name=\"l-12\"></a><span class=\"linenos\">12</span><span class=\"c1\">// Modem Pins - Describe the physical pin connection of your modem to your board</span></div>\n<div class=\"line\"><a id=\"l-13\" name=\"l-13\"></a><span class=\"linenos\">13</span><span class=\"c1\">// NOTE:  Use -1 for pins that do not apply</span></div>\n<div class=\"line\"><a id=\"l-14\" name=\"l-14\"></a><span class=\"linenos\">14</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemVccPin</span><span class=\"w\">   </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">-1</span><span class=\"p\">;</span><span class=\"w\">      </span><span class=\"c1\">// MCU pin controlling modem power</span></div>\n<div class=\"line\"><a id=\"l-15\" name=\"l-15\"></a><span class=\"linenos\">15</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemResetPin</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">-1</span><span class=\"p\">;</span><span class=\"w\">      </span><span class=\"c1\">// MCU pin connected to modem reset pin</span></div>\n<div class=\"line\"><a id=\"l-16\" name=\"l-16\"></a><span class=\"linenos\">16</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemLEDPin</span><span class=\"w\">   </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">redLED</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin connected an LED to show modem</span></div>\n<div class=\"line\"><a id=\"l-17\" name=\"l-17\"></a><span class=\"linenos\">17</span><span class=\"w\">                                      </span><span class=\"c1\">// status</span></div>\n<div class=\"line\"><a id=\"l-18\" name=\"l-18\"></a><span class=\"linenos\">18</span></div>\n<div class=\"line\"><a id=\"l-19\" name=\"l-19\"></a><span class=\"linenos\">19</span><span class=\"c1\">// Network connection information</span></div>\n<div class=\"line\"><a id=\"l-20\" name=\"l-20\"></a><span class=\"linenos\">20</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">wifiId</span><span class=\"w\">  </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">WIFI_ID</span><span class=\"p\">;</span><span class=\"w\">      </span><span class=\"c1\">// WiFi access point name</span></div>\n<div class=\"line\"><a id=\"l-21\" name=\"l-21\"></a><span class=\"linenos\">21</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">wifiPwd</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">WIFI_PASSWD</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// WiFi password (WPA2)</span></div>\n<div class=\"line\"><a id=\"l-22\" name=\"l-22\"></a><span class=\"linenos\">22</span></div>\n<div class=\"line\"><a id=\"l-23\" name=\"l-23\"></a><span class=\"linenos\">23</span><span class=\"c1\">// Create the modem object</span></div>\n<div class=\"line\"><a id=\"l-24\" name=\"l-24\"></a><span class=\"linenos\">24</span><span class=\"n\">EspressifESP8266</span><span class=\"w\"> </span><span class=\"nf\">modemESP</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">modemSerial</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">modemVccPin</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">modemResetPin</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">wifiId</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-25\" name=\"l-25\"></a><span class=\"linenos\">25</span><span class=\"w\">                          </span><span class=\"n\">wifiPwd</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-26\" name=\"l-26\"></a><span class=\"linenos\">26</span><span class=\"c1\">// Create an extra reference to the modem by a generic name</span></div>\n<div class=\"line\"><a id=\"l-27\" name=\"l-27\"></a><span class=\"linenos\">27</span><span class=\"n\">EspressifESP8266</span><span class=\"w\"> </span><span class=\"n\">modem</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">modemESP</span><span class=\"p\">;</span>\n</div></div></div></section><section id=\"menu_walk_espressif_esp32\"><h4>Espressif ESP32</h4><p>This code is for the <a href=\"class_espressif.html\" class=\"m-doc\">Espressif</a> ESP32 operating with &quot;AT&quot; firmware. To create a <a href=\"class_espressif_e_s_p32.html\" class=\"m-doc\">EspressifESP32</a> object we need to know</p><ul><li>the serial object name,</li><li>the MCU pin controlling modem power,</li><li>the reset pin (MCU pin connected to the ESP&#x27;s <code>RSTB/DIO16</code>),</li><li>the wifi access point name,</li><li>and the wifi WPA2 password.</li></ul><p>Pins that do not apply should be set as -1.</p><div class=\"m-code-arduino\"><div class=\"highlight\"><div class=\"line\"><a id=\"l-1\" name=\"l-1\"></a><span class=\"linenos\"> 1</span><span class=\"c1\">// For almost anything based on the Espressif ESP8266 using the</span></div>\n<div class=\"line\"><a id=\"l-2\" name=\"l-2\"></a><span class=\"linenos\"> 2</span><span class=\"c1\">// AT command firmware</span></div>\n<div class=\"line\"><a id=\"l-3\" name=\"l-3\"></a><span class=\"linenos\"> 3</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;modems/EspressifESP32.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-4\" name=\"l-4\"></a><span class=\"linenos\"> 4</span></div>\n<div class=\"line\"><a id=\"l-5\" name=\"l-5\"></a><span class=\"linenos\"> 5</span><span class=\"c1\">// NOTE: Extra hardware and software serial ports are created in the &quot;Settings</span></div>\n<div class=\"line\"><a id=\"l-6\" name=\"l-6\"></a><span class=\"linenos\"> 6</span><span class=\"c1\">// for Additional Serial Ports&quot; section</span></div>\n<div class=\"line\"><a id=\"l-7\" name=\"l-7\"></a><span class=\"linenos\"> 7</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int32_t</span><span class=\"w\"> </span><span class=\"n\">modemBaud</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">57600</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Communication speed of the modem</span></div>\n<div class=\"line\"><a id=\"l-8\" name=\"l-8\"></a><span class=\"linenos\"> 8</span><span class=\"c1\">// NOTE:  This baud rate too fast for an 8MHz board, like the Mayfly!  The</span></div>\n<div class=\"line\"><a id=\"l-9\" name=\"l-9\"></a><span class=\"linenos\"> 9</span><span class=\"c1\">// module should be programmed to a slower baud rate or set to auto-baud using</span></div>\n<div class=\"line\"><a id=\"l-10\" name=\"l-10\"></a><span class=\"linenos\">10</span><span class=\"c1\">// the AT+UART_CUR or AT+UART_DEF command.</span></div>\n<div class=\"line\"><a id=\"l-11\" name=\"l-11\"></a><span class=\"linenos\">11</span></div>\n<div class=\"line\"><a id=\"l-12\" name=\"l-12\"></a><span class=\"linenos\">12</span><span class=\"c1\">// Modem Pins - Describe the physical pin connection of your modem to your board</span></div>\n<div class=\"line\"><a id=\"l-13\" name=\"l-13\"></a><span class=\"linenos\">13</span><span class=\"c1\">// NOTE:  Use -1 for pins that do not apply</span></div>\n<div class=\"line\"><a id=\"l-14\" name=\"l-14\"></a><span class=\"linenos\">14</span><span class=\"c1\">// Example pins here are for a EnviroDIY ESP32 Bluetooth/Wifi Bee with</span></div>\n<div class=\"line\"><a id=\"l-15\" name=\"l-15\"></a><span class=\"linenos\">15</span><span class=\"c1\">// Mayfly 1.1</span></div>\n<div class=\"line\"><a id=\"l-16\" name=\"l-16\"></a><span class=\"linenos\">16</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemVccPin</span><span class=\"w\">   </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">18</span><span class=\"p\">;</span><span class=\"w\">      </span><span class=\"c1\">// MCU pin controlling modem power</span></div>\n<div class=\"line\"><a id=\"l-17\" name=\"l-17\"></a><span class=\"linenos\">17</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemResetPin</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">A5</span><span class=\"p\">;</span><span class=\"w\">      </span><span class=\"c1\">// MCU pin connected to modem reset pin</span></div>\n<div class=\"line\"><a id=\"l-18\" name=\"l-18\"></a><span class=\"linenos\">18</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemLEDPin</span><span class=\"w\">   </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">redLED</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin connected an LED to show modem</span></div>\n<div class=\"line\"><a id=\"l-19\" name=\"l-19\"></a><span class=\"linenos\">19</span><span class=\"w\">                                      </span><span class=\"c1\">// status</span></div>\n<div class=\"line\"><a id=\"l-20\" name=\"l-20\"></a><span class=\"linenos\">20</span></div>\n<div class=\"line\"><a id=\"l-21\" name=\"l-21\"></a><span class=\"linenos\">21</span><span class=\"c1\">// Network connection information</span></div>\n<div class=\"line\"><a id=\"l-22\" name=\"l-22\"></a><span class=\"linenos\">22</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">wifiId</span><span class=\"w\">  </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">WIFI_ID</span><span class=\"p\">;</span><span class=\"w\">      </span><span class=\"c1\">// WiFi access point name</span></div>\n<div class=\"line\"><a id=\"l-23\" name=\"l-23\"></a><span class=\"linenos\">23</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">wifiPwd</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">WIFI_PASSWD</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// WiFi password (WPA2)</span></div>\n<div class=\"line\"><a id=\"l-24\" name=\"l-24\"></a><span class=\"linenos\">24</span></div>\n<div class=\"line\"><a id=\"l-25\" name=\"l-25\"></a><span class=\"linenos\">25</span><span class=\"c1\">// Create the modem object</span></div>\n<div class=\"line\"><a id=\"l-26\" name=\"l-26\"></a><span class=\"linenos\">26</span><span class=\"n\">EspressifESP32</span><span class=\"w\"> </span><span class=\"nf\">modemESP</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">modemSerial</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">modemVccPin</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">modemResetPin</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">wifiId</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-27\" name=\"l-27\"></a><span class=\"linenos\">27</span><span class=\"w\">                        </span><span class=\"n\">wifiPwd</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-28\" name=\"l-28\"></a><span class=\"linenos\">28</span><span class=\"c1\">// Create an extra reference to the modem by a generic name</span></div>\n<div class=\"line\"><a id=\"l-29\" name=\"l-29\"></a><span class=\"linenos\">29</span><span class=\"n\">EspressifESP32</span><span class=\"w\"> </span><span class=\"n\">modem</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">modemESP</span><span class=\"p\">;</span>\n</div></div></div><p>Because the ESP32&#x27;s default baud rate is too fast for an 8MHz board like the Mayfly, to use it you need to drop the baud rate down for successful communication. You can set the slower baud rate using some external method, or using the code from the ESP8266 Baud Rate(<a href=\"https://envirodiy.github.io/ModularSensors/menu_a_la_carte_8ino-example.html#enu_walk_setup_esp\">https://envirodiy.github.io/ModularSensors/menu_<wbr />a_<wbr />la_<wbr />carte_<wbr />8ino-example.html#enu_<wbr />walk_<wbr />setup_<wbr />esp</a>) part of the setup function below. For a Stonefly or other faster board, I recommend setting the modem baud rate as fast as possible.</p></section><section id=\"menu_walk_quectel_bg96\"><h4>Quectel BG96</h4><p>This code is for the Dragino, Nimbelink or other boards based on the Quectel BG96. To create a <a href=\"class_quectel_b_g96.html\" class=\"m-doc\">QuectelBG96</a> object we need to know</p><ul><li>the serial object name,</li><li>the MCU pin controlling modem power,</li><li>the MCU pin connected to the <code>STATUS</code> pin,</li><li>the MCU pin connected to the <code>RESET_N</code> pin,</li><li>the MCU pin connected to the <code>PWRKEY</code> pin (for sleep request),</li><li>and the SIM card&#x27;s cellular access point name (APN).</li></ul><p>Pins that do not apply should be set as -1.</p><div class=\"m-code-arduino\"><div class=\"highlight\"><div class=\"line\"><a id=\"l-1\" name=\"l-1\"></a><span class=\"linenos\"> 1</span><span class=\"c1\">// For the Dragino, Nimbelink or other boards based on the Quectel BG96</span></div>\n<div class=\"line\"><a id=\"l-2\" name=\"l-2\"></a><span class=\"linenos\"> 2</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;modems/QuectelBG96.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-3\" name=\"l-3\"></a><span class=\"linenos\"> 3</span></div>\n<div class=\"line\"><a id=\"l-4\" name=\"l-4\"></a><span class=\"linenos\"> 4</span><span class=\"c1\">// NOTE: Extra hardware and software serial ports are created in the &quot;Settings</span></div>\n<div class=\"line\"><a id=\"l-5\" name=\"l-5\"></a><span class=\"linenos\"> 5</span><span class=\"c1\">// for Additional Serial Ports&quot; section</span></div>\n<div class=\"line\"><a id=\"l-6\" name=\"l-6\"></a><span class=\"linenos\"> 6</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int32_t</span><span class=\"w\"> </span><span class=\"n\">modemBaud</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">115200</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Communication speed of the modem</span></div>\n<div class=\"line\"><a id=\"l-7\" name=\"l-7\"></a><span class=\"linenos\"> 7</span><span class=\"c1\">// NOTE:  This baud rate too fast for an 8MHz board, like the Mayfly!  The</span></div>\n<div class=\"line\"><a id=\"l-8\" name=\"l-8\"></a><span class=\"linenos\"> 8</span><span class=\"c1\">// module should be programmed to a slower baud rate or set to auto-baud using</span></div>\n<div class=\"line\"><a id=\"l-9\" name=\"l-9\"></a><span class=\"linenos\"> 9</span><span class=\"c1\">// the AT+IPR=9600 command.</span></div>\n<div class=\"line\"><a id=\"l-10\" name=\"l-10\"></a><span class=\"linenos\">10</span></div>\n<div class=\"line\"><a id=\"l-11\" name=\"l-11\"></a><span class=\"linenos\">11</span><span class=\"c1\">// Modem Pins - Describe the physical pin connection of your modem to your board</span></div>\n<div class=\"line\"><a id=\"l-12\" name=\"l-12\"></a><span class=\"linenos\">12</span><span class=\"c1\">// NOTE:  Use -1 for pins that do not apply</span></div>\n<div class=\"line\"><a id=\"l-13\" name=\"l-13\"></a><span class=\"linenos\">13</span><span class=\"c1\">// Example pins here are for a Mayfly 1.x and a Dragino IoT Bee</span></div>\n<div class=\"line\"><a id=\"l-14\" name=\"l-14\"></a><span class=\"linenos\">14</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemVccPin</span><span class=\"w\">     </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">18</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin controlling modem power</span></div>\n<div class=\"line\"><a id=\"l-15\" name=\"l-15\"></a><span class=\"linenos\">15</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemStatusPin</span><span class=\"w\">  </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">-1</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin used to read modem status</span></div>\n<div class=\"line\"><a id=\"l-16\" name=\"l-16\"></a><span class=\"linenos\">16</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemResetPin</span><span class=\"w\">   </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">A5</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin connected to modem reset pin</span></div>\n<div class=\"line\"><a id=\"l-17\" name=\"l-17\"></a><span class=\"linenos\">17</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemSleepRqPin</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">-1</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin for modem sleep/wake request</span></div>\n<div class=\"line\"><a id=\"l-18\" name=\"l-18\"></a><span class=\"linenos\">18</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemLEDPin</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">redLED</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin connected an LED to show modem</span></div>\n<div class=\"line\"><a id=\"l-19\" name=\"l-19\"></a><span class=\"linenos\">19</span><span class=\"w\">                                    </span><span class=\"c1\">// status</span></div>\n<div class=\"line\"><a id=\"l-20\" name=\"l-20\"></a><span class=\"linenos\">20</span></div>\n<div class=\"line\"><a id=\"l-21\" name=\"l-21\"></a><span class=\"linenos\">21</span><span class=\"c1\">// Network connection information</span></div>\n<div class=\"line\"><a id=\"l-22\" name=\"l-22\"></a><span class=\"linenos\">22</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">apn</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">CELLULAR_APN</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// APN for GPRS connection</span></div>\n<div class=\"line\"><a id=\"l-23\" name=\"l-23\"></a><span class=\"linenos\">23</span></div>\n<div class=\"line\"><a id=\"l-24\" name=\"l-24\"></a><span class=\"linenos\">24</span><span class=\"c1\">// Create the modem object</span></div>\n<div class=\"line\"><a id=\"l-25\" name=\"l-25\"></a><span class=\"linenos\">25</span><span class=\"n\">QuectelBG96</span><span class=\"w\"> </span><span class=\"nf\">modemBG96</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">modemSerial</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">modemVccPin</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">modemStatusPin</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">modemResetPin</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-26\" name=\"l-26\"></a><span class=\"linenos\">26</span><span class=\"w\">                      </span><span class=\"n\">modemSleepRqPin</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">apn</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-27\" name=\"l-27\"></a><span class=\"linenos\">27</span><span class=\"c1\">// Create an extra reference to the modem by a generic name</span></div>\n<div class=\"line\"><a id=\"l-28\" name=\"l-28\"></a><span class=\"linenos\">28</span><span class=\"n\">QuectelBG96</span><span class=\"w\"> </span><span class=\"n\">modem</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">modemBG96</span><span class=\"p\">;</span>\n</div></div></div><p>If you are interfacing with a Nimbelink Skywire board via the Skywire development board, you also need to handle the fact that the development board reverses the levels of the status, wake, and reset pins. Code to invert the pin levels is in the <a href=\"https://envirodiy.github.io/ModularSensors/menu_a_la_carte_8ino-example.html#enu_walk_setup_skywire\">Skywire Pin Inversions</a> part of the setup function below.</p></section><section id=\"menu_walk_sequans_monarch\"><h4>Sequans Monarch</h4><p>This code is for the Nimbelink LTE-M Verizon/Sequans or other boards based on the Sequans Monarch series SoC. To create a <a href=\"class_sequans_monarch.html\" class=\"m-doc\">SequansMonarch</a> object we need to know</p><ul><li>the serial object name,</li><li>the MCU pin controlling modem power,</li><li>the MCU pin connected to either the <code>GPIO3/STATUS_LED</code> or <code>POWER_MON</code> pin,</li><li>the MCU pin connected to the <code>RESETN</code> pin,</li><li>the MCU pin connected to the <code>RTS</code> or <code>RTS0</code> pin (for sleep request),</li><li>and the SIM card&#x27;s cellular access point name (APN).</li></ul><p>Pins that do not apply should be set as -1.</p><div class=\"m-code-arduino\"><div class=\"highlight\"><div class=\"line\"><a id=\"l-1\" name=\"l-1\"></a><span class=\"linenos\"> 1</span><span class=\"c1\">// For the Nimbelink LTE-M Verizon/Sequans or other boards based on the Sequans</span></div>\n<div class=\"line\"><a id=\"l-2\" name=\"l-2\"></a><span class=\"linenos\"> 2</span><span class=\"c1\">// Monarch series</span></div>\n<div class=\"line\"><a id=\"l-3\" name=\"l-3\"></a><span class=\"linenos\"> 3</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;modems/SequansMonarch.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-4\" name=\"l-4\"></a><span class=\"linenos\"> 4</span></div>\n<div class=\"line\"><a id=\"l-5\" name=\"l-5\"></a><span class=\"linenos\"> 5</span><span class=\"c1\">// NOTE: Extra hardware and software serial ports are created in the &quot;Settings</span></div>\n<div class=\"line\"><a id=\"l-6\" name=\"l-6\"></a><span class=\"linenos\"> 6</span><span class=\"c1\">// for Additional Serial Ports&quot; section</span></div>\n<div class=\"line\"><a id=\"l-7\" name=\"l-7\"></a><span class=\"linenos\"> 7</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int32_t</span><span class=\"w\"> </span><span class=\"n\">modemBaud</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">921600</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Default baud rate of SVZM20 is 921600</span></div>\n<div class=\"line\"><a id=\"l-8\" name=\"l-8\"></a><span class=\"linenos\"> 8</span><span class=\"c1\">// NOTE:  This baud rate is much too fast for many Arduinos!  The module should</span></div>\n<div class=\"line\"><a id=\"l-9\" name=\"l-9\"></a><span class=\"linenos\"> 9</span><span class=\"c1\">// be programmed to a slower baud rate or set to auto-baud using the AT+IPR</span></div>\n<div class=\"line\"><a id=\"l-10\" name=\"l-10\"></a><span class=\"linenos\">10</span><span class=\"c1\">// command.</span></div>\n<div class=\"line\"><a id=\"l-11\" name=\"l-11\"></a><span class=\"linenos\">11</span></div>\n<div class=\"line\"><a id=\"l-12\" name=\"l-12\"></a><span class=\"linenos\">12</span><span class=\"c1\">// Modem Pins - Describe the physical pin connection of your modem to your board</span></div>\n<div class=\"line\"><a id=\"l-13\" name=\"l-13\"></a><span class=\"linenos\">13</span><span class=\"c1\">// NOTE:  Use -1 for pins that do not apply</span></div>\n<div class=\"line\"><a id=\"l-14\" name=\"l-14\"></a><span class=\"linenos\">14</span><span class=\"c1\">// Nimbelink Skywire (NOT directly connectable to a Mayfly!)</span></div>\n<div class=\"line\"><a id=\"l-15\" name=\"l-15\"></a><span class=\"linenos\">15</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemVccPin</span><span class=\"w\">     </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">18</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin controlling modem power</span></div>\n<div class=\"line\"><a id=\"l-16\" name=\"l-16\"></a><span class=\"linenos\">16</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemStatusPin</span><span class=\"w\">  </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">19</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin used to read modem status</span></div>\n<div class=\"line\"><a id=\"l-17\" name=\"l-17\"></a><span class=\"linenos\">17</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemResetPin</span><span class=\"w\">   </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">20</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin connected to modem reset pin</span></div>\n<div class=\"line\"><a id=\"l-18\" name=\"l-18\"></a><span class=\"linenos\">18</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemSleepRqPin</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">23</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin for modem sleep/wake request</span></div>\n<div class=\"line\"><a id=\"l-19\" name=\"l-19\"></a><span class=\"linenos\">19</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemLEDPin</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">redLED</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin connected an LED to show modem</span></div>\n<div class=\"line\"><a id=\"l-20\" name=\"l-20\"></a><span class=\"linenos\">20</span><span class=\"w\">                                    </span><span class=\"c1\">// status</span></div>\n<div class=\"line\"><a id=\"l-21\" name=\"l-21\"></a><span class=\"linenos\">21</span></div>\n<div class=\"line\"><a id=\"l-22\" name=\"l-22\"></a><span class=\"linenos\">22</span><span class=\"c1\">// Network connection information</span></div>\n<div class=\"line\"><a id=\"l-23\" name=\"l-23\"></a><span class=\"linenos\">23</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">apn</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">CELLULAR_APN</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// APN for GPRS connection</span></div>\n<div class=\"line\"><a id=\"l-24\" name=\"l-24\"></a><span class=\"linenos\">24</span></div>\n<div class=\"line\"><a id=\"l-25\" name=\"l-25\"></a><span class=\"linenos\">25</span><span class=\"c1\">// Create the modem object</span></div>\n<div class=\"line\"><a id=\"l-26\" name=\"l-26\"></a><span class=\"linenos\">26</span><span class=\"n\">SequansMonarch</span><span class=\"w\"> </span><span class=\"nf\">modemSVZM</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">modemSerial</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">modemVccPin</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">modemStatusPin</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-27\" name=\"l-27\"></a><span class=\"linenos\">27</span><span class=\"w\">                         </span><span class=\"n\">modemResetPin</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">modemSleepRqPin</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">apn</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-28\" name=\"l-28\"></a><span class=\"linenos\">28</span><span class=\"c1\">// Create an extra reference to the modem by a generic name</span></div>\n<div class=\"line\"><a id=\"l-29\" name=\"l-29\"></a><span class=\"linenos\">29</span><span class=\"n\">SequansMonarch</span><span class=\"w\"> </span><span class=\"n\">modem</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">modemSVZM</span><span class=\"p\">;</span>\n</div></div></div><p>If you are interfacing with a Nimbelink Skywire board via the Skywire development board, you also need to handle the fact that the development board reverses the levels of the status, wake, and reset pins. Code to invert the pin levels is in the <a href=\"https://envirodiy.github.io/ModularSensors/menu_a_la_carte_8ino-example.html#enu_walk_setup_skywire\">Skywire Pin Inversions</a> part of the setup function below.</p><p>The default baud rate of the SVZM20 is much too fast for almost all Arduino boards. <em>Before</em> attempting to connect a SVZM20 to an Arduino you should connect it to your computer and use AT commands to decrease the baud rate. The proper command to decrease the baud rate to 9600 (8N1) is: <code>AT+IPR=9600</code>.</p></section><section id=\"menu_walk_sim_com_sim800\"><h4>SIMCom SIM800</h4><p>This code is for a SIMCom SIM800 or SIM900 or one of their many variants, including the Adafruit Fona and the Sodaq 2GBee R4. To create a <a href=\"class_s_i_m_com_s_i_m800.html\" class=\"m-doc\">SIMComSIM800</a> object we need to know</p><ul><li>the serial object name,</li><li>the MCU pin controlling modem power,</li><li>the MCU pin connected to the <code>STATUS</code> pin,</li><li>the MCU pin connected to the <code>RESET</code> pin,</li><li>the MCU pin connected to the <code>PWRKEY</code> pin (for sleep request),</li><li>and the SIM card&#x27;s cellular access point name (APN).</li></ul><p>Pins that do not apply should be set as -1.</p><p><em>NOTE:</em> This is NOT the correct form for a Sodaq 2GBee R6 or R7. See the section for a 2GBee R6.</p><div class=\"m-code-arduino\"><div class=\"highlight\"><div class=\"line\"><a id=\"l-1\" name=\"l-1\"></a><span class=\"linenos\"> 1</span><span class=\"c1\">// For almost anything based on the SIMCom SIM800 EXCEPT the Sodaq 2GBee R6 and</span></div>\n<div class=\"line\"><a id=\"l-2\" name=\"l-2\"></a><span class=\"linenos\"> 2</span><span class=\"c1\">// higher</span></div>\n<div class=\"line\"><a id=\"l-3\" name=\"l-3\"></a><span class=\"linenos\"> 3</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;modems/SIMComSIM800.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-4\" name=\"l-4\"></a><span class=\"linenos\"> 4</span></div>\n<div class=\"line\"><a id=\"l-5\" name=\"l-5\"></a><span class=\"linenos\"> 5</span><span class=\"c1\">// NOTE: Extra hardware and software serial ports are created in the &quot;Settings</span></div>\n<div class=\"line\"><a id=\"l-6\" name=\"l-6\"></a><span class=\"linenos\"> 6</span><span class=\"c1\">// for Additional Serial Ports&quot; section</span></div>\n<div class=\"line\"><a id=\"l-7\" name=\"l-7\"></a><span class=\"linenos\"> 7</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int32_t</span><span class=\"w\"> </span><span class=\"n\">modemBaud</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">9600</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">//  SIM800 does auto-bauding by default</span></div>\n<div class=\"line\"><a id=\"l-8\" name=\"l-8\"></a><span class=\"linenos\"> 8</span></div>\n<div class=\"line\"><a id=\"l-9\" name=\"l-9\"></a><span class=\"linenos\"> 9</span><span class=\"c1\">// Modem Pins - Describe the physical pin connection of your modem to your board</span></div>\n<div class=\"line\"><a id=\"l-10\" name=\"l-10\"></a><span class=\"linenos\">10</span><span class=\"c1\">// NOTE:  Use -1 for pins that do not apply</span></div>\n<div class=\"line\"><a id=\"l-11\" name=\"l-11\"></a><span class=\"linenos\">11</span><span class=\"c1\">// Example pins are for a Sodaq GPRSBee R4 with a Mayfly 0.x</span></div>\n<div class=\"line\"><a id=\"l-12\" name=\"l-12\"></a><span class=\"linenos\">12</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemVccPin</span><span class=\"w\">     </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">-1</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin controlling modem power</span></div>\n<div class=\"line\"><a id=\"l-13\" name=\"l-13\"></a><span class=\"linenos\">13</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemStatusPin</span><span class=\"w\">  </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">19</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin used to read modem status</span></div>\n<div class=\"line\"><a id=\"l-14\" name=\"l-14\"></a><span class=\"linenos\">14</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemResetPin</span><span class=\"w\">   </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">-1</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin connected to modem reset pin</span></div>\n<div class=\"line\"><a id=\"l-15\" name=\"l-15\"></a><span class=\"linenos\">15</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemSleepRqPin</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">23</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin for modem sleep/wake request</span></div>\n<div class=\"line\"><a id=\"l-16\" name=\"l-16\"></a><span class=\"linenos\">16</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemLEDPin</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">redLED</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin connected an LED to show modem</span></div>\n<div class=\"line\"><a id=\"l-17\" name=\"l-17\"></a><span class=\"linenos\">17</span><span class=\"w\">                                    </span><span class=\"c1\">// status</span></div>\n<div class=\"line\"><a id=\"l-18\" name=\"l-18\"></a><span class=\"linenos\">18</span></div>\n<div class=\"line\"><a id=\"l-19\" name=\"l-19\"></a><span class=\"linenos\">19</span><span class=\"c1\">// Network connection information</span></div>\n<div class=\"line\"><a id=\"l-20\" name=\"l-20\"></a><span class=\"linenos\">20</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">apn</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">CELLULAR_APN</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// APN for GPRS connection</span></div>\n<div class=\"line\"><a id=\"l-21\" name=\"l-21\"></a><span class=\"linenos\">21</span></div>\n<div class=\"line\"><a id=\"l-22\" name=\"l-22\"></a><span class=\"linenos\">22</span><span class=\"c1\">// Create the modem object</span></div>\n<div class=\"line\"><a id=\"l-23\" name=\"l-23\"></a><span class=\"linenos\">23</span><span class=\"n\">SIMComSIM800</span><span class=\"w\"> </span><span class=\"nf\">modemS800</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">modemSerial</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">modemVccPin</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">modemStatusPin</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">modemResetPin</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-24\" name=\"l-24\"></a><span class=\"linenos\">24</span><span class=\"w\">                       </span><span class=\"n\">modemSleepRqPin</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">apn</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-25\" name=\"l-25\"></a><span class=\"linenos\">25</span><span class=\"c1\">// Create an extra reference to the modem by a generic name</span></div>\n<div class=\"line\"><a id=\"l-26\" name=\"l-26\"></a><span class=\"linenos\">26</span><span class=\"n\">SIMComSIM800</span><span class=\"w\"> </span><span class=\"n\">modem</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">modemS800</span><span class=\"p\">;</span>\n</div></div></div></section><section id=\"menu_walk_sim_com_sim7000\"><h4>SIMCom SIM7000</h4><p>This code is for a SIMCom SIM7000 or one of its variants. To create a <a href=\"class_s_i_m_com_s_i_m7000.html\" class=\"m-doc\">SIMComSIM7000</a> object we need to know</p><ul><li>the serial object name,</li><li>the MCU pin controlling modem power,</li><li>the MCU pin connected to the <code>STATUS</code> pin,</li><li>the MCU pin connected to the <code>RESET</code> pin,</li><li>the MCU pin connected to the <code>PWRKEY</code> pin (for sleep request),</li><li>and the SIM card&#x27;s cellular access point name (APN).</li></ul><p>Pins that do not apply should be set as -1.</p><div class=\"m-code-arduino\"><div class=\"highlight\"><div class=\"line\"><a id=\"l-1\" name=\"l-1\"></a><span class=\"linenos\"> 1</span><span class=\"c1\">// For almost anything based on the SIMCom SIM7000</span></div>\n<div class=\"line\"><a id=\"l-2\" name=\"l-2\"></a><span class=\"linenos\"> 2</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;modems/SIMComSIM7000.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-3\" name=\"l-3\"></a><span class=\"linenos\"> 3</span></div>\n<div class=\"line\"><a id=\"l-4\" name=\"l-4\"></a><span class=\"linenos\"> 4</span><span class=\"c1\">// NOTE: Extra hardware and software serial ports are created in the &quot;Settings</span></div>\n<div class=\"line\"><a id=\"l-5\" name=\"l-5\"></a><span class=\"linenos\"> 5</span><span class=\"c1\">// for Additional Serial Ports&quot; section</span></div>\n<div class=\"line\"><a id=\"l-6\" name=\"l-6\"></a><span class=\"linenos\"> 6</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int32_t</span><span class=\"w\"> </span><span class=\"n\">modemBaud</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">9600</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">//  SIM7000 does auto-bauding by default</span></div>\n<div class=\"line\"><a id=\"l-7\" name=\"l-7\"></a><span class=\"linenos\"> 7</span></div>\n<div class=\"line\"><a id=\"l-8\" name=\"l-8\"></a><span class=\"linenos\"> 8</span><span class=\"c1\">// Modem Pins - Describe the physical pin connection of your modem to your board</span></div>\n<div class=\"line\"><a id=\"l-9\" name=\"l-9\"></a><span class=\"linenos\"> 9</span><span class=\"c1\">// NOTE:  Use -1 for pins that do not apply</span></div>\n<div class=\"line\"><a id=\"l-10\" name=\"l-10\"></a><span class=\"linenos\">10</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemVccPin</span><span class=\"w\">     </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">18</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin controlling modem power</span></div>\n<div class=\"line\"><a id=\"l-11\" name=\"l-11\"></a><span class=\"linenos\">11</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemStatusPin</span><span class=\"w\">  </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">19</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin used to read modem status</span></div>\n<div class=\"line\"><a id=\"l-12\" name=\"l-12\"></a><span class=\"linenos\">12</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemResetPin</span><span class=\"w\">   </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">A5</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin connected to modem reset pin</span></div>\n<div class=\"line\"><a id=\"l-13\" name=\"l-13\"></a><span class=\"linenos\">13</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemSleepRqPin</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">23</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin for modem sleep/wake request</span></div>\n<div class=\"line\"><a id=\"l-14\" name=\"l-14\"></a><span class=\"linenos\">14</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemLEDPin</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">redLED</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin connected an LED to show modem</span></div>\n<div class=\"line\"><a id=\"l-15\" name=\"l-15\"></a><span class=\"linenos\">15</span><span class=\"w\">                                    </span><span class=\"c1\">// status</span></div>\n<div class=\"line\"><a id=\"l-16\" name=\"l-16\"></a><span class=\"linenos\">16</span></div>\n<div class=\"line\"><a id=\"l-17\" name=\"l-17\"></a><span class=\"linenos\">17</span><span class=\"c1\">// Network connection information</span></div>\n<div class=\"line\"><a id=\"l-18\" name=\"l-18\"></a><span class=\"linenos\">18</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">apn</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">CELLULAR_APN</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// APN for GPRS connection</span></div>\n<div class=\"line\"><a id=\"l-19\" name=\"l-19\"></a><span class=\"linenos\">19</span></div>\n<div class=\"line\"><a id=\"l-20\" name=\"l-20\"></a><span class=\"linenos\">20</span><span class=\"c1\">// Create the modem object</span></div>\n<div class=\"line\"><a id=\"l-21\" name=\"l-21\"></a><span class=\"linenos\">21</span><span class=\"n\">SIMComSIM7000</span><span class=\"w\"> </span><span class=\"nf\">modem7000</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">modemSerial</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">modemVccPin</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">modemStatusPin</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-22\" name=\"l-22\"></a><span class=\"linenos\">22</span><span class=\"w\">                        </span><span class=\"n\">modemResetPin</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">modemSleepRqPin</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">apn</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-23\" name=\"l-23\"></a><span class=\"linenos\">23</span><span class=\"c1\">// Create an extra reference to the modem by a generic name</span></div>\n<div class=\"line\"><a id=\"l-24\" name=\"l-24\"></a><span class=\"linenos\">24</span><span class=\"n\">SIMComSIM7000</span><span class=\"w\"> </span><span class=\"n\">modem</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">modem7000</span><span class=\"p\">;</span>\n</div></div></div></section><section id=\"menu_walk_sim_com_sim7080\"><h4>SIMCom SIM7080G (EnviroDIY LTE Bee])</h4><p>This code is for a SIMCom SIM7080G or one of its variants, including the <a href=\"https://www.envirodiy.org/product/envirodiy-lte-bee-pack-of-5/\">EnviroDIY LTE Bee</a>.</p><p>To create a <a href=\"class_s_i_m_com_s_i_m7080.html\" class=\"m-doc\">SIMComSIM7080</a> object we need to know</p><ul><li>the serial object name,</li><li>the MCU pin controlling modem power,</li><li>the MCU pin connected to the <code>STATUS</code> pin,</li><li>the MCU pin connected to the <code>PWRKEY</code> pin (for sleep request),</li><li>and the SIM card&#x27;s cellular access point name (APN).</li></ul><p>Pins that do not apply should be set as -1. A helpful table detailing the pins to use with the EnviroDIY LTE Bee and the EnviroDIY Mayfly is available on the <a href=\"page_modem_notes.html\" class=\"m-doc\">Modem Notes</a> page.</p><div class=\"m-code-arduino\"><div class=\"highlight\"><div class=\"line\"><a id=\"l-1\" name=\"l-1\"></a><span class=\"linenos\"> 1</span><span class=\"c1\">// For almost anything based on the SIMCom SIM7080G</span></div>\n<div class=\"line\"><a id=\"l-2\" name=\"l-2\"></a><span class=\"linenos\"> 2</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;modems/SIMComSIM7080.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-3\" name=\"l-3\"></a><span class=\"linenos\"> 3</span></div>\n<div class=\"line\"><a id=\"l-4\" name=\"l-4\"></a><span class=\"linenos\"> 4</span><span class=\"c1\">// NOTE: Extra hardware and software serial ports are created in the &quot;Settings</span></div>\n<div class=\"line\"><a id=\"l-5\" name=\"l-5\"></a><span class=\"linenos\"> 5</span><span class=\"c1\">// for Additional Serial Ports&quot; section</span></div>\n<div class=\"line\"><a id=\"l-6\" name=\"l-6\"></a><span class=\"linenos\"> 6</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int32_t</span><span class=\"w\"> </span><span class=\"n\">modemBaud</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-7\" name=\"l-7\"></a><span class=\"linenos\"> 7</span><span class=\"w\">    </span><span class=\"mi\">9600</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">//  SIM7080 does auto-bauding by default, but I set mine to 9600</span></div>\n<div class=\"line\"><a id=\"l-8\" name=\"l-8\"></a><span class=\"linenos\"> 8</span></div>\n<div class=\"line\"><a id=\"l-9\" name=\"l-9\"></a><span class=\"linenos\"> 9</span><span class=\"c1\">// Modem Pins - Describe the physical pin connection of your modem to your board</span></div>\n<div class=\"line\"><a id=\"l-10\" name=\"l-10\"></a><span class=\"linenos\">10</span><span class=\"c1\">// NOTE:  Use -1 for pins that do not apply</span></div>\n<div class=\"line\"><a id=\"l-11\" name=\"l-11\"></a><span class=\"linenos\">11</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemVccPin</span><span class=\"w\">     </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">18</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin controlling modem power</span></div>\n<div class=\"line\"><a id=\"l-12\" name=\"l-12\"></a><span class=\"linenos\">12</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemStatusPin</span><span class=\"w\">  </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">19</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin used to read modem status</span></div>\n<div class=\"line\"><a id=\"l-13\" name=\"l-13\"></a><span class=\"linenos\">13</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemSleepRqPin</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">23</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin for modem sleep/wake request</span></div>\n<div class=\"line\"><a id=\"l-14\" name=\"l-14\"></a><span class=\"linenos\">14</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemLEDPin</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">redLED</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin connected an LED to show modem</span></div>\n<div class=\"line\"><a id=\"l-15\" name=\"l-15\"></a><span class=\"linenos\">15</span><span class=\"w\">                                    </span><span class=\"c1\">// status</span></div>\n<div class=\"line\"><a id=\"l-16\" name=\"l-16\"></a><span class=\"linenos\">16</span></div>\n<div class=\"line\"><a id=\"l-17\" name=\"l-17\"></a><span class=\"linenos\">17</span><span class=\"c1\">// Network connection information</span></div>\n<div class=\"line\"><a id=\"l-18\" name=\"l-18\"></a><span class=\"linenos\">18</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">apn</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">CELLULAR_APN</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// APN for GPRS connection</span></div>\n<div class=\"line\"><a id=\"l-19\" name=\"l-19\"></a><span class=\"linenos\">19</span></div>\n<div class=\"line\"><a id=\"l-20\" name=\"l-20\"></a><span class=\"linenos\">20</span><span class=\"c1\">// Create the modem object</span></div>\n<div class=\"line\"><a id=\"l-21\" name=\"l-21\"></a><span class=\"linenos\">21</span><span class=\"n\">SIMComSIM7080</span><span class=\"w\"> </span><span class=\"nf\">modem7080</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">modemSerial</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">modemVccPin</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">modemStatusPin</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-22\" name=\"l-22\"></a><span class=\"linenos\">22</span><span class=\"w\">                        </span><span class=\"n\">modemSleepRqPin</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">apn</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-23\" name=\"l-23\"></a><span class=\"linenos\">23</span><span class=\"c1\">// Create an extra reference to the modem by a generic name</span></div>\n<div class=\"line\"><a id=\"l-24\" name=\"l-24\"></a><span class=\"linenos\">24</span><span class=\"n\">SIMComSIM7080</span><span class=\"w\"> </span><span class=\"n\">modem</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">modem7080</span><span class=\"p\">;</span>\n</div></div></div></section><section id=\"menu_walk_sodaq_2g_bee_r6\"><h4>Sodaq GPRSBee</h4><p>This code is for the Sodaq 2GBee R6 and R7 based on the SIMCom SIM800. To create a <a href=\"class_sodaq2_g_bee_r6.html\" class=\"m-doc\">Sodaq2GBeeR6</a> object we need to know</p><ul><li>the serial object name,</li><li>the MCU pin controlling modem power, (<strong>NOTE:</strong> On the GPRSBee R6 and R7 the pin labeled as ON/OFF in Sodaq&#x27;s diagrams is tied to <em>both</em> the SIM800 power supply and the (inverted) SIM800 <code>PWRKEY</code>. You should enter this pin as the power pin.)</li><li>and the SIM card&#x27;s cellular access point name (APN).</li></ul><p>Pins that do not apply should be set as -1. The GPRSBee R6/R7 does not expose the <code>RESET</code> pin of the SIM800. The <code>PWRKEY</code> is held <code>LOW</code> as long as the SIM800 is powered (as mentioned above). A helpful table detailing the pins to use with the Sodaq GPRSBee and the EnviroDIY Mayfly is available on the <a href=\"page_modem_notes.html\" class=\"m-doc\">Modem Notes</a> page.</p><div class=\"m-code-arduino\"><div class=\"highlight\"><div class=\"line\"><a id=\"l-1\" name=\"l-1\"></a><span class=\"linenos\"> 1</span><span class=\"c1\">// For the Sodaq 2GBee R6 and R7 based on the SIMCom SIM800</span></div>\n<div class=\"line\"><a id=\"l-2\" name=\"l-2\"></a><span class=\"linenos\"> 2</span><span class=\"c1\">// NOTE:  The Sodaq GPRSBee doesn&#39;t expose the SIM800&#39;s reset pin</span></div>\n<div class=\"line\"><a id=\"l-3\" name=\"l-3\"></a><span class=\"linenos\"> 3</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;modems/Sodaq2GBeeR6.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-4\" name=\"l-4\"></a><span class=\"linenos\"> 4</span></div>\n<div class=\"line\"><a id=\"l-5\" name=\"l-5\"></a><span class=\"linenos\"> 5</span><span class=\"c1\">// NOTE: Extra hardware and software serial ports are created in the &quot;Settings</span></div>\n<div class=\"line\"><a id=\"l-6\" name=\"l-6\"></a><span class=\"linenos\"> 6</span><span class=\"c1\">// for Additional Serial Ports&quot; section</span></div>\n<div class=\"line\"><a id=\"l-7\" name=\"l-7\"></a><span class=\"linenos\"> 7</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int32_t</span><span class=\"w\"> </span><span class=\"n\">modemBaud</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">9600</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">//  SIM800 does auto-bauding by default</span></div>\n<div class=\"line\"><a id=\"l-8\" name=\"l-8\"></a><span class=\"linenos\"> 8</span></div>\n<div class=\"line\"><a id=\"l-9\" name=\"l-9\"></a><span class=\"linenos\"> 9</span><span class=\"c1\">// Modem Pins - Describe the physical pin connection of your modem to your board</span></div>\n<div class=\"line\"><a id=\"l-10\" name=\"l-10\"></a><span class=\"linenos\">10</span><span class=\"c1\">// NOTE:  Use -1 for pins that do not apply</span></div>\n<div class=\"line\"><a id=\"l-11\" name=\"l-11\"></a><span class=\"linenos\">11</span><span class=\"c1\">// Example pins are for a Sodaq GPRSBee R6 or R7 with a Mayfly 0.x</span></div>\n<div class=\"line\"><a id=\"l-12\" name=\"l-12\"></a><span class=\"linenos\">12</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemVccPin</span><span class=\"w\">     </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">23</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin controlling modem power</span></div>\n<div class=\"line\"><a id=\"l-13\" name=\"l-13\"></a><span class=\"linenos\">13</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemStatusPin</span><span class=\"w\">  </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">19</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin used to read modem status</span></div>\n<div class=\"line\"><a id=\"l-14\" name=\"l-14\"></a><span class=\"linenos\">14</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemResetPin</span><span class=\"w\">   </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">-1</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin connected to modem reset pin</span></div>\n<div class=\"line\"><a id=\"l-15\" name=\"l-15\"></a><span class=\"linenos\">15</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemSleepRqPin</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">-1</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin for modem sleep/wake request</span></div>\n<div class=\"line\"><a id=\"l-16\" name=\"l-16\"></a><span class=\"linenos\">16</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemLEDPin</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">redLED</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin connected an LED to show modem</span></div>\n<div class=\"line\"><a id=\"l-17\" name=\"l-17\"></a><span class=\"linenos\">17</span><span class=\"w\">                                    </span><span class=\"c1\">// status</span></div>\n<div class=\"line\"><a id=\"l-18\" name=\"l-18\"></a><span class=\"linenos\">18</span></div>\n<div class=\"line\"><a id=\"l-19\" name=\"l-19\"></a><span class=\"linenos\">19</span><span class=\"c1\">// Network connection information</span></div>\n<div class=\"line\"><a id=\"l-20\" name=\"l-20\"></a><span class=\"linenos\">20</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">apn</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">CELLULAR_APN</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// APN for GPRS connection</span></div>\n<div class=\"line\"><a id=\"l-21\" name=\"l-21\"></a><span class=\"linenos\">21</span></div>\n<div class=\"line\"><a id=\"l-22\" name=\"l-22\"></a><span class=\"linenos\">22</span><span class=\"c1\">// Create the modem object</span></div>\n<div class=\"line\"><a id=\"l-23\" name=\"l-23\"></a><span class=\"linenos\">23</span><span class=\"n\">Sodaq2GBeeR6</span><span class=\"w\"> </span><span class=\"nf\">modem2GB</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">modemSerial</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">modemVccPin</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">modemStatusPin</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">apn</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-24\" name=\"l-24\"></a><span class=\"linenos\">24</span><span class=\"c1\">// Create an extra reference to the modem by a generic name</span></div>\n<div class=\"line\"><a id=\"l-25\" name=\"l-25\"></a><span class=\"linenos\">25</span><span class=\"n\">Sodaq2GBeeR6</span><span class=\"w\"> </span><span class=\"n\">modem</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">modem2GB</span><span class=\"p\">;</span>\n</div></div></div></section><section id=\"menu_walk_sodaq_ubee_r410m\"><h4>u-blox SARA R410M</h4><p>This code is for modules based on the 4G LTE-M u-blox SARA R410M including the Sodaq UBee. To create a <a href=\"class_sodaq_u_bee_r410_m.html\" class=\"m-doc\">SodaqUBeeR410M</a> object we need to know</p><ul><li>the serial object name,</li><li>the MCU pin controlling modem power,</li><li>the MCU pin connected to the <code>V_INT</code> pin (for status),</li><li>the MCU pin connected to the <code>RESET_N</code> pin,</li><li>the MCU pin connected to the <code>PWR_ON</code> pin (for sleep request),</li><li>and the SIM card&#x27;s cellular access point name (APN).</li></ul><p>Pins that do not apply should be set as -1. A helpful table detailing the pins to use with the UBee R410M and the EnviroDIY Mayfly is available on the <a href=\"page_modem_notes.html\" class=\"m-doc\">Modem Notes</a> page.</p><div class=\"m-code-arduino\"><div class=\"highlight\"><div class=\"line\"><a id=\"l-1\" name=\"l-1\"></a><span class=\"linenos\"> 1</span><span class=\"c1\">// For the Sodaq UBee based on the 4G LTE-M u-blox SARA R410M</span></div>\n<div class=\"line\"><a id=\"l-2\" name=\"l-2\"></a><span class=\"linenos\"> 2</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;modems/SodaqUBeeR410M.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-3\" name=\"l-3\"></a><span class=\"linenos\"> 3</span></div>\n<div class=\"line\"><a id=\"l-4\" name=\"l-4\"></a><span class=\"linenos\"> 4</span><span class=\"c1\">// NOTE: Extra hardware and software serial ports are created in the &quot;Settings</span></div>\n<div class=\"line\"><a id=\"l-5\" name=\"l-5\"></a><span class=\"linenos\"> 5</span><span class=\"c1\">// for Additional Serial Ports&quot; section</span></div>\n<div class=\"line\"><a id=\"l-6\" name=\"l-6\"></a><span class=\"linenos\"> 6</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int32_t</span><span class=\"w\"> </span><span class=\"n\">modemBaud</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-7\" name=\"l-7\"></a><span class=\"linenos\"> 7</span><span class=\"w\">    </span><span class=\"mi\">115200</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Default baud rate of the SARA R410M is 115200</span></div>\n<div class=\"line\"><a id=\"l-8\" name=\"l-8\"></a><span class=\"linenos\"> 8</span><span class=\"c1\">// NOTE:  The SARA R410N DOES NOT save baud rate to non-volatile memory.  After</span></div>\n<div class=\"line\"><a id=\"l-9\" name=\"l-9\"></a><span class=\"linenos\"> 9</span><span class=\"c1\">// every power loss, the module will return to the default baud rate of 115200.</span></div>\n<div class=\"line\"><a id=\"l-10\" name=\"l-10\"></a><span class=\"linenos\">10</span><span class=\"c1\">// NOTE:  115200 is TOO FAST for an 8MHz Arduino.  This library attempts to</span></div>\n<div class=\"line\"><a id=\"l-11\" name=\"l-11\"></a><span class=\"linenos\">11</span><span class=\"c1\">// compensate by sending a baud rate change command in the wake function when</span></div>\n<div class=\"line\"><a id=\"l-12\" name=\"l-12\"></a><span class=\"linenos\">12</span><span class=\"c1\">// compiled for a 8MHz board. Because of this, 8MHz boards, LIKE THE MAYFLY,</span></div>\n<div class=\"line\"><a id=\"l-13\" name=\"l-13\"></a><span class=\"linenos\">13</span><span class=\"c1\">// *MUST* use a HardwareSerial instance as modemSerial.</span></div>\n<div class=\"line\"><a id=\"l-14\" name=\"l-14\"></a><span class=\"linenos\">14</span></div>\n<div class=\"line\"><a id=\"l-15\" name=\"l-15\"></a><span class=\"linenos\">15</span><span class=\"c1\">// Modem Pins - Describe the physical pin connection of your modem to your board</span></div>\n<div class=\"line\"><a id=\"l-16\" name=\"l-16\"></a><span class=\"linenos\">16</span><span class=\"c1\">// NOTE:  Use -1 for pins that do not apply</span></div>\n<div class=\"line\"><a id=\"l-17\" name=\"l-17\"></a><span class=\"linenos\">17</span><span class=\"c1\">// Example pins are for a Sodaq uBee R410M with a Mayfly 0.x</span></div>\n<div class=\"line\"><a id=\"l-18\" name=\"l-18\"></a><span class=\"linenos\">18</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemVccPin</span><span class=\"w\">     </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">23</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin controlling modem power</span></div>\n<div class=\"line\"><a id=\"l-19\" name=\"l-19\"></a><span class=\"linenos\">19</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemStatusPin</span><span class=\"w\">  </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">19</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin used to read modem status</span></div>\n<div class=\"line\"><a id=\"l-20\" name=\"l-20\"></a><span class=\"linenos\">20</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemResetPin</span><span class=\"w\">   </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">-1</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin connected to modem reset pin</span></div>\n<div class=\"line\"><a id=\"l-21\" name=\"l-21\"></a><span class=\"linenos\">21</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemSleepRqPin</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">20</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin for modem sleep/wake request</span></div>\n<div class=\"line\"><a id=\"l-22\" name=\"l-22\"></a><span class=\"linenos\">22</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemLEDPin</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">redLED</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin connected an LED to show modem</span></div>\n<div class=\"line\"><a id=\"l-23\" name=\"l-23\"></a><span class=\"linenos\">23</span><span class=\"w\">                                    </span><span class=\"c1\">// status</span></div>\n<div class=\"line\"><a id=\"l-24\" name=\"l-24\"></a><span class=\"linenos\">24</span></div>\n<div class=\"line\"><a id=\"l-25\" name=\"l-25\"></a><span class=\"linenos\">25</span><span class=\"c1\">// Network connection information</span></div>\n<div class=\"line\"><a id=\"l-26\" name=\"l-26\"></a><span class=\"linenos\">26</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">apn</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">CELLULAR_APN</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// APN for GPRS connection</span></div>\n<div class=\"line\"><a id=\"l-27\" name=\"l-27\"></a><span class=\"linenos\">27</span></div>\n<div class=\"line\"><a id=\"l-28\" name=\"l-28\"></a><span class=\"linenos\">28</span><span class=\"c1\">// Create the modem object</span></div>\n<div class=\"line\"><a id=\"l-29\" name=\"l-29\"></a><span class=\"linenos\">29</span><span class=\"n\">SodaqUBeeR410M</span><span class=\"w\"> </span><span class=\"nf\">modemR410</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">modemSerial</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">modemVccPin</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">modemStatusPin</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-30\" name=\"l-30\"></a><span class=\"linenos\">30</span><span class=\"w\">                         </span><span class=\"n\">modemResetPin</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">modemSleepRqPin</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">apn</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-31\" name=\"l-31\"></a><span class=\"linenos\">31</span><span class=\"c1\">// Create an extra reference to the modem by a generic name</span></div>\n<div class=\"line\"><a id=\"l-32\" name=\"l-32\"></a><span class=\"linenos\">32</span><span class=\"n\">SodaqUBeeR410M</span><span class=\"w\"> </span><span class=\"n\">modem</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">modemR410</span><span class=\"p\">;</span>\n</div></div></div><p>Depending on your cellular carrier, it is best to select the proper carrier profile and network. Setting these helps the modem to connect to network faster. This is shows in the <a href=\"#setup_r4_carrier\" class=\"m-doc\">SARA R4 Cellular Carrier</a> chunk of the setup function.</p></section><section id=\"menu_walk_sodaq_ubee_u201\"><h4>u-blox SARA U201</h4><p>This code is for modules based on the 3G/2G u-blox SARA U201 including the Sodaq UBee or the Sodaq 3GBee. To create a <a href=\"class_sodaq_u_bee_u201.html\" class=\"m-doc\">SodaqUBeeU201</a> object we need to know</p><ul><li>the serial object name,</li><li>the MCU pin controlling modem power,</li><li>the MCU pin connected to the <code>V_INT</code> pin (for status),</li><li>the MCU pin connected to the <code>RESET_N</code> pin,</li><li>the MCU pin connected to the <code>PWR_ON</code> pin (for sleep request),</li><li>and the SIM card&#x27;s cellular access point name (APN).</li></ul><p>Pins that do not apply should be set as -1. A helpful table detailing the pins to use with the Sodaq UBee U201 and the EnviroDIY Mayfly is available on the <a href=\"page_modem_notes.html\" class=\"m-doc\">Modem Notes</a> page.</p><div class=\"m-code-arduino\"><div class=\"highlight\"><div class=\"line\"><a id=\"l-1\" name=\"l-1\"></a><span class=\"linenos\"> 1</span><span class=\"c1\">// For the Sodaq UBee based on the 3G u-blox SARA U201</span></div>\n<div class=\"line\"><a id=\"l-2\" name=\"l-2\"></a><span class=\"linenos\"> 2</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;modems/SodaqUBeeU201.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-3\" name=\"l-3\"></a><span class=\"linenos\"> 3</span></div>\n<div class=\"line\"><a id=\"l-4\" name=\"l-4\"></a><span class=\"linenos\"> 4</span><span class=\"c1\">// NOTE: Extra hardware and software serial ports are created in the &quot;Settings</span></div>\n<div class=\"line\"><a id=\"l-5\" name=\"l-5\"></a><span class=\"linenos\"> 5</span><span class=\"c1\">// for Additional Serial Ports&quot; section</span></div>\n<div class=\"line\"><a id=\"l-6\" name=\"l-6\"></a><span class=\"linenos\"> 6</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int32_t</span><span class=\"w\"> </span><span class=\"n\">modemBaud</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-7\" name=\"l-7\"></a><span class=\"linenos\"> 7</span><span class=\"w\">    </span><span class=\"mi\">9600</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">//  SARA U2xx module does auto-bauding by default</span></div>\n<div class=\"line\"><a id=\"l-8\" name=\"l-8\"></a><span class=\"linenos\"> 8</span></div>\n<div class=\"line\"><a id=\"l-9\" name=\"l-9\"></a><span class=\"linenos\"> 9</span><span class=\"c1\">// Modem Pins - Describe the physical pin connection of your modem to your board</span></div>\n<div class=\"line\"><a id=\"l-10\" name=\"l-10\"></a><span class=\"linenos\">10</span><span class=\"c1\">// NOTE:  Use -1 for pins that do not apply</span></div>\n<div class=\"line\"><a id=\"l-11\" name=\"l-11\"></a><span class=\"linenos\">11</span><span class=\"c1\">// Example pins are for a Sodaq uBee U201 with a Mayfly 0.x</span></div>\n<div class=\"line\"><a id=\"l-12\" name=\"l-12\"></a><span class=\"linenos\">12</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemVccPin</span><span class=\"w\">     </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">23</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin controlling modem power</span></div>\n<div class=\"line\"><a id=\"l-13\" name=\"l-13\"></a><span class=\"linenos\">13</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemStatusPin</span><span class=\"w\">  </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">19</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin used to read modem status</span></div>\n<div class=\"line\"><a id=\"l-14\" name=\"l-14\"></a><span class=\"linenos\">14</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemResetPin</span><span class=\"w\">   </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">-1</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin connected to modem reset pin</span></div>\n<div class=\"line\"><a id=\"l-15\" name=\"l-15\"></a><span class=\"linenos\">15</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemSleepRqPin</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">20</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin for modem sleep/wake request</span></div>\n<div class=\"line\"><a id=\"l-16\" name=\"l-16\"></a><span class=\"linenos\">16</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemLEDPin</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">redLED</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin connected an LED to show modem</span></div>\n<div class=\"line\"><a id=\"l-17\" name=\"l-17\"></a><span class=\"linenos\">17</span><span class=\"w\">                                    </span><span class=\"c1\">// status</span></div>\n<div class=\"line\"><a id=\"l-18\" name=\"l-18\"></a><span class=\"linenos\">18</span></div>\n<div class=\"line\"><a id=\"l-19\" name=\"l-19\"></a><span class=\"linenos\">19</span><span class=\"c1\">// Network connection information</span></div>\n<div class=\"line\"><a id=\"l-20\" name=\"l-20\"></a><span class=\"linenos\">20</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">apn</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">CELLULAR_APN</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// APN for GPRS connection</span></div>\n<div class=\"line\"><a id=\"l-21\" name=\"l-21\"></a><span class=\"linenos\">21</span></div>\n<div class=\"line\"><a id=\"l-22\" name=\"l-22\"></a><span class=\"linenos\">22</span><span class=\"c1\">// Create the modem object</span></div>\n<div class=\"line\"><a id=\"l-23\" name=\"l-23\"></a><span class=\"linenos\">23</span><span class=\"n\">SodaqUBeeU201</span><span class=\"w\"> </span><span class=\"nf\">modemU201</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">modemSerial</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">modemVccPin</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">modemStatusPin</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-24\" name=\"l-24\"></a><span class=\"linenos\">24</span><span class=\"w\">                        </span><span class=\"n\">modemResetPin</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">modemSleepRqPin</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">apn</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-25\" name=\"l-25\"></a><span class=\"linenos\">25</span><span class=\"c1\">// Create an extra reference to the modem by a generic name</span></div>\n<div class=\"line\"><a id=\"l-26\" name=\"l-26\"></a><span class=\"linenos\">26</span><span class=\"n\">SodaqUBeeU201</span><span class=\"w\"> </span><span class=\"n\">modem</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">modemU201</span><span class=\"p\">;</span>\n</div></div></div></section><section id=\"menu_walk_modem_variables\"><h4>Modem Measured Variables</h4><p>After creating the modem object, we can create <a href=\"class_variable.html\" class=\"m-doc\">Variable</a> objects for each of the variables the modem is capable of measuring (<a href=\"class_modem___signal_percent.html\" class=\"m-doc\">Modem_<wbr />SignalPercent</a>, <a href=\"class_modem___battery_state.html\" class=\"m-doc\">Modem_<wbr />BatteryState</a>, <a href=\"class_modem___battery_percent.html\" class=\"m-doc\">Modem_<wbr />BatteryPercent</a>, <a href=\"class_modem___battery_voltage.html\" class=\"m-doc\">Modem_<wbr />BatteryVoltage</a>, and <a href=\"class_modem___temp.html\" class=\"m-doc\">Modem_<wbr />Temp</a>). When we create the modem-linked variable objects, the first argument of the constructor, the <a href=\"classlogger_modem.html\" class=\"m-doc\">loggerModem</a> to like the variables to is required. The second and third arguments (the UUID and the variable code) included here are optional. Note that here we create the variables for anything measured by <em>any</em> of the modems, but most modems are not capable of measuring all of the values. Some modem-measured values may be meaningless depending on the board configuration - often the battery parameters returned by a cellular component have little meaning because the module is downstream of a voltage regulator.</p><div class=\"m-code-arduino\"><div class=\"highlight\"><div class=\"line\"><a id=\"l-1\" name=\"l-1\"></a><span class=\"linenos\"> 1</span><span class=\"c1\">// Create RSSI and signal strength variable pointers for the modem</span></div>\n<div class=\"line\"><a id=\"l-2\" name=\"l-2\"></a><span class=\"linenos\"> 2</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">modemRSSI</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-3\" name=\"l-3\"></a><span class=\"linenos\"> 3</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">Modem_RSSI</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">modem</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;</span><span class=\"nf\">RSSI</span><span class=\"s\">&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-4\" name=\"l-4\"></a><span class=\"linenos\"> 4</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">modemSignalPct</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">Modem_SignalPercent</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-5\" name=\"l-5\"></a><span class=\"linenos\"> 5</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">modem</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;signalPercent&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-6\" name=\"l-6\"></a><span class=\"linenos\"> 6</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">modemBatteryState</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">Modem_BatteryState</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-7\" name=\"l-7\"></a><span class=\"linenos\"> 7</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">modem</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;modemBatteryCS&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-8\" name=\"l-8\"></a><span class=\"linenos\"> 8</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">modemBatteryPct</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">Modem_BatteryPercent</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-9\" name=\"l-9\"></a><span class=\"linenos\"> 9</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">modem</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;modemBatteryPct&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-10\" name=\"l-10\"></a><span class=\"linenos\">10</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">modemBatteryVoltage</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">Modem_BatteryVoltage</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-11\" name=\"l-11\"></a><span class=\"linenos\">11</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">modem</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;modemBatterymV&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-12\" name=\"l-12\"></a><span class=\"linenos\">12</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">modemTemperature</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-13\" name=\"l-13\"></a><span class=\"linenos\">13</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">Modem_Temp</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">modem</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;modemTemp&quot;</span><span class=\"p\">);</span>\n</div></div></div><hr/></section></section><section id=\"menu_walk_sensors_and_vars\"><h3>Sensors and Measured Variables</h3><section id=\"menu_walk_processor_stats\"><h4>The processor as a sensor</h4><p>Set options and create the objects for using the processor as a sensor to report battery level, processor free ram, and sample number.</p><p>The processor can return the number of &quot;samples&quot; it has taken, the amount of RAM it has available and, for some boards, the battery voltage (EnviroDIY Mayfly, Sodaq Mbili, Ndogo, Autonomo, and One, Adafruit Feathers). The version of the board is required as input (ie, for a EnviroDIY Mayfly: &quot;v0.3&quot; or &quot;v0.4&quot; or &quot;v0.5&quot;). Use a blank value (ie, &quot;&quot;) for un-versioned boards. Please note that while you can opt to average more than one sample, it really makes no sense to do so for the processor. The number of &quot;samples&quot; taken will increase by one for each time another processor &quot;measurement&quot; is taken so averaging multiple measurements from the processor will result in the number of samples increasing by more than one with each loop.</p><aside class=\"m-note m-default\"><h4>See also</h4><p><a href=\"group__sensor__processor.html\" class=\"m-doc\">Processor Metadata</a></p></aside><div class=\"m-code-arduino\"><div class=\"highlight\"><div class=\"line\"><a id=\"l-1\" name=\"l-1\"></a><span class=\"linenos\"> 1</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;sensors/ProcessorStats.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-2\" name=\"l-2\"></a><span class=\"linenos\"> 2</span></div>\n<div class=\"line\"><a id=\"l-3\" name=\"l-3\"></a><span class=\"linenos\"> 3</span><span class=\"c1\">// Create the main processor chip &quot;sensor&quot; - for general metadata</span></div>\n<div class=\"line\"><a id=\"l-4\" name=\"l-4\"></a><span class=\"linenos\"> 4</span><span class=\"cp\">#if defined(ENVIRODIY_STONEFLY_M4)</span></div>\n<div class=\"line\"><a id=\"l-5\" name=\"l-5\"></a><span class=\"linenos\"> 5</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">mcuBoardVersion</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s\">&quot;v0.1&quot;</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-6\" name=\"l-6\"></a><span class=\"linenos\"> 6</span><span class=\"cp\">#elif defined(ARDUINO_AVR_ENVIRODIY_MAYFLY)</span></div>\n<div class=\"line\"><a id=\"l-7\" name=\"l-7\"></a><span class=\"linenos\"> 7</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">mcuBoardVersion</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s\">&quot;v1.1&quot;</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-8\" name=\"l-8\"></a><span class=\"linenos\"> 8</span><span class=\"cp\">#else</span></div>\n<div class=\"line\"><a id=\"l-9\" name=\"l-9\"></a><span class=\"linenos\"> 9</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">mcuBoardVersion</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s\">&quot;unknown&quot;</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-10\" name=\"l-10\"></a><span class=\"linenos\">10</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-11\" name=\"l-11\"></a><span class=\"linenos\">11</span><span class=\"n\">ProcessorStats</span><span class=\"w\"> </span><span class=\"nf\">mcuBoard</span><span class=\"p\">(</span><span class=\"n\">mcuBoardVersion</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mi\">5</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-12\" name=\"l-12\"></a><span class=\"linenos\">12</span></div>\n<div class=\"line\"><a id=\"l-13\" name=\"l-13\"></a><span class=\"linenos\">13</span><span class=\"c1\">// Create sample number, battery voltage, free RAM, and reset cause variable</span></div>\n<div class=\"line\"><a id=\"l-14\" name=\"l-14\"></a><span class=\"linenos\">14</span><span class=\"c1\">// pointers for the processor</span></div>\n<div class=\"line\"><a id=\"l-15\" name=\"l-15\"></a><span class=\"linenos\">15</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">mcuBoardBatt</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">ProcessorStats_Battery</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-16\" name=\"l-16\"></a><span class=\"linenos\">16</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">mcuBoard</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-17\" name=\"l-17\"></a><span class=\"linenos\">17</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">mcuBoardAvailableRAM</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">ProcessorStats_FreeRam</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-18\" name=\"l-18\"></a><span class=\"linenos\">18</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">mcuBoard</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-19\" name=\"l-19\"></a><span class=\"linenos\">19</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">mcuBoardSampNo</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">ProcessorStats_SampleNumber</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-20\" name=\"l-20\"></a><span class=\"linenos\">20</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">mcuBoard</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-21\" name=\"l-21\"></a><span class=\"linenos\">21</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">mcuBoardReset</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">ProcessorStats_ResetCode</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-22\" name=\"l-22\"></a><span class=\"linenos\">22</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">mcuBoard</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span>\n</div></div></div><hr/></section><section id=\"menu_walk_maxim_ds3231\"><h4>Maxim DS3231 RTC as a sensor</h4><p>In addition to the time, we can also use the required DS3231 real time clock to report the temperature of the circuit board. This temperature is <em>not</em> equivalent to an environmental temperature measurement and should only be used to as a diagnostic. As above, we create both the sensor and the variables measured by it.</p><aside class=\"m-note m-default\"><h4>See also</h4><p><a href=\"group__sensor__ds3231.html\" class=\"m-doc\">Maxim DS3231 RTC</a></p></aside><div class=\"m-code-arduino\"><div class=\"highlight\"><div class=\"line\"><a id=\"l-1\" name=\"l-1\"></a><span class=\"linenos\">1</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;sensors/MaximDS3231.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-2\" name=\"l-2\"></a><span class=\"linenos\">2</span></div>\n<div class=\"line\"><a id=\"l-3\" name=\"l-3\"></a><span class=\"linenos\">3</span><span class=\"c1\">// Create a DS3231 sensor object</span></div>\n<div class=\"line\"><a id=\"l-4\" name=\"l-4\"></a><span class=\"linenos\">4</span><span class=\"n\">MaximDS3231</span><span class=\"w\"> </span><span class=\"nf\">ds3231</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-5\" name=\"l-5\"></a><span class=\"linenos\">5</span></div>\n<div class=\"line\"><a id=\"l-6\" name=\"l-6\"></a><span class=\"linenos\">6</span><span class=\"c1\">// Create a temperature variable pointer for the DS3231</span></div>\n<div class=\"line\"><a id=\"l-7\" name=\"l-7\"></a><span class=\"linenos\">7</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">ds3231Temp</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-8\" name=\"l-8\"></a><span class=\"linenos\">8</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">MaximDS3231_Temp</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">ds3231</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span>\n</div></div></div><hr/></section><section id=\"menu_walk_alphasense_co2\"><h4>Alphasense CO2</h4><aside class=\"m-note m-default\"><h4>See also</h4><p><a href=\"group__sensor__alphasense__co2.html\" class=\"m-doc\">Alphasense IRC-A1 CO2</a></p></aside><div class=\"m-code-arduino\"><div class=\"highlight\"><div class=\"line\"><a id=\"l-1\" name=\"l-1\"></a><span class=\"linenos\"> 1</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;sensors/AlphasenseCO2.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-2\" name=\"l-2\"></a><span class=\"linenos\"> 2</span></div>\n<div class=\"line\"><a id=\"l-3\" name=\"l-3\"></a><span class=\"linenos\"> 3</span><span class=\"c1\">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span></div>\n<div class=\"line\"><a id=\"l-4\" name=\"l-4\"></a><span class=\"linenos\"> 4</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">      </span><span class=\"n\">AlphasenseCO2Power</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">sensorPowerPin</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Power pin</span></div>\n<div class=\"line\"><a id=\"l-5\" name=\"l-5\"></a><span class=\"linenos\"> 5</span><span class=\"n\">aco2_adsDiffMux_t</span><span class=\"w\"> </span><span class=\"n\">AlphasenseDiffMux</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-6\" name=\"l-6\"></a><span class=\"linenos\"> 6</span><span class=\"w\">    </span><span class=\"n\">DIFF_MUX_2_3</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Differential voltage config</span></div>\n<div class=\"line\"><a id=\"l-7\" name=\"l-7\"></a><span class=\"linenos\"> 7</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">uint8_t</span><span class=\"w\"> </span><span class=\"n\">AlphasenseCO2ADSi2c_addr</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-8\" name=\"l-8\"></a><span class=\"linenos\"> 8</span><span class=\"w\">    </span><span class=\"mh\">0x48</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// The I2C address of the ADS1115 ADC</span></div>\n<div class=\"line\"><a id=\"l-9\" name=\"l-9\"></a><span class=\"linenos\"> 9</span></div>\n<div class=\"line\"><a id=\"l-10\" name=\"l-10\"></a><span class=\"linenos\">10</span><span class=\"c1\">// Create an Alphasense CO2 sensor object</span></div>\n<div class=\"line\"><a id=\"l-11\" name=\"l-11\"></a><span class=\"linenos\">11</span><span class=\"n\">AlphasenseCO2</span><span class=\"w\"> </span><span class=\"nf\">alphasenseCO2</span><span class=\"p\">(</span><span class=\"n\">AlphasenseCO2Power</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">AlphasenseDiffMux</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-12\" name=\"l-12\"></a><span class=\"linenos\">12</span><span class=\"w\">                            </span><span class=\"n\">AlphasenseCO2ADSi2c_addr</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-13\" name=\"l-13\"></a><span class=\"linenos\">13</span></div>\n<div class=\"line\"><a id=\"l-14\" name=\"l-14\"></a><span class=\"linenos\">14</span><span class=\"c1\">// Create PAR and raw voltage variable pointers for the CO2</span></div>\n<div class=\"line\"><a id=\"l-15\" name=\"l-15\"></a><span class=\"linenos\">15</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">asCO2</span><span class=\"w\">        </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">AlphasenseCO2_CO2</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">alphasenseCO2</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-16\" name=\"l-16\"></a><span class=\"linenos\">16</span><span class=\"w\">                                               </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-17\" name=\"l-17\"></a><span class=\"linenos\">17</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">asco2voltage</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">AlphasenseCO2_Voltage</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-18\" name=\"l-18\"></a><span class=\"linenos\">18</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">alphasenseCO2</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span>\n</div></div></div><hr/></section><section id=\"menu_walk_anb_ph\"><h4>ANB Sensors pH Sensor</h4><aside class=\"m-note m-default\"><h4>See also</h4><p><a href=\"group__sensor__anb__ph.html\" class=\"m-doc\">ANB pH Sensors</a></p></aside><div class=\"m-code-arduino\"><div class=\"highlight\"><div class=\"line\"><a id=\"l-1\" name=\"l-1\"></a><span class=\"linenos\"> 1</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;sensors/ANBpH.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-2\" name=\"l-2\"></a><span class=\"linenos\"> 2</span></div>\n<div class=\"line\"><a id=\"l-3\" name=\"l-3\"></a><span class=\"linenos\"> 3</span><span class=\"c1\">// NOTE: Extra hardware and software serial ports are created in the &quot;Settings</span></div>\n<div class=\"line\"><a id=\"l-4\" name=\"l-4\"></a><span class=\"linenos\"> 4</span><span class=\"c1\">// for Additional Serial Ports&quot; section</span></div>\n<div class=\"line\"><a id=\"l-5\" name=\"l-5\"></a><span class=\"linenos\"> 5</span></div>\n<div class=\"line\"><a id=\"l-6\" name=\"l-6\"></a><span class=\"linenos\"> 6</span><span class=\"c1\">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span></div>\n<div class=\"line\"><a id=\"l-7\" name=\"l-7\"></a><span class=\"linenos\"> 7</span><span class=\"kr\">byte</span><span class=\"w\"> </span><span class=\"n\">anbModbusAddress</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-8\" name=\"l-8\"></a><span class=\"linenos\"> 8</span><span class=\"w\">    </span><span class=\"mh\">0x55</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// The modbus address of ANB pH Sensor (0x55 is the default)</span></div>\n<div class=\"line\"><a id=\"l-9\" name=\"l-9\"></a><span class=\"linenos\"> 9</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">anbPower</span><span class=\"w\">          </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">sensorPowerPin</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// ANB pH Sensor power pin</span></div>\n<div class=\"line\"><a id=\"l-10\" name=\"l-10\"></a><span class=\"linenos\">10</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">alAdapterPower</span><span class=\"w\">    </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">sensorPowerPin</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// RS485 adapter power pin</span></div>\n<div class=\"line\"><a id=\"l-11\" name=\"l-11\"></a><span class=\"linenos\">11</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">al485EnablePin</span><span class=\"w\">    </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">-1</span><span class=\"p\">;</span><span class=\"w\">              </span><span class=\"c1\">// Adapter RE/DE pin</span></div>\n<div class=\"line\"><a id=\"l-12\" name=\"l-12\"></a><span class=\"linenos\">12</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">uint8_t</span><span class=\"w\"> </span><span class=\"n\">anbNumberReadings</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-13\" name=\"l-13\"></a><span class=\"linenos\">13</span></div>\n<div class=\"line\"><a id=\"l-14\" name=\"l-14\"></a><span class=\"linenos\">14</span><span class=\"c1\">// Create an ANB pH sensor object</span></div>\n<div class=\"line\"><a id=\"l-15\" name=\"l-15\"></a><span class=\"linenos\">15</span><span class=\"n\">ANBpH</span><span class=\"w\"> </span><span class=\"nf\">anbPH</span><span class=\"p\">(</span><span class=\"n\">anbModbusAddress</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">modbusSerial</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">anbPower</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">alAdapterPower</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-16\" name=\"l-16\"></a><span class=\"linenos\">16</span><span class=\"w\">            </span><span class=\"n\">al485EnablePin</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">anbNumberReadings</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-17\" name=\"l-17\"></a><span class=\"linenos\">17</span></div>\n<div class=\"line\"><a id=\"l-18\" name=\"l-18\"></a><span class=\"linenos\">18</span><span class=\"c1\">// Create all of the variable pointers for the ANB pH sensor</span></div>\n<div class=\"line\"><a id=\"l-19\" name=\"l-19\"></a><span class=\"linenos\">19</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">anbPHValue</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">ANBpH_pH</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">anbPH</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-20\" name=\"l-20\"></a><span class=\"linenos\">20</span><span class=\"w\">                                    </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-21\" name=\"l-21\"></a><span class=\"linenos\">21</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">anbPHTemp</span><span class=\"w\">  </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">ANBpH_Temp</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">anbPH</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-22\" name=\"l-22\"></a><span class=\"linenos\">22</span><span class=\"w\">                                      </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-23\" name=\"l-23\"></a><span class=\"linenos\">23</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">anbPHSal</span><span class=\"w\">   </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">ANBpH_Salinity</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">anbPH</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-24\" name=\"l-24\"></a><span class=\"linenos\">24</span><span class=\"w\">                                          </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-25\" name=\"l-25\"></a><span class=\"linenos\">25</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">anbPHSpCond</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-26\" name=\"l-26\"></a><span class=\"linenos\">26</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">ANBpH_SpCond</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">anbPH</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-27\" name=\"l-27\"></a><span class=\"linenos\">27</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">anbPHEC</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">ANBpH_EC</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">anbPH</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-28\" name=\"l-28\"></a><span class=\"linenos\">28</span><span class=\"w\">                                 </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-29\" name=\"l-29\"></a><span class=\"linenos\">29</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">anbPHHealth</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-30\" name=\"l-30\"></a><span class=\"linenos\">30</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">ANBpH_HealthCode</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">anbPH</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-31\" name=\"l-31\"></a><span class=\"linenos\">31</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">anbPHDiagnostic</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-32\" name=\"l-32\"></a><span class=\"linenos\">32</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">ANBpH_DiagnosticCode</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">anbPH</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-33\" name=\"l-33\"></a><span class=\"linenos\">33</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">anbPHStatus</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-34\" name=\"l-34\"></a><span class=\"linenos\">34</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">ANBpH_StatusCode</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">anbPH</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span>\n</div></div></div><hr/></section><section id=\"menu_walk_ao_song_am2315\"><h4>AOSong AM2315</h4><p>Here is the code for the AOSong AM2315 temperature and humidity sensor. This is an I2C sensor with only one possible address so the only argument required for the constructor is the pin on the MCU controlling power to the AM2315 (AM2315Power). The number of readings to average from the sensor is optional, but can be supplied as the second argument for the constructor if desired.</p><aside class=\"m-note m-default\"><h4>See also</h4><p><a href=\"group__sensor__am2315.html\" class=\"m-doc\">AOSong AM2315</a></p></aside><div class=\"m-code-arduino\"><div class=\"highlight\"><div class=\"line\"><a id=\"l-1\" name=\"l-1\"></a><span class=\"linenos\"> 1</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;sensors/AOSongAM2315.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-2\" name=\"l-2\"></a><span class=\"linenos\"> 2</span></div>\n<div class=\"line\"><a id=\"l-3\" name=\"l-3\"></a><span class=\"linenos\"> 3</span><span class=\"c1\">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span></div>\n<div class=\"line\"><a id=\"l-4\" name=\"l-4\"></a><span class=\"linenos\"> 4</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">AM2315Power</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">sensorPowerPin</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Power pin</span></div>\n<div class=\"line\"><a id=\"l-5\" name=\"l-5\"></a><span class=\"linenos\"> 5</span></div>\n<div class=\"line\"><a id=\"l-6\" name=\"l-6\"></a><span class=\"linenos\"> 6</span><span class=\"c1\">// Create an AOSong AM2315 sensor object</span></div>\n<div class=\"line\"><a id=\"l-7\" name=\"l-7\"></a><span class=\"linenos\"> 7</span><span class=\"n\">AOSongAM2315</span><span class=\"w\"> </span><span class=\"nf\">am2315</span><span class=\"p\">(</span><span class=\"n\">AM2315Power</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-8\" name=\"l-8\"></a><span class=\"linenos\"> 8</span></div>\n<div class=\"line\"><a id=\"l-9\" name=\"l-9\"></a><span class=\"linenos\"> 9</span><span class=\"c1\">// Create humidity and temperature variable pointers for the AM2315</span></div>\n<div class=\"line\"><a id=\"l-10\" name=\"l-10\"></a><span class=\"linenos\">10</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">am2315Humid</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-11\" name=\"l-11\"></a><span class=\"linenos\">11</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">AOSongAM2315_Humidity</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">am2315</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-12\" name=\"l-12\"></a><span class=\"linenos\">12</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">am2315Temp</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-13\" name=\"l-13\"></a><span class=\"linenos\">13</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">AOSongAM2315_Temp</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">am2315</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span>\n</div></div></div><hr/></section><section id=\"menu_walk_ao_song_dht\"><h4>AOSong DHT</h4><p>Here is the code for the AOSong DHT temperature and humidity sensor. To create the DHT <a href=\"class_sensor.html\" class=\"m-doc\">Sensor</a> we need the power pin, the data pin, and the DHT type. The number of readings to average from the sensor is optional, but can be supplied as the fourth argument for the constructor if desired.</p><aside class=\"m-note m-default\"><h4>See also</h4><p><a href=\"group__sensor__dht.html\" class=\"m-doc\">AOSong DHT</a></p></aside><div class=\"m-code-arduino\"><div class=\"highlight\"><div class=\"line\"><a id=\"l-1\" name=\"l-1\"></a><span class=\"linenos\"> 1</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;sensors/AOSongDHT.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-2\" name=\"l-2\"></a><span class=\"linenos\"> 2</span></div>\n<div class=\"line\"><a id=\"l-3\" name=\"l-3\"></a><span class=\"linenos\"> 3</span><span class=\"c1\">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span></div>\n<div class=\"line\"><a id=\"l-4\" name=\"l-4\"></a><span class=\"linenos\"> 4</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">DHTPower</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">sensorPowerPin</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Power pin</span></div>\n<div class=\"line\"><a id=\"l-5\" name=\"l-5\"></a><span class=\"linenos\"> 5</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">DHTPin</span><span class=\"w\">   </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">10</span><span class=\"p\">;</span><span class=\"w\">              </span><span class=\"c1\">// DHT data pin</span></div>\n<div class=\"line\"><a id=\"l-6\" name=\"l-6\"></a><span class=\"linenos\"> 6</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">dhtType</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-7\" name=\"l-7\"></a><span class=\"linenos\"> 7</span><span class=\"w\">    </span><span class=\"n\">DHT11</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// DHT type, one of DHT11, DHT12, DHT21, DHT22, or AM2301</span></div>\n<div class=\"line\"><a id=\"l-8\" name=\"l-8\"></a><span class=\"linenos\"> 8</span></div>\n<div class=\"line\"><a id=\"l-9\" name=\"l-9\"></a><span class=\"linenos\"> 9</span><span class=\"c1\">// Create an AOSong DHT sensor object</span></div>\n<div class=\"line\"><a id=\"l-10\" name=\"l-10\"></a><span class=\"linenos\">10</span><span class=\"n\">AOSongDHT</span><span class=\"w\"> </span><span class=\"nf\">dht</span><span class=\"p\">(</span><span class=\"n\">DHTPower</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">DHTPin</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">dhtType</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-11\" name=\"l-11\"></a><span class=\"linenos\">11</span></div>\n<div class=\"line\"><a id=\"l-12\" name=\"l-12\"></a><span class=\"linenos\">12</span><span class=\"c1\">// Create humidity, temperature, and heat index variable pointers for the DHT</span></div>\n<div class=\"line\"><a id=\"l-13\" name=\"l-13\"></a><span class=\"linenos\">13</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">dhtHumid</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-14\" name=\"l-14\"></a><span class=\"linenos\">14</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">AOSongDHT_Humidity</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">dht</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-15\" name=\"l-15\"></a><span class=\"linenos\">15</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">dhtTemp</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">AOSongDHT_Temp</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">dht</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-16\" name=\"l-16\"></a><span class=\"linenos\">16</span><span class=\"w\">                                       </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-17\" name=\"l-17\"></a><span class=\"linenos\">17</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">dhtHI</span><span class=\"w\">   </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">AOSongDHT_HI</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">dht</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-18\" name=\"l-18\"></a><span class=\"linenos\">18</span><span class=\"w\">                                     </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span>\n</div></div></div><hr/></section><section id=\"menu_walk_apogee_sq212\"><h4>Apogee SQ-212 Quantum Light Sensor</h4><p>Here is the code for the Apogee SQ-212 Quantum Light <a href=\"class_sensor.html\" class=\"m-doc\">Sensor</a>. The SQ-212 is not directly connected to the MCU, but rather to an TI ADS1115 that communicates with the MCU. The Arduino pin controlling power on/off and the analog data channel <em>on the TI ADS1115</em> are required for the sensor constructor. If your ADD converter is not at the standard address of 0x48, you can enter its actual address as the third argument. The number of readings to average from the sensor is optional, but can be supplied as the fourth argument for the constructor if desired.</p><aside class=\"m-note m-default\"><h4>See also</h4><p><a href=\"group__sensor__sq212.html\" class=\"m-doc\">Apogee SQ-212</a></p></aside><div class=\"m-code-arduino\"><div class=\"highlight\"><div class=\"line\"><a id=\"l-1\" name=\"l-1\"></a><span class=\"linenos\"> 1</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;sensors/ApogeeSQ212.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-2\" name=\"l-2\"></a><span class=\"linenos\"> 2</span></div>\n<div class=\"line\"><a id=\"l-3\" name=\"l-3\"></a><span class=\"linenos\"> 3</span><span class=\"c1\">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span></div>\n<div class=\"line\"><a id=\"l-4\" name=\"l-4\"></a><span class=\"linenos\"> 4</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">SQ212Power</span><span class=\"w\">       </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">sensorPowerPin</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Power pin</span></div>\n<div class=\"line\"><a id=\"l-5\" name=\"l-5\"></a><span class=\"linenos\"> 5</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">SQ212ADSChannel</span><span class=\"w\">  </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"p\">;</span><span class=\"w\">     </span><span class=\"c1\">// The ADS channel for the SQ212</span></div>\n<div class=\"line\"><a id=\"l-6\" name=\"l-6\"></a><span class=\"linenos\"> 6</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">uint8_t</span><span class=\"w\"> </span><span class=\"n\">SQ212ADSi2c_addr</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mh\">0x48</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// The I2C address of the ADS1115 ADC</span></div>\n<div class=\"line\"><a id=\"l-7\" name=\"l-7\"></a><span class=\"linenos\"> 7</span></div>\n<div class=\"line\"><a id=\"l-8\" name=\"l-8\"></a><span class=\"linenos\"> 8</span><span class=\"c1\">// Create an Apogee SQ212 sensor object</span></div>\n<div class=\"line\"><a id=\"l-9\" name=\"l-9\"></a><span class=\"linenos\"> 9</span><span class=\"n\">ApogeeSQ212</span><span class=\"w\"> </span><span class=\"nf\">SQ212</span><span class=\"p\">(</span><span class=\"n\">SQ212Power</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">SQ212ADSChannel</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">SQ212ADSi2c_addr</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-10\" name=\"l-10\"></a><span class=\"linenos\">10</span></div>\n<div class=\"line\"><a id=\"l-11\" name=\"l-11\"></a><span class=\"linenos\">11</span><span class=\"c1\">// Create PAR and raw voltage variable pointers for the SQ212</span></div>\n<div class=\"line\"><a id=\"l-12\" name=\"l-12\"></a><span class=\"linenos\">12</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">sq212PAR</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-13\" name=\"l-13\"></a><span class=\"linenos\">13</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">ApogeeSQ212_PAR</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">SQ212</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-14\" name=\"l-14\"></a><span class=\"linenos\">14</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">sq212voltage</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-15\" name=\"l-15\"></a><span class=\"linenos\">15</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">ApogeeSQ212_Voltage</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">SQ212</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span>\n</div></div></div><hr/></section><section id=\"menu_walk_atlas_scientific_sensors\"><h4>Atlas Scientific EZO Circuits</h4><p>The next several sections are for Atlas Scientific EZO circuits and sensors. The sensor class constructors for each are nearly identical, except for the class name. In the most common setup, with hardware I2C, the only required argument for the constructor is the Arduino pin controlling power on/off; the i2cAddressHex is optional as is the number of readings to average.</p><aside class=\"m-note m-danger\"><h4>Warning</h4><p><strong>You must isolate the data lines of all Atlas circuits from the main I2C bus if you wish to turn off their power!</strong> If you do not isolate them from your main I2C bus and you turn off power to the circuits between measurements the I2C lines will be pulled down to ground causing the I2C bus (and thus your logger) to crash.</p></aside><p>The default I2C addresses for the circuits are:</p><ul><li>CO2: 0x69 (105)</li><li>DO: 0x61 (97)</li><li>EC (conductivity): 0x64 (100)</li><li>ORP (redox): 0x62 (98)</li><li>pH: 0x63 (99)</li><li>RTD (temperature): 0x66 (102) All of the circuits can be re-addressed to any other 8 bit number if desired. To use multiple circuits of the same type, re-address them.</li></ul><aside class=\"m-note m-default\"><h4>See also</h4><p><a href=\"group__atlas__group.html\" class=\"m-doc\">Atlas Scientific EZO Circuits</a></p></aside><section id=\"menu_walk_atlas_scientific_co2\"><h5>Atlas Scientific EZO-CO2 Embedded NDIR Carbon Dioxide Sensor</h5><aside class=\"m-note m-default\"><h4>See also</h4><p><a href=\"group__sensor__atlas__co2.html\" class=\"m-doc\">Atlas EZO-CO2</a></p></aside><div class=\"m-code-arduino\"><div class=\"highlight\"><div class=\"line\"><a id=\"l-1\" name=\"l-1\"></a><span class=\"linenos\"> 1</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;sensors/AtlasScientificCO2.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-2\" name=\"l-2\"></a><span class=\"linenos\"> 2</span></div>\n<div class=\"line\"><a id=\"l-3\" name=\"l-3\"></a><span class=\"linenos\"> 3</span><span class=\"c1\">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span></div>\n<div class=\"line\"><a id=\"l-4\" name=\"l-4\"></a><span class=\"linenos\"> 4</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">AtlasCO2Power</span><span class=\"w\">    </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">sensorPowerPin</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Power pin</span></div>\n<div class=\"line\"><a id=\"l-5\" name=\"l-5\"></a><span class=\"linenos\"> 5</span><span class=\"kr\">uint8_t</span><span class=\"w\">      </span><span class=\"n\">AtlasCO2i2c_addr</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mh\">0x69</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Default for CO2-EZO is 0x69 (105)</span></div>\n<div class=\"line\"><a id=\"l-6\" name=\"l-6\"></a><span class=\"linenos\"> 6</span><span class=\"c1\">// All Atlas sensors have different default I2C addresses, but any of them can</span></div>\n<div class=\"line\"><a id=\"l-7\" name=\"l-7\"></a><span class=\"linenos\"> 7</span><span class=\"c1\">// be re-addressed to any 8 bit number.  If using the default address for any</span></div>\n<div class=\"line\"><a id=\"l-8\" name=\"l-8\"></a><span class=\"linenos\"> 8</span><span class=\"c1\">// Atlas Scientific sensor, you may omit this argument.</span></div>\n<div class=\"line\"><a id=\"l-9\" name=\"l-9\"></a><span class=\"linenos\"> 9</span></div>\n<div class=\"line\"><a id=\"l-10\" name=\"l-10\"></a><span class=\"linenos\">10</span><span class=\"c1\">// Create an Atlas Scientific CO2 sensor object</span></div>\n<div class=\"line\"><a id=\"l-11\" name=\"l-11\"></a><span class=\"linenos\">11</span><span class=\"c1\">// AtlasScientificCO2 atlasCO2(AtlasCO2Power, AtlasCO2i2c_addr);</span></div>\n<div class=\"line\"><a id=\"l-12\" name=\"l-12\"></a><span class=\"linenos\">12</span><span class=\"n\">AtlasScientificCO2</span><span class=\"w\"> </span><span class=\"nf\">atlasCO2</span><span class=\"p\">(</span><span class=\"n\">AtlasCO2Power</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-13\" name=\"l-13\"></a><span class=\"linenos\">13</span></div>\n<div class=\"line\"><a id=\"l-14\" name=\"l-14\"></a><span class=\"linenos\">14</span><span class=\"c1\">// Create concentration and temperature variable pointers for the EZO-CO2</span></div>\n<div class=\"line\"><a id=\"l-15\" name=\"l-15\"></a><span class=\"linenos\">15</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">atlasCO2CO2</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">AtlasScientificCO2_CO2</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-16\" name=\"l-16\"></a><span class=\"linenos\">16</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">atlasCO2</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-17\" name=\"l-17\"></a><span class=\"linenos\">17</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">atlasCO2Temp</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">AtlasScientificCO2_Temp</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-18\" name=\"l-18\"></a><span class=\"linenos\">18</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">atlasCO2</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span>\n</div></div></div><hr/></section><section id=\"menu_walk_atlas_scientific_do\"><h5>Atlas Scientific EZO-DO Dissolved Oxygen Sensor</h5><aside class=\"m-note m-default\"><h4>See also</h4><p><a href=\"group__sensor__atlas__do.html\" class=\"m-doc\">Atlas EZO-DO</a></p></aside><div class=\"m-code-arduino\"><div class=\"highlight\"><div class=\"line\"><a id=\"l-1\" name=\"l-1\"></a><span class=\"linenos\"> 1</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;sensors/AtlasScientificDO.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-2\" name=\"l-2\"></a><span class=\"linenos\"> 2</span></div>\n<div class=\"line\"><a id=\"l-3\" name=\"l-3\"></a><span class=\"linenos\"> 3</span><span class=\"c1\">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span></div>\n<div class=\"line\"><a id=\"l-4\" name=\"l-4\"></a><span class=\"linenos\"> 4</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">AtlasDOPower</span><span class=\"w\">    </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">sensorPowerPin</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Power pin</span></div>\n<div class=\"line\"><a id=\"l-5\" name=\"l-5\"></a><span class=\"linenos\"> 5</span><span class=\"kr\">uint8_t</span><span class=\"w\">      </span><span class=\"n\">AtlasDOi2c_addr</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mh\">0x61</span><span class=\"p\">;</span><span class=\"w\">            </span><span class=\"c1\">// Default for DO is 0x61 (97)</span></div>\n<div class=\"line\"><a id=\"l-6\" name=\"l-6\"></a><span class=\"linenos\"> 6</span><span class=\"c1\">// All Atlas sensors have different default I2C addresses, but any of them can</span></div>\n<div class=\"line\"><a id=\"l-7\" name=\"l-7\"></a><span class=\"linenos\"> 7</span><span class=\"c1\">// be re-addressed to any 8 bit number.  If using the default address for any</span></div>\n<div class=\"line\"><a id=\"l-8\" name=\"l-8\"></a><span class=\"linenos\"> 8</span><span class=\"c1\">// Atlas Scientific sensor, you may omit this argument.</span></div>\n<div class=\"line\"><a id=\"l-9\" name=\"l-9\"></a><span class=\"linenos\"> 9</span></div>\n<div class=\"line\"><a id=\"l-10\" name=\"l-10\"></a><span class=\"linenos\">10</span><span class=\"c1\">// Create an Atlas Scientific DO sensor object</span></div>\n<div class=\"line\"><a id=\"l-11\" name=\"l-11\"></a><span class=\"linenos\">11</span><span class=\"c1\">// AtlasScientificDO atlasDO(AtlasDOPower, AtlasDOi2c_addr);</span></div>\n<div class=\"line\"><a id=\"l-12\" name=\"l-12\"></a><span class=\"linenos\">12</span><span class=\"n\">AtlasScientificDO</span><span class=\"w\"> </span><span class=\"nf\">atlasDO</span><span class=\"p\">(</span><span class=\"n\">AtlasDOPower</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-13\" name=\"l-13\"></a><span class=\"linenos\">13</span></div>\n<div class=\"line\"><a id=\"l-14\" name=\"l-14\"></a><span class=\"linenos\">14</span><span class=\"c1\">// Create concentration and percent saturation variable pointers for the EZO-DO</span></div>\n<div class=\"line\"><a id=\"l-15\" name=\"l-15\"></a><span class=\"linenos\">15</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">atlasDOconc</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">AtlasScientificDO_DOmgL</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-16\" name=\"l-16\"></a><span class=\"linenos\">16</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">atlasDO</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-17\" name=\"l-17\"></a><span class=\"linenos\">17</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">atlasDOpct</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">AtlasScientificDO_DOpct</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-18\" name=\"l-18\"></a><span class=\"linenos\">18</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">atlasDO</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span>\n</div></div></div><hr/></section><section id=\"menu_walk_atlas_scientific_orp\"><h5>Atlas Scientific EZO-ORP Oxidation/Reduction Potential Sensor</h5><aside class=\"m-note m-default\"><h4>See also</h4><p><a href=\"group__sensor__atlas__orp.html\" class=\"m-doc\">Atlas EZO-ORP</a></p></aside><div class=\"m-code-arduino\"><div class=\"highlight\"><div class=\"line\"><a id=\"l-1\" name=\"l-1\"></a><span class=\"linenos\"> 1</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;sensors/AtlasScientificORP.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-2\" name=\"l-2\"></a><span class=\"linenos\"> 2</span></div>\n<div class=\"line\"><a id=\"l-3\" name=\"l-3\"></a><span class=\"linenos\"> 3</span><span class=\"c1\">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span></div>\n<div class=\"line\"><a id=\"l-4\" name=\"l-4\"></a><span class=\"linenos\"> 4</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">AtlasORPPower</span><span class=\"w\">    </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">sensorPowerPin</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Power pin</span></div>\n<div class=\"line\"><a id=\"l-5\" name=\"l-5\"></a><span class=\"linenos\"> 5</span><span class=\"kr\">uint8_t</span><span class=\"w\">      </span><span class=\"n\">AtlasORPi2c_addr</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mh\">0x62</span><span class=\"p\">;</span><span class=\"w\">            </span><span class=\"c1\">// Default for ORP is 0x62 (98)</span></div>\n<div class=\"line\"><a id=\"l-6\" name=\"l-6\"></a><span class=\"linenos\"> 6</span><span class=\"c1\">// All Atlas sensors have different default I2C addresses, but any of them can</span></div>\n<div class=\"line\"><a id=\"l-7\" name=\"l-7\"></a><span class=\"linenos\"> 7</span><span class=\"c1\">// be re-addressed to any 8 bit number.  If using the default address for any</span></div>\n<div class=\"line\"><a id=\"l-8\" name=\"l-8\"></a><span class=\"linenos\"> 8</span><span class=\"c1\">// Atlas Scientific sensor, you may omit this argument.</span></div>\n<div class=\"line\"><a id=\"l-9\" name=\"l-9\"></a><span class=\"linenos\"> 9</span></div>\n<div class=\"line\"><a id=\"l-10\" name=\"l-10\"></a><span class=\"linenos\">10</span><span class=\"c1\">// Create an Atlas Scientific ORP sensor object</span></div>\n<div class=\"line\"><a id=\"l-11\" name=\"l-11\"></a><span class=\"linenos\">11</span><span class=\"c1\">// AtlasScientificORP atlasORP(AtlasORPPower, AtlasORPi2c_addr);</span></div>\n<div class=\"line\"><a id=\"l-12\" name=\"l-12\"></a><span class=\"linenos\">12</span><span class=\"n\">AtlasScientificORP</span><span class=\"w\"> </span><span class=\"nf\">atlasORP</span><span class=\"p\">(</span><span class=\"n\">AtlasORPPower</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-13\" name=\"l-13\"></a><span class=\"linenos\">13</span></div>\n<div class=\"line\"><a id=\"l-14\" name=\"l-14\"></a><span class=\"linenos\">14</span><span class=\"c1\">// Create a potential variable pointer for the ORP</span></div>\n<div class=\"line\"><a id=\"l-15\" name=\"l-15\"></a><span class=\"linenos\">15</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">atlasORPot</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">AtlasScientificORP_Potential</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-16\" name=\"l-16\"></a><span class=\"linenos\">16</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">atlasORP</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span>\n</div></div></div><hr/></section><section id=\"menu_walk_atlas_scientific_ph\"><h5>Atlas Scientific EZO-pH Sensor</h5><aside class=\"m-note m-default\"><h4>See also</h4><p><a href=\"group__sensor__atlas__ph.html\" class=\"m-doc\">Atlas EZO-pH</a></p></aside><div class=\"m-code-arduino\"><div class=\"highlight\"><div class=\"line\"><a id=\"l-1\" name=\"l-1\"></a><span class=\"linenos\"> 1</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;sensors/AtlasScientificpH.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-2\" name=\"l-2\"></a><span class=\"linenos\"> 2</span></div>\n<div class=\"line\"><a id=\"l-3\" name=\"l-3\"></a><span class=\"linenos\"> 3</span><span class=\"c1\">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span></div>\n<div class=\"line\"><a id=\"l-4\" name=\"l-4\"></a><span class=\"linenos\"> 4</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">AtlaspHPower</span><span class=\"w\">    </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">sensorPowerPin</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Power pin</span></div>\n<div class=\"line\"><a id=\"l-5\" name=\"l-5\"></a><span class=\"linenos\"> 5</span><span class=\"kr\">uint8_t</span><span class=\"w\">      </span><span class=\"n\">AtlaspHi2c_addr</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mh\">0x63</span><span class=\"p\">;</span><span class=\"w\">            </span><span class=\"c1\">// Default for pH is 0x63 (99)</span></div>\n<div class=\"line\"><a id=\"l-6\" name=\"l-6\"></a><span class=\"linenos\"> 6</span><span class=\"c1\">// All Atlas sensors have different default I2C addresses, but any of them can</span></div>\n<div class=\"line\"><a id=\"l-7\" name=\"l-7\"></a><span class=\"linenos\"> 7</span><span class=\"c1\">// be re-addressed to any 8 bit number.  If using the default address for any</span></div>\n<div class=\"line\"><a id=\"l-8\" name=\"l-8\"></a><span class=\"linenos\"> 8</span><span class=\"c1\">// Atlas Scientific sensor, you may omit this argument.</span></div>\n<div class=\"line\"><a id=\"l-9\" name=\"l-9\"></a><span class=\"linenos\"> 9</span></div>\n<div class=\"line\"><a id=\"l-10\" name=\"l-10\"></a><span class=\"linenos\">10</span><span class=\"c1\">// Create an Atlas Scientific pH sensor object</span></div>\n<div class=\"line\"><a id=\"l-11\" name=\"l-11\"></a><span class=\"linenos\">11</span><span class=\"c1\">// AtlasScientificpH atlaspH(AtlaspHPower, AtlaspHi2c_addr);</span></div>\n<div class=\"line\"><a id=\"l-12\" name=\"l-12\"></a><span class=\"linenos\">12</span><span class=\"n\">AtlasScientificpH</span><span class=\"w\"> </span><span class=\"nf\">atlaspH</span><span class=\"p\">(</span><span class=\"n\">AtlaspHPower</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-13\" name=\"l-13\"></a><span class=\"linenos\">13</span></div>\n<div class=\"line\"><a id=\"l-14\" name=\"l-14\"></a><span class=\"linenos\">14</span><span class=\"c1\">// Create a pH variable pointer for the pH sensor</span></div>\n<div class=\"line\"><a id=\"l-15\" name=\"l-15\"></a><span class=\"linenos\">15</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">atlaspHpH</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-16\" name=\"l-16\"></a><span class=\"linenos\">16</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">AtlasScientificpH_pH</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">atlaspH</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span>\n</div></div></div><hr/></section><section id=\"menu_walk_atlas_scientific_rtd\"><h5>Atlas Scientific EZO-RTD Temperature Sensor</h5><aside class=\"m-note m-default\"><h4>See also</h4><p><a href=\"group__sensor__atlas__rtd.html\" class=\"m-doc\">Atlas EZO-RTD</a></p></aside><div class=\"m-code-arduino\"><div class=\"highlight\"><div class=\"line\"><a id=\"l-1\" name=\"l-1\"></a><span class=\"linenos\"> 1</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;sensors/AtlasScientificRTD.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-2\" name=\"l-2\"></a><span class=\"linenos\"> 2</span></div>\n<div class=\"line\"><a id=\"l-3\" name=\"l-3\"></a><span class=\"linenos\"> 3</span><span class=\"c1\">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span></div>\n<div class=\"line\"><a id=\"l-4\" name=\"l-4\"></a><span class=\"linenos\"> 4</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">AtlasRTDPower</span><span class=\"w\">    </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">sensorPowerPin</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Power pin</span></div>\n<div class=\"line\"><a id=\"l-5\" name=\"l-5\"></a><span class=\"linenos\"> 5</span><span class=\"kr\">uint8_t</span><span class=\"w\">      </span><span class=\"n\">AtlasRTDi2c_addr</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mh\">0x66</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Default for RTD is 0x66 (102)</span></div>\n<div class=\"line\"><a id=\"l-6\" name=\"l-6\"></a><span class=\"linenos\"> 6</span><span class=\"c1\">// All Atlas sensors have different default I2C addresses, but any of them can</span></div>\n<div class=\"line\"><a id=\"l-7\" name=\"l-7\"></a><span class=\"linenos\"> 7</span><span class=\"c1\">// be re-addressed to any 8 bit number.  If using the default address for any</span></div>\n<div class=\"line\"><a id=\"l-8\" name=\"l-8\"></a><span class=\"linenos\"> 8</span><span class=\"c1\">// Atlas Scientific sensor, you may omit this argument.</span></div>\n<div class=\"line\"><a id=\"l-9\" name=\"l-9\"></a><span class=\"linenos\"> 9</span></div>\n<div class=\"line\"><a id=\"l-10\" name=\"l-10\"></a><span class=\"linenos\">10</span><span class=\"c1\">// Create an Atlas Scientific RTD sensor object</span></div>\n<div class=\"line\"><a id=\"l-11\" name=\"l-11\"></a><span class=\"linenos\">11</span><span class=\"c1\">// AtlasScientificRTD atlasRTD(AtlasRTDPower, AtlasRTDi2c_addr);</span></div>\n<div class=\"line\"><a id=\"l-12\" name=\"l-12\"></a><span class=\"linenos\">12</span><span class=\"n\">AtlasScientificRTD</span><span class=\"w\"> </span><span class=\"nf\">atlasRTD</span><span class=\"p\">(</span><span class=\"n\">AtlasRTDPower</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-13\" name=\"l-13\"></a><span class=\"linenos\">13</span></div>\n<div class=\"line\"><a id=\"l-14\" name=\"l-14\"></a><span class=\"linenos\">14</span><span class=\"c1\">// Create a temperature variable pointer for the RTD</span></div>\n<div class=\"line\"><a id=\"l-15\" name=\"l-15\"></a><span class=\"linenos\">15</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">atlasTemp</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">AtlasScientificRTD_Temp</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-16\" name=\"l-16\"></a><span class=\"linenos\">16</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">atlasRTD</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span>\n</div></div></div><hr/></section><section id=\"menu_walk_atlas_scientific_ec\"><h5>Atlas Scientific EZO-EC Conductivity Sensor</h5><aside class=\"m-note m-default\"><h4>See also</h4><p><a href=\"group__sensor__atlas__cond.html\" class=\"m-doc\">Atlas EZO-EC</a></p></aside><div class=\"m-code-arduino\"><div class=\"highlight\"><div class=\"line\"><a id=\"l-1\" name=\"l-1\"></a><span class=\"linenos\"> 1</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;sensors/AtlasScientificEC.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-2\" name=\"l-2\"></a><span class=\"linenos\"> 2</span></div>\n<div class=\"line\"><a id=\"l-3\" name=\"l-3\"></a><span class=\"linenos\"> 3</span><span class=\"c1\">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span></div>\n<div class=\"line\"><a id=\"l-4\" name=\"l-4\"></a><span class=\"linenos\"> 4</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">AtlasECPower</span><span class=\"w\">    </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">sensorPowerPin</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Power pin</span></div>\n<div class=\"line\"><a id=\"l-5\" name=\"l-5\"></a><span class=\"linenos\"> 5</span><span class=\"kr\">uint8_t</span><span class=\"w\">      </span><span class=\"n\">AtlasECi2c_addr</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mh\">0x64</span><span class=\"p\">;</span><span class=\"w\">            </span><span class=\"c1\">// Default for EC is 0x64 (100)</span></div>\n<div class=\"line\"><a id=\"l-6\" name=\"l-6\"></a><span class=\"linenos\"> 6</span><span class=\"c1\">// All Atlas sensors have different default I2C addresses, but any of them can</span></div>\n<div class=\"line\"><a id=\"l-7\" name=\"l-7\"></a><span class=\"linenos\"> 7</span><span class=\"c1\">// be re-addressed to any 8 bit number.  If using the default address for any</span></div>\n<div class=\"line\"><a id=\"l-8\" name=\"l-8\"></a><span class=\"linenos\"> 8</span><span class=\"c1\">// Atlas Scientific sensor, you may omit this argument.</span></div>\n<div class=\"line\"><a id=\"l-9\" name=\"l-9\"></a><span class=\"linenos\"> 9</span></div>\n<div class=\"line\"><a id=\"l-10\" name=\"l-10\"></a><span class=\"linenos\">10</span><span class=\"c1\">// Create an Atlas Scientific Conductivity sensor object</span></div>\n<div class=\"line\"><a id=\"l-11\" name=\"l-11\"></a><span class=\"linenos\">11</span><span class=\"c1\">// AtlasScientificEC atlasEC(AtlasECPower, AtlasECi2c_addr);</span></div>\n<div class=\"line\"><a id=\"l-12\" name=\"l-12\"></a><span class=\"linenos\">12</span><span class=\"n\">AtlasScientificEC</span><span class=\"w\"> </span><span class=\"nf\">atlasEC</span><span class=\"p\">(</span><span class=\"n\">AtlasECPower</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-13\" name=\"l-13\"></a><span class=\"linenos\">13</span></div>\n<div class=\"line\"><a id=\"l-14\" name=\"l-14\"></a><span class=\"linenos\">14</span><span class=\"c1\">// Create four variable pointers for the EZO-ES</span></div>\n<div class=\"line\"><a id=\"l-15\" name=\"l-15\"></a><span class=\"linenos\">15</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">atlasCond</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">AtlasScientificEC_Cond</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-16\" name=\"l-16\"></a><span class=\"linenos\">16</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">atlasEC</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-17\" name=\"l-17\"></a><span class=\"linenos\">17</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">atlasTDS</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-18\" name=\"l-18\"></a><span class=\"linenos\">18</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">AtlasScientificEC_TDS</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">atlasEC</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-19\" name=\"l-19\"></a><span class=\"linenos\">19</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">atlasSal</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">AtlasScientificEC_Salinity</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-20\" name=\"l-20\"></a><span class=\"linenos\">20</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">atlasEC</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-21\" name=\"l-21\"></a><span class=\"linenos\">21</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">atlasGrav</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">AtlasScientificEC_SpecificGravity</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-22\" name=\"l-22\"></a><span class=\"linenos\">22</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">atlasEC</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-23\" name=\"l-23\"></a><span class=\"linenos\">23</span></div>\n<div class=\"line\"><a id=\"l-24\" name=\"l-24\"></a><span class=\"linenos\">24</span><span class=\"c1\">// Create a calculated variable for the temperature compensated conductivity</span></div>\n<div class=\"line\"><a id=\"l-25\" name=\"l-25\"></a><span class=\"linenos\">25</span><span class=\"c1\">// (that is, the specific conductance).  For this example, we will use the</span></div>\n<div class=\"line\"><a id=\"l-26\" name=\"l-26\"></a><span class=\"linenos\">26</span><span class=\"c1\">// temperature measured by the Atlas RTD above this.  You could use the</span></div>\n<div class=\"line\"><a id=\"l-27\" name=\"l-27\"></a><span class=\"linenos\">27</span><span class=\"c1\">// temperature returned by any other water temperature sensor if desired.</span></div>\n<div class=\"line\"><a id=\"l-28\" name=\"l-28\"></a><span class=\"linenos\">28</span><span class=\"c1\">// **DO NOT** use your logger board temperature (ie, from the DS3231) to</span></div>\n<div class=\"line\"><a id=\"l-29\" name=\"l-29\"></a><span class=\"linenos\">29</span><span class=\"c1\">// calculate specific conductance!</span></div>\n<div class=\"line\"><a id=\"l-30\" name=\"l-30\"></a><span class=\"linenos\">30</span><span class=\"kr\">float</span><span class=\"w\"> </span><span class=\"nf\">calculateAtlasSpCond</span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"p\">{</span></div>\n<div class=\"line\"><a id=\"l-31\" name=\"l-31\"></a><span class=\"linenos\">31</span><span class=\"w\">    </span><span class=\"kr\">float</span><span class=\"w\"> </span><span class=\"n\">spCond</span><span class=\"w\">    </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">-9999</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Always safest to start with a bad value</span></div>\n<div class=\"line\"><a id=\"l-32\" name=\"l-32\"></a><span class=\"linenos\">32</span><span class=\"w\">    </span><span class=\"kr\">float</span><span class=\"w\"> </span><span class=\"n\">waterTemp</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">atlasTemp</span><span class=\"o\">-&gt;</span><span class=\"n\">getValue</span><span class=\"p\">();</span></div>\n<div class=\"line\"><a id=\"l-33\" name=\"l-33\"></a><span class=\"linenos\">33</span><span class=\"w\">    </span><span class=\"kr\">float</span><span class=\"w\"> </span><span class=\"n\">rawCond</span><span class=\"w\">   </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">atlasCond</span><span class=\"o\">-&gt;</span><span class=\"n\">getValue</span><span class=\"p\">();</span></div>\n<div class=\"line\"><a id=\"l-34\" name=\"l-34\"></a><span class=\"linenos\">34</span><span class=\"w\">    </span><span class=\"c1\">// ^^ Linearized temperature correction coefficient per degrees Celsius.</span></div>\n<div class=\"line\"><a id=\"l-35\" name=\"l-35\"></a><span class=\"linenos\">35</span><span class=\"w\">    </span><span class=\"c1\">// The value of 0.019 comes from measurements reported here:</span></div>\n<div class=\"line\"><a id=\"l-36\" name=\"l-36\"></a><span class=\"linenos\">36</span><span class=\"w\">    </span><span class=\"c1\">// Hayashi M. Temperature-electrical conductivity relation of water for</span></div>\n<div class=\"line\"><a id=\"l-37\" name=\"l-37\"></a><span class=\"linenos\">37</span><span class=\"w\">    </span><span class=\"c1\">// environmental monitoring and geophysical data inversion. Environ Monit</span></div>\n<div class=\"line\"><a id=\"l-38\" name=\"l-38\"></a><span class=\"linenos\">38</span><span class=\"w\">    </span><span class=\"c1\">// Assess. 2004 Aug-Sep;96(1-3):119-28.</span></div>\n<div class=\"line\"><a id=\"l-39\" name=\"l-39\"></a><span class=\"linenos\">39</span><span class=\"w\">    </span><span class=\"c1\">// doi: 10.1023/b:emas.0000031719.83065.68. PMID: 15327152.</span></div>\n<div class=\"line\"><a id=\"l-40\" name=\"l-40\"></a><span class=\"linenos\">40</span><span class=\"w\">    </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">waterTemp</span><span class=\"w\"> </span><span class=\"o\">!=</span><span class=\"w\"> </span><span class=\"mi\">-9999</span><span class=\"w\"> </span><span class=\"o\">&amp;&amp;</span><span class=\"w\"> </span><span class=\"n\">rawCond</span><span class=\"w\"> </span><span class=\"o\">!=</span><span class=\"w\"> </span><span class=\"mi\">-9999</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">{</span></div>\n<div class=\"line\"><a id=\"l-41\" name=\"l-41\"></a><span class=\"linenos\">41</span><span class=\"w\">        </span><span class=\"c1\">// make sure both inputs are good</span></div>\n<div class=\"line\"><a id=\"l-42\" name=\"l-42\"></a><span class=\"linenos\">42</span><span class=\"w\">        </span><span class=\"kr\">float</span><span class=\"w\"> </span><span class=\"n\">temperatureCoef</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mf\">0.019</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-43\" name=\"l-43\"></a><span class=\"linenos\">43</span><span class=\"w\">        </span><span class=\"n\">spCond</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">rawCond</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"n\">temperatureCoef</span><span class=\"w\"> </span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">waterTemp</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"mf\">25.0</span><span class=\"p\">));</span></div>\n<div class=\"line\"><a id=\"l-44\" name=\"l-44\"></a><span class=\"linenos\">44</span><span class=\"w\">    </span><span class=\"p\">}</span></div>\n<div class=\"line\"><a id=\"l-45\" name=\"l-45\"></a><span class=\"linenos\">45</span><span class=\"w\">    </span><span class=\"k\">return</span><span class=\"w\"> </span><span class=\"n\">spCond</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-46\" name=\"l-46\"></a><span class=\"linenos\">46</span><span class=\"p\">}</span></div>\n<div class=\"line\"><a id=\"l-47\" name=\"l-47\"></a><span class=\"linenos\">47</span></div>\n<div class=\"line\"><a id=\"l-48\" name=\"l-48\"></a><span class=\"linenos\">48</span><span class=\"c1\">// Properties of the calculated variable</span></div>\n<div class=\"line\"><a id=\"l-49\" name=\"l-49\"></a><span class=\"linenos\">49</span><span class=\"c1\">// The number of digits after the decimal place</span></div>\n<div class=\"line\"><a id=\"l-50\" name=\"l-50\"></a><span class=\"linenos\">50</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">uint8_t</span><span class=\"w\"> </span><span class=\"n\">atlasSpCondResolution</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-51\" name=\"l-51\"></a><span class=\"linenos\">51</span><span class=\"c1\">// This must be a value from http://vocabulary.odm2.org/variablename/</span></div>\n<div class=\"line\"><a id=\"l-52\" name=\"l-52\"></a><span class=\"linenos\">52</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">atlasSpCondName</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s\">&quot;specificConductance&quot;</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-53\" name=\"l-53\"></a><span class=\"linenos\">53</span><span class=\"c1\">// This must be a value from http://vocabulary.odm2.org/units/</span></div>\n<div class=\"line\"><a id=\"l-54\" name=\"l-54\"></a><span class=\"linenos\">54</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">atlasSpCondUnit</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s\">&quot;microsiemenPerCentimeter&quot;</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-55\" name=\"l-55\"></a><span class=\"linenos\">55</span><span class=\"c1\">// A short code for the variable</span></div>\n<div class=\"line\"><a id=\"l-56\" name=\"l-56\"></a><span class=\"linenos\">56</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">atlasSpCondCode</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s\">&quot;atlasSpCond&quot;</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-57\" name=\"l-57\"></a><span class=\"linenos\">57</span><span class=\"c1\">// The (optional) universally unique identifier</span></div>\n<div class=\"line\"><a id=\"l-58\" name=\"l-58\"></a><span class=\"linenos\">58</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">atlasSpCondUUID</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-59\" name=\"l-59\"></a><span class=\"linenos\">59</span></div>\n<div class=\"line\"><a id=\"l-60\" name=\"l-60\"></a><span class=\"linenos\">60</span><span class=\"c1\">// Finally, create the specific conductance variable and return a pointer to it</span></div>\n<div class=\"line\"><a id=\"l-61\" name=\"l-61\"></a><span class=\"linenos\">61</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">atlasSpCond</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-62\" name=\"l-62\"></a><span class=\"linenos\">62</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">Variable</span><span class=\"p\">(</span><span class=\"n\">calculateAtlasSpCond</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">atlasSpCondResolution</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">atlasSpCondName</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-63\" name=\"l-63\"></a><span class=\"linenos\">63</span><span class=\"w\">                 </span><span class=\"n\">atlasSpCondUnit</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">atlasSpCondCode</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">atlasSpCondUUID</span><span class=\"p\">);</span>\n</div></div></div><hr/></section></section><section id=\"menu_walk_bosch_bme280\"><h4>Bosch BME280 Environmental Sensor</h4><p>Here is the code for the Bosch BME280 environmental sensor. The only input needed is the Arduino pin controlling power on/off; the i2cAddressHex is optional as is the number of readings to average. Keep in mind that the possible I2C addresses of the BME280 match those of the MS5803; when using those sensors together, make sure they are set to opposite addresses.</p><aside class=\"m-note m-default\"><h4>See also</h4><p><a href=\"group__sensor__bme280.html\" class=\"m-doc\">Bosch BME280</a></p></aside><div class=\"m-code-arduino\"><div class=\"highlight\"><div class=\"line\"><a id=\"l-1\" name=\"l-1\"></a><span class=\"linenos\"> 1</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;sensors/BoschBME280.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-2\" name=\"l-2\"></a><span class=\"linenos\"> 2</span></div>\n<div class=\"line\"><a id=\"l-3\" name=\"l-3\"></a><span class=\"linenos\"> 3</span><span class=\"c1\">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span></div>\n<div class=\"line\"><a id=\"l-4\" name=\"l-4\"></a><span class=\"linenos\"> 4</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">BME280Power</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">sensorPowerPin</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Power pin</span></div>\n<div class=\"line\"><a id=\"l-5\" name=\"l-5\"></a><span class=\"linenos\"> 5</span><span class=\"kr\">uint8_t</span><span class=\"w\">      </span><span class=\"n\">BMEi2c_addr</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mh\">0x76</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-6\" name=\"l-6\"></a><span class=\"linenos\"> 6</span><span class=\"c1\">// The BME280 can be addressed either as 0x77 (Adafruit default) or 0x76 (Grove</span></div>\n<div class=\"line\"><a id=\"l-7\" name=\"l-7\"></a><span class=\"linenos\"> 7</span><span class=\"c1\">// default) Either can be physically modified for the other address</span></div>\n<div class=\"line\"><a id=\"l-8\" name=\"l-8\"></a><span class=\"linenos\"> 8</span></div>\n<div class=\"line\"><a id=\"l-9\" name=\"l-9\"></a><span class=\"linenos\"> 9</span><span class=\"c1\">// Create a Bosch BME280 sensor object</span></div>\n<div class=\"line\"><a id=\"l-10\" name=\"l-10\"></a><span class=\"linenos\">10</span><span class=\"n\">BoschBME280</span><span class=\"w\"> </span><span class=\"nf\">bme280</span><span class=\"p\">(</span><span class=\"n\">BME280Power</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">BMEi2c_addr</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-11\" name=\"l-11\"></a><span class=\"linenos\">11</span></div>\n<div class=\"line\"><a id=\"l-12\" name=\"l-12\"></a><span class=\"linenos\">12</span><span class=\"c1\">// Create four variable pointers for the BME280</span></div>\n<div class=\"line\"><a id=\"l-13\" name=\"l-13\"></a><span class=\"linenos\">13</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">bme280Humid</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-14\" name=\"l-14\"></a><span class=\"linenos\">14</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">BoschBME280_Humidity</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">bme280</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-15\" name=\"l-15\"></a><span class=\"linenos\">15</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">bme280Temp</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-16\" name=\"l-16\"></a><span class=\"linenos\">16</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">BoschBME280_Temp</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">bme280</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-17\" name=\"l-17\"></a><span class=\"linenos\">17</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">bme280Press</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-18\" name=\"l-18\"></a><span class=\"linenos\">18</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">BoschBME280_Pressure</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">bme280</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-19\" name=\"l-19\"></a><span class=\"linenos\">19</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">bme280Alt</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-20\" name=\"l-20\"></a><span class=\"linenos\">20</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">BoschBME280_Altitude</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">bme280</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span>\n</div></div></div><hr/></section><section id=\"menu_walk_bosch_bmp3xx\"><h4>Bosch BMP388 and BMP398 Pressure Sensors</h4><aside class=\"m-note m-default\"><h4>See also</h4><p><a href=\"group__sensor__bmp3xx.html\" class=\"m-doc\">Bosch BMP3xx</a></p></aside><div class=\"m-code-arduino\"><div class=\"highlight\"><div class=\"line\"><a id=\"l-1\" name=\"l-1\"></a><span class=\"linenos\"> 1</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;sensors/BoschBMP3xx.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-2\" name=\"l-2\"></a><span class=\"linenos\"> 2</span></div>\n<div class=\"line\"><a id=\"l-3\" name=\"l-3\"></a><span class=\"linenos\"> 3</span><span class=\"c1\">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span></div>\n<div class=\"line\"><a id=\"l-4\" name=\"l-4\"></a><span class=\"linenos\"> 4</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">bmp3xxPower</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">-1</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Power pin</span></div>\n<div class=\"line\"><a id=\"l-5\" name=\"l-5\"></a><span class=\"linenos\"> 5</span><span class=\"n\">Mode</span><span class=\"w\"> </span><span class=\"n\">bmpMode</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">FORCED_MODE</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// The operating mode of the BMP; normal or forced</span></div>\n<div class=\"line\"><a id=\"l-6\" name=\"l-6\"></a><span class=\"linenos\"> 6</span><span class=\"n\">Oversampling</span><span class=\"w\"> </span><span class=\"n\">bmpPressureOversample</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">OVERSAMPLING_X32</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-7\" name=\"l-7\"></a><span class=\"linenos\"> 7</span><span class=\"n\">Oversampling</span><span class=\"w\"> </span><span class=\"n\">bmpTempOversample</span><span class=\"w\">     </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">OVERSAMPLING_X2</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-8\" name=\"l-8\"></a><span class=\"linenos\"> 8</span><span class=\"n\">IIRFilter</span><span class=\"w\">    </span><span class=\"n\">bmpFilterCoeff</span><span class=\"w\">        </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">IIR_FILTER_OFF</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-9\" name=\"l-9\"></a><span class=\"linenos\"> 9</span><span class=\"n\">TimeStandby</span><span class=\"w\">  </span><span class=\"n\">bmpTimeStandby</span><span class=\"w\">        </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">TIME_STANDBY_5MS</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-10\" name=\"l-10\"></a><span class=\"linenos\">10</span><span class=\"kr\">uint8_t</span><span class=\"w\">      </span><span class=\"n\">bmpI2C_addr</span><span class=\"w\">           </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mh\">0x77</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-11\" name=\"l-11\"></a><span class=\"linenos\">11</span><span class=\"c1\">// The BMP3xx can be addressed either as 0x77 or 0x76</span></div>\n<div class=\"line\"><a id=\"l-12\" name=\"l-12\"></a><span class=\"linenos\">12</span></div>\n<div class=\"line\"><a id=\"l-13\" name=\"l-13\"></a><span class=\"linenos\">13</span><span class=\"c1\">// Create a Bosch BMP3xx sensor object</span></div>\n<div class=\"line\"><a id=\"l-14\" name=\"l-14\"></a><span class=\"linenos\">14</span><span class=\"n\">BoschBMP3xx</span><span class=\"w\"> </span><span class=\"nf\">bmp3xx</span><span class=\"p\">(</span><span class=\"n\">bmp3xxPower</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">bmpMode</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">bmpPressureOversample</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-15\" name=\"l-15\"></a><span class=\"linenos\">15</span><span class=\"w\">                   </span><span class=\"n\">bmpTempOversample</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">bmpFilterCoeff</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">bmpTimeStandby</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-16\" name=\"l-16\"></a><span class=\"linenos\">16</span><span class=\"w\">                   </span><span class=\"n\">bmpI2C_addr</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-17\" name=\"l-17\"></a><span class=\"linenos\">17</span></div>\n<div class=\"line\"><a id=\"l-18\" name=\"l-18\"></a><span class=\"linenos\">18</span><span class=\"c1\">// Create the variable pointers for the BMP3xx</span></div>\n<div class=\"line\"><a id=\"l-19\" name=\"l-19\"></a><span class=\"linenos\">19</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">bmp3xxTemp</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-20\" name=\"l-20\"></a><span class=\"linenos\">20</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">BoschBMP3xx_Temp</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">bmp3xx</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-21\" name=\"l-21\"></a><span class=\"linenos\">21</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">bmp3xxPress</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-22\" name=\"l-22\"></a><span class=\"linenos\">22</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">BoschBMP3xx_Pressure</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">bmp3xx</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-23\" name=\"l-23\"></a><span class=\"linenos\">23</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">bmp3xxAlt</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-24\" name=\"l-24\"></a><span class=\"linenos\">24</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">BoschBMP3xx_Altitude</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">bmp3xx</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span>\n</div></div></div><hr/><section id=\"menu_walk_campbell_clari_vue10\"><h5>Campbell ClariVUE SDI-12 Turbidity Sensor</h5><aside class=\"m-note m-default\"><h4>See also</h4><p><a href=\"group__sensor__clarivue.html\" class=\"m-doc\">Campbell ClariVUE10</a></p></aside><div class=\"m-code-arduino\"><div class=\"highlight\"><div class=\"line\"><a id=\"l-1\" name=\"l-1\"></a><span class=\"linenos\"> 1</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;sensors/CampbellClariVUE10.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-2\" name=\"l-2\"></a><span class=\"linenos\"> 2</span></div>\n<div class=\"line\"><a id=\"l-3\" name=\"l-3\"></a><span class=\"linenos\"> 3</span><span class=\"c1\">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span></div>\n<div class=\"line\"><a id=\"l-4\" name=\"l-4\"></a><span class=\"linenos\"> 4</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">ClariVUESDI12address</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s\">&quot;0&quot;</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// The SDI-12 Address of the ClariVUE10</span></div>\n<div class=\"line\"><a id=\"l-5\" name=\"l-5\"></a><span class=\"linenos\"> 5</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">ClariVUEPower</span><span class=\"w\">       </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">sensorPowerPin</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Power pin</span></div>\n<div class=\"line\"><a id=\"l-6\" name=\"l-6\"></a><span class=\"linenos\"> 6</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">ClariVUEData</span><span class=\"w\">        </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">sdi12DataPin</span><span class=\"p\">;</span><span class=\"w\">    </span><span class=\"c1\">// The SDI-12 data pin</span></div>\n<div class=\"line\"><a id=\"l-7\" name=\"l-7\"></a><span class=\"linenos\"> 7</span><span class=\"c1\">// NOTE:  you should NOT take more than one readings.  THe sensor already takes</span></div>\n<div class=\"line\"><a id=\"l-8\" name=\"l-8\"></a><span class=\"linenos\"> 8</span><span class=\"c1\">// and averages 8 by default.</span></div>\n<div class=\"line\"><a id=\"l-9\" name=\"l-9\"></a><span class=\"linenos\"> 9</span></div>\n<div class=\"line\"><a id=\"l-10\" name=\"l-10\"></a><span class=\"linenos\">10</span><span class=\"c1\">// Create a Campbell ClariVUE10 sensor object</span></div>\n<div class=\"line\"><a id=\"l-11\" name=\"l-11\"></a><span class=\"linenos\">11</span><span class=\"n\">CampbellClariVUE10</span><span class=\"w\"> </span><span class=\"nf\">clarivue</span><span class=\"p\">(</span><span class=\"o\">*</span><span class=\"n\">ClariVUESDI12address</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">ClariVUEPower</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">ClariVUEData</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-12\" name=\"l-12\"></a><span class=\"linenos\">12</span></div>\n<div class=\"line\"><a id=\"l-13\" name=\"l-13\"></a><span class=\"linenos\">13</span><span class=\"c1\">// Create turbidity, temperature, and error variable pointers for the ClariVUE10</span></div>\n<div class=\"line\"><a id=\"l-14\" name=\"l-14\"></a><span class=\"linenos\">14</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">clarivueTurbidity</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">CampbellClariVUE10_Turbidity</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-15\" name=\"l-15\"></a><span class=\"linenos\">15</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">clarivue</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-16\" name=\"l-16\"></a><span class=\"linenos\">16</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">clarivueTemp</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">CampbellClariVUE10_Temp</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-17\" name=\"l-17\"></a><span class=\"linenos\">17</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">clarivue</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-18\" name=\"l-18\"></a><span class=\"linenos\">18</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">clarivueError</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">CampbellClariVUE10_ErrorCode</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-19\" name=\"l-19\"></a><span class=\"linenos\">19</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">clarivue</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span>\n</div></div></div><hr/></section></section><section id=\"menu_walk_campbell_obs3\"><h4>Campbell OBS3+ Analog Turbidity Sensor</h4><p>This is the code for the Campbell OBS3+. The Arduino pin controlling power on/off, analog data channel <em>on the TI ADS1115</em>, and calibration values <em>in Volts</em> for Ax^2 + Bx + C are required for the sensor constructor. A custom variable code can be entered as a second argument in the variable constructors, and it is very strongly recommended that you use this otherwise it will be very difficult to determine which return is high and which is low range on the sensor. If your ADD converter is not at the standard address of 0x48, you can enter its actual address as the third argument. Do NOT forget that if you want to give a number of measurements to average, that comes <em>after</em> the i2c address in the constructor!</p><p>Note that to access both the high and low range returns, two instances must be created, one at the low range return pin and one at the high pin.</p><aside class=\"m-note m-default\"><h4>See also</h4><p><a href=\"group__sensor__obs3.html\" class=\"m-doc\">Campbell OBS3+</a></p></aside><div class=\"m-code-arduino\"><div class=\"highlight\"><div class=\"line\"><a id=\"l-1\" name=\"l-1\"></a><span class=\"linenos\"> 1</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;sensors/CampbellOBS3.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-2\" name=\"l-2\"></a><span class=\"linenos\"> 2</span></div>\n<div class=\"line\"><a id=\"l-3\" name=\"l-3\"></a><span class=\"linenos\"> 3</span><span class=\"c1\">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span></div>\n<div class=\"line\"><a id=\"l-4\" name=\"l-4\"></a><span class=\"linenos\"> 4</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">OBS3Power</span><span class=\"w\">          </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">sensorPowerPin</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Power pin</span></div>\n<div class=\"line\"><a id=\"l-5\" name=\"l-5\"></a><span class=\"linenos\"> 5</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">uint8_t</span><span class=\"w\"> </span><span class=\"n\">OBS3NumberReadings</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">10</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-6\" name=\"l-6\"></a><span class=\"linenos\"> 6</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">uint8_t</span><span class=\"w\"> </span><span class=\"n\">OBS3ADSi2c_addr</span><span class=\"w\">    </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mh\">0x48</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// The I2C address of the ADS1115 ADC</span></div>\n<div class=\"line\"><a id=\"l-7\" name=\"l-7\"></a><span class=\"linenos\"> 7</span></div>\n<div class=\"line\"><a id=\"l-8\" name=\"l-8\"></a><span class=\"linenos\"> 8</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">OBSLowADSChannel</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// ADS channel for *low* range output</span></div>\n<div class=\"line\"><a id=\"l-9\" name=\"l-9\"></a><span class=\"linenos\"> 9</span></div>\n<div class=\"line\"><a id=\"l-10\" name=\"l-10\"></a><span class=\"linenos\">10</span><span class=\"c1\">// Campbell OBS 3+ *Low* Range Calibration in Volts</span></div>\n<div class=\"line\"><a id=\"l-11\" name=\"l-11\"></a><span class=\"linenos\">11</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">float</span><span class=\"w\"> </span><span class=\"n\">OBSLow_A</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mf\">0.000E+00</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// &quot;A&quot; value (X^2) [*low* range]</span></div>\n<div class=\"line\"><a id=\"l-12\" name=\"l-12\"></a><span class=\"linenos\">12</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">float</span><span class=\"w\"> </span><span class=\"n\">OBSLow_B</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mf\">1.000E+00</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// &quot;B&quot; value (X) [*low* range]</span></div>\n<div class=\"line\"><a id=\"l-13\" name=\"l-13\"></a><span class=\"linenos\">13</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">float</span><span class=\"w\"> </span><span class=\"n\">OBSLow_C</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mf\">0.000E+00</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// &quot;C&quot; value [*low* range]</span></div>\n<div class=\"line\"><a id=\"l-14\" name=\"l-14\"></a><span class=\"linenos\">14</span></div>\n<div class=\"line\"><a id=\"l-15\" name=\"l-15\"></a><span class=\"linenos\">15</span><span class=\"c1\">// Create a Campbell OBS3+ *low* range sensor object</span></div>\n<div class=\"line\"><a id=\"l-16\" name=\"l-16\"></a><span class=\"linenos\">16</span><span class=\"n\">CampbellOBS3</span><span class=\"w\"> </span><span class=\"nf\">osb3low</span><span class=\"p\">(</span><span class=\"n\">OBS3Power</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">OBSLowADSChannel</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">OBSLow_A</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">OBSLow_B</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">OBSLow_C</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-17\" name=\"l-17\"></a><span class=\"linenos\">17</span><span class=\"w\">                     </span><span class=\"n\">OBS3ADSi2c_addr</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">OBS3NumberReadings</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-18\" name=\"l-18\"></a><span class=\"linenos\">18</span></div>\n<div class=\"line\"><a id=\"l-19\" name=\"l-19\"></a><span class=\"linenos\">19</span><span class=\"c1\">// Create turbidity and voltage variable pointers for the low range  of the OBS3</span></div>\n<div class=\"line\"><a id=\"l-20\" name=\"l-20\"></a><span class=\"linenos\">20</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">obs3TurbLow</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">CampbellOBS3_Turbidity</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-21\" name=\"l-21\"></a><span class=\"linenos\">21</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">osb3low</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;TurbLow&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-22\" name=\"l-22\"></a><span class=\"linenos\">22</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">obs3VoltLow</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">CampbellOBS3_Voltage</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-23\" name=\"l-23\"></a><span class=\"linenos\">23</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">osb3low</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;TurbLowV&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-24\" name=\"l-24\"></a><span class=\"linenos\">24</span></div>\n<div class=\"line\"><a id=\"l-25\" name=\"l-25\"></a><span class=\"linenos\">25</span></div>\n<div class=\"line\"><a id=\"l-26\" name=\"l-26\"></a><span class=\"linenos\">26</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">OBSHighADSChannel</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// ADS channel for *high* range output</span></div>\n<div class=\"line\"><a id=\"l-27\" name=\"l-27\"></a><span class=\"linenos\">27</span></div>\n<div class=\"line\"><a id=\"l-28\" name=\"l-28\"></a><span class=\"linenos\">28</span><span class=\"c1\">// Campbell OBS 3+ *High* Range Calibration in Volts</span></div>\n<div class=\"line\"><a id=\"l-29\" name=\"l-29\"></a><span class=\"linenos\">29</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">float</span><span class=\"w\"> </span><span class=\"n\">OBSHigh_A</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mf\">0.000E+00</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// &quot;A&quot; value (X^2) [*high* range]</span></div>\n<div class=\"line\"><a id=\"l-30\" name=\"l-30\"></a><span class=\"linenos\">30</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">float</span><span class=\"w\"> </span><span class=\"n\">OBSHigh_B</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mf\">1.000E+00</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// &quot;B&quot; value (X) [*high* range]</span></div>\n<div class=\"line\"><a id=\"l-31\" name=\"l-31\"></a><span class=\"linenos\">31</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">float</span><span class=\"w\"> </span><span class=\"n\">OBSHigh_C</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mf\">0.000E+00</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// &quot;C&quot; value [*high* range]</span></div>\n<div class=\"line\"><a id=\"l-32\" name=\"l-32\"></a><span class=\"linenos\">32</span></div>\n<div class=\"line\"><a id=\"l-33\" name=\"l-33\"></a><span class=\"linenos\">33</span><span class=\"c1\">// Create a Campbell OBS3+ *high* range sensor object</span></div>\n<div class=\"line\"><a id=\"l-34\" name=\"l-34\"></a><span class=\"linenos\">34</span><span class=\"n\">CampbellOBS3</span><span class=\"w\"> </span><span class=\"nf\">osb3high</span><span class=\"p\">(</span><span class=\"n\">OBS3Power</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">OBSHighADSChannel</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">OBSHigh_A</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">OBSHigh_B</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-35\" name=\"l-35\"></a><span class=\"linenos\">35</span><span class=\"w\">                      </span><span class=\"n\">OBSHigh_C</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">OBS3ADSi2c_addr</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">OBS3NumberReadings</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-36\" name=\"l-36\"></a><span class=\"linenos\">36</span></div>\n<div class=\"line\"><a id=\"l-37\" name=\"l-37\"></a><span class=\"linenos\">37</span><span class=\"c1\">// Create turbidity and voltage variable pointers for the high range of the OBS3</span></div>\n<div class=\"line\"><a id=\"l-38\" name=\"l-38\"></a><span class=\"linenos\">38</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">obs3TurbHigh</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">CampbellOBS3_Turbidity</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-39\" name=\"l-39\"></a><span class=\"linenos\">39</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">osb3high</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;TurbHigh&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-40\" name=\"l-40\"></a><span class=\"linenos\">40</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">obs3VoltHigh</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">CampbellOBS3_Voltage</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-41\" name=\"l-41\"></a><span class=\"linenos\">41</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">osb3high</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;TurbHighV&quot;</span><span class=\"p\">);</span>\n</div></div></div><hr/><section id=\"menu_walk_campbell_rain_vue10\"><h5>Campbell RainVUE SDI-12 Precipitation Sensor</h5><aside class=\"m-note m-default\"><h4>See also</h4><p><a href=\"group__sensor__rainvue.html\" class=\"m-doc\">Campbell RainVUE10</a></p></aside><div class=\"m-code-arduino\"><div class=\"highlight\"><div class=\"line\"><a id=\"l-1\" name=\"l-1\"></a><span class=\"linenos\"> 1</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;sensors/CampbellRainVUE10.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-2\" name=\"l-2\"></a><span class=\"linenos\"> 2</span></div>\n<div class=\"line\"><a id=\"l-3\" name=\"l-3\"></a><span class=\"linenos\"> 3</span><span class=\"c1\">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span></div>\n<div class=\"line\"><a id=\"l-4\" name=\"l-4\"></a><span class=\"linenos\"> 4</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"w\">  </span><span class=\"n\">RainVUESDI12address</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s\">&quot;0&quot;</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// The SDI-12 Address of the RainVUE10</span></div>\n<div class=\"line\"><a id=\"l-5\" name=\"l-5\"></a><span class=\"linenos\"> 5</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">RainVUEPower</span><span class=\"w\">        </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">-1</span><span class=\"p\">;</span><span class=\"w\">   </span><span class=\"c1\">// Power pin, for continuous power</span></div>\n<div class=\"line\"><a id=\"l-6\" name=\"l-6\"></a><span class=\"linenos\"> 6</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">RainVUEData</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">5</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// The SDI-12 data pin, for continuous power</span></div>\n<div class=\"line\"><a id=\"l-7\" name=\"l-7\"></a><span class=\"linenos\"> 7</span><span class=\"c1\">// NOTE:  you should NOT take more than one readings.  The sensor counts</span></div>\n<div class=\"line\"><a id=\"l-8\" name=\"l-8\"></a><span class=\"linenos\"> 8</span><span class=\"c1\">// cumulative tips and rain accumulation since the last measurement.</span></div>\n<div class=\"line\"><a id=\"l-9\" name=\"l-9\"></a><span class=\"linenos\"> 9</span></div>\n<div class=\"line\"><a id=\"l-10\" name=\"l-10\"></a><span class=\"linenos\">10</span><span class=\"c1\">// Create a Campbell RainVUE10 sensor object</span></div>\n<div class=\"line\"><a id=\"l-11\" name=\"l-11\"></a><span class=\"linenos\">11</span><span class=\"n\">CampbellRainVUE10</span><span class=\"w\"> </span><span class=\"nf\">rainvue</span><span class=\"p\">(</span><span class=\"o\">*</span><span class=\"n\">RainVUESDI12address</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">RainVUEPower</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">RainVUEData</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-12\" name=\"l-12\"></a><span class=\"linenos\">12</span></div>\n<div class=\"line\"><a id=\"l-13\" name=\"l-13\"></a><span class=\"linenos\">13</span><span class=\"c1\">// Create turbidity, temperature, and error variable pointers for the RainVUE10</span></div>\n<div class=\"line\"><a id=\"l-14\" name=\"l-14\"></a><span class=\"linenos\">14</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">rainvuePrecipitation</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">CampbellRainVUE10_Precipitation</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-15\" name=\"l-15\"></a><span class=\"linenos\">15</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">rainvue</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-16\" name=\"l-16\"></a><span class=\"linenos\">16</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">rainvueTips</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">CampbellRainVUE10_Tips</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-17\" name=\"l-17\"></a><span class=\"linenos\">17</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">rainvue</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-18\" name=\"l-18\"></a><span class=\"linenos\">18</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">rainvueRainRateAve</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">CampbellRainVUE10_RainRateAve</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-19\" name=\"l-19\"></a><span class=\"linenos\">19</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">rainvue</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-20\" name=\"l-20\"></a><span class=\"linenos\">20</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">rainvueRainRateMax</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">CampbellRainVUE10_RainRateMax</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-21\" name=\"l-21\"></a><span class=\"linenos\">21</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">rainvue</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span>\n</div></div></div><hr/></section><section id=\"menu_walk_decagon_ctd\"><h5>Decagon CTD-10 Conductivity, Temperature, and Depth Sensor</h5><aside class=\"m-note m-default\"><h4>See also</h4><p><a href=\"group__sensor__decagon__ctd.html\" class=\"m-doc\">Decagon CTD-10</a></p></aside><div class=\"m-code-arduino\"><div class=\"highlight\"><div class=\"line\"><a id=\"l-1\" name=\"l-1\"></a><span class=\"linenos\"> 1</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;sensors/DecagonCTD.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-2\" name=\"l-2\"></a><span class=\"linenos\"> 2</span></div>\n<div class=\"line\"><a id=\"l-3\" name=\"l-3\"></a><span class=\"linenos\"> 3</span><span class=\"c1\">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span></div>\n<div class=\"line\"><a id=\"l-4\" name=\"l-4\"></a><span class=\"linenos\"> 4</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"w\">   </span><span class=\"n\">CTDSDI12address</span><span class=\"w\">   </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s\">&quot;1&quot;</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// The SDI-12 Address of the CTD</span></div>\n<div class=\"line\"><a id=\"l-5\" name=\"l-5\"></a><span class=\"linenos\"> 5</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">uint8_t</span><span class=\"w\"> </span><span class=\"n\">CTDNumberReadings</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">6</span><span class=\"p\">;</span><span class=\"w\">    </span><span class=\"c1\">// The number of readings to average</span></div>\n<div class=\"line\"><a id=\"l-6\" name=\"l-6\"></a><span class=\"linenos\"> 6</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">CTDPower</span><span class=\"w\">          </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">sensorPowerPin</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Power pin</span></div>\n<div class=\"line\"><a id=\"l-7\" name=\"l-7\"></a><span class=\"linenos\"> 7</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">CTDData</span><span class=\"w\">           </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">sdi12DataPin</span><span class=\"p\">;</span><span class=\"w\">    </span><span class=\"c1\">// The SDI-12 data pin</span></div>\n<div class=\"line\"><a id=\"l-8\" name=\"l-8\"></a><span class=\"linenos\"> 8</span></div>\n<div class=\"line\"><a id=\"l-9\" name=\"l-9\"></a><span class=\"linenos\"> 9</span><span class=\"c1\">// Create a Decagon CTD sensor object</span></div>\n<div class=\"line\"><a id=\"l-10\" name=\"l-10\"></a><span class=\"linenos\">10</span><span class=\"n\">DecagonCTD</span><span class=\"w\"> </span><span class=\"nf\">ctd</span><span class=\"p\">(</span><span class=\"o\">*</span><span class=\"n\">CTDSDI12address</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">CTDPower</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">CTDData</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">CTDNumberReadings</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-11\" name=\"l-11\"></a><span class=\"linenos\">11</span></div>\n<div class=\"line\"><a id=\"l-12\" name=\"l-12\"></a><span class=\"linenos\">12</span><span class=\"c1\">// Create conductivity, temperature, and depth variable pointers for the CTD</span></div>\n<div class=\"line\"><a id=\"l-13\" name=\"l-13\"></a><span class=\"linenos\">13</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">ctdCond</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">DecagonCTD_Cond</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">ctd</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-14\" name=\"l-14\"></a><span class=\"linenos\">14</span><span class=\"w\">                                        </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-15\" name=\"l-15\"></a><span class=\"linenos\">15</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">ctdTemp</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">DecagonCTD_Temp</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">ctd</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-16\" name=\"l-16\"></a><span class=\"linenos\">16</span><span class=\"w\">                                        </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-17\" name=\"l-17\"></a><span class=\"linenos\">17</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">ctdDepth</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-18\" name=\"l-18\"></a><span class=\"linenos\">18</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">DecagonCTD_Depth</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">ctd</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span>\n</div></div></div><hr/></section></section><section id=\"menu_walk_decagon_es2\"><h4>Decagon ES2 Conductivity and Temperature Sensor</h4><p>The SDI-12 address of the sensor, the Arduino pin controlling power on/off, and the Arduino pin sending and receiving data are required for the sensor constructor. Optionally, you can include a number of distinct readings to average. The data pin must be a pin that supports pin-change interrupts.</p><aside class=\"m-note m-default\"><h4>See also</h4><p><a href=\"group__sensor__es2.html\" class=\"m-doc\">Decagon ES-2</a></p></aside><div class=\"m-code-arduino\"><div class=\"highlight\"><div class=\"line\"><a id=\"l-1\" name=\"l-1\"></a><span class=\"linenos\"> 1</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;sensors/DecagonES2.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-2\" name=\"l-2\"></a><span class=\"linenos\"> 2</span></div>\n<div class=\"line\"><a id=\"l-3\" name=\"l-3\"></a><span class=\"linenos\"> 3</span><span class=\"c1\">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span></div>\n<div class=\"line\"><a id=\"l-4\" name=\"l-4\"></a><span class=\"linenos\"> 4</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"w\">   </span><span class=\"n\">ES2SDI12address</span><span class=\"w\">   </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s\">&quot;3&quot;</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// The SDI-12 Address of the ES2</span></div>\n<div class=\"line\"><a id=\"l-5\" name=\"l-5\"></a><span class=\"linenos\"> 5</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">ES2Power</span><span class=\"w\">          </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">sensorPowerPin</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Power pin</span></div>\n<div class=\"line\"><a id=\"l-6\" name=\"l-6\"></a><span class=\"linenos\"> 6</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">ES2Data</span><span class=\"w\">           </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">sdi12DataPin</span><span class=\"p\">;</span><span class=\"w\">    </span><span class=\"c1\">// The SDI-12 data pin</span></div>\n<div class=\"line\"><a id=\"l-7\" name=\"l-7\"></a><span class=\"linenos\"> 7</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">uint8_t</span><span class=\"w\"> </span><span class=\"n\">ES2NumberReadings</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">5</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-8\" name=\"l-8\"></a><span class=\"linenos\"> 8</span></div>\n<div class=\"line\"><a id=\"l-9\" name=\"l-9\"></a><span class=\"linenos\"> 9</span><span class=\"c1\">// Create a Decagon ES2 sensor object</span></div>\n<div class=\"line\"><a id=\"l-10\" name=\"l-10\"></a><span class=\"linenos\">10</span><span class=\"n\">DecagonES2</span><span class=\"w\"> </span><span class=\"nf\">es2</span><span class=\"p\">(</span><span class=\"o\">*</span><span class=\"n\">ES2SDI12address</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">ES2Power</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">ES2Data</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">ES2NumberReadings</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-11\" name=\"l-11\"></a><span class=\"linenos\">11</span></div>\n<div class=\"line\"><a id=\"l-12\" name=\"l-12\"></a><span class=\"linenos\">12</span><span class=\"c1\">// Create specific conductance and temperature variable pointers for the ES2</span></div>\n<div class=\"line\"><a id=\"l-13\" name=\"l-13\"></a><span class=\"linenos\">13</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">es2Cond</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">DecagonES2_Cond</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">es2</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-14\" name=\"l-14\"></a><span class=\"linenos\">14</span><span class=\"w\">                                        </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-15\" name=\"l-15\"></a><span class=\"linenos\">15</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">es2Temp</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">DecagonES2_Temp</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">es2</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-16\" name=\"l-16\"></a><span class=\"linenos\">16</span><span class=\"w\">                                        </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span>\n</div></div></div><hr/><section id=\"menu_walk_everlight_alspt19\"><h5>Everlight ALS-PT19 Ambient Light Sensor</h5><aside class=\"m-note m-default\"><h4>See also</h4><p><a href=\"group__sensor__alspt19.html\" class=\"m-doc\">Everlight ALS-PT19</a></p></aside><div class=\"m-code-arduino\"><div class=\"highlight\"><div class=\"line\"><a id=\"l-1\" name=\"l-1\"></a><span class=\"linenos\"> 1</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;sensors/EverlightALSPT19.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-2\" name=\"l-2\"></a><span class=\"linenos\"> 2</span></div>\n<div class=\"line\"><a id=\"l-3\" name=\"l-3\"></a><span class=\"linenos\"> 3</span><span class=\"c1\">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span></div>\n<div class=\"line\"><a id=\"l-4\" name=\"l-4\"></a><span class=\"linenos\"> 4</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">alsPower</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">sensorPowerPin</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Power pin</span></div>\n<div class=\"line\"><a id=\"l-5\" name=\"l-5\"></a><span class=\"linenos\"> 5</span><span class=\"cp\">#if defined(ENVIRODIY_STONEFLY_M4)</span></div>\n<div class=\"line\"><a id=\"l-6\" name=\"l-6\"></a><span class=\"linenos\"> 6</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">alsData</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">A8</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// The ALS PT-19 data pin</span></div>\n<div class=\"line\"><a id=\"l-7\" name=\"l-7\"></a><span class=\"linenos\"> 7</span><span class=\"cp\">#else</span></div>\n<div class=\"line\"><a id=\"l-8\" name=\"l-8\"></a><span class=\"linenos\"> 8</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">alsData</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">A4</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// The ALS PT-19 data pin</span></div>\n<div class=\"line\"><a id=\"l-9\" name=\"l-9\"></a><span class=\"linenos\"> 9</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-10\" name=\"l-10\"></a><span class=\"linenos\">10</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">alsSupply</span><span class=\"w\">     </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mf\">3.3</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// The ALS PT-19 supply power voltage</span></div>\n<div class=\"line\"><a id=\"l-11\" name=\"l-11\"></a><span class=\"linenos\">11</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">alsResistance</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">10</span><span class=\"p\">;</span><span class=\"w\">   </span><span class=\"c1\">// The ALS PT-19 loading resistance (in k\u03a9)</span></div>\n<div class=\"line\"><a id=\"l-12\" name=\"l-12\"></a><span class=\"linenos\">12</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">uint8_t</span><span class=\"w\"> </span><span class=\"n\">alsNumberReadings</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">10</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-13\" name=\"l-13\"></a><span class=\"linenos\">13</span></div>\n<div class=\"line\"><a id=\"l-14\" name=\"l-14\"></a><span class=\"linenos\">14</span><span class=\"c1\">// Create a Everlight ALS-PT19 sensor object</span></div>\n<div class=\"line\"><a id=\"l-15\" name=\"l-15\"></a><span class=\"linenos\">15</span><span class=\"n\">EverlightALSPT19</span><span class=\"w\"> </span><span class=\"nf\">alsPt19</span><span class=\"p\">(</span><span class=\"n\">alsPower</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">alsData</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">alsSupply</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">alsResistance</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-16\" name=\"l-16\"></a><span class=\"linenos\">16</span><span class=\"w\">                         </span><span class=\"n\">alsNumberReadings</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-17\" name=\"l-17\"></a><span class=\"linenos\">17</span></div>\n<div class=\"line\"><a id=\"l-18\" name=\"l-18\"></a><span class=\"linenos\">18</span><span class=\"c1\">// For an EnviroDIY Mayfly, you can use the abbreviated version</span></div>\n<div class=\"line\"><a id=\"l-19\" name=\"l-19\"></a><span class=\"linenos\">19</span><span class=\"c1\">// EverlightALSPT19 alsPt19(alsNumberReadings);</span></div>\n<div class=\"line\"><a id=\"l-20\" name=\"l-20\"></a><span class=\"linenos\">20</span></div>\n<div class=\"line\"><a id=\"l-21\" name=\"l-21\"></a><span class=\"linenos\">21</span><span class=\"c1\">// Create voltage, current, and illuminance variable pointers for the ALS-PT19</span></div>\n<div class=\"line\"><a id=\"l-22\" name=\"l-22\"></a><span class=\"linenos\">22</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">alsPt19Volt</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">EverlightALSPT19_Voltage</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-23\" name=\"l-23\"></a><span class=\"linenos\">23</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">alsPt19</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-24\" name=\"l-24\"></a><span class=\"linenos\">24</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">alsPt19Current</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">EverlightALSPT19_Current</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-25\" name=\"l-25\"></a><span class=\"linenos\">25</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">alsPt19</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-26\" name=\"l-26\"></a><span class=\"linenos\">26</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">alsPt19Lux</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">EverlightALSPT19_Illuminance</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-27\" name=\"l-27\"></a><span class=\"linenos\">27</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">alsPt19</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span>\n</div></div></div><hr/></section></section><section id=\"menu_walk_tiads1x15\"><h4>External Voltage via TI ADS1x15</h4><p>The Arduino pin controlling power on/off and the analog data channel <em>on the TI ADS1115</em> are required for the sensor constructor. If using a voltage divider to increase the measurable voltage range, enter the gain multiplier as the third argument. If your ADD converter is not at the standard address of 0x48, you can enter its actual address as the fourth argument. The number of measurements to average, if more than one is desired, goes as the fifth argument.</p><aside class=\"m-note m-default\"><h4>See also</h4><p><a href=\"group__sensor__ads1x15.html\" class=\"m-doc\">TI ADS1x15 External Voltage Sensor</a></p></aside><div class=\"m-code-arduino\"><div class=\"highlight\"><div class=\"line\"><a id=\"l-1\" name=\"l-1\"></a><span class=\"linenos\"> 1</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;sensors/TIADS1x15.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-2\" name=\"l-2\"></a><span class=\"linenos\"> 2</span></div>\n<div class=\"line\"><a id=\"l-3\" name=\"l-3\"></a><span class=\"linenos\"> 3</span><span class=\"c1\">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span></div>\n<div class=\"line\"><a id=\"l-4\" name=\"l-4\"></a><span class=\"linenos\"> 4</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">ADSPower</span><span class=\"w\">       </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">sensorPowerPin</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Power pin</span></div>\n<div class=\"line\"><a id=\"l-5\" name=\"l-5\"></a><span class=\"linenos\"> 5</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">ADSChannel</span><span class=\"w\">     </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"p\">;</span><span class=\"w\">               </span><span class=\"c1\">// The ADS channel of interest</span></div>\n<div class=\"line\"><a id=\"l-6\" name=\"l-6\"></a><span class=\"linenos\"> 6</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">float</span><span class=\"w\">   </span><span class=\"n\">dividerGain</span><span class=\"w\">    </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">10</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">//  Gain setting if using a voltage divider</span></div>\n<div class=\"line\"><a id=\"l-7\" name=\"l-7\"></a><span class=\"linenos\"> 7</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">uint8_t</span><span class=\"w\"> </span><span class=\"n\">evADSi2c_addr</span><span class=\"w\">  </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mh\">0x48</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// The I2C address of the ADS1115 ADC</span></div>\n<div class=\"line\"><a id=\"l-8\" name=\"l-8\"></a><span class=\"linenos\"> 8</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">uint8_t</span><span class=\"w\"> </span><span class=\"n\">VoltReadsToAvg</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"p\">;</span><span class=\"w\">     </span><span class=\"c1\">// Only read one sample</span></div>\n<div class=\"line\"><a id=\"l-9\" name=\"l-9\"></a><span class=\"linenos\"> 9</span></div>\n<div class=\"line\"><a id=\"l-10\" name=\"l-10\"></a><span class=\"linenos\">10</span><span class=\"c1\">// Create an External Voltage sensor object</span></div>\n<div class=\"line\"><a id=\"l-11\" name=\"l-11\"></a><span class=\"linenos\">11</span><span class=\"n\">TIADS1x15</span><span class=\"w\"> </span><span class=\"nf\">ads1x15</span><span class=\"p\">(</span><span class=\"n\">ADSPower</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">ADSChannel</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">dividerGain</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">evADSi2c_addr</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-12\" name=\"l-12\"></a><span class=\"linenos\">12</span><span class=\"w\">                  </span><span class=\"n\">VoltReadsToAvg</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-13\" name=\"l-13\"></a><span class=\"linenos\">13</span></div>\n<div class=\"line\"><a id=\"l-14\" name=\"l-14\"></a><span class=\"linenos\">14</span><span class=\"c1\">// Create a voltage variable pointer</span></div>\n<div class=\"line\"><a id=\"l-15\" name=\"l-15\"></a><span class=\"linenos\">15</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">ads1x15Volt</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-16\" name=\"l-16\"></a><span class=\"linenos\">16</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">TIADS1x15_Voltage</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">ads1x15</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span>\n</div></div></div><hr/></section><section id=\"menu_walk_mpl115a2\"><h4>Freescale Semiconductor MPL115A2 Miniature I2C Digital Barometer</h4><p>The only input needed for the sensor constructor is the Arduino pin controlling power on/off and optionally the number of readings to average. Because this sensor can have only one I2C address (0x60), it is only possible to connect one of these sensors to your system.</p><aside class=\"m-note m-default\"><h4>See also</h4><p><a href=\"group__sensor__mpl115a2.html\" class=\"m-doc\">Freescale Semiconductor MPL115A2</a></p></aside><div class=\"m-code-arduino\"><div class=\"highlight\"><div class=\"line\"><a id=\"l-1\" name=\"l-1\"></a><span class=\"linenos\"> 1</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;sensors/FreescaleMPL115A2.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-2\" name=\"l-2\"></a><span class=\"linenos\"> 2</span></div>\n<div class=\"line\"><a id=\"l-3\" name=\"l-3\"></a><span class=\"linenos\"> 3</span><span class=\"c1\">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span></div>\n<div class=\"line\"><a id=\"l-4\" name=\"l-4\"></a><span class=\"linenos\"> 4</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">MPLPower</span><span class=\"w\">              </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">sensorPowerPin</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Power pin</span></div>\n<div class=\"line\"><a id=\"l-5\" name=\"l-5\"></a><span class=\"linenos\"> 5</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">uint8_t</span><span class=\"w\"> </span><span class=\"n\">MPL115A2ReadingsToAvg</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-6\" name=\"l-6\"></a><span class=\"linenos\"> 6</span></div>\n<div class=\"line\"><a id=\"l-7\" name=\"l-7\"></a><span class=\"linenos\"> 7</span><span class=\"c1\">// Create a FreescaleMPL115A2 barometer sensor object</span></div>\n<div class=\"line\"><a id=\"l-8\" name=\"l-8\"></a><span class=\"linenos\"> 8</span><span class=\"n\">FreescaleMPL115A2</span><span class=\"w\"> </span><span class=\"nf\">mpl115a2</span><span class=\"p\">(</span><span class=\"n\">MPLPower</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">MPL115A2ReadingsToAvg</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-9\" name=\"l-9\"></a><span class=\"linenos\"> 9</span></div>\n<div class=\"line\"><a id=\"l-10\" name=\"l-10\"></a><span class=\"linenos\">10</span><span class=\"c1\">// Create pressure and temperature variable pointers for the MPL</span></div>\n<div class=\"line\"><a id=\"l-11\" name=\"l-11\"></a><span class=\"linenos\">11</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">mplPress</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">FreescaleMPL115A2_Pressure</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-12\" name=\"l-12\"></a><span class=\"linenos\">12</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">mpl115a2</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-13\" name=\"l-13\"></a><span class=\"linenos\">13</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">mplTemp</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">FreescaleMPL115A2_Temp</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-14\" name=\"l-14\"></a><span class=\"linenos\">14</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">mpl115a2</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span>\n</div></div></div><hr/></section><section id=\"menu_walk_geolux_hydro_cam\"><h4>Geolux HydroCam Camera</h4><aside class=\"m-note m-info\"><h4>Note</h4><p>Use hardware serial if at all possible!</p></aside><aside class=\"m-note m-danger\"><h4>Warning</h4><p>The camera only communicates at 115200 baud. This is too fast for an 8MHz board like the EnviroDIY Mayfly.</p></aside><aside class=\"m-note m-default\"><h4>See also</h4><p><a href=\"group__sensor__hydrocam.html\" class=\"m-doc\">Geolux HydroCam</a></p></aside><div class=\"m-code-arduino\"><div class=\"highlight\"><div class=\"line\"><a id=\"l-1\" name=\"l-1\"></a><span class=\"linenos\"> 1</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;sensors/GeoluxHydroCam.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-2\" name=\"l-2\"></a><span class=\"linenos\"> 2</span></div>\n<div class=\"line\"><a id=\"l-3\" name=\"l-3\"></a><span class=\"linenos\"> 3</span><span class=\"c1\">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span></div>\n<div class=\"line\"><a id=\"l-4\" name=\"l-4\"></a><span class=\"linenos\"> 4</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">cameraPower</span><span class=\"w\">        </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">sensorPowerPin</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Power pin</span></div>\n<div class=\"line\"><a id=\"l-5\" name=\"l-5\"></a><span class=\"linenos\"> 5</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">cameraAdapterPower</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">sensorPowerPin</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// RS232 adapter power pin</span></div>\n<div class=\"line\"><a id=\"l-6\" name=\"l-6\"></a><span class=\"linenos\"> 6</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"w\">  </span><span class=\"n\">imageResolution</span><span class=\"w\">    </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s\">&quot;800x600&quot;</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-7\" name=\"l-7\"></a><span class=\"linenos\"> 7</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"w\">  </span><span class=\"n\">filePrefix</span><span class=\"w\">         </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">LoggerID</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-8\" name=\"l-8\"></a><span class=\"linenos\"> 8</span><span class=\"kr\">bool</span><span class=\"w\">         </span><span class=\"n\">alwaysAutoFocus</span><span class=\"w\">    </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"kr\">false</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-9\" name=\"l-9\"></a><span class=\"linenos\"> 9</span></div>\n<div class=\"line\"><a id=\"l-10\" name=\"l-10\"></a><span class=\"linenos\">10</span><span class=\"c1\">// Create a GeoluxHydroCam sensor object</span></div>\n<div class=\"line\"><a id=\"l-11\" name=\"l-11\"></a><span class=\"linenos\">11</span><span class=\"n\">GeoluxHydroCam</span><span class=\"w\"> </span><span class=\"nf\">hydrocam</span><span class=\"p\">(</span><span class=\"n\">cameraSerial</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">cameraPower</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">dataLogger</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-12\" name=\"l-12\"></a><span class=\"linenos\">12</span><span class=\"w\">                        </span><span class=\"n\">cameraAdapterPower</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">imageResolution</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">filePrefix</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-13\" name=\"l-13\"></a><span class=\"linenos\">13</span><span class=\"w\">                        </span><span class=\"n\">alwaysAutoFocus</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-14\" name=\"l-14\"></a><span class=\"linenos\">14</span></div>\n<div class=\"line\"><a id=\"l-15\" name=\"l-15\"></a><span class=\"linenos\">15</span><span class=\"c1\">// Create image size and byte error variables for the Geolux HydroCam</span></div>\n<div class=\"line\"><a id=\"l-16\" name=\"l-16\"></a><span class=\"linenos\">16</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">hydrocamImageSize</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">GeoluxHydroCam_ImageSize</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-17\" name=\"l-17\"></a><span class=\"linenos\">17</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">hydrocam</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-18\" name=\"l-18\"></a><span class=\"linenos\">18</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">hydrocamByteError</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">GeoluxHydroCam_ByteError</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-19\" name=\"l-19\"></a><span class=\"linenos\">19</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">hydrocam</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span>\n</div></div></div><hr/></section><section id=\"menu_walk_gro_point_gplp8\"><h4>GroPoint Profile GPLP-8 Eight-Segment Soil Moisture and Temperature Profiling Probe</h4><aside class=\"m-note m-default\"><h4>See also</h4><p><a href=\"group__sensor__gplp8.html\" class=\"m-doc\">GroPoint Profile GPLP-8 Soil Moisture &amp; Temperature</a></p></aside><div class=\"m-code-arduino\"><div class=\"highlight\"><div class=\"line\"><a id=\"l-1\" name=\"l-1\"></a><span class=\"linenos\"> 1</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;sensors/GroPointGPLP8.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-2\" name=\"l-2\"></a><span class=\"linenos\"> 2</span></div>\n<div class=\"line\"><a id=\"l-3\" name=\"l-3\"></a><span class=\"linenos\"> 3</span><span class=\"c1\">// NOTE: Extra hardware and software serial ports are created in the &quot;Settings</span></div>\n<div class=\"line\"><a id=\"l-4\" name=\"l-4\"></a><span class=\"linenos\"> 4</span><span class=\"c1\">// for Additional Serial Ports&quot; section</span></div>\n<div class=\"line\"><a id=\"l-5\" name=\"l-5\"></a><span class=\"linenos\"> 5</span></div>\n<div class=\"line\"><a id=\"l-6\" name=\"l-6\"></a><span class=\"linenos\"> 6</span><span class=\"c1\">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span></div>\n<div class=\"line\"><a id=\"l-7\" name=\"l-7\"></a><span class=\"linenos\"> 7</span><span class=\"kr\">byte</span><span class=\"w\"> </span><span class=\"n\">gplp8ModbusAddress</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mh\">0x19</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// The modbus address of the gplp8</span></div>\n<div class=\"line\"><a id=\"l-8\" name=\"l-8\"></a><span class=\"linenos\"> 8</span><span class=\"c1\">// Raw Request &gt;&gt;&gt; {0x19, 0x03, 0x00, 0xC8, 0x00, 0x01, 0x06, 0x2C}</span></div>\n<div class=\"line\"><a id=\"l-9\" name=\"l-9\"></a><span class=\"linenos\"> 9</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">gplp8AdapterPower</span><span class=\"w\">   </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">sensorPowerPin</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// RS485 adapter power pin</span></div>\n<div class=\"line\"><a id=\"l-10\" name=\"l-10\"></a><span class=\"linenos\">10</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">gplp8SensorPower</span><span class=\"w\">    </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">relayPowerPin</span><span class=\"p\">;</span><span class=\"w\">   </span><span class=\"c1\">// Sensor power pin</span></div>\n<div class=\"line\"><a id=\"l-11\" name=\"l-11\"></a><span class=\"linenos\">11</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">gplp8EnablePin</span><span class=\"w\">      </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">-1</span><span class=\"p\">;</span><span class=\"w\">              </span><span class=\"c1\">// Adapter RE/DE pin</span></div>\n<div class=\"line\"><a id=\"l-12\" name=\"l-12\"></a><span class=\"linenos\">12</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">uint8_t</span><span class=\"w\"> </span><span class=\"n\">gplp8NumberReadings</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-13\" name=\"l-13\"></a><span class=\"linenos\">13</span><span class=\"c1\">// The manufacturer recommends averaging 10 readings, but we take 5 to minimize</span></div>\n<div class=\"line\"><a id=\"l-14\" name=\"l-14\"></a><span class=\"linenos\">14</span><span class=\"c1\">// power consumption</span></div>\n<div class=\"line\"><a id=\"l-15\" name=\"l-15\"></a><span class=\"linenos\">15</span></div>\n<div class=\"line\"><a id=\"l-16\" name=\"l-16\"></a><span class=\"linenos\">16</span><span class=\"c1\">// Create a GroPoint Profile GPLP-8 sensor object</span></div>\n<div class=\"line\"><a id=\"l-17\" name=\"l-17\"></a><span class=\"linenos\">17</span><span class=\"n\">GroPointGPLP8</span><span class=\"w\"> </span><span class=\"nf\">gplp8</span><span class=\"p\">(</span><span class=\"n\">gplp8ModbusAddress</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">modbusSerial</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">gplp8AdapterPower</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-18\" name=\"l-18\"></a><span class=\"linenos\">18</span><span class=\"w\">                    </span><span class=\"n\">gplp8SensorPower</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">gplp8EnablePin</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">gplp8NumberReadings</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-19\" name=\"l-19\"></a><span class=\"linenos\">19</span></div>\n<div class=\"line\"><a id=\"l-20\" name=\"l-20\"></a><span class=\"linenos\">20</span><span class=\"c1\">// Create moisture variable pointers for each segment of the GPLP-8</span></div>\n<div class=\"line\"><a id=\"l-21\" name=\"l-21\"></a><span class=\"linenos\">21</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">gplp8Moist1</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">GroPointGPLP8_Moist</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-22\" name=\"l-22\"></a><span class=\"linenos\">22</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">gplp8</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;GPLP8Moist1&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-23\" name=\"l-23\"></a><span class=\"linenos\">23</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">gplp8Moist2</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">GroPointGPLP8_Moist</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-24\" name=\"l-24\"></a><span class=\"linenos\">24</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">gplp8</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;GPLP8Moist2&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-25\" name=\"l-25\"></a><span class=\"linenos\">25</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">gplp8Moist3</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">GroPointGPLP8_Moist</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-26\" name=\"l-26\"></a><span class=\"linenos\">26</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">gplp8</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;GPLP8Moist3&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-27\" name=\"l-27\"></a><span class=\"linenos\">27</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">gplp8Moist4</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">GroPointGPLP8_Moist</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-28\" name=\"l-28\"></a><span class=\"linenos\">28</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">gplp8</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;GPLP8Moist4&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-29\" name=\"l-29\"></a><span class=\"linenos\">29</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">gplp8Moist5</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">GroPointGPLP8_Moist</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-30\" name=\"l-30\"></a><span class=\"linenos\">30</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">gplp8</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mi\">4</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;GPLP8Moist5&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-31\" name=\"l-31\"></a><span class=\"linenos\">31</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">gplp8Moist6</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">GroPointGPLP8_Moist</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-32\" name=\"l-32\"></a><span class=\"linenos\">32</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">gplp8</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mi\">5</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;GPLP8Moist6&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-33\" name=\"l-33\"></a><span class=\"linenos\">33</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">gplp8Moist7</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">GroPointGPLP8_Moist</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-34\" name=\"l-34\"></a><span class=\"linenos\">34</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">gplp8</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mi\">6</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;GPLP8Moist7&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-35\" name=\"l-35\"></a><span class=\"linenos\">35</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">gplp8Moist8</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">GroPointGPLP8_Moist</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-36\" name=\"l-36\"></a><span class=\"linenos\">36</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">gplp8</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mi\">7</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;GPLP8Moist8&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-37\" name=\"l-37\"></a><span class=\"linenos\">37</span></div>\n<div class=\"line\"><a id=\"l-38\" name=\"l-38\"></a><span class=\"linenos\">38</span><span class=\"c1\">// Create temperature variable pointers for each sensor of the GPLP-8</span></div>\n<div class=\"line\"><a id=\"l-39\" name=\"l-39\"></a><span class=\"linenos\">39</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">gplp8Temp1</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">GroPointGPLP8_Temp</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-40\" name=\"l-40\"></a><span class=\"linenos\">40</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">gplp8</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mi\">8</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;GPLP8Temp1&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-41\" name=\"l-41\"></a><span class=\"linenos\">41</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">gplp8Temp2</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">GroPointGPLP8_Temp</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-42\" name=\"l-42\"></a><span class=\"linenos\">42</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">gplp8</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mi\">9</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;GPLP8Temp1&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-43\" name=\"l-43\"></a><span class=\"linenos\">43</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">gplp8Temp3</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">GroPointGPLP8_Temp</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-44\" name=\"l-44\"></a><span class=\"linenos\">44</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">gplp8</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mi\">10</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;GPLP8Temp3&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-45\" name=\"l-45\"></a><span class=\"linenos\">45</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">gplp8Temp4</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">GroPointGPLP8_Temp</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-46\" name=\"l-46\"></a><span class=\"linenos\">46</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">gplp8</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mi\">11</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;GPLP8Temp4&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-47\" name=\"l-47\"></a><span class=\"linenos\">47</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">gplp8Temp5</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">GroPointGPLP8_Temp</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-48\" name=\"l-48\"></a><span class=\"linenos\">48</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">gplp8</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mi\">12</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;GPLP8Temp5&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-49\" name=\"l-49\"></a><span class=\"linenos\">49</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">gplp8Temp6</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">GroPointGPLP8_Temp</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-50\" name=\"l-50\"></a><span class=\"linenos\">50</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">gplp8</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mi\">13</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;GPLP8Temp6&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-51\" name=\"l-51\"></a><span class=\"linenos\">51</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">gplp8Temp7</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">GroPointGPLP8_Temp</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-52\" name=\"l-52\"></a><span class=\"linenos\">52</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">gplp8</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mi\">14</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;GPLP8Temp7&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-53\" name=\"l-53\"></a><span class=\"linenos\">53</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">gplp8Temp8</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">GroPointGPLP8_Temp</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-54\" name=\"l-54\"></a><span class=\"linenos\">54</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">gplp8</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mi\">15</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;GPLP8Temp8&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-55\" name=\"l-55\"></a><span class=\"linenos\">55</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">gplp8Temp9</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">GroPointGPLP8_Temp</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-56\" name=\"l-56\"></a><span class=\"linenos\">56</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">gplp8</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mi\">16</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;GPLP8Temp9&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-57\" name=\"l-57\"></a><span class=\"linenos\">57</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">gplp8Temp10</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">GroPointGPLP8_Temp</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-58\" name=\"l-58\"></a><span class=\"linenos\">58</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">gplp8</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mi\">17</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;GPLP8Temp10&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-59\" name=\"l-59\"></a><span class=\"linenos\">59</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">gplp8Temp11</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">GroPointGPLP8_Temp</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-60\" name=\"l-60\"></a><span class=\"linenos\">60</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">gplp8</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mi\">18</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;GPLP8Temp11&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-61\" name=\"l-61\"></a><span class=\"linenos\">61</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">gplp8Temp12</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">GroPointGPLP8_Temp</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-62\" name=\"l-62\"></a><span class=\"linenos\">62</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">gplp8</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mi\">19</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;GPLP8Temp12&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-63\" name=\"l-63\"></a><span class=\"linenos\">63</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">gplp8Temp13</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">GroPointGPLP8_Temp</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-64\" name=\"l-64\"></a><span class=\"linenos\">64</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">gplp8</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mi\">20</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;GPLP8Temp13&quot;</span><span class=\"p\">);</span>\n</div></div></div><hr/><section id=\"menu_walk_in_situ_troll_sdi12a\"><h5>In-Situ Aqua/Level TROLL Pressure, Temperature, and Depth Sensor</h5><aside class=\"m-note m-default\"><h4>See also</h4><p><a href=\"group__sensor__insitu__troll.html\" class=\"m-doc\">In-Situ LevelTROLL 400, 500, and 700 Data Loggers</a></p></aside><div class=\"m-code-arduino\"><div class=\"highlight\"><div class=\"line\"><a id=\"l-1\" name=\"l-1\"></a><span class=\"linenos\"> 1</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;sensors/InSituTrollSdi12a.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-2\" name=\"l-2\"></a><span class=\"linenos\"> 2</span></div>\n<div class=\"line\"><a id=\"l-3\" name=\"l-3\"></a><span class=\"linenos\"> 3</span><span class=\"c1\">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span></div>\n<div class=\"line\"><a id=\"l-4\" name=\"l-4\"></a><span class=\"linenos\"> 4</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">TROLLSDI12address</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-5\" name=\"l-5\"></a><span class=\"linenos\"> 5</span><span class=\"w\">    </span><span class=\"s\">&quot;1&quot;</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// The SDI-12 Address of the Aqua/Level TROLL</span></div>\n<div class=\"line\"><a id=\"l-6\" name=\"l-6\"></a><span class=\"linenos\"> 6</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">TROLLPower</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-7\" name=\"l-7\"></a><span class=\"linenos\"> 7</span><span class=\"w\">    </span><span class=\"n\">sensorPowerPin</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Pin to switch power on and off (-1 if unconnected)</span></div>\n<div class=\"line\"><a id=\"l-8\" name=\"l-8\"></a><span class=\"linenos\"> 8</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">TROLLData</span><span class=\"w\">           </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">sdi12DataPin</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// The SDI-12 data pin</span></div>\n<div class=\"line\"><a id=\"l-9\" name=\"l-9\"></a><span class=\"linenos\"> 9</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">uint8_t</span><span class=\"w\"> </span><span class=\"n\">TROLLNumberReadings</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// The number of readings to average</span></div>\n<div class=\"line\"><a id=\"l-10\" name=\"l-10\"></a><span class=\"linenos\">10</span></div>\n<div class=\"line\"><a id=\"l-11\" name=\"l-11\"></a><span class=\"linenos\">11</span><span class=\"c1\">// Create an In-Situ TROLL sensor object</span></div>\n<div class=\"line\"><a id=\"l-12\" name=\"l-12\"></a><span class=\"linenos\">12</span><span class=\"n\">InSituTrollSdi12a</span><span class=\"w\"> </span><span class=\"nf\">insituTROLL</span><span class=\"p\">(</span><span class=\"o\">*</span><span class=\"n\">TROLLSDI12address</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">TROLLPower</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">TROLLData</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-13\" name=\"l-13\"></a><span class=\"linenos\">13</span><span class=\"w\">                              </span><span class=\"n\">TROLLNumberReadings</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-14\" name=\"l-14\"></a><span class=\"linenos\">14</span></div>\n<div class=\"line\"><a id=\"l-15\" name=\"l-15\"></a><span class=\"linenos\">15</span><span class=\"c1\">// Create pressure, temperature, and depth variable pointers for the TROLL</span></div>\n<div class=\"line\"><a id=\"l-16\" name=\"l-16\"></a><span class=\"linenos\">16</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">trollPressure</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">InSituTrollSdi12a_Pressure</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-17\" name=\"l-17\"></a><span class=\"linenos\">17</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">insituTROLL</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-18\" name=\"l-18\"></a><span class=\"linenos\">18</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">trollTemp</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">InSituTrollSdi12a_Temp</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-19\" name=\"l-19\"></a><span class=\"linenos\">19</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">insituTROLL</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-20\" name=\"l-20\"></a><span class=\"linenos\">20</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">trollDepth</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">InSituTrollSdi12a_Depth</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-21\" name=\"l-21\"></a><span class=\"linenos\">21</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">insituTROLL</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span>\n</div></div></div><hr/></section><section id=\"menu_walk_in_situ_rdo\"><h5>In-Situ RDO PRO-X Rugged Dissolved Oxygen Probe</h5><aside class=\"m-note m-default\"><h4>See also</h4><p><a href=\"group__sensor__insitu__rdo.html\" class=\"m-doc\">In-Situ RDO PRO-X</a></p></aside><div class=\"m-code-arduino\"><div class=\"highlight\"><div class=\"line\"><a id=\"l-1\" name=\"l-1\"></a><span class=\"linenos\"> 1</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;sensors/InSituRDO.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-2\" name=\"l-2\"></a><span class=\"linenos\"> 2</span></div>\n<div class=\"line\"><a id=\"l-3\" name=\"l-3\"></a><span class=\"linenos\"> 3</span><span class=\"c1\">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span></div>\n<div class=\"line\"><a id=\"l-4\" name=\"l-4\"></a><span class=\"linenos\"> 4</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"w\">   </span><span class=\"n\">RDOSDI12address</span><span class=\"w\">   </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s\">&quot;5&quot;</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// The SDI-12 Address of the RDO PRO-X</span></div>\n<div class=\"line\"><a id=\"l-5\" name=\"l-5\"></a><span class=\"linenos\"> 5</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">RDOPower</span><span class=\"w\">          </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">sensorPowerPin</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Power pin</span></div>\n<div class=\"line\"><a id=\"l-6\" name=\"l-6\"></a><span class=\"linenos\"> 6</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">RDOData</span><span class=\"w\">           </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">sdi12DataPin</span><span class=\"p\">;</span><span class=\"w\">    </span><span class=\"c1\">// The SDI-12 data pin</span></div>\n<div class=\"line\"><a id=\"l-7\" name=\"l-7\"></a><span class=\"linenos\"> 7</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">uint8_t</span><span class=\"w\"> </span><span class=\"n\">RDONumberReadings</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-8\" name=\"l-8\"></a><span class=\"linenos\"> 8</span></div>\n<div class=\"line\"><a id=\"l-9\" name=\"l-9\"></a><span class=\"linenos\"> 9</span><span class=\"c1\">// Create an In-Situ RDO PRO-X dissolved oxygen sensor object</span></div>\n<div class=\"line\"><a id=\"l-10\" name=\"l-10\"></a><span class=\"linenos\">10</span><span class=\"n\">InSituRDO</span><span class=\"w\"> </span><span class=\"nf\">insituRDO</span><span class=\"p\">(</span><span class=\"o\">*</span><span class=\"n\">RDOSDI12address</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">RDOPower</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">RDOData</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">RDONumberReadings</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-11\" name=\"l-11\"></a><span class=\"linenos\">11</span></div>\n<div class=\"line\"><a id=\"l-12\" name=\"l-12\"></a><span class=\"linenos\">12</span><span class=\"c1\">// Create dissolved oxygen percent, dissolved oxygen concentration, temperature,</span></div>\n<div class=\"line\"><a id=\"l-13\" name=\"l-13\"></a><span class=\"linenos\">13</span><span class=\"c1\">// and oxygen partial pressure variable pointers for the RDO PRO-X</span></div>\n<div class=\"line\"><a id=\"l-14\" name=\"l-14\"></a><span class=\"linenos\">14</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">rdoDOpct</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-15\" name=\"l-15\"></a><span class=\"linenos\">15</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">InSituRDO_DOpct</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">insituRDO</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-16\" name=\"l-16\"></a><span class=\"linenos\">16</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">rdoDOmgL</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-17\" name=\"l-17\"></a><span class=\"linenos\">17</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">InSituRDO_DOmgL</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">insituRDO</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-18\" name=\"l-18\"></a><span class=\"linenos\">18</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">rdoTemp</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">InSituRDO_Temp</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">insituRDO</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-19\" name=\"l-19\"></a><span class=\"linenos\">19</span><span class=\"w\">                                       </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-20\" name=\"l-20\"></a><span class=\"linenos\">20</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">rdoO2pp</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-21\" name=\"l-21\"></a><span class=\"linenos\">21</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">InSituRDO_Pressure</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">insituRDO</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span>\n</div></div></div><hr/></section></section><section id=\"menu_walk_keller_sensors\"><h4>Keller RS485/Modbus Water Level Sensors</h4><p>The next two sections are for Keller RS485/Modbus water level sensors. The sensor class constructors for each are nearly identical, except for the class name. The sensor constructors require as input: the sensor modbus address, a stream instance for data (ie, <code>Serial</code>), and one or two power pins. The Arduino pin controlling the receive and data enable on your RS485-to-TTL adapter and the number of readings to average are optional. (Use -1 for the second power pin and -1 for the enable pin if these don&#x27;t apply and you want to average more than one reading.) Please see the section &quot;[Notes on Arduino Streams and Software Serial](@ref page_arduino_streams)&quot; for more information about what streams can be used along with this library. In tests on these sensors, SoftwareSerial_ExtInts <em>did not work</em> to communicate with these sensors, because it isn&#x27;t stable enough. AltSoftSerial and HardwareSerial work fine.</p><p>The serial ports for this example are created in the <a href=\"#menu_walk_serial_ports\" class=\"m-doc\">Creating Extra Serial Ports</a> section and then assigned to modbus functionality in the <a href=\"#menu_walk_assign_ports_sw\" class=\"m-doc\">Assigning Serial Port Functionality</a> section.</p><p>Up to two power pins are provided so that the RS485 adapter, the sensor and/or an external power relay can be controlled separately. If the power to everything is controlled by the same pin, use -1 for the second power pin or omit the argument. If they are controlled by different pins <em>and no other sensors are dependent on power from either pin</em> then the order of the pins doesn&#x27;t matter. If the RS485 adapter, sensor, or relay are controlled by different pins <em>and any other sensors are controlled by the same pins</em> you should put the shared pin first and the un-shared pin second. Both pins <em>cannot</em> be shared pins.</p><aside class=\"m-note m-default\"><h4>See also</h4><p><a href=\"group__keller__group.html\" class=\"m-doc\">Keller Water Level Sensors</a></p></aside><section id=\"menu_walk_keller_acculevel\"><h5>Keller Acculevel High Accuracy Submersible Level Transmitter</h5><aside class=\"m-note m-default\"><h4>See also</h4><p><a href=\"group__sensor__acculevel.html\" class=\"m-doc\">Keller Acculevel</a></p></aside><div class=\"m-code-arduino\"><div class=\"highlight\"><div class=\"line\"><a id=\"l-1\" name=\"l-1\"></a><span class=\"linenos\"> 1</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;sensors/KellerAcculevel.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-2\" name=\"l-2\"></a><span class=\"linenos\"> 2</span></div>\n<div class=\"line\"><a id=\"l-3\" name=\"l-3\"></a><span class=\"linenos\"> 3</span><span class=\"c1\">// NOTE: Extra hardware and software serial ports are created in the &quot;Settings</span></div>\n<div class=\"line\"><a id=\"l-4\" name=\"l-4\"></a><span class=\"linenos\"> 4</span><span class=\"c1\">// for Additional Serial Ports&quot; section</span></div>\n<div class=\"line\"><a id=\"l-5\" name=\"l-5\"></a><span class=\"linenos\"> 5</span></div>\n<div class=\"line\"><a id=\"l-6\" name=\"l-6\"></a><span class=\"linenos\"> 6</span><span class=\"c1\">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span></div>\n<div class=\"line\"><a id=\"l-7\" name=\"l-7\"></a><span class=\"linenos\"> 7</span><span class=\"kr\">byte</span><span class=\"w\"> </span><span class=\"n\">acculevelModbusAddress</span><span class=\"w\">  </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mh\">0x01</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// The modbus address of KellerAcculevel</span></div>\n<div class=\"line\"><a id=\"l-8\" name=\"l-8\"></a><span class=\"linenos\"> 8</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">acculevelPower</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">relayPowerPin</span><span class=\"p\">;</span><span class=\"w\">   </span><span class=\"c1\">// Acculevel Sensor power pin</span></div>\n<div class=\"line\"><a id=\"l-9\" name=\"l-9\"></a><span class=\"linenos\"> 9</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">alAdapterPower</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">sensorPowerPin</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// RS485 adapter power pin</span></div>\n<div class=\"line\"><a id=\"l-10\" name=\"l-10\"></a><span class=\"linenos\">10</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">al485EnablePin</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">-1</span><span class=\"p\">;</span><span class=\"w\">              </span><span class=\"c1\">// Adapter RE/DE pin</span></div>\n<div class=\"line\"><a id=\"l-11\" name=\"l-11\"></a><span class=\"linenos\">11</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">uint8_t</span><span class=\"w\"> </span><span class=\"n\">acculevelNumberReadings</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">5</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-12\" name=\"l-12\"></a><span class=\"linenos\">12</span><span class=\"c1\">// The manufacturer recommends taking and averaging a few readings</span></div>\n<div class=\"line\"><a id=\"l-13\" name=\"l-13\"></a><span class=\"linenos\">13</span></div>\n<div class=\"line\"><a id=\"l-14\" name=\"l-14\"></a><span class=\"linenos\">14</span><span class=\"c1\">// Create a Keller Acculevel sensor object</span></div>\n<div class=\"line\"><a id=\"l-15\" name=\"l-15\"></a><span class=\"linenos\">15</span><span class=\"n\">KellerAcculevel</span><span class=\"w\"> </span><span class=\"nf\">acculevel</span><span class=\"p\">(</span><span class=\"n\">acculevelModbusAddress</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">modbusSerial</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">alAdapterPower</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-16\" name=\"l-16\"></a><span class=\"linenos\">16</span><span class=\"w\">                          </span><span class=\"n\">acculevelPower</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">al485EnablePin</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-17\" name=\"l-17\"></a><span class=\"linenos\">17</span><span class=\"w\">                          </span><span class=\"n\">acculevelNumberReadings</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-18\" name=\"l-18\"></a><span class=\"linenos\">18</span></div>\n<div class=\"line\"><a id=\"l-19\" name=\"l-19\"></a><span class=\"linenos\">19</span><span class=\"c1\">// Create pressure, temperature, and height variable pointers for the Acculevel</span></div>\n<div class=\"line\"><a id=\"l-20\" name=\"l-20\"></a><span class=\"linenos\">20</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">acculevPress</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">KellerAcculevel_Pressure</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-21\" name=\"l-21\"></a><span class=\"linenos\">21</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">acculevel</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-22\" name=\"l-22\"></a><span class=\"linenos\">22</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">acculevTemp</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">KellerAcculevel_Temp</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-23\" name=\"l-23\"></a><span class=\"linenos\">23</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">acculevel</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-24\" name=\"l-24\"></a><span class=\"linenos\">24</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">acculevHeight</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">KellerAcculevel_Height</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-25\" name=\"l-25\"></a><span class=\"linenos\">25</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">acculevel</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span>\n</div></div></div><hr/></section><section id=\"menu_walk_keller_nanolevel\"><h5>Keller Nanolevel Level Transmitter</h5><aside class=\"m-note m-default\"><h4>See also</h4><p><a href=\"group__sensor__nanolevel.html\" class=\"m-doc\">Keller Nanolevel</a></p></aside><div class=\"m-code-arduino\"><div class=\"highlight\"><div class=\"line\"><a id=\"l-1\" name=\"l-1\"></a><span class=\"linenos\"> 1</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;sensors/KellerNanolevel.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-2\" name=\"l-2\"></a><span class=\"linenos\"> 2</span></div>\n<div class=\"line\"><a id=\"l-3\" name=\"l-3\"></a><span class=\"linenos\"> 3</span><span class=\"c1\">// NOTE: Extra hardware and software serial ports are created in the &quot;Settings</span></div>\n<div class=\"line\"><a id=\"l-4\" name=\"l-4\"></a><span class=\"linenos\"> 4</span><span class=\"c1\">// for Additional Serial Ports&quot; section</span></div>\n<div class=\"line\"><a id=\"l-5\" name=\"l-5\"></a><span class=\"linenos\"> 5</span></div>\n<div class=\"line\"><a id=\"l-6\" name=\"l-6\"></a><span class=\"linenos\"> 6</span><span class=\"c1\">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span></div>\n<div class=\"line\"><a id=\"l-7\" name=\"l-7\"></a><span class=\"linenos\"> 7</span><span class=\"kr\">byte</span><span class=\"w\"> </span><span class=\"n\">nanolevelModbusAddress</span><span class=\"w\">  </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mh\">0x01</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// The modbus address of KellerNanolevel</span></div>\n<div class=\"line\"><a id=\"l-8\" name=\"l-8\"></a><span class=\"linenos\"> 8</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">nlAdapterPower</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">sensorPowerPin</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// RS485 adapter power pin</span></div>\n<div class=\"line\"><a id=\"l-9\" name=\"l-9\"></a><span class=\"linenos\"> 9</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">nanolevelPower</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">relayPowerPin</span><span class=\"p\">;</span><span class=\"w\">   </span><span class=\"c1\">// Sensor power pin</span></div>\n<div class=\"line\"><a id=\"l-10\" name=\"l-10\"></a><span class=\"linenos\">10</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">nl485EnablePin</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">-1</span><span class=\"p\">;</span><span class=\"w\">              </span><span class=\"c1\">// Adapter RE/DE pin</span></div>\n<div class=\"line\"><a id=\"l-11\" name=\"l-11\"></a><span class=\"linenos\">11</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">uint8_t</span><span class=\"w\"> </span><span class=\"n\">nanolevelNumberReadings</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">5</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-12\" name=\"l-12\"></a><span class=\"linenos\">12</span><span class=\"c1\">// The manufacturer recommends taking and averaging a few readings</span></div>\n<div class=\"line\"><a id=\"l-13\" name=\"l-13\"></a><span class=\"linenos\">13</span></div>\n<div class=\"line\"><a id=\"l-14\" name=\"l-14\"></a><span class=\"linenos\">14</span><span class=\"c1\">// Create a Keller Nanolevel sensor object</span></div>\n<div class=\"line\"><a id=\"l-15\" name=\"l-15\"></a><span class=\"linenos\">15</span><span class=\"n\">KellerNanolevel</span><span class=\"w\"> </span><span class=\"nf\">nanolevel</span><span class=\"p\">(</span><span class=\"n\">nanolevelModbusAddress</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">modbusSerial</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">nlAdapterPower</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-16\" name=\"l-16\"></a><span class=\"linenos\">16</span><span class=\"w\">                          </span><span class=\"n\">nanolevelPower</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">nl485EnablePin</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-17\" name=\"l-17\"></a><span class=\"linenos\">17</span><span class=\"w\">                          </span><span class=\"n\">nanolevelNumberReadings</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-18\" name=\"l-18\"></a><span class=\"linenos\">18</span></div>\n<div class=\"line\"><a id=\"l-19\" name=\"l-19\"></a><span class=\"linenos\">19</span><span class=\"c1\">// Create pressure, temperature, and height variable pointers for the Nanolevel</span></div>\n<div class=\"line\"><a id=\"l-20\" name=\"l-20\"></a><span class=\"linenos\">20</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">nanolevPress</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">KellerNanolevel_Pressure</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-21\" name=\"l-21\"></a><span class=\"linenos\">21</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">nanolevel</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-22\" name=\"l-22\"></a><span class=\"linenos\">22</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">nanolevTemp</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">KellerNanolevel_Temp</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-23\" name=\"l-23\"></a><span class=\"linenos\">23</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">nanolevel</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-24\" name=\"l-24\"></a><span class=\"linenos\">24</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">nanolevHeight</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">KellerNanolevel_Height</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-25\" name=\"l-25\"></a><span class=\"linenos\">25</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">nanolevel</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span>\n</div></div></div><hr/></section></section><section id=\"menu_walk_max_botix_sonar\"><h4>Maxbotix HRXL Ultrasonic Range Finder</h4><p>The Arduino pin controlling power on/off, a stream instance for received data (ie, <code>Serial</code>), and the Arduino pin controlling the trigger are required for the sensor constructor. (Use -1 for the trigger pin if you do not have it connected.) Please see the section &quot;[Notes on Arduino Streams and Software Serial](@ref page_arduino_streams)&quot; for more information about what streams can be used along with this library.</p><p>The serial ports for this example are created in the <a href=\"#menu_walk_serial_ports\" class=\"m-doc\">Creating Extra Serial Ports</a> section and then assigned to the sonar functionality in the <a href=\"#menu_walk_assign_ports_sw\" class=\"m-doc\">Assigning Serial Port Functionality</a> section.</p><aside class=\"m-note m-default\"><h4>See also</h4><p><a href=\"group__sensor__maxbotix.html\" class=\"m-doc\">MaxBotix MaxSonar</a></p></aside><div class=\"m-code-arduino\"><div class=\"highlight\"><div class=\"line\"><a id=\"l-1\" name=\"l-1\"></a><span class=\"linenos\"> 1</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;sensors/MaxBotixSonar.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-2\" name=\"l-2\"></a><span class=\"linenos\"> 2</span></div>\n<div class=\"line\"><a id=\"l-3\" name=\"l-3\"></a><span class=\"linenos\"> 3</span><span class=\"c1\">// A Maxbotix sonar with the trigger pin disconnect CANNOT share the serial port</span></div>\n<div class=\"line\"><a id=\"l-4\" name=\"l-4\"></a><span class=\"linenos\"> 4</span><span class=\"c1\">// A Maxbotix sonar using the trigger may be able to share but YMMV</span></div>\n<div class=\"line\"><a id=\"l-5\" name=\"l-5\"></a><span class=\"linenos\"> 5</span></div>\n<div class=\"line\"><a id=\"l-6\" name=\"l-6\"></a><span class=\"linenos\"> 6</span><span class=\"c1\">// NOTE: Extra hardware and software serial ports are created in the &quot;Settings</span></div>\n<div class=\"line\"><a id=\"l-7\" name=\"l-7\"></a><span class=\"linenos\"> 7</span><span class=\"c1\">// for Additional Serial Ports&quot; section</span></div>\n<div class=\"line\"><a id=\"l-8\" name=\"l-8\"></a><span class=\"linenos\"> 8</span></div>\n<div class=\"line\"><a id=\"l-9\" name=\"l-9\"></a><span class=\"linenos\"> 9</span><span class=\"c1\">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span></div>\n<div class=\"line\"><a id=\"l-10\" name=\"l-10\"></a><span class=\"linenos\">10</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">SonarPower</span><span class=\"w\">    </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">sensorPowerPin</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Excite (power) pin</span></div>\n<div class=\"line\"><a id=\"l-11\" name=\"l-11\"></a><span class=\"linenos\">11</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">Sonar1Trigger</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">-1</span><span class=\"p\">;</span><span class=\"w\">              </span><span class=\"c1\">// Trigger pin</span></div>\n<div class=\"line\"><a id=\"l-12\" name=\"l-12\"></a><span class=\"linenos\">12</span><span class=\"c1\">// Trigger should be a *unique* negative number if unconnected</span></div>\n<div class=\"line\"><a id=\"l-13\" name=\"l-13\"></a><span class=\"linenos\">13</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int16_t</span><span class=\"w\"> </span><span class=\"n\">Sonar1MaxRange</span><span class=\"w\">       </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">9999</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Maximum range of sonar</span></div>\n<div class=\"line\"><a id=\"l-14\" name=\"l-14\"></a><span class=\"linenos\">14</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">uint8_t</span><span class=\"w\"> </span><span class=\"n\">sonar1NumberReadings</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"p\">;</span><span class=\"w\">     </span><span class=\"c1\">// The number of readings to average</span></div>\n<div class=\"line\"><a id=\"l-15\" name=\"l-15\"></a><span class=\"linenos\">15</span></div>\n<div class=\"line\"><a id=\"l-16\" name=\"l-16\"></a><span class=\"linenos\">16</span><span class=\"c1\">// Create a MaxBotix Sonar sensor object</span></div>\n<div class=\"line\"><a id=\"l-17\" name=\"l-17\"></a><span class=\"linenos\">17</span><span class=\"n\">MaxBotixSonar</span><span class=\"w\"> </span><span class=\"nf\">sonar1</span><span class=\"p\">(</span><span class=\"n\">sonarSerial</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">SonarPower</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">Sonar1Trigger</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">Sonar1MaxRange</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-18\" name=\"l-18\"></a><span class=\"linenos\">18</span><span class=\"w\">                     </span><span class=\"n\">sonar1NumberReadings</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-19\" name=\"l-19\"></a><span class=\"linenos\">19</span></div>\n<div class=\"line\"><a id=\"l-20\" name=\"l-20\"></a><span class=\"linenos\">20</span><span class=\"c1\">// Create an ultrasonic range variable pointer</span></div>\n<div class=\"line\"><a id=\"l-21\" name=\"l-21\"></a><span class=\"linenos\">21</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">sonar1Range</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-22\" name=\"l-22\"></a><span class=\"linenos\">22</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">MaxBotixSonar_Range</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">sonar1</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span>\n</div></div></div><hr/></section><section id=\"menu_walk_maxim_ds18\"><h4>Maxim DS18 One Wire Temperature Sensor</h4><p>The OneWire hex address of the sensor, the Arduino pin controlling power on/off, and the Arduino pin sending and receiving data are required for the sensor constructor, though the address can be omitted if only one sensor is used. The OneWire address is an array of 8 hex values, for example: {0x28, 0x1D, 0x39, 0x31, 0x2, 0x0, 0x0, 0xF0}. To get the address of your sensor, plug a single sensor into your device and run the <a href=\"https://github.com/milesburton/Arduino-Temperature-Control-Library/blob/master/examples/oneWireSearch/oneWireSearch.ino\">oneWireSearch</a> example or the <a href=\"https://github.com/milesburton/Arduino-Temperature-Control-Library/blob/master/examples/Single/Single.pde\">Single</a> example provided within the Dallas Temperature library. The sensor address is programmed at the factory and cannot be changed.</p><aside class=\"m-note m-default\"><h4>See also</h4><p><a href=\"group__sensor__ds18.html\" class=\"m-doc\">Maxim DS18</a></p></aside><div class=\"m-code-arduino\"><div class=\"highlight\"><div class=\"line\"><a id=\"l-1\" name=\"l-1\"></a><span class=\"linenos\"> 1</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;sensors/MaximDS18.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-2\" name=\"l-2\"></a><span class=\"linenos\"> 2</span></div>\n<div class=\"line\"><a id=\"l-3\" name=\"l-3\"></a><span class=\"linenos\"> 3</span><span class=\"c1\">// OneWire Address [array of 8 hex characters]</span></div>\n<div class=\"line\"><a id=\"l-4\" name=\"l-4\"></a><span class=\"linenos\"> 4</span><span class=\"c1\">// If only using a single sensor on the OneWire bus, you may omit the address</span></div>\n<div class=\"line\"><a id=\"l-5\" name=\"l-5\"></a><span class=\"linenos\"> 5</span><span class=\"n\">DeviceAddress</span><span class=\"w\"> </span><span class=\"n\">OneWireAddress1</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"mh\">0x28</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mh\">0xFF</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mh\">0xBD</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mh\">0xBA</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-6\" name=\"l-6\"></a><span class=\"linenos\"> 6</span><span class=\"w\">                                 </span><span class=\"mh\">0x81</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mh\">0x16</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mh\">0x03</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mh\">0x0C</span><span class=\"p\">};</span></div>\n<div class=\"line\"><a id=\"l-7\" name=\"l-7\"></a><span class=\"linenos\"> 7</span><span class=\"c1\">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span></div>\n<div class=\"line\"><a id=\"l-8\" name=\"l-8\"></a><span class=\"linenos\"> 8</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">OneWirePower</span><span class=\"w\">       </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">sensorPowerPin</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Power pin</span></div>\n<div class=\"line\"><a id=\"l-9\" name=\"l-9\"></a><span class=\"linenos\"> 9</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">OneWireBus</span><span class=\"w\">         </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">A0</span><span class=\"p\">;</span><span class=\"w\">              </span><span class=\"c1\">// OneWire Bus Pin</span></div>\n<div class=\"line\"><a id=\"l-10\" name=\"l-10\"></a><span class=\"linenos\">10</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">ds18NumberReadings</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-11\" name=\"l-11\"></a><span class=\"linenos\">11</span></div>\n<div class=\"line\"><a id=\"l-12\" name=\"l-12\"></a><span class=\"linenos\">12</span><span class=\"c1\">// Create a Maxim DS18 sensor objects (use this form for a known address)</span></div>\n<div class=\"line\"><a id=\"l-13\" name=\"l-13\"></a><span class=\"linenos\">13</span><span class=\"n\">MaximDS18</span><span class=\"w\"> </span><span class=\"nf\">ds18</span><span class=\"p\">(</span><span class=\"n\">OneWireAddress1</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">OneWirePower</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">OneWireBus</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">ds18NumberReadings</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-14\" name=\"l-14\"></a><span class=\"linenos\">14</span></div>\n<div class=\"line\"><a id=\"l-15\" name=\"l-15\"></a><span class=\"linenos\">15</span><span class=\"c1\">// Create a Maxim DS18 sensor object (use this form for a single sensor on bus</span></div>\n<div class=\"line\"><a id=\"l-16\" name=\"l-16\"></a><span class=\"linenos\">16</span><span class=\"c1\">// with an unknown address)</span></div>\n<div class=\"line\"><a id=\"l-17\" name=\"l-17\"></a><span class=\"linenos\">17</span><span class=\"c1\">// MaximDS18 ds18(OneWirePower, OneWireBus);</span></div>\n<div class=\"line\"><a id=\"l-18\" name=\"l-18\"></a><span class=\"linenos\">18</span></div>\n<div class=\"line\"><a id=\"l-19\" name=\"l-19\"></a><span class=\"linenos\">19</span><span class=\"c1\">// Create a temperature variable pointer for the DS18</span></div>\n<div class=\"line\"><a id=\"l-20\" name=\"l-20\"></a><span class=\"linenos\">20</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">ds18Temp</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">MaximDS18_Temp</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">ds18</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-21\" name=\"l-21\"></a><span class=\"linenos\">21</span><span class=\"w\">                                        </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span>\n</div></div></div><hr/></section><section id=\"menu_walk_mea_spec_ms5803\"><h4>Measurement Specialties MS5803-14BA Pressure Sensor</h4><p>The only input needed is the Arduino pin controlling power on/off; the i2cAddressHex and maximum pressure are optional as is the number of readings to average. Keep in mind that the possible I2C addresses of the MS5803 match those of the BME280.</p><aside class=\"m-note m-default\"><h4>See also</h4><p><a href=\"group__sensor__ms5803.html\" class=\"m-doc\">Measurement Specialties MS5803</a></p></aside><div class=\"m-code-arduino\"><div class=\"highlight\"><div class=\"line\"><a id=\"l-1\" name=\"l-1\"></a><span class=\"linenos\"> 1</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;sensors/MeaSpecMS5803.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-2\" name=\"l-2\"></a><span class=\"linenos\"> 2</span></div>\n<div class=\"line\"><a id=\"l-3\" name=\"l-3\"></a><span class=\"linenos\"> 3</span><span class=\"c1\">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span></div>\n<div class=\"line\"><a id=\"l-4\" name=\"l-4\"></a><span class=\"linenos\"> 4</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">MS5803Power</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">sensorPowerPin</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Power pin</span></div>\n<div class=\"line\"><a id=\"l-5\" name=\"l-5\"></a><span class=\"linenos\"> 5</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">uint8_t</span><span class=\"w\"> </span><span class=\"n\">MS5803i2c_addr</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-6\" name=\"l-6\"></a><span class=\"linenos\"> 6</span><span class=\"w\">    </span><span class=\"mh\">0x76</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// The MS5803 can be addressed either as 0x76 (default) or 0x77</span></div>\n<div class=\"line\"><a id=\"l-7\" name=\"l-7\"></a><span class=\"linenos\"> 7</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int16_t</span><span class=\"w\"> </span><span class=\"n\">MS5803maxPressure</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-8\" name=\"l-8\"></a><span class=\"linenos\"> 8</span><span class=\"w\">    </span><span class=\"mi\">14</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// The maximum pressure measurable by the specific MS5803 model</span></div>\n<div class=\"line\"><a id=\"l-9\" name=\"l-9\"></a><span class=\"linenos\"> 9</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">uint8_t</span><span class=\"w\"> </span><span class=\"n\">MS5803ReadingsToAvg</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-10\" name=\"l-10\"></a><span class=\"linenos\">10</span></div>\n<div class=\"line\"><a id=\"l-11\" name=\"l-11\"></a><span class=\"linenos\">11</span><span class=\"c1\">// Create a MeaSpec MS5803 pressure and temperature sensor object</span></div>\n<div class=\"line\"><a id=\"l-12\" name=\"l-12\"></a><span class=\"linenos\">12</span><span class=\"n\">MeaSpecMS5803</span><span class=\"w\"> </span><span class=\"nf\">ms5803</span><span class=\"p\">(</span><span class=\"n\">MS5803Power</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">MS5803i2c_addr</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">MS5803maxPressure</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-13\" name=\"l-13\"></a><span class=\"linenos\">13</span><span class=\"w\">                     </span><span class=\"n\">MS5803ReadingsToAvg</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-14\" name=\"l-14\"></a><span class=\"linenos\">14</span></div>\n<div class=\"line\"><a id=\"l-15\" name=\"l-15\"></a><span class=\"linenos\">15</span><span class=\"c1\">// Create pressure and temperature variable pointers for the MS5803</span></div>\n<div class=\"line\"><a id=\"l-16\" name=\"l-16\"></a><span class=\"linenos\">16</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">ms5803Press</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-17\" name=\"l-17\"></a><span class=\"linenos\">17</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">MeaSpecMS5803_Pressure</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">ms5803</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-18\" name=\"l-18\"></a><span class=\"linenos\">18</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">ms5803Temp</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-19\" name=\"l-19\"></a><span class=\"linenos\">19</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">MeaSpecMS5803_Temp</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">ms5803</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span>\n</div></div></div><hr/></section><section id=\"menu_walk_meter_sensors\"><h4>Meter SDI-12 Sensors</h4><p>The next few sections are for Meter SDI-12 sensors. The SDI-12 address of the sensor, the Arduino pin controlling power on/off, and the Arduino pin sending and receiving data are required for the sensor constructor. Optionally, you can include a number of distinct readings to average. The data pin must be a pin that supports pin-change interrupts.</p><section id=\"menu_walk_decagon_5tm\"><h5>Meter ECH2O Soil Moisture Sensor</h5><aside class=\"m-note m-default\"><h4>See also</h4><p><a href=\"group__sensor__fivetm.html\" class=\"m-doc\">Meter ECH2O (5TM)</a></p></aside><div class=\"m-code-arduino\"><div class=\"highlight\"><div class=\"line\"><a id=\"l-1\" name=\"l-1\"></a><span class=\"linenos\"> 1</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;sensors/Decagon5TM.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-2\" name=\"l-2\"></a><span class=\"linenos\"> 2</span></div>\n<div class=\"line\"><a id=\"l-3\" name=\"l-3\"></a><span class=\"linenos\"> 3</span><span class=\"c1\">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span></div>\n<div class=\"line\"><a id=\"l-4\" name=\"l-4\"></a><span class=\"linenos\"> 4</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"w\">  </span><span class=\"n\">TMSDI12address</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s\">&quot;2&quot;</span><span class=\"p\">;</span><span class=\"w\">             </span><span class=\"c1\">// The SDI-12 Address of the 5-TM</span></div>\n<div class=\"line\"><a id=\"l-5\" name=\"l-5\"></a><span class=\"linenos\"> 5</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">TMPower</span><span class=\"w\">        </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">sensorPowerPin</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Power pin</span></div>\n<div class=\"line\"><a id=\"l-6\" name=\"l-6\"></a><span class=\"linenos\"> 6</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">TMData</span><span class=\"w\">         </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">sdi12DataPin</span><span class=\"p\">;</span><span class=\"w\">    </span><span class=\"c1\">// The SDI-12 data pin</span></div>\n<div class=\"line\"><a id=\"l-7\" name=\"l-7\"></a><span class=\"linenos\"> 7</span></div>\n<div class=\"line\"><a id=\"l-8\" name=\"l-8\"></a><span class=\"linenos\"> 8</span><span class=\"c1\">// Create a Decagon 5TM sensor object</span></div>\n<div class=\"line\"><a id=\"l-9\" name=\"l-9\"></a><span class=\"linenos\"> 9</span><span class=\"n\">Decagon5TM</span><span class=\"w\"> </span><span class=\"nf\">fivetm</span><span class=\"p\">(</span><span class=\"o\">*</span><span class=\"n\">TMSDI12address</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">TMPower</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">TMData</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-10\" name=\"l-10\"></a><span class=\"linenos\">10</span></div>\n<div class=\"line\"><a id=\"l-11\" name=\"l-11\"></a><span class=\"linenos\">11</span><span class=\"c1\">// Create the matric potential, volumetric water content, and temperature</span></div>\n<div class=\"line\"><a id=\"l-12\" name=\"l-12\"></a><span class=\"linenos\">12</span><span class=\"c1\">// variable pointers for the 5TM</span></div>\n<div class=\"line\"><a id=\"l-13\" name=\"l-13\"></a><span class=\"linenos\">13</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">fivetmEa</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">Decagon5TM_Ea</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">fivetm</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-14\" name=\"l-14\"></a><span class=\"linenos\">14</span><span class=\"w\">                                       </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-15\" name=\"l-15\"></a><span class=\"linenos\">15</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">fivetmVWC</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-16\" name=\"l-16\"></a><span class=\"linenos\">16</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">Decagon5TM_VWC</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">fivetm</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-17\" name=\"l-17\"></a><span class=\"linenos\">17</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">fivetmTemp</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-18\" name=\"l-18\"></a><span class=\"linenos\">18</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">Decagon5TM_Temp</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">fivetm</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span>\n</div></div></div><hr/></section><section id=\"menu_walk_meter_hydros21\"><h5>Meter Hydros 21 Conductivity, Temperature, and Depth Sensor</h5><aside class=\"m-note m-default\"><h4>See also</h4><p><a href=\"group__sensor__hydros21.html\" class=\"m-doc\">Meter Hydros 21</a></p></aside><div class=\"m-code-arduino\"><div class=\"highlight\"><div class=\"line\"><a id=\"l-1\" name=\"l-1\"></a><span class=\"linenos\"> 1</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;sensors/MeterHydros21.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-2\" name=\"l-2\"></a><span class=\"linenos\"> 2</span></div>\n<div class=\"line\"><a id=\"l-3\" name=\"l-3\"></a><span class=\"linenos\"> 3</span><span class=\"c1\">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span></div>\n<div class=\"line\"><a id=\"l-4\" name=\"l-4\"></a><span class=\"linenos\"> 4</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"w\">   </span><span class=\"n\">hydros21SDI12address</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s\">&quot;1&quot;</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// The SDI-12 Address of the Hydros21</span></div>\n<div class=\"line\"><a id=\"l-5\" name=\"l-5\"></a><span class=\"linenos\"> 5</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">uint8_t</span><span class=\"w\"> </span><span class=\"n\">hydros21NumberReadings</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">6</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// The number of readings to average</span></div>\n<div class=\"line\"><a id=\"l-6\" name=\"l-6\"></a><span class=\"linenos\"> 6</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">hydros21Power</span><span class=\"w\">          </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">sensorPowerPin</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Power pin</span></div>\n<div class=\"line\"><a id=\"l-7\" name=\"l-7\"></a><span class=\"linenos\"> 7</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">hydros21Data</span><span class=\"w\">           </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">sdi12DataPin</span><span class=\"p\">;</span><span class=\"w\">    </span><span class=\"c1\">// The SDI-12 data pin</span></div>\n<div class=\"line\"><a id=\"l-8\" name=\"l-8\"></a><span class=\"linenos\"> 8</span></div>\n<div class=\"line\"><a id=\"l-9\" name=\"l-9\"></a><span class=\"linenos\"> 9</span><span class=\"c1\">// Create a Decagon Hydros21 sensor object</span></div>\n<div class=\"line\"><a id=\"l-10\" name=\"l-10\"></a><span class=\"linenos\">10</span><span class=\"n\">MeterHydros21</span><span class=\"w\"> </span><span class=\"nf\">hydros21</span><span class=\"p\">(</span><span class=\"o\">*</span><span class=\"n\">hydros21SDI12address</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">hydros21Power</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">hydros21Data</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-11\" name=\"l-11\"></a><span class=\"linenos\">11</span><span class=\"w\">                       </span><span class=\"n\">hydros21NumberReadings</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-12\" name=\"l-12\"></a><span class=\"linenos\">12</span></div>\n<div class=\"line\"><a id=\"l-13\" name=\"l-13\"></a><span class=\"linenos\">13</span><span class=\"c1\">// Create conductivity, temperature, and depth variable pointers for the</span></div>\n<div class=\"line\"><a id=\"l-14\" name=\"l-14\"></a><span class=\"linenos\">14</span><span class=\"c1\">// Hydros21</span></div>\n<div class=\"line\"><a id=\"l-15\" name=\"l-15\"></a><span class=\"linenos\">15</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">hydros21Cond</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-16\" name=\"l-16\"></a><span class=\"linenos\">16</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">MeterHydros21_Cond</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">hydros21</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-17\" name=\"l-17\"></a><span class=\"linenos\">17</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">hydros21Temp</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-18\" name=\"l-18\"></a><span class=\"linenos\">18</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">MeterHydros21_Temp</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">hydros21</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-19\" name=\"l-19\"></a><span class=\"linenos\">19</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">hydros21Depth</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-20\" name=\"l-20\"></a><span class=\"linenos\">20</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">MeterHydros21_Depth</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">hydros21</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span>\n</div></div></div><hr/></section><section id=\"menu_walk_meter_teros11\"><h5>Meter Teros 11 Soil Moisture Sensor</h5><aside class=\"m-note m-default\"><h4>See also</h4><p><a href=\"group__sensor__teros11.html\" class=\"m-doc\">Meter Teros 11</a></p></aside><div class=\"m-code-arduino\"><div class=\"highlight\"><div class=\"line\"><a id=\"l-1\" name=\"l-1\"></a><span class=\"linenos\"> 1</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;sensors/MeterTeros11.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-2\" name=\"l-2\"></a><span class=\"linenos\"> 2</span></div>\n<div class=\"line\"><a id=\"l-3\" name=\"l-3\"></a><span class=\"linenos\"> 3</span><span class=\"c1\">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span></div>\n<div class=\"line\"><a id=\"l-4\" name=\"l-4\"></a><span class=\"linenos\"> 4</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"w\">   </span><span class=\"n\">teros11SDI12address</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s\">&quot;4&quot;</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// The SDI-12 Address of the Teros 11</span></div>\n<div class=\"line\"><a id=\"l-5\" name=\"l-5\"></a><span class=\"linenos\"> 5</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">terosPower</span><span class=\"w\">          </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">sensorPowerPin</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Power pin</span></div>\n<div class=\"line\"><a id=\"l-6\" name=\"l-6\"></a><span class=\"linenos\"> 6</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">terosData</span><span class=\"w\">           </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">sdi12DataPin</span><span class=\"p\">;</span><span class=\"w\">    </span><span class=\"c1\">// The SDI-12 data pin</span></div>\n<div class=\"line\"><a id=\"l-7\" name=\"l-7\"></a><span class=\"linenos\"> 7</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">uint8_t</span><span class=\"w\"> </span><span class=\"n\">teros11NumberReadings</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// The number of readings to average</span></div>\n<div class=\"line\"><a id=\"l-8\" name=\"l-8\"></a><span class=\"linenos\"> 8</span></div>\n<div class=\"line\"><a id=\"l-9\" name=\"l-9\"></a><span class=\"linenos\"> 9</span><span class=\"c1\">// Create a METER TEROS 11 sensor object</span></div>\n<div class=\"line\"><a id=\"l-10\" name=\"l-10\"></a><span class=\"linenos\">10</span><span class=\"n\">MeterTeros11</span><span class=\"w\"> </span><span class=\"nf\">teros11</span><span class=\"p\">(</span><span class=\"o\">*</span><span class=\"n\">teros11SDI12address</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">terosPower</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">terosData</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-11\" name=\"l-11\"></a><span class=\"linenos\">11</span><span class=\"w\">                     </span><span class=\"n\">teros11NumberReadings</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-12\" name=\"l-12\"></a><span class=\"linenos\">12</span></div>\n<div class=\"line\"><a id=\"l-13\" name=\"l-13\"></a><span class=\"linenos\">13</span><span class=\"c1\">// Create the matric potential, volumetric water content, and temperature</span></div>\n<div class=\"line\"><a id=\"l-14\" name=\"l-14\"></a><span class=\"linenos\">14</span><span class=\"c1\">// variable pointers for the Teros 11</span></div>\n<div class=\"line\"><a id=\"l-15\" name=\"l-15\"></a><span class=\"linenos\">15</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">teros11Ea</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-16\" name=\"l-16\"></a><span class=\"linenos\">16</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">MeterTeros11_Ea</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">teros11</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-17\" name=\"l-17\"></a><span class=\"linenos\">17</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">teros11Temp</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-18\" name=\"l-18\"></a><span class=\"linenos\">18</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">MeterTeros11_Temp</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">teros11</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-19\" name=\"l-19\"></a><span class=\"linenos\">19</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">teros11VWC</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-20\" name=\"l-20\"></a><span class=\"linenos\">20</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">MeterTeros11_VWC</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">teros11</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-21\" name=\"l-21\"></a><span class=\"linenos\">21</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">teros11Count</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-22\" name=\"l-22\"></a><span class=\"linenos\">22</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">MeterTeros11_Count</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">teros11</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span>\n</div></div></div><hr/></section></section><section id=\"menu_walk_paleo_terra_redox\"><h4>PaleoTerra Redox Sensors</h4><p>Because older versions of these sensors all ship with the same I2C address, and more than one is frequently used at different soil depths in the same profile, this module has an optional dependence on Testato&#x27;s <a href=\"https://github.com/Testato/SoftwareWire\">SoftwareWire</a> library for software I2C.</p><p>To use software I2C, compile with the build flag <code>-D MS_PALEOTERRA_SOFTWAREWIRE</code>. See the <a href=\"https://envirodiy.github.io/ModularSensors/menu_a_la_carte_8ino-example.html#enu_walk_softwarewire\">software wire</a> section for an example of creating a software I2C instance to share between sensors.</p><p>The constructors for the software I2C implementation requires either the SCL and SDA pin numbers or a reference to the I2C object as arguments. All variants of the constructor require the Arduino power pin. The I2C address can be given if it the sensor is not set to the default of 0x68. A number of readings to average can also be given.</p><hr/><aside class=\"m-note m-danger\"><h4>Warning</h4><p>Either all or none of your attached redox probes may use software I2C. Using some with software I2C and others with hardware I2C is not supported.</p></aside><aside class=\"m-note m-default\"><h4>See also</h4><p><a href=\"group__sensor__pt__redox.html\" class=\"m-doc\">PaleoTerra Redox</a></p></aside><div class=\"m-code-arduino\"><div class=\"highlight\"><div class=\"line\"><a id=\"l-1\" name=\"l-1\"></a><span class=\"linenos\"> 1</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;sensors/PaleoTerraRedox.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-2\" name=\"l-2\"></a><span class=\"linenos\"> 2</span></div>\n<div class=\"line\"><a id=\"l-3\" name=\"l-3\"></a><span class=\"linenos\"> 3</span><span class=\"c1\">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span></div>\n<div class=\"line\"><a id=\"l-4\" name=\"l-4\"></a><span class=\"linenos\"> 4</span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">paleoTerraPower</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">sensorPowerPin</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Power pin</span></div>\n<div class=\"line\"><a id=\"l-5\" name=\"l-5\"></a><span class=\"linenos\"> 5</span><span class=\"kr\">uint8_t</span><span class=\"w\"> </span><span class=\"n\">paleoI2CAddress</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mh\">0x68</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// the I2C address of the redox sensor</span></div>\n<div class=\"line\"><a id=\"l-6\" name=\"l-6\"></a><span class=\"linenos\"> 6</span></div>\n<div class=\"line\"><a id=\"l-7\" name=\"l-7\"></a><span class=\"linenos\"> 7</span><span class=\"c1\">// Create the PaleoTerra sensor object</span></div>\n<div class=\"line\"><a id=\"l-8\" name=\"l-8\"></a><span class=\"linenos\"> 8</span><span class=\"cp\">#if defined(MS_PALEOTERRA_SOFTWAREWIRE)</span></div>\n<div class=\"line\"><a id=\"l-9\" name=\"l-9\"></a><span class=\"linenos\"> 9</span><span class=\"n\">PaleoTerraRedox</span><span class=\"w\"> </span><span class=\"nf\">ptRedox</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">softI2C</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">paleoTerraPower</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">paleoI2CAddress</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-10\" name=\"l-10\"></a><span class=\"linenos\">10</span><span class=\"c1\">// PaleoTerraRedox ptRedox(paleoTerraPower, softwareSDA, softwareSCL,</span></div>\n<div class=\"line\"><a id=\"l-11\" name=\"l-11\"></a><span class=\"linenos\">11</span><span class=\"c1\">// paleoI2CAddress);</span></div>\n<div class=\"line\"><a id=\"l-12\" name=\"l-12\"></a><span class=\"linenos\">12</span><span class=\"cp\">#else</span></div>\n<div class=\"line\"><a id=\"l-13\" name=\"l-13\"></a><span class=\"linenos\">13</span><span class=\"n\">PaleoTerraRedox</span><span class=\"w\"> </span><span class=\"nf\">ptRedox</span><span class=\"p\">(</span><span class=\"n\">paleoTerraPower</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">paleoI2CAddress</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-14\" name=\"l-14\"></a><span class=\"linenos\">14</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-15\" name=\"l-15\"></a><span class=\"linenos\">15</span></div>\n<div class=\"line\"><a id=\"l-16\" name=\"l-16\"></a><span class=\"linenos\">16</span><span class=\"c1\">// Create the voltage variable for the redox sensor</span></div>\n<div class=\"line\"><a id=\"l-17\" name=\"l-17\"></a><span class=\"linenos\">17</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">ptVolt</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">PaleoTerraRedox_Voltage</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-18\" name=\"l-18\"></a><span class=\"linenos\">18</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">ptRedox</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span>\n</div></div></div><hr/></section><section id=\"menu_walk_rain_counter_i2c\"><h4>Trinket-Based Tipping Bucket Rain Gauge</h4><p>This is for use with a simple external I2C tipping bucket counter based on the <a href=\"https://www.adafruit.com/product/1501\">Adafruit Trinket</a>. All constructor arguments are optional, but the first argument is for the I2C address of the tip counter (if not 0x08) and the second is for the depth of rain (in mm) per tip event (if not 0.2mm). Most metric tipping buckets are calibrated to have 1 tip per 0.2mm of rain. Most English tipping buckets are calibrated to have 1 tip per 0.01&quot; of rain, which is 0.254mm.\nNote that you cannot input a number of measurements to average because averaging does not make sense with this kind of counted variable.\n\n@see @ref sensor_i2c_rain\n\n @snippet{lineno} menu_a_la_carte.ino rain_counter_i2c \n\n&lt;hr&gt;\n\n@paragraph menu_walk_sensirion_sht4x Sensirion SHT4X Digital Humidity and Temperature Sensor\n\n@see @ref sensor_sht4x\n\n @snippet{lineno} menu_a_la_carte.ino sensirion_sht4x \n\n&lt;hr&gt;\n\n@subsubsection menu_walk_tally Northern Widget Tally Event Counter\n\nThis is for use with Northern Widget&#x27;s Tally event counter\n\n\\attention \nNorthern Widget considers this sensor to be one of their &quot;bleeding edge&quot; sensors.\nAs such, it is subject to change at any time.\nThis library may not be updated immediately to reflect changes on the part of Northern Widget.\n\nThe only option for the constructor is an optional setting for the I2C address, if the counter is not set at the default of 0x33.\nThe counter should be continuously powered.\n\n@see @ref sensor_tally\n\n @snippet{lineno} menu_a_la_carte.ino tally_counter_i2c \n\n&lt;hr&gt;\n\n@subsubsection menu_walk_ti_ina219 TI INA219 High Side Current Sensor\n\nThis is the code for the TI INA219 high side current and voltage sensor.\nThe Arduino pin controlling power on/off is all that is required for the constructor.\nIf your INA219 is not at the standard address of 0x40, you can enter its actual address as the fourth argument.\nThe number of measurements to average, if more than one is desired, goes as the fifth argument.\n\n@see @ref sensor_ina219\n\n @snippet{lineno} menu_a_la_carte.ino ti_ina219 \n\n&lt;hr&gt;\n\n@subsubsection menu_walk_turner_cyclops Turner Cyclops-7F Submersible Fluorometer\n\nThis is the code for the Turner Cyclops-7F submersible fluorometer.\nThe Arduino pin controlling power on/off and all calibration information is needed for the constructor.\nThe address of the ADS1x15, if it is different than the default of 0x48, can be entered after the calibration information.\nThe number of measurements to average, if more than one is desired, is the last argument.\n\nThe Cyclops sensors are &lt;em&gt;NOT&lt;/em&gt; pre-calibrated and must be calibrated prior to deployment.\n\n@see @ref sensor_cyclops\n\n @snippet{lineno} menu_a_la_carte.ino turner_cyclops \n\n&lt;hr&gt;\n\n@subsubsection menu_walk_turner_turbidity_plus Turner Turbidity Plus with Integrated Wiper\n\nThis is the code for the Turner Turbidity Plus analog turbidity sensor.\n\nThe Turbidity Plus sensors are &lt;em&gt;NOT&lt;/em&gt; pre-calibrated and must be calibrated prior to deployment.\n\n@see @ref sensor_turbidity_plus\n\n @snippet{lineno} menu_a_la_carte.ino turner_turbidity_plus \n\n&lt;hr&gt;\n\n@subsubsection menu_walk_analog_elec_conductivity Analog Electrical Conductivity using the Processor&#x27;s Analog Pins\n\nThis is the code for the measuring electrical conductivity using the processor&#x27;s internal ADC and analog input pins.\nThe Arduino pin controlling power on/off and the sensing pin are required for the constructor.\nThe power supply for the sensor &lt;em&gt;absolutely must be switched on and off between readings&lt;/em&gt;!\nThe resistance of your in-circuit resistor, the cell constant for your power cord, and the number of measurements to average are the optional third, fourth, and fifth arguments.\nFor best results, you should also connect the AREF pin of your processors ADC to the power supply for the and compile with the build flag &lt;tt&gt;-D MS_PROCESSOR_ADC_REFERENCE_MODE=EXTERNAL&lt;/tt&gt;.\n\n@see @ref sensor_analog_cond\n\n @snippet{lineno} menu_a_la_carte.ino analog_elec_conductivity \n\n&lt;hr&gt;\n\n@paragraph menu_walk_vega_puls21 VEGA VEGA PULS 21\n\n@see @ref sensor_vega_puls21\n\n @snippet{lineno} menu_a_la_carte.ino vega_puls21 \n\n&lt;hr&gt;\n\n@subsubsection menu_walk_yosemitech_sensors Yosemitech RS485/Modbus Environmental Sensors\n\nThe next several sections are for Yosemitech brand sensors.\nThe sensor class constructors for each are nearly identical, except for the class name.\nThe sensor constructor requires as input: the sensor modbus address,  a stream instance for data (ie, &lt;tt&gt;Serial&lt;/tt&gt;), and one or two power pins.\nThe Arduino pin controlling the receive and data enable on your RS485-to-TTL adapter and the number of readings to average are optional.\n(Use -1 for the second power pin and -1 for the enable pin if these don&#x27;t apply and you want to average more than one reading.)\nFor most of the sensors, Yosemitech strongly recommends averaging multiple (in most cases 10) readings for each measurement.\nPlease see the section &quot;[Notes on Arduino Streams and Software Serial](<a href=\"page_arduino_streams.html\" class=\"m-doc\">Notes on Arduino Streams and Software Serial</a>)&quot; for more information about what streams can be used along with this library.\nIn tests on these sensors, SoftwareSerial_ExtInts &lt;em&gt;did not work&lt;/em&gt; to communicate with these sensors, because it isn&#x27;t stable enough.\nAltSoftSerial and HardwareSerial work fine.\nNeoSWSerial is a bit hit or miss, but can be used in a pinch.\n\nThe serial ports for this example are created in the @ref menu_walk_serial_ports section and then assigned to modbus functionality in the @ref menu_walk_assign_ports_sw section.\n\n@see @ref yosemitech_group\n\n@paragraph menu_walk_yosemitech_y504 Yosemitech Y504 Dissolved Oxygen Sensor\n\n@see @ref sensor_y504\n\n @snippet{lineno} menu_a_la_carte.ino yosemitech_y504 \n\n&lt;hr&gt;\n\n@paragraph menu_walk_yosemitech_y510 Yosemitech Y510 Turbidity Sensor\n\n@see @ref sensor_y510\n\n @snippet{lineno} menu_a_la_carte.ino yosemitech_y510 \n\n&lt;hr&gt;\n\n@paragraph menu_walk_yosemitech_y511 Yosemitech Y511 Turbidity Sensor with Wiper\n\n@see @ref sensor_y511\n\n @snippet{lineno} menu_a_la_carte.ino yosemitech_y511 \n\n&lt;hr&gt;\n\n@paragraph menu_walk_yosemitech_y513 Yosemitech Y513 Blue-Green Algae Sensor\n\n@see @ref sensor_y513\n\n @snippet{lineno} menu_a_la_carte.ino yosemitech_y513 \n\n&lt;hr&gt;\n\n@paragraph menu_walk_yosemitech_y514 Yosemitech Y514 Chlorophyll Sensor\n\n@see @ref sensor_y514\n\n @snippet{lineno} menu_a_la_carte.ino yosemitech_y514 \n\n&lt;hr&gt;\n\n@paragraph menu_walk_yosemitech_y520 Yosemitech Y520 Conductivity Sensor\n\n@see @ref sensor_y520\n\n @snippet{lineno} menu_a_la_carte.ino yosemitech_y520 \n\n&lt;hr&gt;\n\n@paragraph menu_walk_yosemitech_y532 Yosemitech Y532 pH Sensor\n\n@see @ref sensor_y532\n\n @snippet{lineno} menu_a_la_carte.ino yosemitech_y532 \n\n&lt;hr&gt;\n\n@paragraph menu_walk_yosemitech_y533 Yosemitech Y533 Oxidation Reduction Potential (ORP) Sensor\n\n@see @ref sensor_y533\n\n @snippet{lineno} menu_a_la_carte.ino yosemitech_y533 \n\n&lt;hr&gt;\n\n@paragraph menu_walk_yosemitech_y551 Yosemitech Y551 Carbon Oxygen Demand (COD) Sensor with Wiper\n\n@see @ref sensor_y551\n\n @snippet{lineno} menu_a_la_carte.ino yosemitech_y551 \n\n&lt;hr&gt;\n\n@paragraph menu_walk_yosemitech_y560 Yosemitech Y560 Ammonium Sensor\n\n@see @ref sensor_y551\n\n @snippet{lineno} menu_a_la_carte.ino yosemitech_y560 \n\n&lt;hr&gt;\n\n@paragraph menu_walk_yosemitech_y700 Yosemitech Y700 Pressure Sensor\n\n@see @ref sensor_y700\n\n @snippet{lineno} menu_a_la_carte.ino yosemitech_y700 \n\n&lt;hr&gt;\n\n@paragraph menu_walk_yosemitech_y4000 Yosemitech Y4000 Multi-Parameter Sonde\n\n@see @ref sensor_y4000\n\n @snippet{lineno} menu_a_la_carte.ino yosemitech_y4000 \n\n&lt;hr&gt;\n\n@subsubsection menu_walk_zebra_tech_d_opto Zebra Tech D-Opto Dissolved Oxygen Sensor\n\nThe SDI-12 address of the sensor, the Arduino pin controlling power on/off, and the Arduino pin sending and receiving data are required for the sensor constructor.\nOptionally, you can include a number of distinct readings to average.\nThe data pin must be a pin that supports pin-change interrupts.\n\n@see @ref sensor_dopto\n\n @snippet{lineno} menu_a_la_carte.ino zebra_tech_d_opto \n\n&lt;hr&gt;\n\n@subsection menu_walk_calculated_variables Calculated Variables\n\nCreate new Variable objects calculated from the measured variables.\nFor these calculate variables, we must not only supply a function for the calculation, but also all of the metadata about the variable - like the name of the variable and its units.\n\n @snippet{lineno} menu_a_la_carte.ino calculated_variables \n\n&lt;hr&gt;\n\n@subsection menu_walk_create_objs Creating the array, logger, publishers\n\n@subsubsection menu_walk_variable_array The variable array\n\nCreate a VariableArray containing all of the Variable objects that we are logging the values of.\n\nThis shows three different ways of creating the same variable array and filling it with variables.\nYou should only use &lt;strong&gt;ONE&lt;/strong&gt; of these in your own code\n\n@paragraph menu_walk_variables_create_in_array Creating Variables within an Array\n\nHere we use the &lt;tt&gt;new&lt;/tt&gt; keyword to create multiple variables and get pointers to them all at the same time within the array.\n\n @snippet{lineno} menu_a_la_carte.ino variables_create_in_array \n\n@paragraph menu_walk_variables_separate_uuids Creating Variables and Pasting UUIDs from MonitorMyWatershed\n\nIf you are sending data to monitor my watershed, it is much easier to create the variables in an array and then to paste the UUID&#x27;s all together as copied from the &quot;View Token UUID List&quot; link for a site.\nIf using this method, be very, very, very careful to make sure the order of your variables exactly matches the order of your UUID&#x27;s.\n\n @snippet{lineno} menu_a_la_carte.ino variables_separate_uuids \n\n@paragraph menu_walk_variables_pre_named Using Pre-Named Variables within an Array\n\nYou can also create and name variable pointer objects outside of the array (as is demonstrated in all of the code chunks here) and then reference those pointers inside of the array like so:\n\n @snippet{lineno} menu_a_la_carte.ino variables_pre_named \n\n&lt;hr&gt;\n\n@subsubsection menu_walk_logger_obj The Logger Object\n\nNow that we&#x27;ve created the array, we can actually create the #Logger object.\n\n @snippet{lineno} menu_a_la_carte.ino loggers \n\n&lt;hr&gt;\n\n@subsubsection menu_walk_data_publisher Data Publishers\n\nHere we set up all three possible data publishers and link all of them to the same Logger object.\n\n@paragraph menu_walk_enviro_diy_publisher Monitor My Watershed\n\nTo publish data to the Monitor My Watershed / EnviroDIY Data Sharing Portal first you must register yourself as a user at &lt;https://monitormywatershed.org&gt; or &lt;https://data.envirodiy.org&gt;.\nThen you must register your site.\nAfter registering your site, a sampling feature and registration token for that site should be visible on the site page.\n\n @snippet{lineno} menu_a_la_carte.ino enviro_diy_publisher \n\n&lt;hr&gt;\n\n@paragraph menu_walk_dream_host_publisher DreamHost\n\nIt is extremely unlikely you will use this.\nYou should ignore this section.\n\n @snippet{lineno} menu_a_la_carte.ino dream_host_publisher \n\n&lt;hr&gt;\n\n@paragraph menu_walk_thing_speak_publisher ThingSpeak\n\nAfter you have set up a channel and MQTT device on ThingSpeak, you can use this code to publish your data to it.\n\nKeep in mind that the order of variables in the VariableArray is &lt;strong&gt;crucial&lt;/strong&gt; when publishing to ThingSpeak.\nIf you set a user API key, this library will attempt to update your channel name and your field names with the logger ID and the variable names at boot-up.\n\n @snippet{lineno} menu_a_la_carte.ino thing_speak_publisher \n\n&lt;hr&gt;\n\n@paragraph menu_walk_ubidots_publisher Ubidots\n\nUse this to publish data to Ubidots.\n\n @snippet{lineno} menu_a_la_carte.ino ubidots_publisher \n\n&lt;hr&gt;\n\n@paragraph menu_walk_s3_presigned_publisher AWS S3\n\nUse this to publish data S3 using a pre-signed URL.\nGetting this to work requires you to set up an endpoint and parse an incoming S3 URL to publish to.\nUnlike the other publishers, this S3 publisher is &lt;strong&gt;not&lt;/strong&gt; meant to be used to publish numeric sensor data.\nThis is intended to send image data from the Geolux HydroCam or any future sensors that generate image or other large binary data.\nSee the separate AWS examples for how to use this.\n\n @snippet{lineno} menu_a_la_carte.ino s3_presigned_publisher \n\n&lt;hr&gt;\n\n@paragraph menu_walk_aws_io_t_publisher AWS IoT Core\n\nUse this to publish data to AWS IoT Core.\nThis can also be used to fetch a pre-signed URL to publish to S3 - if you have the proper IoT Core rules and a lambda function set up.\nSee the separate AWS examples for how to use this.\n\n @snippet{lineno} menu_a_la_carte.ino aws_io_t_publisher \n\n&lt;hr&gt;\n\n@subsection menu_walk_working Extra Working Functions\n\nHere we&#x27;re creating a few extra functions on the global scope.\nThe flash function is used at board start up just to give an indication that the board has restarted.\nThe battery function calls the #ProcessorStats sensor to check the battery level before attempting to log or publish data.\n\n @snippet{lineno} menu_a_la_carte.ino working_functions \n\n&lt;hr&gt;\n\n@subsection menu_walk_setup Arduino Setup Function\n\nThis is our setup function.\nIn Arduino coding, the classic &quot;main&quot; function is replaced by two functions: setup() and loop().\nThe setup() function runs once when the board boots or restarts.\nIt usually contains many functions that set the mode of input and output pins and prints out some debugging information to the serial port.\nThese functions are frequently named &quot;begin&quot;.\nBecause we have a &lt;em&gt;lot&lt;/em&gt; of parts to set up, there&#x27;s a lot going on in this function!\n\nLet&#x27;s break it down.\n\n@subsubsection menu_walk_setup_open Starting the Function\n\nFirst we just open the function definitions:\n\n@code{cpp} \nvoid setup() {\n@endcode\n\n@subsubsection menu_walk_setup_wait Wait for USB\n\nNext we wait for the USB debugging port to initialize.\nThis only applies to SAMD and 32U4 boards that have built-in USB support.\nThis code should not be used for deployed loggers; it&#x27;s only for using a USB for debugging.\n\n @snippet{lineno} menu_a_la_carte.ino setup_wait \n\n@subsubsection menu_walk_setup_prints Printing a Hello\n\nNext we print a message out to the debugging port.\nThis is also just for debugging - it&#x27;s very helpful when connected to the logger via USB to see a clear indication that the board is starting\n\n @snippet{lineno} menu_a_la_carte.ino setup_prints \n\n@subsubsection menu_walk_setup_serial_interrupts Serial Interrupts\n\nIf we&#x27;re using either NeoSWSerial or SoftwareSerial_ExtInts we need to assign the data receiver pins to interrupt functionality here in the setup.\n\nThe &lt;a href=&quot;<a href=\"https://envirodiy.github.io/ModularSensors/menu_a_la_carte_8ino-example.html#enu_walk_neoswserial\">https://envirodiy.github.io/ModularSensors/menu_<wbr />a_<wbr />la_<wbr />carte_<wbr />8ino-example.html#enu_<wbr />walk_<wbr />neoswserial</a>&quot; &gt;NeoSWSerial&lt;/a&gt; and &lt;a href=&quot;<a href=\"https://envirodiy.github.io/ModularSensors/menu_a_la_carte_8ino-example.html#enu_walk_softwareserial\">https://envirodiy.github.io/ModularSensors/menu_<wbr />a_<wbr />la_<wbr />carte_<wbr />8ino-example.html#enu_<wbr />walk_<wbr />softwareserial</a>&quot; &gt;SoftwareSerial_ExtInts&lt;/a&gt; objects were created way up in the &lt;a href=&quot;<a href=\"https://envirodiy.github.io/ModularSensors/menu_a_la_carte_8ino-example.html#enu_walk_serial_ports\">https://envirodiy.github.io/ModularSensors/menu_<wbr />a_<wbr />la_<wbr />carte_<wbr />8ino-example.html#enu_<wbr />walk_<wbr />serial_<wbr />ports</a>&quot; &gt;Extra Serial Ports&lt;/a&gt; section.\n\n&lt;strong&gt;NOTE:&lt;/strong&gt;  If you create more than one NeoSWSerial or Software serial object, you need to call the enableInterrupt function for each Rx pin!\n\nFor NeoSWSerial we use:\n\n@code{cpp} \n    enableInterrupt(neoSSerial1Rx, neoSSerial1ISR, CHANGE);\n@endcode\n\nFor SoftwareSerial with External interrupts we use:\n\n@code{cpp} \n    enableInterrupt(softSerialRx, SoftwareSerial_ExtInts::handle_interrupt,\n                    CHANGE);\n@endcode\n\n @snippet{lineno} menu_a_la_carte.ino setup_softserial \n\n@subsubsection menu_walk_setup_serial_begin Serial Begin\n\nEvery serial port setup and used in the program must be &quot;begun&quot; in the setup function.\nThis section calls the begin functions for all of the various ports defined in the &lt;a href=&quot;<a href=\"https://envirodiy.github.io/ModularSensors/menu_a_la_carte_8ino-example.html#enu_walk_serial_ports\">https://envirodiy.github.io/ModularSensors/menu_<wbr />a_<wbr />la_<wbr />carte_<wbr />8ino-example.html#enu_<wbr />walk_<wbr />serial_<wbr />ports</a>&quot; &gt;Extra Serial Ports&lt;/a&gt; section\n\n @snippet{lineno} menu_a_la_carte.ino setup_serial_begins \n\n@subsubsection menu_walk_setup_pin_periph SAMD Pin Peripherals\n\nAfter beginning all of the serial ports, we need to set the pin peripheral settings for any SERCOM&#x27;s we assigned to serial functionality on the SAMD boards.\nThese were created in the &lt;a href=&quot;<a href=\"https://envirodiy.github.io/ModularSensors/menu_a_la_carte_8ino-example.html#enu_walk_samd_serial_ports\">https://envirodiy.github.io/ModularSensors/menu_<wbr />a_<wbr />la_<wbr />carte_<wbr />8ino-example.html#enu_<wbr />walk_<wbr />samd_<wbr />serial_<wbr />ports</a>&quot; &gt;Extra Serial Ports&lt;/a&gt; section above.\nThis does not need to be done for an AVR board (like the Mayfly).\n\n @snippet{lineno} menu_a_la_carte.ino setup_samd_pins \n\n@subsubsection menu_walk_setup_flash Flash the LEDs\n\nLike printing debugging information to the serial port, flashing the board LED&#x27;s is a very helpful indication that the board just restarted.\nHere we set the pin modes for the LED pins and flash them back and forth using the greenRedFlash() function we created back in the &lt;a href=&quot;<a href=\"https://envirodiy.github.io/ModularSensors/menu_a_la_carte_8ino-example.html#enu_walk_working\">https://envirodiy.github.io/ModularSensors/menu_<wbr />a_<wbr />la_<wbr />carte_<wbr />8ino-example.html#enu_<wbr />walk_<wbr />working</a>&quot; &gt;working functions&lt;/a&gt; section.\n\n @snippet{lineno} menu_a_la_carte.ino setup_flashing_led \n\n@subsubsection menu_walk_setup_logger Begin the Logger\n\nNext get ready and begin the logger.\nWe set the logger time zone and the clock time zone.\nThe clock time zone is what the RTC will report; the logger time zone is what will be written to the SD card and all data publishers.\nThe values are set with the &lt;tt&gt;Logger::&lt;/tt&gt; prefix because they are static variables of the Logger class rather than member variables.\nHere we also tie the logger and modem together and set all the logger pins.\nThen we finally run the logger&#x27;s begin function.\n\n @snippet{lineno} menu_a_la_carte.ino setup_logger \n\n@subsubsection menu_walk_setup_sensors Setup the Sensors\n\nAfter beginning the logger, we setup all the sensors.\nUnlike all the previous chunks of the setup that are preparation steps only requiring the mcu processor, this might involve powering up the sensors.\nTo prevent a low power restart loop, we put a battery voltage condition on the sensor setup.\nThis prevents a solar powered board whose battery has died from continuously restarting as soon as it gains any power on sunrise.\nWithout the condition the board would boot with power, try to power hungry sensors, brown out, and restart over and over.\n\n @snippet{lineno} menu_a_la_carte.ino setup_sensors \n\n@subsubsection menu_walk_setup_modem Custom Modem Setup\n\nNext we can opt to do some special setup needed for a few of the modems.\nYou should only use the one chunk that applies to your specific modem configuration and delete the others.\n\n@paragraph menu_walk_setup_esp ESP8266 Baud Rate\n\nThis chunk of code reduces the baud rate of the ESP8266 from its default of 115200 to 9600.\nThis is only needed for 8MHz boards (like the Mayfly) that cannot communicate at 115200 baud.\n\n @snippet{lineno} menu_a_la_carte.ino setup_esp \n\n@paragraph menu_walk_setup_skywire Skywire Pin Inversions\n\nThis chunk of code inverts the pin levels for status, wake, and reset of the modem.\nThis is necessary for the Skywire development board and some other breakouts.\n\n @snippet{lineno} menu_a_la_carte.ino setup_skywire \n\n@paragraph setup_sim7080 SimCom SIM7080G Network Mode\n\nThis chunk of code sets the network mode and preferred mode for the SIM7080G.\n\n @snippet{lineno} menu_a_la_carte.ino setup_sim7080 \n\n@paragraph menu_walk_setup_xbeec_carrier XBee Cellular Carrier\n\nThis chunk of code sets the carrier profile and network technology for a Digi XBee or XBee3.\nYou should change the lines with the &lt;tt&gt;CP&lt;/tt&gt; and &lt;tt&gt;N\\#&lt;/tt&gt; commands to the proper number to match your SIM card.\n\n @snippet{lineno} menu_a_la_carte.ino setup_xbeec_carrier \n\n@paragraph setup_r4_carrier SARA R4 Cellular Carrier\n\nThis chunk of code sets the carrier profile and network technology for a u-blox SARA R4 or N4 module, including a Sodaq R410 UBee or a Digi XBee3 LTE-M in bypass mode..\nYou should change the lines with the &lt;tt&gt;UMNOPROF&lt;/tt&gt; and &lt;tt&gt;URAT&lt;/tt&gt; commands to the proper number to match your SIM card.\n\n @snippet{lineno} menu_a_la_carte.ino setup_r4_carrier \n\n@subsubsection menu_walk_setup_clock Sync the Real Time Clock\n\nAfter any special modem options, we can opt to use the modem to synchronize the real time clock with the NIST time servers.\nThis is very helpful in keeping the clock from drifting or resetting it if it lost time due to power loss.\nLike the sensor setup, we also apply a battery voltage voltage condition before attempting the clock sync.\n(All of the supported modems are large power eaters.)\nUnlike the sensor setup, we have an additional check for &quot;sanity&quot; of the clock time.\nTo be considered &quot;sane&quot; the clock has to set somewhere between #EARLIEST_SANE_UNIX_TIMESTAMP (currently January 1, 2025) and #LATEST_SANE_UNIX_TIMESTAMP (currently January 1, 2035).\nIt&#x27;s a broad range, but it will automatically flag values like Jan 1, 2000 - which are the default start value of the clock on power up.\n\n @snippet{lineno} menu_a_la_carte.ino setup_clock \n\n@subsubsection menu_walk_setup_file Setup File on the SD card\n\nWe&#x27;re getting close to the end of the setup function!\nThis section verifies that the SD card is communicating with the MCU and sets up a file on it for saved data.\nLike with the sensors and the modem, we check for battery level before attempting to communicate with the SD card.\n\n @snippet{lineno} menu_a_la_carte.ino setup_file \n\n@subsubsection menu_walk_setup_sleep Sleep until the First Data Collection Time\n\nWe&#x27;re finally fished with setup!\nThis chunk puts the system into low power deep sleep until the next logging interval.\n\n @snippet{lineno} menu_a_la_carte.ino setup_sleep \n\n@subsubsection menu_walk_setup_done Setup Complete\n\nSet up is done!\nThis setup function is &lt;em&gt;really&lt;/em&gt; long.\nBut don&#x27;t forget you need to close it with a final curly brace.\n\n@code{cpp} \n}\n@endcode\n\n&lt;hr&gt;\n\n@subsection menu_walk_loop Arduino Loop Function\n\nThis is the loop function which will run repeatedly as long as the board is turned on.\n&lt;strong&gt;NOTE:&lt;/strong&gt;  This example has code for both a typical simple loop and a complex loop that calls lower level logger functions.\nYou should only pick &lt;em&gt;one&lt;/em&gt; loop function and delete the other.\n\n@subsubsection menu_walk_simple_loop A Typical Loop\n\nAfter the incredibly long setup function, we can do the vast majority of all logger work in a very simple loop function.\nEvery time the logger wakes we check the battery voltage and do 1 of three things:\n\n1. If the battery is very low, go immediately back to sleep and hope the sun comes back out\n2. If the battery is at a moderate level, attempt to collect data from sensors, but do not attempt to publish data.\nThe modem the biggest power user of the whole system.\n3.\n\nAt full power, do everything.\n\n @snippet{lineno} menu_a_la_carte.ino simple_loop \n\n@subsubsection menu_walk_complex_loop A Complex Loop\n\nIf you need finer control over the steps of the logging function, this code demonstrates how the loop should be constructed.\n\nHere are some guidelines for writing a loop function:\n\n- If you want to log on an even interval, use &lt;tt&gt;if (checkInterval())&lt;/tt&gt; or &lt;tt&gt;if (checkMarkedInterval())&lt;/tt&gt; to verify that the current or marked time is an even interval of the logging interval..\n- Call the &lt;tt&gt;markTime()&lt;/tt&gt; function if you want associate with a two iterations of sensor updates with the same timestamp.\nThis allows you to use &lt;tt&gt;checkMarkedInterval()&lt;/tt&gt; to check if an action should be preformed based on the exact time when the logger woke rather than up to several seconds later when iterating through sensors.\n- Either:\n  - Power up all of your sensors with &lt;tt&gt;sensorsPowerUp()&lt;/tt&gt;.\n  - Wake up all your sensors with &lt;tt&gt;sensorsWake()&lt;/tt&gt;.\n  - Update the values all the sensors in your VariableArray together with &lt;tt&gt;updateAllSensors()&lt;/tt&gt;.\n  - Immediately after running &lt;tt&gt;updateAllSensors()&lt;/tt&gt;, put sensors to sleep to save power with &lt;tt&gt;sensorsSleep()&lt;/tt&gt;.\n  - Power down all of your sensors with &lt;tt&gt;sensorsPowerDown()&lt;/tt&gt;.\n- Or:\n  - Do a full update loop of all sensors, including powering them with &lt;tt&gt;completeUpdate()&lt;/tt&gt;.\n(This combines the previous 5 functions.)\n- After updating the sensors, then call any functions you want to send/print/save data.\n- Finish by putting the logger back to sleep, if desired, with &lt;tt&gt;systemSleep()&lt;/tt&gt;.\n\nAll together, this gives:\n\n @snippet{lineno} menu_a_la_carte.ino complex_loop \n\nIf you need more help in writing a complex loop, the &lt;a href=&quot;<a href=\"https://github.com/EnviroDIY/ModularSensors/tree/master/examples/double_logger\">https://github.com/EnviroDIY/ModularSensors/tree/master/examples/double_<wbr />logger</a>&quot; &gt;double_logger example program&lt;/a&gt; demonstrates using a custom loop function in order to log two different groups of sensors at different logging intervals.\nThe &lt;a href=&quot;<a href=\"https://github.com/EnviroDIY/ModularSensors/tree/master/examples/data_saving\">https://github.com/EnviroDIY/ModularSensors/tree/master/examples/data_<wbr />saving</a>&quot; &gt;data_saving example program shows using a custom loop in order to save cellular data by saving data from many variables on the SD card, but only sending a portion of the data to the EnviroDIY data portal.</p></section></section></section><section id=\"example_menu_pio_config\"><h2>PlatformIO Configuration</h2><div class=\"m-code-pygments-default\"><div class=\"highlight\"><div class=\"line\"><a id=\"l-1\" name=\"l-1\"></a><span class=\"linenos\"> 1</span><span class=\"c1\">; PlatformIO Project Configuration File</span></div>\n<div class=\"line\"><a id=\"l-2\" name=\"l-2\"></a><span class=\"linenos\"> 2</span><span class=\"c1\">;</span></div>\n<div class=\"line\"><a id=\"l-3\" name=\"l-3\"></a><span class=\"linenos\"> 3</span><span class=\"c1\">;   Build options: build flags, source filter</span></div>\n<div class=\"line\"><a id=\"l-4\" name=\"l-4\"></a><span class=\"linenos\"> 4</span><span class=\"c1\">;   Upload options: custom upload port, speed and extra flags</span></div>\n<div class=\"line\"><a id=\"l-5\" name=\"l-5\"></a><span class=\"linenos\"> 5</span><span class=\"c1\">;   Library options: dependencies, extra library storages</span></div>\n<div class=\"line\"><a id=\"l-6\" name=\"l-6\"></a><span class=\"linenos\"> 6</span><span class=\"c1\">;   Advanced options: extra scripting</span></div>\n<div class=\"line\"><a id=\"l-7\" name=\"l-7\"></a><span class=\"linenos\"> 7</span><span class=\"c1\">;</span></div>\n<div class=\"line\"><a id=\"l-8\" name=\"l-8\"></a><span class=\"linenos\"> 8</span><span class=\"c1\">; Please visit documentation for the other options and examples</span></div>\n<div class=\"line\"><a id=\"l-9\" name=\"l-9\"></a><span class=\"linenos\"> 9</span><span class=\"c1\">; http://docs.platformio.org/page/projectconf.html</span></div>\n<div class=\"line\"><a id=\"l-10\" name=\"l-10\"></a><span class=\"linenos\">10</span></div>\n<div class=\"line\"><a id=\"l-11\" name=\"l-11\"></a><span class=\"linenos\">11</span><span class=\"k\">[platformio]</span></div>\n<div class=\"line\"><a id=\"l-12\" name=\"l-12\"></a><span class=\"linenos\">12</span><span class=\"na\">description</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s\">ModularSensors example menu_a_la_carte</span></div>\n<div class=\"line\"><a id=\"l-13\" name=\"l-13\"></a><span class=\"linenos\">13</span></div>\n<div class=\"line\"><a id=\"l-14\" name=\"l-14\"></a><span class=\"linenos\">14</span><span class=\"k\">[env:mayfly]</span></div>\n<div class=\"line\"><a id=\"l-15\" name=\"l-15\"></a><span class=\"linenos\">15</span><span class=\"na\">monitor_speed</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s\">115200</span></div>\n<div class=\"line\"><a id=\"l-16\" name=\"l-16\"></a><span class=\"linenos\">16</span><span class=\"na\">board</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s\">mayfly</span></div>\n<div class=\"line\"><a id=\"l-17\" name=\"l-17\"></a><span class=\"linenos\">17</span><span class=\"na\">platform</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s\">atmelavr</span></div>\n<div class=\"line\"><a id=\"l-18\" name=\"l-18\"></a><span class=\"linenos\">18</span><span class=\"na\">framework</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s\">arduino</span></div>\n<div class=\"line\"><a id=\"l-19\" name=\"l-19\"></a><span class=\"linenos\">19</span><span class=\"na\">lib_ldf_mode</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s\">deep+</span></div>\n<div class=\"line\"><a id=\"l-20\" name=\"l-20\"></a><span class=\"linenos\">20</span><span class=\"na\">lib_ignore</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-21\" name=\"l-21\"></a><span class=\"linenos\">21</span><span class=\"w\">    </span><span class=\"na\">RTCZero</span></div>\n<div class=\"line\"><a id=\"l-22\" name=\"l-22\"></a><span class=\"linenos\">22</span><span class=\"w\">    </span><span class=\"na\">Adafruit NeoPixel</span></div>\n<div class=\"line\"><a id=\"l-23\" name=\"l-23\"></a><span class=\"linenos\">23</span><span class=\"w\">    </span><span class=\"na\">Adafruit GFX Library</span></div>\n<div class=\"line\"><a id=\"l-24\" name=\"l-24\"></a><span class=\"linenos\">24</span><span class=\"w\">    </span><span class=\"na\">Adafruit SSD1306</span></div>\n<div class=\"line\"><a id=\"l-25\" name=\"l-25\"></a><span class=\"linenos\">25</span><span class=\"w\">    </span><span class=\"na\">Adafruit ADXL343</span></div>\n<div class=\"line\"><a id=\"l-26\" name=\"l-26\"></a><span class=\"linenos\">26</span><span class=\"w\">    </span><span class=\"na\">Adafruit STMPE610</span></div>\n<div class=\"line\"><a id=\"l-27\" name=\"l-27\"></a><span class=\"linenos\">27</span><span class=\"w\">    </span><span class=\"na\">Adafruit TouchScreen</span></div>\n<div class=\"line\"><a id=\"l-28\" name=\"l-28\"></a><span class=\"linenos\">28</span><span class=\"w\">    </span><span class=\"na\">Adafruit ILI9341</span></div>\n<div class=\"line\"><a id=\"l-29\" name=\"l-29\"></a><span class=\"linenos\">29</span><span class=\"na\">build_flags</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-30\" name=\"l-30\"></a><span class=\"linenos\">30</span><span class=\"w\">    </span><span class=\"na\">-DSDI12_EXTERNAL_PCINT</span></div>\n<div class=\"line\"><a id=\"l-31\" name=\"l-31\"></a><span class=\"linenos\">31</span><span class=\"w\">    </span><span class=\"na\">-DNEOSWSERIAL_EXTERNAL_PCINT</span></div>\n<div class=\"line\"><a id=\"l-32\" name=\"l-32\"></a><span class=\"linenos\">32</span><span class=\"w\">    </span><span class=\"na\">-DMQTT_MAX_PACKET_SIZE</span><span class=\"o\">=</span><span class=\"s\">240</span></div>\n<div class=\"line\"><a id=\"l-33\" name=\"l-33\"></a><span class=\"linenos\">33</span><span class=\"w\">    </span><span class=\"na\">-DTINY_GSM_RX_BUFFER</span><span class=\"o\">=</span><span class=\"s\">64</span></div>\n<div class=\"line\"><a id=\"l-34\" name=\"l-34\"></a><span class=\"linenos\">34</span><span class=\"w\">    </span><span class=\"na\">-DTINY_GSM_YIELD_MS</span><span class=\"o\">=</span><span class=\"s\">2</span></div>\n<div class=\"line\"><a id=\"l-35\" name=\"l-35\"></a><span class=\"linenos\">35</span><span class=\"w\">    </span><span class=\"na\">-DENABLE_SERIAL2</span></div>\n<div class=\"line\"><a id=\"l-36\" name=\"l-36\"></a><span class=\"linenos\">36</span><span class=\"w\">    </span><span class=\"na\">-DENABLE_SERIAL3</span></div>\n<div class=\"line\"><a id=\"l-37\" name=\"l-37\"></a><span class=\"linenos\">37</span><span class=\"w\">    </span><span class=\"c1\">; -D BUILD_MODEM_DIGI_XBEE_CELLULAR_TRANSPARENT  ; Turn on first time w/ a Digi LTE-M module</span></div>\n<div class=\"line\"><a id=\"l-38\" name=\"l-38\"></a><span class=\"linenos\">38</span><span class=\"w\">    </span><span class=\"c1\">; -D MS_LOGGERBASE_DEBUG</span></div>\n<div class=\"line\"><a id=\"l-39\" name=\"l-39\"></a><span class=\"linenos\">39</span><span class=\"w\">    </span><span class=\"c1\">; -D MS_DATAPUBLISHERBASE_DEBUG</span></div>\n<div class=\"line\"><a id=\"l-40\" name=\"l-40\"></a><span class=\"linenos\">40</span><span class=\"w\">    </span><span class=\"c1\">; -D MS_ENVIRODIYPUBLISHER_DEBUG</span></div>\n<div class=\"line\"><a id=\"l-41\" name=\"l-41\"></a><span class=\"linenos\">41</span><span class=\"na\">lib_deps</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-42\" name=\"l-42\"></a><span class=\"linenos\">42</span><span class=\"w\">    </span><span class=\"na\">envirodiy/EnviroDIY_ModularSensors</span></div>\n<div class=\"line\"><a id=\"l-43\" name=\"l-43\"></a><span class=\"linenos\">43</span><span class=\"c1\">;  ^^ Use this when working from a tagged release of the library</span></div>\n<div class=\"line\"><a id=\"l-44\" name=\"l-44\"></a><span class=\"linenos\">44</span><span class=\"c1\">;     See tags at https://platformio.org/lib/show/1648/EnviroDIY_ModularSensors</span></div>\n<div class=\"line\"><a id=\"l-45\" name=\"l-45\"></a><span class=\"linenos\">45</span></div>\n<div class=\"line\"><a id=\"l-46\" name=\"l-46\"></a><span class=\"linenos\">46</span><span class=\"c1\">;    https://github.com/EnviroDIY/ModularSensors.git#develop</span></div>\n<div class=\"line\"><a id=\"l-47\" name=\"l-47\"></a><span class=\"linenos\">47</span><span class=\"c1\">;  ^^ Use this when if you want to pull from the develop branch</span></div>\n<div class=\"line\"><a id=\"l-48\" name=\"l-48\"></a><span class=\"linenos\">48</span></div>\n<div class=\"line\"><a id=\"l-49\" name=\"l-49\"></a><span class=\"linenos\">49</span><span class=\"w\">    </span><span class=\"na\">https</span><span class=\"o\">:</span><span class=\"s\">//github.com/PaulStoffregen/AltSoftSerial.git</span></div>\n<div class=\"line\"><a id=\"l-50\" name=\"l-50\"></a><span class=\"linenos\">50</span><span class=\"w\">    </span><span class=\"na\">https</span><span class=\"o\">:</span><span class=\"s\">//github.com/SRGDamia1/NeoSWSerial.git</span></div>\n<div class=\"line\"><a id=\"l-51\" name=\"l-51\"></a><span class=\"linenos\">51</span><span class=\"w\">    </span><span class=\"na\">https</span><span class=\"o\">:</span><span class=\"s\">//github.com/EnviroDIY/SoftwareSerial_ExternalInts.git</span></div>\n<div class=\"line\"><a id=\"l-52\" name=\"l-52\"></a><span class=\"linenos\">52</span><span class=\"c1\">;  ^^ These are software serial port emulator libraries, you may not need them</span>\n</div></div></div></section><section id=\"example_menu_code\"><h2>The Complete Code</h2><div class=\"m-code-arduino\"><div class=\"highlight\"><div class=\"line\"><a id=\"l-1\" name=\"l-1\"></a><span class=\"linenos\">   1</span><span class=\"cm\">/** =========================================================================</span></div>\n<div class=\"line\"><a id=\"l-2\" name=\"l-2\"></a><span class=\"linenos\">   2</span><span class=\"cm\"> * @example{lineno} menu_a_la_carte.ino</span></div>\n<div class=\"line\"><a id=\"l-3\" name=\"l-3\"></a><span class=\"linenos\">   3</span><span class=\"cm\"> * @copyright Stroud Water Research Center</span></div>\n<div class=\"line\"><a id=\"l-4\" name=\"l-4\"></a><span class=\"linenos\">   4</span><span class=\"cm\"> * @license This example is published under the BSD-3 license.</span></div>\n<div class=\"line\"><a id=\"l-5\" name=\"l-5\"></a><span class=\"linenos\">   5</span><span class=\"cm\"> * @author Sara Geleskie Damiano &lt;sdamiano@stroudcenter.org&gt;</span></div>\n<div class=\"line\"><a id=\"l-6\" name=\"l-6\"></a><span class=\"linenos\">   6</span><span class=\"cm\"> *</span></div>\n<div class=\"line\"><a id=\"l-7\" name=\"l-7\"></a><span class=\"linenos\">   7</span><span class=\"cm\"> * @brief Example with all possible functionality.</span></div>\n<div class=\"line\"><a id=\"l-8\" name=\"l-8\"></a><span class=\"linenos\">   8</span><span class=\"cm\"> *</span></div>\n<div class=\"line\"><a id=\"l-9\" name=\"l-9\"></a><span class=\"linenos\">   9</span><span class=\"cm\"> * See [the walkthrough page](@ref example_menu) for detailed instructions.</span></div>\n<div class=\"line\"><a id=\"l-10\" name=\"l-10\"></a><span class=\"linenos\">  10</span><span class=\"cm\"> *</span></div>\n<div class=\"line\"><a id=\"l-11\" name=\"l-11\"></a><span class=\"linenos\">  11</span><span class=\"cm\"> * @m_examplenavigation{example_menu,}</span></div>\n<div class=\"line\"><a id=\"l-12\" name=\"l-12\"></a><span class=\"linenos\">  12</span><span class=\"cm\"> * ======================================================================= */</span></div>\n<div class=\"line\"><a id=\"l-13\" name=\"l-13\"></a><span class=\"linenos\">  13</span></div>\n<div class=\"line\"><a id=\"l-14\" name=\"l-14\"></a><span class=\"linenos\">  14</span><span class=\"c1\">// Defines to help me print strings</span></div>\n<div class=\"line\"><a id=\"l-15\" name=\"l-15\"></a><span class=\"linenos\">  15</span><span class=\"c1\">// this converts to string</span></div>\n<div class=\"line\"><a id=\"l-16\" name=\"l-16\"></a><span class=\"linenos\">  16</span><span class=\"cp\">#define STR_(X) #X</span></div>\n<div class=\"line\"><a id=\"l-17\" name=\"l-17\"></a><span class=\"linenos\">  17</span><span class=\"c1\">// this makes sure the argument is expanded before converting to string</span></div>\n<div class=\"line\"><a id=\"l-18\" name=\"l-18\"></a><span class=\"linenos\">  18</span><span class=\"cp\">#define STR(X) STR_(X)</span></div>\n<div class=\"line\"><a id=\"l-19\" name=\"l-19\"></a><span class=\"linenos\">  19</span></div>\n<div class=\"line\"><a id=\"l-20\" name=\"l-20\"></a><span class=\"linenos\">  20</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-21\" name=\"l-21\"></a><span class=\"linenos\">  21</span><span class=\"c1\">//  Defines for TinyGSM</span></div>\n<div class=\"line\"><a id=\"l-22\" name=\"l-22\"></a><span class=\"linenos\">  22</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-23\" name=\"l-23\"></a><span class=\"linenos\">  23</span><span class=\"cm\">/** Start [defines] */</span></div>\n<div class=\"line\"><a id=\"l-24\" name=\"l-24\"></a><span class=\"linenos\">  24</span><span class=\"cp\">#ifndef TINY_GSM_RX_BUFFER</span></div>\n<div class=\"line\"><a id=\"l-25\" name=\"l-25\"></a><span class=\"linenos\">  25</span><span class=\"cp\">#define TINY_GSM_RX_BUFFER 64</span></div>\n<div class=\"line\"><a id=\"l-26\" name=\"l-26\"></a><span class=\"linenos\">  26</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-27\" name=\"l-27\"></a><span class=\"linenos\">  27</span><span class=\"cp\">#ifndef TINY_GSM_YIELD_MS</span></div>\n<div class=\"line\"><a id=\"l-28\" name=\"l-28\"></a><span class=\"linenos\">  28</span><span class=\"cp\">#define TINY_GSM_YIELD_MS 2</span></div>\n<div class=\"line\"><a id=\"l-29\" name=\"l-29\"></a><span class=\"linenos\">  29</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-30\" name=\"l-30\"></a><span class=\"linenos\">  30</span><span class=\"cm\">/** End [defines] */</span></div>\n<div class=\"line\"><a id=\"l-31\" name=\"l-31\"></a><span class=\"linenos\">  31</span></div>\n<div class=\"line\"><a id=\"l-32\" name=\"l-32\"></a><span class=\"linenos\">  32</span></div>\n<div class=\"line\"><a id=\"l-33\" name=\"l-33\"></a><span class=\"linenos\">  33</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-34\" name=\"l-34\"></a><span class=\"linenos\">  34</span><span class=\"c1\">//  Include the libraries required for any data logger</span></div>\n<div class=\"line\"><a id=\"l-35\" name=\"l-35\"></a><span class=\"linenos\">  35</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-36\" name=\"l-36\"></a><span class=\"linenos\">  36</span><span class=\"cm\">/** Start [includes] */</span></div>\n<div class=\"line\"><a id=\"l-37\" name=\"l-37\"></a><span class=\"linenos\">  37</span><span class=\"c1\">// The Arduino library is needed for every Arduino program.</span></div>\n<div class=\"line\"><a id=\"l-38\" name=\"l-38\"></a><span class=\"linenos\">  38</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;Arduino.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-39\" name=\"l-39\"></a><span class=\"linenos\">  39</span></div>\n<div class=\"line\"><a id=\"l-40\" name=\"l-40\"></a><span class=\"linenos\">  40</span><span class=\"c1\">// Include the main header for ModularSensors</span></div>\n<div class=\"line\"><a id=\"l-41\" name=\"l-41\"></a><span class=\"linenos\">  41</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;ModularSensors.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-42\" name=\"l-42\"></a><span class=\"linenos\">  42</span><span class=\"cm\">/** End [includes] */</span></div>\n<div class=\"line\"><a id=\"l-43\" name=\"l-43\"></a><span class=\"linenos\">  43</span></div>\n<div class=\"line\"><a id=\"l-44\" name=\"l-44\"></a><span class=\"linenos\">  44</span></div>\n<div class=\"line\"><a id=\"l-45\" name=\"l-45\"></a><span class=\"linenos\">  45</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-46\" name=\"l-46\"></a><span class=\"linenos\">  46</span><span class=\"c1\">//  Creating Additional Serial Ports</span></div>\n<div class=\"line\"><a id=\"l-47\" name=\"l-47\"></a><span class=\"linenos\">  47</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-48\" name=\"l-48\"></a><span class=\"linenos\">  48</span><span class=\"c1\">// The modem and a number of sensors communicate over UART/TTL - often called</span></div>\n<div class=\"line\"><a id=\"l-49\" name=\"l-49\"></a><span class=\"linenos\">  49</span><span class=\"c1\">// &quot;serial&quot;. &quot;Hardware&quot; serial ports (automatically controlled by the MCU) are</span></div>\n<div class=\"line\"><a id=\"l-50\" name=\"l-50\"></a><span class=\"linenos\">  50</span><span class=\"c1\">// generally the most accurate and should be configured and used for as many</span></div>\n<div class=\"line\"><a id=\"l-51\" name=\"l-51\"></a><span class=\"linenos\">  51</span><span class=\"c1\">// peripherals as possible.  In some cases (ie, modbus communication) many</span></div>\n<div class=\"line\"><a id=\"l-52\" name=\"l-52\"></a><span class=\"linenos\">  52</span><span class=\"c1\">// sensors can share the same serial port.</span></div>\n<div class=\"line\"><a id=\"l-53\" name=\"l-53\"></a><span class=\"linenos\">  53</span></div>\n<div class=\"line\"><a id=\"l-54\" name=\"l-54\"></a><span class=\"linenos\">  54</span><span class=\"c1\">// For AVR boards</span></div>\n<div class=\"line\"><a id=\"l-55\" name=\"l-55\"></a><span class=\"linenos\">  55</span><span class=\"cp\">#if defined(__AVR__) || defined(ARDUINO_ARCH_AVR)</span></div>\n<div class=\"line\"><a id=\"l-56\" name=\"l-56\"></a><span class=\"linenos\">  56</span><span class=\"c1\">// Unfortunately, most AVR boards have only one or two hardware serial ports,</span></div>\n<div class=\"line\"><a id=\"l-57\" name=\"l-57\"></a><span class=\"linenos\">  57</span><span class=\"c1\">// so we&#39;ll set up three types of extra software serial ports to use</span></div>\n<div class=\"line\"><a id=\"l-58\" name=\"l-58\"></a><span class=\"linenos\">  58</span></div>\n<div class=\"line\"><a id=\"l-59\" name=\"l-59\"></a><span class=\"linenos\">  59</span><span class=\"cp\">#if defined(BUILD_TEST_ALTSOFTSERIAL)</span></div>\n<div class=\"line\"><a id=\"l-60\" name=\"l-60\"></a><span class=\"linenos\">  60</span><span class=\"c1\">// AltSoftSerial by Paul Stoffregen</span></div>\n<div class=\"line\"><a id=\"l-61\" name=\"l-61\"></a><span class=\"linenos\">  61</span><span class=\"c1\">// (https://github.com/PaulStoffregen/AltSoftSerial) is the most accurate</span></div>\n<div class=\"line\"><a id=\"l-62\" name=\"l-62\"></a><span class=\"linenos\">  62</span><span class=\"c1\">// software serial port for AVR boards. AltSoftSerial can only be used on one</span></div>\n<div class=\"line\"><a id=\"l-63\" name=\"l-63\"></a><span class=\"linenos\">  63</span><span class=\"c1\">// set of pins on each board so only one AltSoftSerial port can be used. Not all</span></div>\n<div class=\"line\"><a id=\"l-64\" name=\"l-64\"></a><span class=\"linenos\">  64</span><span class=\"c1\">// AVR boards are supported by AltSoftSerial.</span></div>\n<div class=\"line\"><a id=\"l-65\" name=\"l-65\"></a><span class=\"linenos\">  65</span><span class=\"cm\">/** Start [altsoftserial] */</span></div>\n<div class=\"line\"><a id=\"l-66\" name=\"l-66\"></a><span class=\"linenos\">  66</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;AltSoftSerial.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-67\" name=\"l-67\"></a><span class=\"linenos\">  67</span><span class=\"n\">AltSoftSerial</span><span class=\"w\"> </span><span class=\"n\">altSoftSerial</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-68\" name=\"l-68\"></a><span class=\"linenos\">  68</span><span class=\"cm\">/** End [altsoftserial] */</span></div>\n<div class=\"line\"><a id=\"l-69\" name=\"l-69\"></a><span class=\"linenos\">  69</span><span class=\"cp\">#endif  </span><span class=\"c1\">// #if defined (BUILD_TEST_ALTSOFTSERIAL)</span></div>\n<div class=\"line\"><a id=\"l-70\" name=\"l-70\"></a><span class=\"linenos\">  70</span></div>\n<div class=\"line\"><a id=\"l-71\" name=\"l-71\"></a><span class=\"linenos\">  71</span><span class=\"cp\">#if defined(BUILD_TEST_NEOSWSERIAL)</span></div>\n<div class=\"line\"><a id=\"l-72\" name=\"l-72\"></a><span class=\"linenos\">  72</span><span class=\"c1\">// NeoSWSerial (https://github.com/SRGDamia1/NeoSWSerial) is the best software</span></div>\n<div class=\"line\"><a id=\"l-73\" name=\"l-73\"></a><span class=\"linenos\">  73</span><span class=\"c1\">// serial that can be used on any pin supporting interrupts.</span></div>\n<div class=\"line\"><a id=\"l-74\" name=\"l-74\"></a><span class=\"linenos\">  74</span><span class=\"c1\">// You can use as many instances of NeoSWSerial as you need.</span></div>\n<div class=\"line\"><a id=\"l-75\" name=\"l-75\"></a><span class=\"linenos\">  75</span><span class=\"c1\">// Not all AVR boards are supported by NeoSWSerial.</span></div>\n<div class=\"line\"><a id=\"l-76\" name=\"l-76\"></a><span class=\"linenos\">  76</span><span class=\"cm\">/** Start [neoswserial] */</span></div>\n<div class=\"line\"><a id=\"l-77\" name=\"l-77\"></a><span class=\"linenos\">  77</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;NeoSWSerial.h&gt;</span><span class=\"c1\">          // for the stream communication</span></div>\n<div class=\"line\"><a id=\"l-78\" name=\"l-78\"></a><span class=\"linenos\">  78</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">neoSSerial1Rx</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">11</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// data in pin</span></div>\n<div class=\"line\"><a id=\"l-79\" name=\"l-79\"></a><span class=\"linenos\">  79</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">neoSSerial1Tx</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">-1</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// data out pin</span></div>\n<div class=\"line\"><a id=\"l-80\" name=\"l-80\"></a><span class=\"linenos\">  80</span><span class=\"n\">NeoSWSerial</span><span class=\"w\">  </span><span class=\"nf\">neoSSerial1</span><span class=\"p\">(</span><span class=\"n\">neoSSerial1Rx</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">neoSSerial1Tx</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-81\" name=\"l-81\"></a><span class=\"linenos\">  81</span><span class=\"c1\">// To use NeoSWSerial in this library, we define a function to receive data</span></div>\n<div class=\"line\"><a id=\"l-82\" name=\"l-82\"></a><span class=\"linenos\">  82</span><span class=\"c1\">// This is just a short-cut for later</span></div>\n<div class=\"line\"><a id=\"l-83\" name=\"l-83\"></a><span class=\"linenos\">  83</span><span class=\"kr\">void</span><span class=\"w\"> </span><span class=\"nf\">neoSSerial1ISR</span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"p\">{</span></div>\n<div class=\"line\"><a id=\"l-84\" name=\"l-84\"></a><span class=\"linenos\">  84</span><span class=\"w\">    </span><span class=\"n\">NeoSWSerial</span><span class=\"o\">::</span><span class=\"n\">rxISR</span><span class=\"p\">(</span><span class=\"o\">*</span><span class=\"n\">portInputRegister</span><span class=\"p\">(</span><span class=\"n\">digitalPinToPort</span><span class=\"p\">(</span><span class=\"n\">neoSSerial1Rx</span><span class=\"p\">)));</span></div>\n<div class=\"line\"><a id=\"l-85\" name=\"l-85\"></a><span class=\"linenos\">  85</span><span class=\"p\">}</span></div>\n<div class=\"line\"><a id=\"l-86\" name=\"l-86\"></a><span class=\"linenos\">  86</span><span class=\"cm\">/** End [neoswserial] */</span></div>\n<div class=\"line\"><a id=\"l-87\" name=\"l-87\"></a><span class=\"linenos\">  87</span><span class=\"cp\">#endif  </span><span class=\"c1\">// #if defined (BUILD_TEST_NEOSWSERIAL)</span></div>\n<div class=\"line\"><a id=\"l-88\" name=\"l-88\"></a><span class=\"linenos\">  88</span></div>\n<div class=\"line\"><a id=\"l-89\" name=\"l-89\"></a><span class=\"linenos\">  89</span><span class=\"cp\">#if defined(BUILD_TEST_SOFTSERIAL)</span></div>\n<div class=\"line\"><a id=\"l-90\" name=\"l-90\"></a><span class=\"linenos\">  90</span><span class=\"c1\">// The &quot;standard&quot; software serial library uses interrupts that conflict</span></div>\n<div class=\"line\"><a id=\"l-91\" name=\"l-91\"></a><span class=\"linenos\">  91</span><span class=\"c1\">// with several other libraries used within this program.  I&#39;ve created a</span></div>\n<div class=\"line\"><a id=\"l-92\" name=\"l-92\"></a><span class=\"linenos\">  92</span><span class=\"c1\">// [version of software serial that has been stripped of</span></div>\n<div class=\"line\"><a id=\"l-93\" name=\"l-93\"></a><span class=\"linenos\">  93</span><span class=\"c1\">// interrupts](https://github.com/EnviroDIY/SoftwareSerial_ExtInts) but it is</span></div>\n<div class=\"line\"><a id=\"l-94\" name=\"l-94\"></a><span class=\"linenos\">  94</span><span class=\"c1\">// still far from ideal.</span></div>\n<div class=\"line\"><a id=\"l-95\" name=\"l-95\"></a><span class=\"linenos\">  95</span><span class=\"c1\">// NOTE:  Only use if necessary.  This is not a very accurate serial port!</span></div>\n<div class=\"line\"><a id=\"l-96\" name=\"l-96\"></a><span class=\"linenos\">  96</span><span class=\"c1\">// You can use as many instances of SoftwareSerial as you need.</span></div>\n<div class=\"line\"><a id=\"l-97\" name=\"l-97\"></a><span class=\"linenos\">  97</span><span class=\"cm\">/** Start [softwareserial] */</span></div>\n<div class=\"line\"><a id=\"l-98\" name=\"l-98\"></a><span class=\"linenos\">  98</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">softSerialRx</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">A3</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// data in pin</span></div>\n<div class=\"line\"><a id=\"l-99\" name=\"l-99\"></a><span class=\"linenos\">  99</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">softSerialTx</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">A4</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// data out pin</span></div>\n<div class=\"line\"><a id=\"l-100\" name=\"l-100\"></a><span class=\"linenos\"> 100</span></div>\n<div class=\"line\"><a id=\"l-101\" name=\"l-101\"></a><span class=\"linenos\"> 101</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;SoftwareSerial_ExtInts.h&gt;</span><span class=\"c1\">  // for the stream communication</span></div>\n<div class=\"line\"><a id=\"l-102\" name=\"l-102\"></a><span class=\"linenos\"> 102</span><span class=\"n\">SoftwareSerial_ExtInts</span><span class=\"w\"> </span><span class=\"nf\">softSerial1</span><span class=\"p\">(</span><span class=\"n\">softSerialRx</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">softSerialTx</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-103\" name=\"l-103\"></a><span class=\"linenos\"> 103</span><span class=\"cm\">/** End [softwareserial] */</span></div>\n<div class=\"line\"><a id=\"l-104\" name=\"l-104\"></a><span class=\"linenos\"> 104</span><span class=\"cp\">#endif  </span><span class=\"c1\">// #if defined (BUILD_TEST_SOFTSERIAL)</span></div>\n<div class=\"line\"><a id=\"l-105\" name=\"l-105\"></a><span class=\"linenos\"> 105</span></div>\n<div class=\"line\"><a id=\"l-106\" name=\"l-106\"></a><span class=\"linenos\"> 106</span></div>\n<div class=\"line\"><a id=\"l-107\" name=\"l-107\"></a><span class=\"linenos\"> 107</span><span class=\"cp\">#if defined(MS_PALEOTERRA_SOFTWAREWIRE) || defined(MS_RAIN_SOFTWAREWIRE)</span></div>\n<div class=\"line\"><a id=\"l-108\" name=\"l-108\"></a><span class=\"linenos\"> 108</span><span class=\"cm\">/** Start [softwarewire] */</span></div>\n<div class=\"line\"><a id=\"l-109\" name=\"l-109\"></a><span class=\"linenos\"> 109</span><span class=\"c1\">// A software I2C (Wire) instance using Testato&#39;s SoftwareWire</span></div>\n<div class=\"line\"><a id=\"l-110\" name=\"l-110\"></a><span class=\"linenos\"> 110</span><span class=\"c1\">// To use SoftwareWire, you must also set a define for the sensor you want to</span></div>\n<div class=\"line\"><a id=\"l-111\" name=\"l-111\"></a><span class=\"linenos\"> 111</span><span class=\"c1\">// use Software I2C for, ie:</span></div>\n<div class=\"line\"><a id=\"l-112\" name=\"l-112\"></a><span class=\"linenos\"> 112</span><span class=\"c1\">//   `#define MS_RAIN_SOFTWAREWIRE`</span></div>\n<div class=\"line\"><a id=\"l-113\" name=\"l-113\"></a><span class=\"linenos\"> 113</span><span class=\"c1\">//   `#define MS_PALEOTERRA_SOFTWAREWIRE`</span></div>\n<div class=\"line\"><a id=\"l-114\" name=\"l-114\"></a><span class=\"linenos\"> 114</span><span class=\"c1\">// or set the build flag(s):</span></div>\n<div class=\"line\"><a id=\"l-115\" name=\"l-115\"></a><span class=\"linenos\"> 115</span><span class=\"c1\">//   `-D MS_RAIN_SOFTWAREWIRE`</span></div>\n<div class=\"line\"><a id=\"l-116\" name=\"l-116\"></a><span class=\"linenos\"> 116</span><span class=\"c1\">//   `-D MS_PALEOTERRA_SOFTWAREWIRE`</span></div>\n<div class=\"line\"><a id=\"l-117\" name=\"l-117\"></a><span class=\"linenos\"> 117</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;SoftwareWire.h&gt;</span><span class=\"c1\">  // Testato&#39;s Software I2C</span></div>\n<div class=\"line\"><a id=\"l-118\" name=\"l-118\"></a><span class=\"linenos\"> 118</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">softwareSDA</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">5</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-119\" name=\"l-119\"></a><span class=\"linenos\"> 119</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">softwareSCL</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">4</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-120\" name=\"l-120\"></a><span class=\"linenos\"> 120</span><span class=\"n\">SoftwareWire</span><span class=\"w\"> </span><span class=\"nf\">softI2C</span><span class=\"p\">(</span><span class=\"n\">softwareSDA</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">softwareSCL</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-121\" name=\"l-121\"></a><span class=\"linenos\"> 121</span><span class=\"cm\">/** End [softwarewire] */</span></div>\n<div class=\"line\"><a id=\"l-122\" name=\"l-122\"></a><span class=\"linenos\"> 122</span><span class=\"cp\">#endif  </span><span class=\"c1\">//  #if defined(MS_PALEOTERRA_SOFTWAREWIRE) ...</span></div>\n<div class=\"line\"><a id=\"l-123\" name=\"l-123\"></a><span class=\"linenos\"> 123</span></div>\n<div class=\"line\"><a id=\"l-124\" name=\"l-124\"></a><span class=\"linenos\"> 124</span><span class=\"cp\">#endif  </span><span class=\"c1\">// End software serial for avr boards</span></div>\n<div class=\"line\"><a id=\"l-125\" name=\"l-125\"></a><span class=\"linenos\"> 125</span></div>\n<div class=\"line\"><a id=\"l-126\" name=\"l-126\"></a><span class=\"linenos\"> 126</span><span class=\"cp\">#if defined(ARDUINO_SAMD_FEATHER_M0)</span></div>\n<div class=\"line\"><a id=\"l-127\" name=\"l-127\"></a><span class=\"linenos\"> 127</span><span class=\"cm\">/** Start [serial_ports_feather_m0] */</span></div>\n<div class=\"line\"><a id=\"l-128\" name=\"l-128\"></a><span class=\"linenos\"> 128</span><span class=\"c1\">// The SAMD21 has 6 &quot;SERCOM&quot; ports, any of which can be used for UART</span></div>\n<div class=\"line\"><a id=\"l-129\" name=\"l-129\"></a><span class=\"linenos\"> 129</span><span class=\"c1\">// communication.  The &quot;core&quot; code for most boards defines one or more UART</span></div>\n<div class=\"line\"><a id=\"l-130\" name=\"l-130\"></a><span class=\"linenos\"> 130</span><span class=\"c1\">// (Serial) ports with the SERCOMs and uses others for I2C and SPI.  We can</span></div>\n<div class=\"line\"><a id=\"l-131\" name=\"l-131\"></a><span class=\"linenos\"> 131</span><span class=\"c1\">// create new UART ports on any available SERCOM.  The table below shows</span></div>\n<div class=\"line\"><a id=\"l-132\" name=\"l-132\"></a><span class=\"linenos\"> 132</span><span class=\"c1\">// definitions for select boards.</span></div>\n<div class=\"line\"><a id=\"l-133\" name=\"l-133\"></a><span class=\"linenos\"> 133</span></div>\n<div class=\"line\"><a id=\"l-134\" name=\"l-134\"></a><span class=\"linenos\"> 134</span><span class=\"c1\">// Board =&gt;   Arduino Zero       Adafruit Feather M0</span></div>\n<div class=\"line\"><a id=\"l-135\" name=\"l-135\"></a><span class=\"linenos\"> 135</span><span class=\"c1\">// -------    ---------------    ----------------</span></div>\n<div class=\"line\"><a id=\"l-136\" name=\"l-136\"></a><span class=\"linenos\"> 136</span><span class=\"c1\">// SERCOM0    Serial1 (D0/D1)    Serial1 (D0/D1)</span></div>\n<div class=\"line\"><a id=\"l-137\" name=\"l-137\"></a><span class=\"linenos\"> 137</span><span class=\"c1\">// SERCOM1    Available          Available</span></div>\n<div class=\"line\"><a id=\"l-138\" name=\"l-138\"></a><span class=\"linenos\"> 138</span><span class=\"c1\">// SERCOM2    Available          Available</span></div>\n<div class=\"line\"><a id=\"l-139\" name=\"l-139\"></a><span class=\"linenos\"> 139</span><span class=\"c1\">// SERCOM3    I2C (D20/D21)      I2C (D20/D21)</span></div>\n<div class=\"line\"><a id=\"l-140\" name=\"l-140\"></a><span class=\"linenos\"> 140</span><span class=\"c1\">// SERCOM4    SPI (D21/22/23)    SPI (D21/22/23)</span></div>\n<div class=\"line\"><a id=\"l-141\" name=\"l-141\"></a><span class=\"linenos\"> 141</span><span class=\"c1\">// SERCOM5    EDBG/Serial        Available</span></div>\n<div class=\"line\"><a id=\"l-142\" name=\"l-142\"></a><span class=\"linenos\"> 142</span></div>\n<div class=\"line\"><a id=\"l-143\" name=\"l-143\"></a><span class=\"linenos\"> 143</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;wiring_private.h&gt;</span><span class=\"c1\">  // Needed for SAMD pinPeripheral() function</span></div>\n<div class=\"line\"><a id=\"l-144\" name=\"l-144\"></a><span class=\"linenos\"> 144</span></div>\n<div class=\"line\"><a id=\"l-145\" name=\"l-145\"></a><span class=\"linenos\"> 145</span><span class=\"c1\">// Set up a &#39;new&#39; UART using SERCOM1</span></div>\n<div class=\"line\"><a id=\"l-146\" name=\"l-146\"></a><span class=\"linenos\"> 146</span><span class=\"c1\">// The Rx will be on digital pin 11, which is SERCOM1&#39;s Pad #0</span></div>\n<div class=\"line\"><a id=\"l-147\" name=\"l-147\"></a><span class=\"linenos\"> 147</span><span class=\"c1\">// The Tx will be on digital pin 10, which is SERCOM1&#39;s Pad #2</span></div>\n<div class=\"line\"><a id=\"l-148\" name=\"l-148\"></a><span class=\"linenos\"> 148</span><span class=\"c1\">// NOTE:  SERCOM1 is undefined on a &quot;standard&quot; Arduino Zero and many clones,</span></div>\n<div class=\"line\"><a id=\"l-149\" name=\"l-149\"></a><span class=\"linenos\"> 149</span><span class=\"c1\">//        but not all!  Please check the variant.cpp file for you individual</span></div>\n<div class=\"line\"><a id=\"l-150\" name=\"l-150\"></a><span class=\"linenos\"> 150</span><span class=\"c1\">//        board!</span></div>\n<div class=\"line\"><a id=\"l-151\" name=\"l-151\"></a><span class=\"linenos\"> 151</span><span class=\"n\">Uart</span><span class=\"w\"> </span><span class=\"nf\">Serial2</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">sercom1</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mi\">11</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mi\">10</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">SERCOM_RX_PAD_0</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">UART_TX_PAD_2</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-152\" name=\"l-152\"></a><span class=\"linenos\"> 152</span><span class=\"c1\">// Hand over the interrupts to the sercom port</span></div>\n<div class=\"line\"><a id=\"l-153\" name=\"l-153\"></a><span class=\"linenos\"> 153</span><span class=\"kr\">void</span><span class=\"w\"> </span><span class=\"nf\">SERCOM1_Handler</span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"p\">{</span></div>\n<div class=\"line\"><a id=\"l-154\" name=\"l-154\"></a><span class=\"linenos\"> 154</span><span class=\"w\">    </span><span class=\"n\">Serial2</span><span class=\"p\">.</span><span class=\"n\">IrqHandler</span><span class=\"p\">();</span></div>\n<div class=\"line\"><a id=\"l-155\" name=\"l-155\"></a><span class=\"linenos\"> 155</span><span class=\"p\">}</span></div>\n<div class=\"line\"><a id=\"l-156\" name=\"l-156\"></a><span class=\"linenos\"> 156</span><span class=\"cp\">#define ENABLE_SERIAL2</span></div>\n<div class=\"line\"><a id=\"l-157\" name=\"l-157\"></a><span class=\"linenos\"> 157</span></div>\n<div class=\"line\"><a id=\"l-158\" name=\"l-158\"></a><span class=\"linenos\"> 158</span><span class=\"c1\">// Set up a &#39;new&#39; UART using SERCOM2</span></div>\n<div class=\"line\"><a id=\"l-159\" name=\"l-159\"></a><span class=\"linenos\"> 159</span><span class=\"c1\">// The Rx will be on digital pin 5, which is SERCOM2&#39;s Pad #3</span></div>\n<div class=\"line\"><a id=\"l-160\" name=\"l-160\"></a><span class=\"linenos\"> 160</span><span class=\"c1\">// The Tx will be on digital pin 2, which is SERCOM2&#39;s Pad #2</span></div>\n<div class=\"line\"><a id=\"l-161\" name=\"l-161\"></a><span class=\"linenos\"> 161</span><span class=\"c1\">// NOTE:  SERCOM2 is undefined on a &quot;standard&quot; Arduino Zero and many clones,</span></div>\n<div class=\"line\"><a id=\"l-162\" name=\"l-162\"></a><span class=\"linenos\"> 162</span><span class=\"c1\">//        but not all!  Please check the variant.cpp file for you individual</span></div>\n<div class=\"line\"><a id=\"l-163\" name=\"l-163\"></a><span class=\"linenos\"> 163</span><span class=\"c1\">//        board! Sodaq Autonomo&#39;s and Sodaq One&#39;s do NOT follow the &#39;standard&#39;</span></div>\n<div class=\"line\"><a id=\"l-164\" name=\"l-164\"></a><span class=\"linenos\"> 164</span><span class=\"c1\">//        SERCOM definitions!</span></div>\n<div class=\"line\"><a id=\"l-165\" name=\"l-165\"></a><span class=\"linenos\"> 165</span><span class=\"n\">Uart</span><span class=\"w\"> </span><span class=\"nf\">Serial3</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">sercom2</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mi\">5</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">SERCOM_RX_PAD_3</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">UART_TX_PAD_2</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-166\" name=\"l-166\"></a><span class=\"linenos\"> 166</span><span class=\"c1\">// Hand over the interrupts to the sercom port</span></div>\n<div class=\"line\"><a id=\"l-167\" name=\"l-167\"></a><span class=\"linenos\"> 167</span><span class=\"kr\">void</span><span class=\"w\"> </span><span class=\"nf\">SERCOM2_Handler</span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"p\">{</span></div>\n<div class=\"line\"><a id=\"l-168\" name=\"l-168\"></a><span class=\"linenos\"> 168</span><span class=\"w\">    </span><span class=\"n\">Serial3</span><span class=\"p\">.</span><span class=\"n\">IrqHandler</span><span class=\"p\">();</span></div>\n<div class=\"line\"><a id=\"l-169\" name=\"l-169\"></a><span class=\"linenos\"> 169</span><span class=\"p\">}</span></div>\n<div class=\"line\"><a id=\"l-170\" name=\"l-170\"></a><span class=\"linenos\"> 170</span><span class=\"cp\">#define ENABLE_SERIAL3</span></div>\n<div class=\"line\"><a id=\"l-171\" name=\"l-171\"></a><span class=\"linenos\"> 171</span></div>\n<div class=\"line\"><a id=\"l-172\" name=\"l-172\"></a><span class=\"linenos\"> 172</span><span class=\"cm\">/** End [serial_ports_feather_m0] */</span></div>\n<div class=\"line\"><a id=\"l-173\" name=\"l-173\"></a><span class=\"linenos\"> 173</span><span class=\"cp\">#endif  </span><span class=\"c1\">// End hardware serial on SAMD21 boards</span></div>\n<div class=\"line\"><a id=\"l-174\" name=\"l-174\"></a><span class=\"linenos\"> 174</span></div>\n<div class=\"line\"><a id=\"l-175\" name=\"l-175\"></a><span class=\"linenos\"> 175</span><span class=\"cp\">#if defined(ADAFRUIT_GRAND_CENTRAL_M4)</span></div>\n<div class=\"line\"><a id=\"l-176\" name=\"l-176\"></a><span class=\"linenos\"> 176</span><span class=\"cm\">/** Start [serial_ports_grand_central] */</span></div>\n<div class=\"line\"><a id=\"l-177\" name=\"l-177\"></a><span class=\"linenos\"> 177</span><span class=\"c1\">// The Grand Central nominally sets up four serial ports in Variant.h, but</span></div>\n<div class=\"line\"><a id=\"l-178\" name=\"l-178\"></a><span class=\"linenos\"> 178</span><span class=\"c1\">// doesn&#39;t initialize them in Variant.cpp.  Doing that here.</span></div>\n<div class=\"line\"><a id=\"l-179\" name=\"l-179\"></a><span class=\"linenos\"> 179</span></div>\n<div class=\"line\"><a id=\"l-180\" name=\"l-180\"></a><span class=\"linenos\"> 180</span><span class=\"n\">Uart</span><span class=\"w\"> </span><span class=\"nf\">Serial2</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">sercom4</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">PIN_SERIAL2_RX</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">PIN_SERIAL2_TX</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">PAD_SERIAL2_RX</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-181\" name=\"l-181\"></a><span class=\"linenos\"> 181</span><span class=\"w\">             </span><span class=\"n\">PAD_SERIAL2_TX</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-182\" name=\"l-182\"></a><span class=\"linenos\"> 182</span></div>\n<div class=\"line\"><a id=\"l-183\" name=\"l-183\"></a><span class=\"linenos\"> 183</span><span class=\"kr\">void</span><span class=\"w\"> </span><span class=\"nf\">SERCOM4_0_Handler</span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"p\">{</span></div>\n<div class=\"line\"><a id=\"l-184\" name=\"l-184\"></a><span class=\"linenos\"> 184</span><span class=\"w\">    </span><span class=\"n\">Serial2</span><span class=\"p\">.</span><span class=\"n\">IrqHandler</span><span class=\"p\">();</span></div>\n<div class=\"line\"><a id=\"l-185\" name=\"l-185\"></a><span class=\"linenos\"> 185</span><span class=\"p\">}</span></div>\n<div class=\"line\"><a id=\"l-186\" name=\"l-186\"></a><span class=\"linenos\"> 186</span><span class=\"kr\">void</span><span class=\"w\"> </span><span class=\"nf\">SERCOM4_1_Handler</span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"p\">{</span></div>\n<div class=\"line\"><a id=\"l-187\" name=\"l-187\"></a><span class=\"linenos\"> 187</span><span class=\"w\">    </span><span class=\"n\">Serial2</span><span class=\"p\">.</span><span class=\"n\">IrqHandler</span><span class=\"p\">();</span></div>\n<div class=\"line\"><a id=\"l-188\" name=\"l-188\"></a><span class=\"linenos\"> 188</span><span class=\"p\">}</span></div>\n<div class=\"line\"><a id=\"l-189\" name=\"l-189\"></a><span class=\"linenos\"> 189</span><span class=\"kr\">void</span><span class=\"w\"> </span><span class=\"nf\">SERCOM4_2_Handler</span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"p\">{</span></div>\n<div class=\"line\"><a id=\"l-190\" name=\"l-190\"></a><span class=\"linenos\"> 190</span><span class=\"w\">    </span><span class=\"n\">Serial2</span><span class=\"p\">.</span><span class=\"n\">IrqHandler</span><span class=\"p\">();</span></div>\n<div class=\"line\"><a id=\"l-191\" name=\"l-191\"></a><span class=\"linenos\"> 191</span><span class=\"p\">}</span></div>\n<div class=\"line\"><a id=\"l-192\" name=\"l-192\"></a><span class=\"linenos\"> 192</span><span class=\"kr\">void</span><span class=\"w\"> </span><span class=\"nf\">SERCOM4_3_Handler</span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"p\">{</span></div>\n<div class=\"line\"><a id=\"l-193\" name=\"l-193\"></a><span class=\"linenos\"> 193</span><span class=\"w\">    </span><span class=\"n\">Serial2</span><span class=\"p\">.</span><span class=\"n\">IrqHandler</span><span class=\"p\">();</span></div>\n<div class=\"line\"><a id=\"l-194\" name=\"l-194\"></a><span class=\"linenos\"> 194</span><span class=\"p\">}</span></div>\n<div class=\"line\"><a id=\"l-195\" name=\"l-195\"></a><span class=\"linenos\"> 195</span><span class=\"cp\">#define ENABLE_SERIAL2</span></div>\n<div class=\"line\"><a id=\"l-196\" name=\"l-196\"></a><span class=\"linenos\"> 196</span></div>\n<div class=\"line\"><a id=\"l-197\" name=\"l-197\"></a><span class=\"linenos\"> 197</span><span class=\"n\">Uart</span><span class=\"w\"> </span><span class=\"nf\">Serial3</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">sercom1</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">PIN_SERIAL3_RX</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">PIN_SERIAL3_TX</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">PAD_SERIAL3_RX</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-198\" name=\"l-198\"></a><span class=\"linenos\"> 198</span><span class=\"w\">             </span><span class=\"n\">PAD_SERIAL3_TX</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-199\" name=\"l-199\"></a><span class=\"linenos\"> 199</span></div>\n<div class=\"line\"><a id=\"l-200\" name=\"l-200\"></a><span class=\"linenos\"> 200</span><span class=\"kr\">void</span><span class=\"w\"> </span><span class=\"nf\">SERCOM1_0_Handler</span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"p\">{</span></div>\n<div class=\"line\"><a id=\"l-201\" name=\"l-201\"></a><span class=\"linenos\"> 201</span><span class=\"w\">    </span><span class=\"n\">Serial3</span><span class=\"p\">.</span><span class=\"n\">IrqHandler</span><span class=\"p\">();</span></div>\n<div class=\"line\"><a id=\"l-202\" name=\"l-202\"></a><span class=\"linenos\"> 202</span><span class=\"p\">}</span></div>\n<div class=\"line\"><a id=\"l-203\" name=\"l-203\"></a><span class=\"linenos\"> 203</span><span class=\"kr\">void</span><span class=\"w\"> </span><span class=\"nf\">SERCOM1_1_Handler</span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"p\">{</span></div>\n<div class=\"line\"><a id=\"l-204\" name=\"l-204\"></a><span class=\"linenos\"> 204</span><span class=\"w\">    </span><span class=\"n\">Serial3</span><span class=\"p\">.</span><span class=\"n\">IrqHandler</span><span class=\"p\">();</span></div>\n<div class=\"line\"><a id=\"l-205\" name=\"l-205\"></a><span class=\"linenos\"> 205</span><span class=\"p\">}</span></div>\n<div class=\"line\"><a id=\"l-206\" name=\"l-206\"></a><span class=\"linenos\"> 206</span><span class=\"kr\">void</span><span class=\"w\"> </span><span class=\"nf\">SERCOM1_2_Handler</span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"p\">{</span></div>\n<div class=\"line\"><a id=\"l-207\" name=\"l-207\"></a><span class=\"linenos\"> 207</span><span class=\"w\">    </span><span class=\"n\">Serial3</span><span class=\"p\">.</span><span class=\"n\">IrqHandler</span><span class=\"p\">();</span></div>\n<div class=\"line\"><a id=\"l-208\" name=\"l-208\"></a><span class=\"linenos\"> 208</span><span class=\"p\">}</span></div>\n<div class=\"line\"><a id=\"l-209\" name=\"l-209\"></a><span class=\"linenos\"> 209</span><span class=\"kr\">void</span><span class=\"w\"> </span><span class=\"nf\">SERCOM1_3_Handler</span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"p\">{</span></div>\n<div class=\"line\"><a id=\"l-210\" name=\"l-210\"></a><span class=\"linenos\"> 210</span><span class=\"w\">    </span><span class=\"n\">Serial3</span><span class=\"p\">.</span><span class=\"n\">IrqHandler</span><span class=\"p\">();</span></div>\n<div class=\"line\"><a id=\"l-211\" name=\"l-211\"></a><span class=\"linenos\"> 211</span><span class=\"p\">}</span></div>\n<div class=\"line\"><a id=\"l-212\" name=\"l-212\"></a><span class=\"linenos\"> 212</span><span class=\"cp\">#define ENABLE_SERIAL3</span></div>\n<div class=\"line\"><a id=\"l-213\" name=\"l-213\"></a><span class=\"linenos\"> 213</span></div>\n<div class=\"line\"><a id=\"l-214\" name=\"l-214\"></a><span class=\"linenos\"> 214</span><span class=\"cm\">/** End [serial_ports_grand_central] */</span></div>\n<div class=\"line\"><a id=\"l-215\" name=\"l-215\"></a><span class=\"linenos\"> 215</span><span class=\"cp\">#endif  </span><span class=\"c1\">// End hardware serial on Grand Central</span></div>\n<div class=\"line\"><a id=\"l-216\" name=\"l-216\"></a><span class=\"linenos\"> 216</span></div>\n<div class=\"line\"><a id=\"l-217\" name=\"l-217\"></a><span class=\"linenos\"> 217</span></div>\n<div class=\"line\"><a id=\"l-218\" name=\"l-218\"></a><span class=\"linenos\"> 218</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-219\" name=\"l-219\"></a><span class=\"linenos\"> 219</span><span class=\"c1\">//  Assigning Serial Port Functionality</span></div>\n<div class=\"line\"><a id=\"l-220\" name=\"l-220\"></a><span class=\"linenos\"> 220</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-221\" name=\"l-221\"></a><span class=\"linenos\"> 221</span><span class=\"cp\">#if (defined(ENABLE_SERIAL2) &amp;&amp; defined(ENABLE_SERIAL3)) ||                 \\</span></div>\n<div class=\"line\"><a id=\"l-222\" name=\"l-222\"></a><span class=\"linenos\"> 222</span><span class=\"cp\">    defined(ENVIRODIY_STONEFLY_M4) || defined(ADAFRUIT_GRAND_CENTRAL_M4) || \\</span></div>\n<div class=\"line\"><a id=\"l-223\" name=\"l-223\"></a><span class=\"linenos\"> 223</span><span class=\"cp\">    defined(ATMEGA2560) || defined(ARDUINO_AVR_MEGA2560)</span></div>\n<div class=\"line\"><a id=\"l-224\" name=\"l-224\"></a><span class=\"linenos\"> 224</span><span class=\"cm\">/** Start [assign_ports_hw] */</span></div>\n<div class=\"line\"><a id=\"l-225\" name=\"l-225\"></a><span class=\"linenos\"> 225</span><span class=\"c1\">// If there are additional hardware Serial ports possible - use them!</span></div>\n<div class=\"line\"><a id=\"l-226\" name=\"l-226\"></a><span class=\"linenos\"> 226</span></div>\n<div class=\"line\"><a id=\"l-227\" name=\"l-227\"></a><span class=\"linenos\"> 227</span><span class=\"c1\">// We give the modem first priority and assign it to hardware serial</span></div>\n<div class=\"line\"><a id=\"l-228\" name=\"l-228\"></a><span class=\"linenos\"> 228</span><span class=\"c1\">// All of the supported processors have a hardware port available named Serial1</span></div>\n<div class=\"line\"><a id=\"l-229\" name=\"l-229\"></a><span class=\"linenos\"> 229</span><span class=\"cp\">#if defined(ENVIRODIY_STONEFLY_M4)</span></div>\n<div class=\"line\"><a id=\"l-230\" name=\"l-230\"></a><span class=\"linenos\"> 230</span><span class=\"cp\">#define modemSerial SerialBee</span></div>\n<div class=\"line\"><a id=\"l-231\" name=\"l-231\"></a><span class=\"linenos\"> 231</span><span class=\"c1\">// Helper for alternate print out</span></div>\n<div class=\"line\"><a id=\"l-232\" name=\"l-232\"></a><span class=\"linenos\"> 232</span><span class=\"c1\">// useful for SAMD boards which are a PITA to debug over USB when sleeping</span></div>\n<div class=\"line\"><a id=\"l-233\" name=\"l-233\"></a><span class=\"linenos\"> 233</span><span class=\"cp\">#elif defined(ARDUINO_ARCH_SAMD) &amp;&amp; defined(MS_2ND_OUTPUT)</span></div>\n<div class=\"line\"><a id=\"l-234\" name=\"l-234\"></a><span class=\"linenos\"> 234</span><span class=\"cp\">#define modemSerial Serial2</span></div>\n<div class=\"line\"><a id=\"l-235\" name=\"l-235\"></a><span class=\"linenos\"> 235</span><span class=\"cp\">#else</span></div>\n<div class=\"line\"><a id=\"l-236\" name=\"l-236\"></a><span class=\"linenos\"> 236</span><span class=\"cp\">#define modemSerial Serial1</span></div>\n<div class=\"line\"><a id=\"l-237\" name=\"l-237\"></a><span class=\"linenos\"> 237</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-238\" name=\"l-238\"></a><span class=\"linenos\"> 238</span></div>\n<div class=\"line\"><a id=\"l-239\" name=\"l-239\"></a><span class=\"linenos\"> 239</span><span class=\"c1\">// Define the serial port for modbus</span></div>\n<div class=\"line\"><a id=\"l-240\" name=\"l-240\"></a><span class=\"linenos\"> 240</span><span class=\"c1\">// Modbus (at 9600 8N1) is used by the Keller level loggers and Yosemitech</span></div>\n<div class=\"line\"><a id=\"l-241\" name=\"l-241\"></a><span class=\"linenos\"> 241</span><span class=\"c1\">// sensors</span></div>\n<div class=\"line\"><a id=\"l-242\" name=\"l-242\"></a><span class=\"linenos\"> 242</span><span class=\"cp\">#define modbusSerial Serial2</span></div>\n<div class=\"line\"><a id=\"l-243\" name=\"l-243\"></a><span class=\"linenos\"> 243</span></div>\n<div class=\"line\"><a id=\"l-244\" name=\"l-244\"></a><span class=\"linenos\"> 244</span><span class=\"cp\">#if defined(BUILD_SENSOR_MAX_BOTIX_SONAR)</span></div>\n<div class=\"line\"><a id=\"l-245\" name=\"l-245\"></a><span class=\"linenos\"> 245</span><span class=\"cp\">#define sonarSerial Serial3</span></div>\n<div class=\"line\"><a id=\"l-246\" name=\"l-246\"></a><span class=\"linenos\"> 246</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-247\" name=\"l-247\"></a><span class=\"linenos\"> 247</span></div>\n<div class=\"line\"><a id=\"l-248\" name=\"l-248\"></a><span class=\"linenos\"> 248</span><span class=\"cp\">#if defined(BUILD_SENSOR_GEOLUX_HYDRO_CAM)</span></div>\n<div class=\"line\"><a id=\"l-249\" name=\"l-249\"></a><span class=\"linenos\"> 249</span><span class=\"cp\">#define cameraSerial Serial1</span></div>\n<div class=\"line\"><a id=\"l-250\" name=\"l-250\"></a><span class=\"linenos\"> 250</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-251\" name=\"l-251\"></a><span class=\"linenos\"> 251</span></div>\n<div class=\"line\"><a id=\"l-252\" name=\"l-252\"></a><span class=\"linenos\"> 252</span><span class=\"cm\">/** End [assign_ports_hw] */</span></div>\n<div class=\"line\"><a id=\"l-253\" name=\"l-253\"></a><span class=\"linenos\"> 253</span><span class=\"cp\">#else</span></div>\n<div class=\"line\"><a id=\"l-254\" name=\"l-254\"></a><span class=\"linenos\"> 254</span><span class=\"cm\">/** Start [assign_ports_sw] */</span></div>\n<div class=\"line\"><a id=\"l-255\" name=\"l-255\"></a><span class=\"linenos\"> 255</span></div>\n<div class=\"line\"><a id=\"l-256\" name=\"l-256\"></a><span class=\"linenos\"> 256</span><span class=\"c1\">// We give the modem first priority and assign it to hardware serial</span></div>\n<div class=\"line\"><a id=\"l-257\" name=\"l-257\"></a><span class=\"linenos\"> 257</span><span class=\"c1\">// All of the supported processors have a hardware port available named Serial1</span></div>\n<div class=\"line\"><a id=\"l-258\" name=\"l-258\"></a><span class=\"linenos\"> 258</span><span class=\"cp\">#define modemSerial Serial1</span></div>\n<div class=\"line\"><a id=\"l-259\" name=\"l-259\"></a><span class=\"linenos\"> 259</span></div>\n<div class=\"line\"><a id=\"l-260\" name=\"l-260\"></a><span class=\"linenos\"> 260</span><span class=\"c1\">// Define the serial port for modbus</span></div>\n<div class=\"line\"><a id=\"l-261\" name=\"l-261\"></a><span class=\"linenos\"> 261</span><span class=\"c1\">// Modbus (at 9600 8N1) is used by the Keller level loggers and Yosemitech</span></div>\n<div class=\"line\"><a id=\"l-262\" name=\"l-262\"></a><span class=\"linenos\"> 262</span><span class=\"c1\">// sensors</span></div>\n<div class=\"line\"><a id=\"l-263\" name=\"l-263\"></a><span class=\"linenos\"> 263</span><span class=\"c1\">// Since AltSoftSerial is the best software option, we use it for modbus</span></div>\n<div class=\"line\"><a id=\"l-264\" name=\"l-264\"></a><span class=\"linenos\"> 264</span><span class=\"c1\">// If AltSoftSerial (or its pins) aren&#39;t available, use NeoSWSerial</span></div>\n<div class=\"line\"><a id=\"l-265\" name=\"l-265\"></a><span class=\"linenos\"> 265</span><span class=\"c1\">// SoftwareSerial **WILL NOT** work for modbus!</span></div>\n<div class=\"line\"><a id=\"l-266\" name=\"l-266\"></a><span class=\"linenos\"> 266</span><span class=\"cp\">#if defined(BUILD_TEST_ALTSOFTSERIAL) &amp;&amp; \\</span></div>\n<div class=\"line\"><a id=\"l-267\" name=\"l-267\"></a><span class=\"linenos\"> 267</span><span class=\"cp\">    (defined(__AVR__) || defined(ARDUINO_ARCH_AVR))</span></div>\n<div class=\"line\"><a id=\"l-268\" name=\"l-268\"></a><span class=\"linenos\"> 268</span><span class=\"c1\">// For AltSoftSerial</span></div>\n<div class=\"line\"><a id=\"l-269\" name=\"l-269\"></a><span class=\"linenos\"> 269</span><span class=\"cp\">#define modbusSerial altSoftSerial</span></div>\n<div class=\"line\"><a id=\"l-270\" name=\"l-270\"></a><span class=\"linenos\"> 270</span><span class=\"cp\">#elif defined(BUILD_TEST_NEOSWSERIAL) &amp;&amp; \\</span></div>\n<div class=\"line\"><a id=\"l-271\" name=\"l-271\"></a><span class=\"linenos\"> 271</span><span class=\"cp\">    (defined(__AVR__) || defined(ARDUINO_ARCH_AVR))</span></div>\n<div class=\"line\"><a id=\"l-272\" name=\"l-272\"></a><span class=\"linenos\"> 272</span><span class=\"c1\">// For Neo software serial</span></div>\n<div class=\"line\"><a id=\"l-273\" name=\"l-273\"></a><span class=\"linenos\"> 273</span><span class=\"cp\">#define modbusSerial neoSSerial1</span></div>\n<div class=\"line\"><a id=\"l-274\" name=\"l-274\"></a><span class=\"linenos\"> 274</span><span class=\"cp\">#elif defined(BUILD_TEST_SOFTSERIAL) &amp;&amp; \\</span></div>\n<div class=\"line\"><a id=\"l-275\" name=\"l-275\"></a><span class=\"linenos\"> 275</span><span class=\"cp\">    (defined(__AVR__) || defined(ARDUINO_ARCH_AVR))</span></div>\n<div class=\"line\"><a id=\"l-276\" name=\"l-276\"></a><span class=\"linenos\"> 276</span><span class=\"c1\">// For software serial</span></div>\n<div class=\"line\"><a id=\"l-277\" name=\"l-277\"></a><span class=\"linenos\"> 277</span><span class=\"cp\">#define modbusSerial softSerial1</span></div>\n<div class=\"line\"><a id=\"l-278\" name=\"l-278\"></a><span class=\"linenos\"> 278</span><span class=\"cp\">#else</span></div>\n<div class=\"line\"><a id=\"l-279\" name=\"l-279\"></a><span class=\"linenos\"> 279</span><span class=\"c1\">// Hardware serial</span></div>\n<div class=\"line\"><a id=\"l-280\" name=\"l-280\"></a><span class=\"linenos\"> 280</span><span class=\"cp\">#define modbusSerial Serial1</span></div>\n<div class=\"line\"><a id=\"l-281\" name=\"l-281\"></a><span class=\"linenos\"> 281</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-282\" name=\"l-282\"></a><span class=\"linenos\"> 282</span></div>\n<div class=\"line\"><a id=\"l-283\" name=\"l-283\"></a><span class=\"linenos\"> 283</span><span class=\"c1\">// Since the Maxbotix only needs one-way communication and sends a simple text</span></div>\n<div class=\"line\"><a id=\"l-284\" name=\"l-284\"></a><span class=\"linenos\"> 284</span><span class=\"c1\">// string repeatedly, almost any software serial port will do for it.</span></div>\n<div class=\"line\"><a id=\"l-285\" name=\"l-285\"></a><span class=\"linenos\"> 285</span><span class=\"cp\">#if defined(BUILD_TEST_ALTSOFTSERIAL) &amp;&amp; defined(BUILD_SENSOR_MAX_BOTIX_SONAR)</span></div>\n<div class=\"line\"><a id=\"l-286\" name=\"l-286\"></a><span class=\"linenos\"> 286</span><span class=\"c1\">// For AltSoftSerial</span></div>\n<div class=\"line\"><a id=\"l-287\" name=\"l-287\"></a><span class=\"linenos\"> 287</span><span class=\"cp\">#define sonarSerial altSoftSerial</span></div>\n<div class=\"line\"><a id=\"l-288\" name=\"l-288\"></a><span class=\"linenos\"> 288</span><span class=\"cp\">#elif defined(BUILD_TEST_NEOSWSERIAL) &amp;&amp; defined(BUILD_SENSOR_MAX_BOTIX_SONAR)</span></div>\n<div class=\"line\"><a id=\"l-289\" name=\"l-289\"></a><span class=\"linenos\"> 289</span><span class=\"c1\">// For Neo software serial</span></div>\n<div class=\"line\"><a id=\"l-290\" name=\"l-290\"></a><span class=\"linenos\"> 290</span><span class=\"cp\">#define sonarSerial neoSSerial1</span></div>\n<div class=\"line\"><a id=\"l-291\" name=\"l-291\"></a><span class=\"linenos\"> 291</span><span class=\"cp\">#elif defined(BUILD_TEST_SOFTSERIAL) &amp;&amp; defined(BUILD_SENSOR_MAX_BOTIX_SONAR)</span></div>\n<div class=\"line\"><a id=\"l-292\" name=\"l-292\"></a><span class=\"linenos\"> 292</span><span class=\"c1\">// For software serial</span></div>\n<div class=\"line\"><a id=\"l-293\" name=\"l-293\"></a><span class=\"linenos\"> 293</span><span class=\"cp\">#define sonarSerial softSerial1</span></div>\n<div class=\"line\"><a id=\"l-294\" name=\"l-294\"></a><span class=\"linenos\"> 294</span><span class=\"cp\">#elif defined(BUILD_SENSOR_MAX_BOTIX_SONAR)</span></div>\n<div class=\"line\"><a id=\"l-295\" name=\"l-295\"></a><span class=\"linenos\"> 295</span><span class=\"c1\">// Hardware serial</span></div>\n<div class=\"line\"><a id=\"l-296\" name=\"l-296\"></a><span class=\"linenos\"> 296</span><span class=\"cp\">#define sonarSerial Serial1</span></div>\n<div class=\"line\"><a id=\"l-297\" name=\"l-297\"></a><span class=\"linenos\"> 297</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-298\" name=\"l-298\"></a><span class=\"linenos\"> 298</span></div>\n<div class=\"line\"><a id=\"l-299\" name=\"l-299\"></a><span class=\"linenos\"> 299</span><span class=\"c1\">// I **REALLY** don&#39;t recommend using a software serial for the camera, but oh</span></div>\n<div class=\"line\"><a id=\"l-300\" name=\"l-300\"></a><span class=\"linenos\"> 300</span><span class=\"c1\">// well</span></div>\n<div class=\"line\"><a id=\"l-301\" name=\"l-301\"></a><span class=\"linenos\"> 301</span><span class=\"cp\">#if defined(BUILD_TEST_ALTSOFTSERIAL) &amp;&amp; defined(BUILD_SENSOR_GEOLUX_HYDRO_CAM)</span></div>\n<div class=\"line\"><a id=\"l-302\" name=\"l-302\"></a><span class=\"linenos\"> 302</span><span class=\"c1\">// For AltSoftSerial</span></div>\n<div class=\"line\"><a id=\"l-303\" name=\"l-303\"></a><span class=\"linenos\"> 303</span><span class=\"cp\">#define cameraSerial altSoftSerial</span></div>\n<div class=\"line\"><a id=\"l-304\" name=\"l-304\"></a><span class=\"linenos\"> 304</span><span class=\"cp\">#elif defined(BUILD_TEST_NEOSWSERIAL) &amp;&amp; defined(BUILD_SENSOR_GEOLUX_HYDRO_CAM)</span></div>\n<div class=\"line\"><a id=\"l-305\" name=\"l-305\"></a><span class=\"linenos\"> 305</span><span class=\"c1\">// For Neo software serial</span></div>\n<div class=\"line\"><a id=\"l-306\" name=\"l-306\"></a><span class=\"linenos\"> 306</span><span class=\"cp\">#define cameraSerial neoSSerial1</span></div>\n<div class=\"line\"><a id=\"l-307\" name=\"l-307\"></a><span class=\"linenos\"> 307</span><span class=\"cp\">#elif defined(BUILD_TEST_SOFTSERIAL) &amp;&amp; defined(BUILD_SENSOR_GEOLUX_HYDRO_CAM)</span></div>\n<div class=\"line\"><a id=\"l-308\" name=\"l-308\"></a><span class=\"linenos\"> 308</span><span class=\"c1\">// For software serial</span></div>\n<div class=\"line\"><a id=\"l-309\" name=\"l-309\"></a><span class=\"linenos\"> 309</span><span class=\"cp\">#define cameraSerial softSerial1</span></div>\n<div class=\"line\"><a id=\"l-310\" name=\"l-310\"></a><span class=\"linenos\"> 310</span><span class=\"cp\">#elif defined(BUILD_SENSOR_GEOLUX_HYDRO_CAM)</span></div>\n<div class=\"line\"><a id=\"l-311\" name=\"l-311\"></a><span class=\"linenos\"> 311</span><span class=\"c1\">// Hardware serial</span></div>\n<div class=\"line\"><a id=\"l-312\" name=\"l-312\"></a><span class=\"linenos\"> 312</span><span class=\"cp\">#define cameraSerial Serial1</span></div>\n<div class=\"line\"><a id=\"l-313\" name=\"l-313\"></a><span class=\"linenos\"> 313</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-314\" name=\"l-314\"></a><span class=\"linenos\"> 314</span></div>\n<div class=\"line\"><a id=\"l-315\" name=\"l-315\"></a><span class=\"linenos\"> 315</span><span class=\"cm\">/** End [assign_ports_sw] */</span></div>\n<div class=\"line\"><a id=\"l-316\" name=\"l-316\"></a><span class=\"linenos\"> 316</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-317\" name=\"l-317\"></a><span class=\"linenos\"> 317</span></div>\n<div class=\"line\"><a id=\"l-318\" name=\"l-318\"></a><span class=\"linenos\"> 318</span></div>\n<div class=\"line\"><a id=\"l-319\" name=\"l-319\"></a><span class=\"linenos\"> 319</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-320\" name=\"l-320\"></a><span class=\"linenos\"> 320</span><span class=\"c1\">//  Data Logging Options</span></div>\n<div class=\"line\"><a id=\"l-321\" name=\"l-321\"></a><span class=\"linenos\"> 321</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-322\" name=\"l-322\"></a><span class=\"linenos\"> 322</span><span class=\"cm\">/** Start [logging_options] */</span></div>\n<div class=\"line\"><a id=\"l-323\" name=\"l-323\"></a><span class=\"linenos\"> 323</span><span class=\"c1\">// The name of this program file - this is used only for console printouts at</span></div>\n<div class=\"line\"><a id=\"l-324\" name=\"l-324\"></a><span class=\"linenos\"> 324</span><span class=\"c1\">// start-up</span></div>\n<div class=\"line\"><a id=\"l-325\" name=\"l-325\"></a><span class=\"linenos\"> 325</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">sketchName</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s\">&quot;menu_a_la_carte.ino&quot;</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-326\" name=\"l-326\"></a><span class=\"linenos\"> 326</span><span class=\"c1\">// Logger ID, also becomes the prefix for the name of the data file on SD card</span></div>\n<div class=\"line\"><a id=\"l-327\" name=\"l-327\"></a><span class=\"linenos\"> 327</span><span class=\"c1\">// This is also used as the Thing Name, MQTT Client ID, and topic for AWS IOT</span></div>\n<div class=\"line\"><a id=\"l-328\" name=\"l-328\"></a><span class=\"linenos\"> 328</span><span class=\"c1\">// Core</span></div>\n<div class=\"line\"><a id=\"l-329\" name=\"l-329\"></a><span class=\"linenos\"> 329</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">LoggerID</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s\">&quot;your_logger_id&quot;</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-330\" name=\"l-330\"></a><span class=\"linenos\"> 330</span><span class=\"c1\">// Sampling feature UUID</span></div>\n<div class=\"line\"><a id=\"l-331\" name=\"l-331\"></a><span class=\"linenos\"> 331</span><span class=\"c1\">// This is used as the UUID for the sampling feature on Monitor My Watershed and</span></div>\n<div class=\"line\"><a id=\"l-332\" name=\"l-332\"></a><span class=\"linenos\"> 332</span><span class=\"c1\">// the sub-topic for AWS IOT Core</span></div>\n<div class=\"line\"><a id=\"l-333\" name=\"l-333\"></a><span class=\"linenos\"> 333</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">samplingFeature</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-334\" name=\"l-334\"></a><span class=\"linenos\"> 334</span><span class=\"c1\">// How frequently (in minutes) to log data</span></div>\n<div class=\"line\"><a id=\"l-335\" name=\"l-335\"></a><span class=\"linenos\"> 335</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">loggingInterval</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">15</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-336\" name=\"l-336\"></a><span class=\"linenos\"> 336</span><span class=\"c1\">// Your logger&#39;s timezone.</span></div>\n<div class=\"line\"><a id=\"l-337\" name=\"l-337\"></a><span class=\"linenos\"> 337</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">timeZone</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">-5</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Eastern Standard Time</span></div>\n<div class=\"line\"><a id=\"l-338\" name=\"l-338\"></a><span class=\"linenos\"> 338</span><span class=\"c1\">// NOTE:  Daylight savings time will not be applied!  Please use standard time!</span></div>\n<div class=\"line\"><a id=\"l-339\" name=\"l-339\"></a><span class=\"linenos\"> 339</span></div>\n<div class=\"line\"><a id=\"l-340\" name=\"l-340\"></a><span class=\"linenos\"> 340</span><span class=\"c1\">// Set the input and output pins for the logger</span></div>\n<div class=\"line\"><a id=\"l-341\" name=\"l-341\"></a><span class=\"linenos\"> 341</span><span class=\"c1\">// NOTE:  Use -1 for pins that do not apply</span></div>\n<div class=\"line\"><a id=\"l-342\" name=\"l-342\"></a><span class=\"linenos\"> 342</span><span class=\"cp\">#if defined(ARDUINO_AVR_ENVIRODIY_MAYFLY)</span></div>\n<div class=\"line\"><a id=\"l-343\" name=\"l-343\"></a><span class=\"linenos\"> 343</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int32_t</span><span class=\"w\"> </span><span class=\"n\">serialBaud</span><span class=\"w\">    </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">115200</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Baud rate for debugging</span></div>\n<div class=\"line\"><a id=\"l-344\" name=\"l-344\"></a><span class=\"linenos\"> 344</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">greenLED</span><span class=\"w\">      </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">8</span><span class=\"p\">;</span><span class=\"w\">       </span><span class=\"c1\">// Pin for the green LED</span></div>\n<div class=\"line\"><a id=\"l-345\" name=\"l-345\"></a><span class=\"linenos\"> 345</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">redLED</span><span class=\"w\">        </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">9</span><span class=\"p\">;</span><span class=\"w\">       </span><span class=\"c1\">// Pin for the red LED</span></div>\n<div class=\"line\"><a id=\"l-346\" name=\"l-346\"></a><span class=\"linenos\"> 346</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">buttonPin</span><span class=\"w\">     </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">21</span><span class=\"p\">;</span><span class=\"w\">     </span><span class=\"c1\">// Pin for debugging mode (ie, button pin)</span></div>\n<div class=\"line\"><a id=\"l-347\" name=\"l-347\"></a><span class=\"linenos\"> 347</span><span class=\"kr\">uint8_t</span><span class=\"w\">       </span><span class=\"n\">buttonPinMode</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"kr\">INPUT</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// mode for debugging pin</span></div>\n<div class=\"line\"><a id=\"l-348\" name=\"l-348\"></a><span class=\"linenos\"> 348</span><span class=\"c1\">// NOTE: On the Mayfly (and Stonefly), pin 21 is tied to a button that pulls the</span></div>\n<div class=\"line\"><a id=\"l-349\" name=\"l-349\"></a><span class=\"linenos\"> 349</span><span class=\"c1\">// pin HIGH when pressed and an external pull-down that keeps the pin LOW when</span></div>\n<div class=\"line\"><a id=\"l-350\" name=\"l-350\"></a><span class=\"linenos\"> 350</span><span class=\"c1\">// the button is not pressed. We want the pin mode to be INPUT - ie, floating</span></div>\n<div class=\"line\"><a id=\"l-351\" name=\"l-351\"></a><span class=\"linenos\"> 351</span><span class=\"c1\">// internally and pulled down externally until the button is pressed.  AVR</span></div>\n<div class=\"line\"><a id=\"l-352\" name=\"l-352\"></a><span class=\"linenos\"> 352</span><span class=\"c1\">// processors like the 1284P on the Mayfly do not have internal pull-down</span></div>\n<div class=\"line\"><a id=\"l-353\" name=\"l-353\"></a><span class=\"linenos\"> 353</span><span class=\"c1\">// resistors - they do not have an INPUT_PULLDOWN mode like SAMD processors.</span></div>\n<div class=\"line\"><a id=\"l-354\" name=\"l-354\"></a><span class=\"linenos\"> 354</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">wakePin</span><span class=\"w\">     </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">31</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU interrupt/alarm pin to wake from sleep</span></div>\n<div class=\"line\"><a id=\"l-355\" name=\"l-355\"></a><span class=\"linenos\"> 355</span><span class=\"kr\">uint8_t</span><span class=\"w\">      </span><span class=\"n\">wakePinMode</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"kr\">INPUT_PULLUP</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// mode for wake pin</span></div>\n<div class=\"line\"><a id=\"l-356\" name=\"l-356\"></a><span class=\"linenos\"> 356</span><span class=\"c1\">// Mayfly 0.x, 1.x D31 = A7</span></div>\n<div class=\"line\"><a id=\"l-357\" name=\"l-357\"></a><span class=\"linenos\"> 357</span><span class=\"c1\">// NOTE: On the Mayfly, pin D31=A7 is tied directly to the RTC INT/SQW pin</span></div>\n<div class=\"line\"><a id=\"l-358\" name=\"l-358\"></a><span class=\"linenos\"> 358</span><span class=\"c1\">// on the onboard DS3231 RTC.  The interrupt from the DS3231 will pull the pin</span></div>\n<div class=\"line\"><a id=\"l-359\" name=\"l-359\"></a><span class=\"linenos\"> 359</span><span class=\"c1\">// DOWN, so we want the pin mode to be INPUT_PULLUP - ie, pulled up until the</span></div>\n<div class=\"line\"><a id=\"l-360\" name=\"l-360\"></a><span class=\"linenos\"> 360</span><span class=\"c1\">// RTC pulls it down.</span></div>\n<div class=\"line\"><a id=\"l-361\" name=\"l-361\"></a><span class=\"linenos\"> 361</span><span class=\"c1\">// Set the wake pin to -1 if you do not want the main processor to sleep.</span></div>\n<div class=\"line\"><a id=\"l-362\" name=\"l-362\"></a><span class=\"linenos\"> 362</span><span class=\"c1\">// In a SAMD system where you are using the built-in RTC, set the wakePin to 1.</span></div>\n<div class=\"line\"><a id=\"l-363\" name=\"l-363\"></a><span class=\"linenos\"> 363</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">sdCardPwrPin</span><span class=\"w\">   </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">-1</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU SD card power pin</span></div>\n<div class=\"line\"><a id=\"l-364\" name=\"l-364\"></a><span class=\"linenos\"> 364</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">sdCardSSPin</span><span class=\"w\">    </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">12</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// SD card chip select/slave select pin</span></div>\n<div class=\"line\"><a id=\"l-365\" name=\"l-365\"></a><span class=\"linenos\"> 365</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">flashSSPin</span><span class=\"w\">     </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">20</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// onboard flash chip select/slave select pin</span></div>\n<div class=\"line\"><a id=\"l-366\" name=\"l-366\"></a><span class=\"linenos\"> 366</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">sensorPowerPin</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">22</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin controlling main sensor power</span></div>\n<div class=\"line\"><a id=\"l-367\" name=\"l-367\"></a><span class=\"linenos\"> 367</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">sdi12DataPin</span><span class=\"w\">   </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">7</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-368\" name=\"l-368\"></a><span class=\"linenos\"> 368</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">relayPowerPin</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">A3</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin controlling an optional power relay</span></div>\n<div class=\"line\"><a id=\"l-369\" name=\"l-369\"></a><span class=\"linenos\"> 369</span><span class=\"cp\">#elif defined(ENVIRODIY_STONEFLY_M4)</span></div>\n<div class=\"line\"><a id=\"l-370\" name=\"l-370\"></a><span class=\"linenos\"> 370</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int32_t</span><span class=\"w\"> </span><span class=\"n\">serialBaud</span><span class=\"w\">    </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">921600</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Baud rate for debugging</span></div>\n<div class=\"line\"><a id=\"l-371\" name=\"l-371\"></a><span class=\"linenos\"> 371</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">greenLED</span><span class=\"w\">      </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">8</span><span class=\"p\">;</span><span class=\"w\">       </span><span class=\"c1\">// Pin for the green LED</span></div>\n<div class=\"line\"><a id=\"l-372\" name=\"l-372\"></a><span class=\"linenos\"> 372</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">redLED</span><span class=\"w\">        </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">9</span><span class=\"p\">;</span><span class=\"w\">       </span><span class=\"c1\">// Pin for the red LED</span></div>\n<div class=\"line\"><a id=\"l-373\" name=\"l-373\"></a><span class=\"linenos\"> 373</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">buttonPin</span><span class=\"w\">     </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">21</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Pin for debugging mode (ie, button pin)</span></div>\n<div class=\"line\"><a id=\"l-374\" name=\"l-374\"></a><span class=\"linenos\"> 374</span><span class=\"kr\">uint8_t</span><span class=\"w\">       </span><span class=\"n\">buttonPinMode</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">INPUT_PULLDOWN</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// mode for debugging pin</span></div>\n<div class=\"line\"><a id=\"l-375\" name=\"l-375\"></a><span class=\"linenos\"> 375</span><span class=\"c1\">// NOTE: On the Stonefly (and Mayfly), 21 is tied to a button that pulls the pin</span></div>\n<div class=\"line\"><a id=\"l-376\" name=\"l-376\"></a><span class=\"linenos\"> 376</span><span class=\"c1\">// HIGH when pressed and an external pull-down that keeps the pin LOW when the</span></div>\n<div class=\"line\"><a id=\"l-377\" name=\"l-377\"></a><span class=\"linenos\"> 377</span><span class=\"c1\">// button is not pressed. We want the pin mode to be INPUT_PULLDOWN - ie, pulled</span></div>\n<div class=\"line\"><a id=\"l-378\" name=\"l-378\"></a><span class=\"linenos\"> 378</span><span class=\"c1\">// down both internally and externally until the button is pressed.</span></div>\n<div class=\"line\"><a id=\"l-379\" name=\"l-379\"></a><span class=\"linenos\"> 379</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">wakePin</span><span class=\"w\">     </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">38</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU interrupt/alarm pin to wake from sleep</span></div>\n<div class=\"line\"><a id=\"l-380\" name=\"l-380\"></a><span class=\"linenos\"> 380</span><span class=\"kr\">uint8_t</span><span class=\"w\">      </span><span class=\"n\">wakePinMode</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"kr\">INPUT_PULLUP</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// mode for wake pin</span></div>\n<div class=\"line\"><a id=\"l-381\" name=\"l-381\"></a><span class=\"linenos\"> 381</span><span class=\"c1\">// NOTE: On the Stonefly, pin D38 is tied directly to the RTC INT/SQW pin</span></div>\n<div class=\"line\"><a id=\"l-382\" name=\"l-382\"></a><span class=\"linenos\"> 382</span><span class=\"c1\">// on the onboard RV-8803 RTC.  The interrupt from the RV-8803 will pull the pin</span></div>\n<div class=\"line\"><a id=\"l-383\" name=\"l-383\"></a><span class=\"linenos\"> 383</span><span class=\"c1\">// DOWN, so we want the pin mode to be INPUT_PULLUP - ie, pulled up until the</span></div>\n<div class=\"line\"><a id=\"l-384\" name=\"l-384\"></a><span class=\"linenos\"> 384</span><span class=\"c1\">// RTC pulls it down.</span></div>\n<div class=\"line\"><a id=\"l-385\" name=\"l-385\"></a><span class=\"linenos\"> 385</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">sdCardPwrPin</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">-1</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU SD card power pin</span></div>\n<div class=\"line\"><a id=\"l-386\" name=\"l-386\"></a><span class=\"linenos\"> 386</span><span class=\"c1\">// const int8_t sdCardPwrPin   = 32;  // MCU SD card power pin</span></div>\n<div class=\"line\"><a id=\"l-387\" name=\"l-387\"></a><span class=\"linenos\"> 387</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">sdCardSSPin</span><span class=\"w\">    </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">29</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// SD card chip select/slave select pin</span></div>\n<div class=\"line\"><a id=\"l-388\" name=\"l-388\"></a><span class=\"linenos\"> 388</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">flashSSPin</span><span class=\"w\">     </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">20</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// onboard flash chip select/slave select pin</span></div>\n<div class=\"line\"><a id=\"l-389\" name=\"l-389\"></a><span class=\"linenos\"> 389</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">sensorPowerPin</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">22</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin controlling main sensor power</span></div>\n<div class=\"line\"><a id=\"l-390\" name=\"l-390\"></a><span class=\"linenos\"> 390</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">relayPowerPin</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">41</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin controlling an optional power relay</span></div>\n<div class=\"line\"><a id=\"l-391\" name=\"l-391\"></a><span class=\"linenos\"> 391</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">sdi12DataPin</span><span class=\"w\">  </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-392\" name=\"l-392\"></a><span class=\"linenos\"> 392</span><span class=\"cp\">#else</span></div>\n<div class=\"line\"><a id=\"l-393\" name=\"l-393\"></a><span class=\"linenos\"> 393</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int32_t</span><span class=\"w\"> </span><span class=\"n\">serialBaud</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">115200</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Baud rate for debugging</span></div>\n<div class=\"line\"><a id=\"l-394\" name=\"l-394\"></a><span class=\"linenos\"> 394</span><span class=\"cp\">#if defined(PIN_LED2)</span></div>\n<div class=\"line\"><a id=\"l-395\" name=\"l-395\"></a><span class=\"linenos\"> 395</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">greenLED</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">PIN_LED2</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Pin for the green LED</span></div>\n<div class=\"line\"><a id=\"l-396\" name=\"l-396\"></a><span class=\"linenos\"> 396</span><span class=\"cp\">#else</span></div>\n<div class=\"line\"><a id=\"l-397\" name=\"l-397\"></a><span class=\"linenos\"> 397</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">greenLED</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">-1</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Pin for the green LED</span></div>\n<div class=\"line\"><a id=\"l-398\" name=\"l-398\"></a><span class=\"linenos\"> 398</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-399\" name=\"l-399\"></a><span class=\"linenos\"> 399</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">redLED</span><span class=\"w\">        </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"kr\">LED_BUILTIN</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Pin for the red LED</span></div>\n<div class=\"line\"><a id=\"l-400\" name=\"l-400\"></a><span class=\"linenos\"> 400</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">buttonPin</span><span class=\"w\">     </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">-1</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Pin for debugging mode (ie, button pin)</span></div>\n<div class=\"line\"><a id=\"l-401\" name=\"l-401\"></a><span class=\"linenos\"> 401</span><span class=\"kr\">uint8_t</span><span class=\"w\">      </span><span class=\"n\">buttonPinMode</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"kr\">INPUT_PULLUP</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// mode for debugging pin</span></div>\n<div class=\"line\"><a id=\"l-402\" name=\"l-402\"></a><span class=\"linenos\"> 402</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">wakePin</span><span class=\"w\">       </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">-1</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU interrupt/alarm pin to wake from sleep</span></div>\n<div class=\"line\"><a id=\"l-403\" name=\"l-403\"></a><span class=\"linenos\"> 403</span><span class=\"kr\">uint8_t</span><span class=\"w\">      </span><span class=\"n\">wakePinMode</span><span class=\"w\">   </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"kr\">INPUT_PULLUP</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// mode for wake pin</span></div>\n<div class=\"line\"><a id=\"l-404\" name=\"l-404\"></a><span class=\"linenos\"> 404</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">sdCardPwrPin</span><span class=\"w\">  </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">-1</span><span class=\"p\">;</span><span class=\"w\">            </span><span class=\"c1\">// MCU SD card power pin</span></div>\n<div class=\"line\"><a id=\"l-405\" name=\"l-405\"></a><span class=\"linenos\"> 405</span><span class=\"cp\">#if defined(SDCARD_SS_PIN)</span></div>\n<div class=\"line\"><a id=\"l-406\" name=\"l-406\"></a><span class=\"linenos\"> 406</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">sdCardSSPin</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-407\" name=\"l-407\"></a><span class=\"linenos\"> 407</span><span class=\"w\">    </span><span class=\"n\">SDCARD_SS_PIN</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// SD card chip select/slave select pin</span></div>\n<div class=\"line\"><a id=\"l-408\" name=\"l-408\"></a><span class=\"linenos\"> 408</span><span class=\"cp\">#elif defined(PIN_SPI_SS)</span></div>\n<div class=\"line\"><a id=\"l-409\" name=\"l-409\"></a><span class=\"linenos\"> 409</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">sdCardSSPin</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">PIN_SPI_SS</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// SD card chip select/slave select pin</span></div>\n<div class=\"line\"><a id=\"l-410\" name=\"l-410\"></a><span class=\"linenos\"> 410</span><span class=\"cp\">#else</span></div>\n<div class=\"line\"><a id=\"l-411\" name=\"l-411\"></a><span class=\"linenos\"> 411</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">sdCardSSPin</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">-1</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// SD card chip select/slave select pin</span></div>\n<div class=\"line\"><a id=\"l-412\" name=\"l-412\"></a><span class=\"linenos\"> 412</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-413\" name=\"l-413\"></a><span class=\"linenos\"> 413</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">flashSSPin</span><span class=\"w\">     </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">-1</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// onboard flash chip select/slave select pin</span></div>\n<div class=\"line\"><a id=\"l-414\" name=\"l-414\"></a><span class=\"linenos\"> 414</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">sensorPowerPin</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">-1</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin controlling main sensor power</span></div>\n<div class=\"line\"><a id=\"l-415\" name=\"l-415\"></a><span class=\"linenos\"> 415</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">relayPowerPin</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">-1</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin controlling an optional power relay</span></div>\n<div class=\"line\"><a id=\"l-416\" name=\"l-416\"></a><span class=\"linenos\"> 416</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">sdi12DataPin</span><span class=\"w\">  </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-417\" name=\"l-417\"></a><span class=\"linenos\"> 417</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-418\" name=\"l-418\"></a><span class=\"linenos\"> 418</span><span class=\"cm\">/** End [logging_options] */</span></div>\n<div class=\"line\"><a id=\"l-419\" name=\"l-419\"></a><span class=\"linenos\"> 419</span></div>\n<div class=\"line\"><a id=\"l-420\" name=\"l-420\"></a><span class=\"linenos\"> 420</span></div>\n<div class=\"line\"><a id=\"l-421\" name=\"l-421\"></a><span class=\"linenos\"> 421</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-422\" name=\"l-422\"></a><span class=\"linenos\"> 422</span><span class=\"c1\">//  The Logger Object[s]</span></div>\n<div class=\"line\"><a id=\"l-423\" name=\"l-423\"></a><span class=\"linenos\"> 423</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-424\" name=\"l-424\"></a><span class=\"linenos\"> 424</span><span class=\"cm\">/** Start [loggers] */</span></div>\n<div class=\"line\"><a id=\"l-425\" name=\"l-425\"></a><span class=\"linenos\"> 425</span><span class=\"c1\">// Create a new logger instance</span></div>\n<div class=\"line\"><a id=\"l-426\" name=\"l-426\"></a><span class=\"linenos\"> 426</span><span class=\"c1\">// NOTE: We haven&#39;t set the pins or variable array here! We will need to call</span></div>\n<div class=\"line\"><a id=\"l-427\" name=\"l-427\"></a><span class=\"linenos\"> 427</span><span class=\"c1\">// setVariableArray and the various pin assignment functions in the setup!</span></div>\n<div class=\"line\"><a id=\"l-428\" name=\"l-428\"></a><span class=\"linenos\"> 428</span><span class=\"n\">Logger</span><span class=\"w\"> </span><span class=\"nf\">dataLogger</span><span class=\"p\">(</span><span class=\"n\">LoggerID</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">samplingFeature</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">loggingInterval</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-429\" name=\"l-429\"></a><span class=\"linenos\"> 429</span><span class=\"cm\">/** End [loggers] */</span></div>\n<div class=\"line\"><a id=\"l-430\" name=\"l-430\"></a><span class=\"linenos\"> 430</span></div>\n<div class=\"line\"><a id=\"l-431\" name=\"l-431\"></a><span class=\"linenos\"> 431</span></div>\n<div class=\"line\"><a id=\"l-432\" name=\"l-432\"></a><span class=\"linenos\"> 432</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-433\" name=\"l-433\"></a><span class=\"linenos\"> 433</span><span class=\"c1\">//  Wifi/Cellular Modem Options</span></div>\n<div class=\"line\"><a id=\"l-434\" name=\"l-434\"></a><span class=\"linenos\"> 434</span><span class=\"c1\">//    NOTE:  DON&#39;T USE MORE THAN ONE MODEM OBJECT!</span></div>\n<div class=\"line\"><a id=\"l-435\" name=\"l-435\"></a><span class=\"linenos\"> 435</span><span class=\"c1\">//           Delete the sections you are not using!</span></div>\n<div class=\"line\"><a id=\"l-436\" name=\"l-436\"></a><span class=\"linenos\"> 436</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-437\" name=\"l-437\"></a><span class=\"linenos\"> 437</span></div>\n<div class=\"line\"><a id=\"l-438\" name=\"l-438\"></a><span class=\"linenos\"> 438</span><span class=\"c1\">// Network connection information</span></div>\n<div class=\"line\"><a id=\"l-439\" name=\"l-439\"></a><span class=\"linenos\"> 439</span><span class=\"c1\">// APN for cellular connection</span></div>\n<div class=\"line\"><a id=\"l-440\" name=\"l-440\"></a><span class=\"linenos\"> 440</span><span class=\"cp\">#define CELLULAR_APN &quot;add_your_cellular_apn&quot;</span></div>\n<div class=\"line\"><a id=\"l-441\" name=\"l-441\"></a><span class=\"linenos\"> 441</span><span class=\"c1\">// WiFi access point name</span></div>\n<div class=\"line\"><a id=\"l-442\" name=\"l-442\"></a><span class=\"linenos\"> 442</span><span class=\"cp\">#define WIFI_ID &quot;your_wifi_ssid&quot;</span></div>\n<div class=\"line\"><a id=\"l-443\" name=\"l-443\"></a><span class=\"linenos\"> 443</span><span class=\"c1\">// WiFi password (WPA2)</span></div>\n<div class=\"line\"><a id=\"l-444\" name=\"l-444\"></a><span class=\"linenos\"> 444</span><span class=\"cp\">#define WIFI_PASSWD &quot;your_wifi_password&quot;</span></div>\n<div class=\"line\"><a id=\"l-445\" name=\"l-445\"></a><span class=\"linenos\"> 445</span></div>\n<div class=\"line\"><a id=\"l-446\" name=\"l-446\"></a><span class=\"linenos\"> 446</span><span class=\"cp\">#if defined(BUILD_MODEM_DIGI_XBEE_CELLULAR_TRANSPARENT)</span></div>\n<div class=\"line\"><a id=\"l-447\" name=\"l-447\"></a><span class=\"linenos\"> 447</span><span class=\"cp\">#define BUILD_HAS_MODEM</span></div>\n<div class=\"line\"><a id=\"l-448\" name=\"l-448\"></a><span class=\"linenos\"> 448</span><span class=\"cm\">/** Start [digi_xbee_cellular_transparent] */</span></div>\n<div class=\"line\"><a id=\"l-449\" name=\"l-449\"></a><span class=\"linenos\"> 449</span><span class=\"c1\">// For any Digi Cellular XBee&#39;s</span></div>\n<div class=\"line\"><a id=\"l-450\" name=\"l-450\"></a><span class=\"linenos\"> 450</span><span class=\"c1\">// NOTE:  The u-blox based Digi XBee&#39;s (3G global and LTE-M global) can be used</span></div>\n<div class=\"line\"><a id=\"l-451\" name=\"l-451\"></a><span class=\"linenos\"> 451</span><span class=\"c1\">// in either bypass or transparent mode, each with pros and cons</span></div>\n<div class=\"line\"><a id=\"l-452\" name=\"l-452\"></a><span class=\"linenos\"> 452</span><span class=\"c1\">// The Telit based Digi XBees (LTE Cat1) can only use this mode.</span></div>\n<div class=\"line\"><a id=\"l-453\" name=\"l-453\"></a><span class=\"linenos\"> 453</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;modems/DigiXBeeCellularTransparent.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-454\" name=\"l-454\"></a><span class=\"linenos\"> 454</span></div>\n<div class=\"line\"><a id=\"l-455\" name=\"l-455\"></a><span class=\"linenos\"> 455</span><span class=\"c1\">// NOTE: Extra hardware and software serial ports are created in the &quot;Settings</span></div>\n<div class=\"line\"><a id=\"l-456\" name=\"l-456\"></a><span class=\"linenos\"> 456</span><span class=\"c1\">// for Additional Serial Ports&quot; section</span></div>\n<div class=\"line\"><a id=\"l-457\" name=\"l-457\"></a><span class=\"linenos\"> 457</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int32_t</span><span class=\"w\"> </span><span class=\"n\">modemBaud</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">9600</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// All XBee&#39;s use 9600 by default</span></div>\n<div class=\"line\"><a id=\"l-458\" name=\"l-458\"></a><span class=\"linenos\"> 458</span></div>\n<div class=\"line\"><a id=\"l-459\" name=\"l-459\"></a><span class=\"linenos\"> 459</span><span class=\"c1\">// Modem Pins - Describe the physical pin connection of your modem to your board</span></div>\n<div class=\"line\"><a id=\"l-460\" name=\"l-460\"></a><span class=\"linenos\"> 460</span><span class=\"c1\">// NOTE:  Use -1 for pins that do not apply</span></div>\n<div class=\"line\"><a id=\"l-461\" name=\"l-461\"></a><span class=\"linenos\"> 461</span><span class=\"c1\">// The pin numbers here are for a Digi XBee with a Mayfly 0.x and LTE adapter</span></div>\n<div class=\"line\"><a id=\"l-462\" name=\"l-462\"></a><span class=\"linenos\"> 462</span><span class=\"c1\">// For options https://github.com/EnviroDIY/LTEbee-Adapter/edit/master/README.md</span></div>\n<div class=\"line\"><a id=\"l-463\" name=\"l-463\"></a><span class=\"linenos\"> 463</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemVccPin</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">-1</span><span class=\"p\">;</span><span class=\"w\">     </span><span class=\"c1\">// MCU pin controlling modem power</span></div>\n<div class=\"line\"><a id=\"l-464\" name=\"l-464\"></a><span class=\"linenos\"> 464</span><span class=\"w\">                                   </span><span class=\"c1\">// Option: modemVccPin = A5, if Mayfly SJ7 is</span></div>\n<div class=\"line\"><a id=\"l-465\" name=\"l-465\"></a><span class=\"linenos\"> 465</span><span class=\"w\">                                   </span><span class=\"c1\">// connected to the ASSOC pin</span></div>\n<div class=\"line\"><a id=\"l-466\" name=\"l-466\"></a><span class=\"linenos\"> 466</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemStatusPin</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">19</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin used to read modem status</span></div>\n<div class=\"line\"><a id=\"l-467\" name=\"l-467\"></a><span class=\"linenos\"> 467</span><span class=\"c1\">// NOTE:  If possible, use the `STATUS/SLEEP_not` (XBee pin 13) for status, but</span></div>\n<div class=\"line\"><a id=\"l-468\" name=\"l-468\"></a><span class=\"linenos\"> 468</span><span class=\"c1\">// the CTS pin can also be used if necessary</span></div>\n<div class=\"line\"><a id=\"l-469\" name=\"l-469\"></a><span class=\"linenos\"> 469</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">bool</span><span class=\"w\">   </span><span class=\"n\">useCTSforStatus</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"kr\">false</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Flag to use the CTS pin for status</span></div>\n<div class=\"line\"><a id=\"l-470\" name=\"l-470\"></a><span class=\"linenos\"> 470</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemResetPin</span><span class=\"w\">   </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">20</span><span class=\"p\">;</span><span class=\"w\">     </span><span class=\"c1\">// MCU pin connected to modem reset pin</span></div>\n<div class=\"line\"><a id=\"l-471\" name=\"l-471\"></a><span class=\"linenos\"> 471</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemSleepRqPin</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">23</span><span class=\"p\">;</span><span class=\"w\">     </span><span class=\"c1\">// MCU pin for modem sleep/wake request</span></div>\n<div class=\"line\"><a id=\"l-472\" name=\"l-472\"></a><span class=\"linenos\"> 472</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemLEDPin</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-473\" name=\"l-473\"></a><span class=\"linenos\"> 473</span><span class=\"w\">    </span><span class=\"n\">redLED</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin connected an LED to show modem status</span></div>\n<div class=\"line\"><a id=\"l-474\" name=\"l-474\"></a><span class=\"linenos\"> 474</span></div>\n<div class=\"line\"><a id=\"l-475\" name=\"l-475\"></a><span class=\"linenos\"> 475</span><span class=\"c1\">// Network connection information</span></div>\n<div class=\"line\"><a id=\"l-476\" name=\"l-476\"></a><span class=\"linenos\"> 476</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">apn</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">CELLULAR_APN</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// APN for GPRS connection</span></div>\n<div class=\"line\"><a id=\"l-477\" name=\"l-477\"></a><span class=\"linenos\"> 477</span></div>\n<div class=\"line\"><a id=\"l-478\" name=\"l-478\"></a><span class=\"linenos\"> 478</span><span class=\"c1\">// Create the modem object</span></div>\n<div class=\"line\"><a id=\"l-479\" name=\"l-479\"></a><span class=\"linenos\"> 479</span><span class=\"n\">DigiXBeeCellularTransparent</span><span class=\"w\"> </span><span class=\"nf\">modemXBCT</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">modemSerial</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">modemVccPin</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">modemStatusPin</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-480\" name=\"l-480\"></a><span class=\"linenos\"> 480</span><span class=\"w\">                                      </span><span class=\"n\">useCTSforStatus</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">modemResetPin</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-481\" name=\"l-481\"></a><span class=\"linenos\"> 481</span><span class=\"w\">                                      </span><span class=\"n\">modemSleepRqPin</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">apn</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-482\" name=\"l-482\"></a><span class=\"linenos\"> 482</span><span class=\"c1\">// Create an extra reference to the modem by a generic name</span></div>\n<div class=\"line\"><a id=\"l-483\" name=\"l-483\"></a><span class=\"linenos\"> 483</span><span class=\"n\">DigiXBeeCellularTransparent</span><span class=\"w\"> </span><span class=\"n\">modem</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">modemXBCT</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-484\" name=\"l-484\"></a><span class=\"linenos\"> 484</span><span class=\"cm\">/** End [digi_xbee_cellular_transparent] */</span></div>\n<div class=\"line\"><a id=\"l-485\" name=\"l-485\"></a><span class=\"linenos\"> 485</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-486\" name=\"l-486\"></a><span class=\"linenos\"> 486</span></div>\n<div class=\"line\"><a id=\"l-487\" name=\"l-487\"></a><span class=\"linenos\"> 487</span></div>\n<div class=\"line\"><a id=\"l-488\" name=\"l-488\"></a><span class=\"linenos\"> 488</span><span class=\"cp\">#elif defined(BUILD_MODEM_DIGI_XBEE_LTE_BYPASS)</span></div>\n<div class=\"line\"><a id=\"l-489\" name=\"l-489\"></a><span class=\"linenos\"> 489</span><span class=\"cp\">#define BUILD_HAS_MODEM</span></div>\n<div class=\"line\"><a id=\"l-490\" name=\"l-490\"></a><span class=\"linenos\"> 490</span><span class=\"cm\">/** Start [digi_xbee_lte_bypass] */</span></div>\n<div class=\"line\"><a id=\"l-491\" name=\"l-491\"></a><span class=\"linenos\"> 491</span><span class=\"c1\">// For the u-blox SARA R410M based Digi LTE-M XBee3</span></div>\n<div class=\"line\"><a id=\"l-492\" name=\"l-492\"></a><span class=\"linenos\"> 492</span><span class=\"c1\">// NOTE:  According to the manual, this should be less stable than transparent</span></div>\n<div class=\"line\"><a id=\"l-493\" name=\"l-493\"></a><span class=\"linenos\"> 493</span><span class=\"c1\">// mode, but my experience is the complete reverse.</span></div>\n<div class=\"line\"><a id=\"l-494\" name=\"l-494\"></a><span class=\"linenos\"> 494</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;modems/DigiXBeeLTEBypass.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-495\" name=\"l-495\"></a><span class=\"linenos\"> 495</span></div>\n<div class=\"line\"><a id=\"l-496\" name=\"l-496\"></a><span class=\"linenos\"> 496</span><span class=\"c1\">// NOTE: Extra hardware and software serial ports are created in the &quot;Settings</span></div>\n<div class=\"line\"><a id=\"l-497\" name=\"l-497\"></a><span class=\"linenos\"> 497</span><span class=\"c1\">// for Additional Serial Ports&quot; section</span></div>\n<div class=\"line\"><a id=\"l-498\" name=\"l-498\"></a><span class=\"linenos\"> 498</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int32_t</span><span class=\"w\"> </span><span class=\"n\">modemBaud</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">9600</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// All XBee&#39;s use 9600 by default</span></div>\n<div class=\"line\"><a id=\"l-499\" name=\"l-499\"></a><span class=\"linenos\"> 499</span></div>\n<div class=\"line\"><a id=\"l-500\" name=\"l-500\"></a><span class=\"linenos\"> 500</span><span class=\"c1\">// Modem Pins - Describe the physical pin connection of your modem to your board</span></div>\n<div class=\"line\"><a id=\"l-501\" name=\"l-501\"></a><span class=\"linenos\"> 501</span><span class=\"c1\">// NOTE:  Use -1 for pins that do not apply</span></div>\n<div class=\"line\"><a id=\"l-502\" name=\"l-502\"></a><span class=\"linenos\"> 502</span><span class=\"c1\">// The pin numbers here are for a Digi XBee with a Mayfly 0.x and LTE adapter</span></div>\n<div class=\"line\"><a id=\"l-503\" name=\"l-503\"></a><span class=\"linenos\"> 503</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemVccPin</span><span class=\"w\">    </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">A5</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin controlling modem power</span></div>\n<div class=\"line\"><a id=\"l-504\" name=\"l-504\"></a><span class=\"linenos\"> 504</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemStatusPin</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">19</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin used to read modem status</span></div>\n<div class=\"line\"><a id=\"l-505\" name=\"l-505\"></a><span class=\"linenos\"> 505</span><span class=\"c1\">// NOTE:  If possible, use the `STATUS/SLEEP_not` (XBee pin 13) for status, but</span></div>\n<div class=\"line\"><a id=\"l-506\" name=\"l-506\"></a><span class=\"linenos\"> 506</span><span class=\"c1\">// the CTS pin can also be used if necessary</span></div>\n<div class=\"line\"><a id=\"l-507\" name=\"l-507\"></a><span class=\"linenos\"> 507</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">bool</span><span class=\"w\">   </span><span class=\"n\">useCTSforStatus</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"kr\">false</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Flag to use the CTS pin for status</span></div>\n<div class=\"line\"><a id=\"l-508\" name=\"l-508\"></a><span class=\"linenos\"> 508</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemResetPin</span><span class=\"w\">   </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">20</span><span class=\"p\">;</span><span class=\"w\">     </span><span class=\"c1\">// MCU pin connected to modem reset pin</span></div>\n<div class=\"line\"><a id=\"l-509\" name=\"l-509\"></a><span class=\"linenos\"> 509</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemSleepRqPin</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">23</span><span class=\"p\">;</span><span class=\"w\">     </span><span class=\"c1\">// MCU pin for modem sleep/wake request</span></div>\n<div class=\"line\"><a id=\"l-510\" name=\"l-510\"></a><span class=\"linenos\"> 510</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemLEDPin</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">redLED</span><span class=\"p\">;</span><span class=\"w\">     </span><span class=\"c1\">// MCU pin connected an LED to show modem</span></div>\n<div class=\"line\"><a id=\"l-511\" name=\"l-511\"></a><span class=\"linenos\"> 511</span><span class=\"w\">                                       </span><span class=\"c1\">// status</span></div>\n<div class=\"line\"><a id=\"l-512\" name=\"l-512\"></a><span class=\"linenos\"> 512</span></div>\n<div class=\"line\"><a id=\"l-513\" name=\"l-513\"></a><span class=\"linenos\"> 513</span><span class=\"c1\">// Network connection information</span></div>\n<div class=\"line\"><a id=\"l-514\" name=\"l-514\"></a><span class=\"linenos\"> 514</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">apn</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">CELLULAR_APN</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// APN for GPRS connection</span></div>\n<div class=\"line\"><a id=\"l-515\" name=\"l-515\"></a><span class=\"linenos\"> 515</span></div>\n<div class=\"line\"><a id=\"l-516\" name=\"l-516\"></a><span class=\"linenos\"> 516</span><span class=\"c1\">// Create the modem object</span></div>\n<div class=\"line\"><a id=\"l-517\" name=\"l-517\"></a><span class=\"linenos\"> 517</span><span class=\"n\">DigiXBeeLTEBypass</span><span class=\"w\"> </span><span class=\"nf\">modemXBLTEB</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">modemSerial</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">modemVccPin</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">modemStatusPin</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-518\" name=\"l-518\"></a><span class=\"linenos\"> 518</span><span class=\"w\">                              </span><span class=\"n\">useCTSforStatus</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">modemResetPin</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">modemSleepRqPin</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-519\" name=\"l-519\"></a><span class=\"linenos\"> 519</span><span class=\"w\">                              </span><span class=\"n\">apn</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-520\" name=\"l-520\"></a><span class=\"linenos\"> 520</span><span class=\"c1\">// Create an extra reference to the modem by a generic name</span></div>\n<div class=\"line\"><a id=\"l-521\" name=\"l-521\"></a><span class=\"linenos\"> 521</span><span class=\"n\">DigiXBeeLTEBypass</span><span class=\"w\"> </span><span class=\"n\">modem</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">modemXBLTEB</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-522\" name=\"l-522\"></a><span class=\"linenos\"> 522</span><span class=\"cm\">/** End [digi_xbee_lte_bypass] */</span></div>\n<div class=\"line\"><a id=\"l-523\" name=\"l-523\"></a><span class=\"linenos\"> 523</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-524\" name=\"l-524\"></a><span class=\"linenos\"> 524</span></div>\n<div class=\"line\"><a id=\"l-525\" name=\"l-525\"></a><span class=\"linenos\"> 525</span></div>\n<div class=\"line\"><a id=\"l-526\" name=\"l-526\"></a><span class=\"linenos\"> 526</span><span class=\"cp\">#elif defined(BUILD_MODEM_DIGI_XBEE_3G_BYPASS)</span></div>\n<div class=\"line\"><a id=\"l-527\" name=\"l-527\"></a><span class=\"linenos\"> 527</span><span class=\"cp\">#define BUILD_HAS_MODEM</span></div>\n<div class=\"line\"><a id=\"l-528\" name=\"l-528\"></a><span class=\"linenos\"> 528</span><span class=\"cm\">/** Start [digi_xbee_3g_bypass] */</span></div>\n<div class=\"line\"><a id=\"l-529\" name=\"l-529\"></a><span class=\"linenos\"> 529</span><span class=\"c1\">// For the u-blox SARA U201 based Digi 3G XBee with 2G fallback</span></div>\n<div class=\"line\"><a id=\"l-530\" name=\"l-530\"></a><span class=\"linenos\"> 530</span><span class=\"c1\">// NOTE:  According to the manual, this should be less stable than transparent</span></div>\n<div class=\"line\"><a id=\"l-531\" name=\"l-531\"></a><span class=\"linenos\"> 531</span><span class=\"c1\">// mode, but my experience is the complete reverse.</span></div>\n<div class=\"line\"><a id=\"l-532\" name=\"l-532\"></a><span class=\"linenos\"> 532</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;modems/DigiXBee3GBypass.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-533\" name=\"l-533\"></a><span class=\"linenos\"> 533</span></div>\n<div class=\"line\"><a id=\"l-534\" name=\"l-534\"></a><span class=\"linenos\"> 534</span><span class=\"c1\">// NOTE: Extra hardware and software serial ports are created in the &quot;Settings</span></div>\n<div class=\"line\"><a id=\"l-535\" name=\"l-535\"></a><span class=\"linenos\"> 535</span><span class=\"c1\">// for Additional Serial Ports&quot; section</span></div>\n<div class=\"line\"><a id=\"l-536\" name=\"l-536\"></a><span class=\"linenos\"> 536</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int32_t</span><span class=\"w\"> </span><span class=\"n\">modemBaud</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">9600</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// All XBee&#39;s use 9600 by default</span></div>\n<div class=\"line\"><a id=\"l-537\" name=\"l-537\"></a><span class=\"linenos\"> 537</span></div>\n<div class=\"line\"><a id=\"l-538\" name=\"l-538\"></a><span class=\"linenos\"> 538</span><span class=\"c1\">// Modem Pins - Describe the physical pin connection of your modem to your board</span></div>\n<div class=\"line\"><a id=\"l-539\" name=\"l-539\"></a><span class=\"linenos\"> 539</span><span class=\"c1\">// NOTE:  Use -1 for pins that do not apply</span></div>\n<div class=\"line\"><a id=\"l-540\" name=\"l-540\"></a><span class=\"linenos\"> 540</span><span class=\"c1\">// The pin numbers here are for a Digi XBee with a Mayfly and LTE adapter</span></div>\n<div class=\"line\"><a id=\"l-541\" name=\"l-541\"></a><span class=\"linenos\"> 541</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemVccPin</span><span class=\"w\">    </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">A5</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin controlling modem power</span></div>\n<div class=\"line\"><a id=\"l-542\" name=\"l-542\"></a><span class=\"linenos\"> 542</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemStatusPin</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">19</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin used to read modem status</span></div>\n<div class=\"line\"><a id=\"l-543\" name=\"l-543\"></a><span class=\"linenos\"> 543</span><span class=\"c1\">// NOTE:  If possible, use the `STATUS/SLEEP_not` (XBee pin 13) for status, but</span></div>\n<div class=\"line\"><a id=\"l-544\" name=\"l-544\"></a><span class=\"linenos\"> 544</span><span class=\"c1\">// the CTS pin can also be used if necessary</span></div>\n<div class=\"line\"><a id=\"l-545\" name=\"l-545\"></a><span class=\"linenos\"> 545</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">bool</span><span class=\"w\">   </span><span class=\"n\">useCTSforStatus</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"kr\">false</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Flag to use the CTS pin for status</span></div>\n<div class=\"line\"><a id=\"l-546\" name=\"l-546\"></a><span class=\"linenos\"> 546</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemResetPin</span><span class=\"w\">   </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">20</span><span class=\"p\">;</span><span class=\"w\">     </span><span class=\"c1\">// MCU pin connected to modem reset pin</span></div>\n<div class=\"line\"><a id=\"l-547\" name=\"l-547\"></a><span class=\"linenos\"> 547</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemSleepRqPin</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">23</span><span class=\"p\">;</span><span class=\"w\">     </span><span class=\"c1\">// MCU pin for modem sleep/wake request</span></div>\n<div class=\"line\"><a id=\"l-548\" name=\"l-548\"></a><span class=\"linenos\"> 548</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemLEDPin</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">redLED</span><span class=\"p\">;</span><span class=\"w\">     </span><span class=\"c1\">// MCU pin connected an LED to show modem</span></div>\n<div class=\"line\"><a id=\"l-549\" name=\"l-549\"></a><span class=\"linenos\"> 549</span><span class=\"w\">                                       </span><span class=\"c1\">// status</span></div>\n<div class=\"line\"><a id=\"l-550\" name=\"l-550\"></a><span class=\"linenos\"> 550</span></div>\n<div class=\"line\"><a id=\"l-551\" name=\"l-551\"></a><span class=\"linenos\"> 551</span><span class=\"c1\">// Network connection information</span></div>\n<div class=\"line\"><a id=\"l-552\" name=\"l-552\"></a><span class=\"linenos\"> 552</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">apn</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">CELLULAR_APN</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// APN for GPRS connection</span></div>\n<div class=\"line\"><a id=\"l-553\" name=\"l-553\"></a><span class=\"linenos\"> 553</span></div>\n<div class=\"line\"><a id=\"l-554\" name=\"l-554\"></a><span class=\"linenos\"> 554</span><span class=\"c1\">// Create the modem object</span></div>\n<div class=\"line\"><a id=\"l-555\" name=\"l-555\"></a><span class=\"linenos\"> 555</span><span class=\"n\">DigiXBee3GBypass</span><span class=\"w\"> </span><span class=\"nf\">modemXB3GB</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">modemSerial</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">modemVccPin</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">modemStatusPin</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-556\" name=\"l-556\"></a><span class=\"linenos\"> 556</span><span class=\"w\">                            </span><span class=\"n\">useCTSforStatus</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">modemResetPin</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">modemSleepRqPin</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-557\" name=\"l-557\"></a><span class=\"linenos\"> 557</span><span class=\"w\">                            </span><span class=\"n\">apn</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-558\" name=\"l-558\"></a><span class=\"linenos\"> 558</span><span class=\"c1\">// Create an extra reference to the modem by a generic name</span></div>\n<div class=\"line\"><a id=\"l-559\" name=\"l-559\"></a><span class=\"linenos\"> 559</span><span class=\"n\">DigiXBee3GBypass</span><span class=\"w\"> </span><span class=\"n\">modem</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">modemXB3GB</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-560\" name=\"l-560\"></a><span class=\"linenos\"> 560</span><span class=\"cm\">/** End [digi_xbee_3g_bypass] */</span></div>\n<div class=\"line\"><a id=\"l-561\" name=\"l-561\"></a><span class=\"linenos\"> 561</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-562\" name=\"l-562\"></a><span class=\"linenos\"> 562</span></div>\n<div class=\"line\"><a id=\"l-563\" name=\"l-563\"></a><span class=\"linenos\"> 563</span></div>\n<div class=\"line\"><a id=\"l-564\" name=\"l-564\"></a><span class=\"linenos\"> 564</span><span class=\"cp\">#elif defined(BUILD_MODEM_DIGI_XBEE_WIFI)</span></div>\n<div class=\"line\"><a id=\"l-565\" name=\"l-565\"></a><span class=\"linenos\"> 565</span><span class=\"cp\">#define BUILD_HAS_MODEM</span></div>\n<div class=\"line\"><a id=\"l-566\" name=\"l-566\"></a><span class=\"linenos\"> 566</span><span class=\"cm\">/** Start [digi_xbee_wifi] */</span></div>\n<div class=\"line\"><a id=\"l-567\" name=\"l-567\"></a><span class=\"linenos\"> 567</span><span class=\"c1\">// For the Digi Wifi XBee (S6B)</span></div>\n<div class=\"line\"><a id=\"l-568\" name=\"l-568\"></a><span class=\"linenos\"> 568</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;modems/DigiXBeeWifi.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-569\" name=\"l-569\"></a><span class=\"linenos\"> 569</span></div>\n<div class=\"line\"><a id=\"l-570\" name=\"l-570\"></a><span class=\"linenos\"> 570</span><span class=\"c1\">// NOTE: Extra hardware and software serial ports are created in the &quot;Settings</span></div>\n<div class=\"line\"><a id=\"l-571\" name=\"l-571\"></a><span class=\"linenos\"> 571</span><span class=\"c1\">// for Additional Serial Ports&quot; section</span></div>\n<div class=\"line\"><a id=\"l-572\" name=\"l-572\"></a><span class=\"linenos\"> 572</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int32_t</span><span class=\"w\"> </span><span class=\"n\">modemBaud</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">9600</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// All XBee&#39;s use 9600 by default</span></div>\n<div class=\"line\"><a id=\"l-573\" name=\"l-573\"></a><span class=\"linenos\"> 573</span></div>\n<div class=\"line\"><a id=\"l-574\" name=\"l-574\"></a><span class=\"linenos\"> 574</span><span class=\"c1\">// Modem Pins - Describe the physical pin connection of your modem to your board</span></div>\n<div class=\"line\"><a id=\"l-575\" name=\"l-575\"></a><span class=\"linenos\"> 575</span><span class=\"c1\">// NOTE:  Use -1 for pins that do not apply</span></div>\n<div class=\"line\"><a id=\"l-576\" name=\"l-576\"></a><span class=\"linenos\"> 576</span><span class=\"c1\">// The pin numbers here are for a Digi XBee directly connected to a Mayfly 1.x</span></div>\n<div class=\"line\"><a id=\"l-577\" name=\"l-577\"></a><span class=\"linenos\"> 577</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemVccPin</span><span class=\"w\">    </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">18</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin controlling modem power</span></div>\n<div class=\"line\"><a id=\"l-578\" name=\"l-578\"></a><span class=\"linenos\"> 578</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemStatusPin</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">19</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin used to read modem status</span></div>\n<div class=\"line\"><a id=\"l-579\" name=\"l-579\"></a><span class=\"linenos\"> 579</span><span class=\"c1\">// NOTE:  If possible, use the `STATUS/SLEEP_not` (XBee pin 13) for status, but</span></div>\n<div class=\"line\"><a id=\"l-580\" name=\"l-580\"></a><span class=\"linenos\"> 580</span><span class=\"c1\">// the CTS pin can also be used if necessary</span></div>\n<div class=\"line\"><a id=\"l-581\" name=\"l-581\"></a><span class=\"linenos\"> 581</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">bool</span><span class=\"w\">   </span><span class=\"n\">useCTSforStatus</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"kr\">true</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Flag to use the CTS pin for status</span></div>\n<div class=\"line\"><a id=\"l-582\" name=\"l-582\"></a><span class=\"linenos\"> 582</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemResetPin</span><span class=\"w\">   </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">A5</span><span class=\"p\">;</span><span class=\"w\">    </span><span class=\"c1\">// MCU pin connected to modem reset pin</span></div>\n<div class=\"line\"><a id=\"l-583\" name=\"l-583\"></a><span class=\"linenos\"> 583</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemSleepRqPin</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">23</span><span class=\"p\">;</span><span class=\"w\">    </span><span class=\"c1\">// MCU pin for modem sleep/wake request</span></div>\n<div class=\"line\"><a id=\"l-584\" name=\"l-584\"></a><span class=\"linenos\"> 584</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemLEDPin</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">redLED</span><span class=\"p\">;</span><span class=\"w\">    </span><span class=\"c1\">// MCU pin connected an LED to show modem</span></div>\n<div class=\"line\"><a id=\"l-585\" name=\"l-585\"></a><span class=\"linenos\"> 585</span><span class=\"w\">                                      </span><span class=\"c1\">// status</span></div>\n<div class=\"line\"><a id=\"l-586\" name=\"l-586\"></a><span class=\"linenos\"> 586</span></div>\n<div class=\"line\"><a id=\"l-587\" name=\"l-587\"></a><span class=\"linenos\"> 587</span><span class=\"c1\">// Network connection information</span></div>\n<div class=\"line\"><a id=\"l-588\" name=\"l-588\"></a><span class=\"linenos\"> 588</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">wifiId</span><span class=\"w\">  </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">WIFI_ID</span><span class=\"p\">;</span><span class=\"w\">      </span><span class=\"c1\">// WiFi access point name</span></div>\n<div class=\"line\"><a id=\"l-589\" name=\"l-589\"></a><span class=\"linenos\"> 589</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">wifiPwd</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">WIFI_PASSWD</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// WiFi password (WPA2)</span></div>\n<div class=\"line\"><a id=\"l-590\" name=\"l-590\"></a><span class=\"linenos\"> 590</span></div>\n<div class=\"line\"><a id=\"l-591\" name=\"l-591\"></a><span class=\"linenos\"> 591</span><span class=\"c1\">// Create the modem object</span></div>\n<div class=\"line\"><a id=\"l-592\" name=\"l-592\"></a><span class=\"linenos\"> 592</span><span class=\"n\">DigiXBeeWifi</span><span class=\"w\"> </span><span class=\"nf\">modemXBWF</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">modemSerial</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">modemVccPin</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">modemStatusPin</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-593\" name=\"l-593\"></a><span class=\"linenos\"> 593</span><span class=\"w\">                       </span><span class=\"n\">useCTSforStatus</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">modemResetPin</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">modemSleepRqPin</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">wifiId</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-594\" name=\"l-594\"></a><span class=\"linenos\"> 594</span><span class=\"w\">                       </span><span class=\"n\">wifiPwd</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-595\" name=\"l-595\"></a><span class=\"linenos\"> 595</span><span class=\"c1\">// Create an extra reference to the modem by a generic name</span></div>\n<div class=\"line\"><a id=\"l-596\" name=\"l-596\"></a><span class=\"linenos\"> 596</span><span class=\"n\">DigiXBeeWifi</span><span class=\"w\"> </span><span class=\"n\">modem</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">modemXBWF</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-597\" name=\"l-597\"></a><span class=\"linenos\"> 597</span><span class=\"cm\">/** End [digi_xbee_wifi] */</span></div>\n<div class=\"line\"><a id=\"l-598\" name=\"l-598\"></a><span class=\"linenos\"> 598</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-599\" name=\"l-599\"></a><span class=\"linenos\"> 599</span></div>\n<div class=\"line\"><a id=\"l-600\" name=\"l-600\"></a><span class=\"linenos\"> 600</span></div>\n<div class=\"line\"><a id=\"l-601\" name=\"l-601\"></a><span class=\"linenos\"> 601</span><span class=\"cp\">#elif defined(BUILD_MODEM_ESPRESSIF_ESP8266)</span></div>\n<div class=\"line\"><a id=\"l-602\" name=\"l-602\"></a><span class=\"linenos\"> 602</span><span class=\"cp\">#define BUILD_HAS_MODEM</span></div>\n<div class=\"line\"><a id=\"l-603\" name=\"l-603\"></a><span class=\"linenos\"> 603</span><span class=\"cm\">/** Start [espressif_esp8266] */</span></div>\n<div class=\"line\"><a id=\"l-604\" name=\"l-604\"></a><span class=\"linenos\"> 604</span><span class=\"c1\">// For almost anything based on the Espressif ESP8266 using the</span></div>\n<div class=\"line\"><a id=\"l-605\" name=\"l-605\"></a><span class=\"linenos\"> 605</span><span class=\"c1\">// AT command firmware</span></div>\n<div class=\"line\"><a id=\"l-606\" name=\"l-606\"></a><span class=\"linenos\"> 606</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;modems/EspressifESP8266.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-607\" name=\"l-607\"></a><span class=\"linenos\"> 607</span></div>\n<div class=\"line\"><a id=\"l-608\" name=\"l-608\"></a><span class=\"linenos\"> 608</span><span class=\"c1\">// NOTE: Extra hardware and software serial ports are created in the &quot;Settings</span></div>\n<div class=\"line\"><a id=\"l-609\" name=\"l-609\"></a><span class=\"linenos\"> 609</span><span class=\"c1\">// for Additional Serial Ports&quot; section</span></div>\n<div class=\"line\"><a id=\"l-610\" name=\"l-610\"></a><span class=\"linenos\"> 610</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int32_t</span><span class=\"w\"> </span><span class=\"n\">modemBaud</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">115200</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Communication speed of the modem</span></div>\n<div class=\"line\"><a id=\"l-611\" name=\"l-611\"></a><span class=\"linenos\"> 611</span><span class=\"c1\">// NOTE:  This baud rate too fast for an 8MHz board, like the Mayfly!  The</span></div>\n<div class=\"line\"><a id=\"l-612\" name=\"l-612\"></a><span class=\"linenos\"> 612</span><span class=\"c1\">// module should be programmed to a slower baud rate or set to auto-baud using</span></div>\n<div class=\"line\"><a id=\"l-613\" name=\"l-613\"></a><span class=\"linenos\"> 613</span><span class=\"c1\">// the AT+UART_CUR or AT+UART_DEF command.</span></div>\n<div class=\"line\"><a id=\"l-614\" name=\"l-614\"></a><span class=\"linenos\"> 614</span></div>\n<div class=\"line\"><a id=\"l-615\" name=\"l-615\"></a><span class=\"linenos\"> 615</span><span class=\"c1\">// Modem Pins - Describe the physical pin connection of your modem to your board</span></div>\n<div class=\"line\"><a id=\"l-616\" name=\"l-616\"></a><span class=\"linenos\"> 616</span><span class=\"c1\">// NOTE:  Use -1 for pins that do not apply</span></div>\n<div class=\"line\"><a id=\"l-617\" name=\"l-617\"></a><span class=\"linenos\"> 617</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemVccPin</span><span class=\"w\">   </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">-1</span><span class=\"p\">;</span><span class=\"w\">      </span><span class=\"c1\">// MCU pin controlling modem power</span></div>\n<div class=\"line\"><a id=\"l-618\" name=\"l-618\"></a><span class=\"linenos\"> 618</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemResetPin</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">-1</span><span class=\"p\">;</span><span class=\"w\">      </span><span class=\"c1\">// MCU pin connected to modem reset pin</span></div>\n<div class=\"line\"><a id=\"l-619\" name=\"l-619\"></a><span class=\"linenos\"> 619</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemLEDPin</span><span class=\"w\">   </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">redLED</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin connected an LED to show modem</span></div>\n<div class=\"line\"><a id=\"l-620\" name=\"l-620\"></a><span class=\"linenos\"> 620</span><span class=\"w\">                                      </span><span class=\"c1\">// status</span></div>\n<div class=\"line\"><a id=\"l-621\" name=\"l-621\"></a><span class=\"linenos\"> 621</span></div>\n<div class=\"line\"><a id=\"l-622\" name=\"l-622\"></a><span class=\"linenos\"> 622</span><span class=\"c1\">// Network connection information</span></div>\n<div class=\"line\"><a id=\"l-623\" name=\"l-623\"></a><span class=\"linenos\"> 623</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">wifiId</span><span class=\"w\">  </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">WIFI_ID</span><span class=\"p\">;</span><span class=\"w\">      </span><span class=\"c1\">// WiFi access point name</span></div>\n<div class=\"line\"><a id=\"l-624\" name=\"l-624\"></a><span class=\"linenos\"> 624</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">wifiPwd</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">WIFI_PASSWD</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// WiFi password (WPA2)</span></div>\n<div class=\"line\"><a id=\"l-625\" name=\"l-625\"></a><span class=\"linenos\"> 625</span></div>\n<div class=\"line\"><a id=\"l-626\" name=\"l-626\"></a><span class=\"linenos\"> 626</span><span class=\"c1\">// Create the modem object</span></div>\n<div class=\"line\"><a id=\"l-627\" name=\"l-627\"></a><span class=\"linenos\"> 627</span><span class=\"n\">EspressifESP8266</span><span class=\"w\"> </span><span class=\"nf\">modemESP</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">modemSerial</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">modemVccPin</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">modemResetPin</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">wifiId</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-628\" name=\"l-628\"></a><span class=\"linenos\"> 628</span><span class=\"w\">                          </span><span class=\"n\">wifiPwd</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-629\" name=\"l-629\"></a><span class=\"linenos\"> 629</span><span class=\"c1\">// Create an extra reference to the modem by a generic name</span></div>\n<div class=\"line\"><a id=\"l-630\" name=\"l-630\"></a><span class=\"linenos\"> 630</span><span class=\"n\">EspressifESP8266</span><span class=\"w\"> </span><span class=\"n\">modem</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">modemESP</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-631\" name=\"l-631\"></a><span class=\"linenos\"> 631</span><span class=\"cm\">/** End [espressif_esp8266] */</span></div>\n<div class=\"line\"><a id=\"l-632\" name=\"l-632\"></a><span class=\"linenos\"> 632</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-633\" name=\"l-633\"></a><span class=\"linenos\"> 633</span></div>\n<div class=\"line\"><a id=\"l-634\" name=\"l-634\"></a><span class=\"linenos\"> 634</span></div>\n<div class=\"line\"><a id=\"l-635\" name=\"l-635\"></a><span class=\"linenos\"> 635</span><span class=\"cp\">#elif defined(BUILD_MODEM_ESPRESSIF_ESP32)</span></div>\n<div class=\"line\"><a id=\"l-636\" name=\"l-636\"></a><span class=\"linenos\"> 636</span><span class=\"cp\">#define BUILD_HAS_MODEM</span></div>\n<div class=\"line\"><a id=\"l-637\" name=\"l-637\"></a><span class=\"linenos\"> 637</span><span class=\"cm\">/** Start [espressif_esp32] */</span></div>\n<div class=\"line\"><a id=\"l-638\" name=\"l-638\"></a><span class=\"linenos\"> 638</span><span class=\"c1\">// For almost anything based on the Espressif ESP8266 using the</span></div>\n<div class=\"line\"><a id=\"l-639\" name=\"l-639\"></a><span class=\"linenos\"> 639</span><span class=\"c1\">// AT command firmware</span></div>\n<div class=\"line\"><a id=\"l-640\" name=\"l-640\"></a><span class=\"linenos\"> 640</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;modems/EspressifESP32.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-641\" name=\"l-641\"></a><span class=\"linenos\"> 641</span></div>\n<div class=\"line\"><a id=\"l-642\" name=\"l-642\"></a><span class=\"linenos\"> 642</span><span class=\"c1\">// NOTE: Extra hardware and software serial ports are created in the &quot;Settings</span></div>\n<div class=\"line\"><a id=\"l-643\" name=\"l-643\"></a><span class=\"linenos\"> 643</span><span class=\"c1\">// for Additional Serial Ports&quot; section</span></div>\n<div class=\"line\"><a id=\"l-644\" name=\"l-644\"></a><span class=\"linenos\"> 644</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int32_t</span><span class=\"w\"> </span><span class=\"n\">modemBaud</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">57600</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Communication speed of the modem</span></div>\n<div class=\"line\"><a id=\"l-645\" name=\"l-645\"></a><span class=\"linenos\"> 645</span><span class=\"c1\">// NOTE:  This baud rate too fast for an 8MHz board, like the Mayfly!  The</span></div>\n<div class=\"line\"><a id=\"l-646\" name=\"l-646\"></a><span class=\"linenos\"> 646</span><span class=\"c1\">// module should be programmed to a slower baud rate or set to auto-baud using</span></div>\n<div class=\"line\"><a id=\"l-647\" name=\"l-647\"></a><span class=\"linenos\"> 647</span><span class=\"c1\">// the AT+UART_CUR or AT+UART_DEF command.</span></div>\n<div class=\"line\"><a id=\"l-648\" name=\"l-648\"></a><span class=\"linenos\"> 648</span></div>\n<div class=\"line\"><a id=\"l-649\" name=\"l-649\"></a><span class=\"linenos\"> 649</span><span class=\"c1\">// Modem Pins - Describe the physical pin connection of your modem to your board</span></div>\n<div class=\"line\"><a id=\"l-650\" name=\"l-650\"></a><span class=\"linenos\"> 650</span><span class=\"c1\">// NOTE:  Use -1 for pins that do not apply</span></div>\n<div class=\"line\"><a id=\"l-651\" name=\"l-651\"></a><span class=\"linenos\"> 651</span><span class=\"c1\">// Example pins here are for a EnviroDIY ESP32 Bluetooth/Wifi Bee with</span></div>\n<div class=\"line\"><a id=\"l-652\" name=\"l-652\"></a><span class=\"linenos\"> 652</span><span class=\"c1\">// Mayfly 1.1</span></div>\n<div class=\"line\"><a id=\"l-653\" name=\"l-653\"></a><span class=\"linenos\"> 653</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemVccPin</span><span class=\"w\">   </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">18</span><span class=\"p\">;</span><span class=\"w\">      </span><span class=\"c1\">// MCU pin controlling modem power</span></div>\n<div class=\"line\"><a id=\"l-654\" name=\"l-654\"></a><span class=\"linenos\"> 654</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemResetPin</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">A5</span><span class=\"p\">;</span><span class=\"w\">      </span><span class=\"c1\">// MCU pin connected to modem reset pin</span></div>\n<div class=\"line\"><a id=\"l-655\" name=\"l-655\"></a><span class=\"linenos\"> 655</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemLEDPin</span><span class=\"w\">   </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">redLED</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin connected an LED to show modem</span></div>\n<div class=\"line\"><a id=\"l-656\" name=\"l-656\"></a><span class=\"linenos\"> 656</span><span class=\"w\">                                      </span><span class=\"c1\">// status</span></div>\n<div class=\"line\"><a id=\"l-657\" name=\"l-657\"></a><span class=\"linenos\"> 657</span></div>\n<div class=\"line\"><a id=\"l-658\" name=\"l-658\"></a><span class=\"linenos\"> 658</span><span class=\"c1\">// Network connection information</span></div>\n<div class=\"line\"><a id=\"l-659\" name=\"l-659\"></a><span class=\"linenos\"> 659</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">wifiId</span><span class=\"w\">  </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">WIFI_ID</span><span class=\"p\">;</span><span class=\"w\">      </span><span class=\"c1\">// WiFi access point name</span></div>\n<div class=\"line\"><a id=\"l-660\" name=\"l-660\"></a><span class=\"linenos\"> 660</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">wifiPwd</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">WIFI_PASSWD</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// WiFi password (WPA2)</span></div>\n<div class=\"line\"><a id=\"l-661\" name=\"l-661\"></a><span class=\"linenos\"> 661</span></div>\n<div class=\"line\"><a id=\"l-662\" name=\"l-662\"></a><span class=\"linenos\"> 662</span><span class=\"c1\">// Create the modem object</span></div>\n<div class=\"line\"><a id=\"l-663\" name=\"l-663\"></a><span class=\"linenos\"> 663</span><span class=\"n\">EspressifESP32</span><span class=\"w\"> </span><span class=\"nf\">modemESP</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">modemSerial</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">modemVccPin</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">modemResetPin</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">wifiId</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-664\" name=\"l-664\"></a><span class=\"linenos\"> 664</span><span class=\"w\">                        </span><span class=\"n\">wifiPwd</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-665\" name=\"l-665\"></a><span class=\"linenos\"> 665</span><span class=\"c1\">// Create an extra reference to the modem by a generic name</span></div>\n<div class=\"line\"><a id=\"l-666\" name=\"l-666\"></a><span class=\"linenos\"> 666</span><span class=\"n\">EspressifESP32</span><span class=\"w\"> </span><span class=\"n\">modem</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">modemESP</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-667\" name=\"l-667\"></a><span class=\"linenos\"> 667</span><span class=\"cm\">/** End [espressif_esp32] */</span></div>\n<div class=\"line\"><a id=\"l-668\" name=\"l-668\"></a><span class=\"linenos\"> 668</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-669\" name=\"l-669\"></a><span class=\"linenos\"> 669</span></div>\n<div class=\"line\"><a id=\"l-670\" name=\"l-670\"></a><span class=\"linenos\"> 670</span></div>\n<div class=\"line\"><a id=\"l-671\" name=\"l-671\"></a><span class=\"linenos\"> 671</span><span class=\"cp\">#elif defined(BUILD_MODEM_QUECTEL_BG96)</span></div>\n<div class=\"line\"><a id=\"l-672\" name=\"l-672\"></a><span class=\"linenos\"> 672</span><span class=\"cp\">#define BUILD_HAS_MODEM</span></div>\n<div class=\"line\"><a id=\"l-673\" name=\"l-673\"></a><span class=\"linenos\"> 673</span><span class=\"cm\">/** Start [quectel_bg96] */</span></div>\n<div class=\"line\"><a id=\"l-674\" name=\"l-674\"></a><span class=\"linenos\"> 674</span><span class=\"c1\">// For the Dragino, Nimbelink or other boards based on the Quectel BG96</span></div>\n<div class=\"line\"><a id=\"l-675\" name=\"l-675\"></a><span class=\"linenos\"> 675</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;modems/QuectelBG96.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-676\" name=\"l-676\"></a><span class=\"linenos\"> 676</span></div>\n<div class=\"line\"><a id=\"l-677\" name=\"l-677\"></a><span class=\"linenos\"> 677</span><span class=\"c1\">// NOTE: Extra hardware and software serial ports are created in the &quot;Settings</span></div>\n<div class=\"line\"><a id=\"l-678\" name=\"l-678\"></a><span class=\"linenos\"> 678</span><span class=\"c1\">// for Additional Serial Ports&quot; section</span></div>\n<div class=\"line\"><a id=\"l-679\" name=\"l-679\"></a><span class=\"linenos\"> 679</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int32_t</span><span class=\"w\"> </span><span class=\"n\">modemBaud</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">115200</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Communication speed of the modem</span></div>\n<div class=\"line\"><a id=\"l-680\" name=\"l-680\"></a><span class=\"linenos\"> 680</span><span class=\"c1\">// NOTE:  This baud rate too fast for an 8MHz board, like the Mayfly!  The</span></div>\n<div class=\"line\"><a id=\"l-681\" name=\"l-681\"></a><span class=\"linenos\"> 681</span><span class=\"c1\">// module should be programmed to a slower baud rate or set to auto-baud using</span></div>\n<div class=\"line\"><a id=\"l-682\" name=\"l-682\"></a><span class=\"linenos\"> 682</span><span class=\"c1\">// the AT+IPR=9600 command.</span></div>\n<div class=\"line\"><a id=\"l-683\" name=\"l-683\"></a><span class=\"linenos\"> 683</span></div>\n<div class=\"line\"><a id=\"l-684\" name=\"l-684\"></a><span class=\"linenos\"> 684</span><span class=\"c1\">// Modem Pins - Describe the physical pin connection of your modem to your board</span></div>\n<div class=\"line\"><a id=\"l-685\" name=\"l-685\"></a><span class=\"linenos\"> 685</span><span class=\"c1\">// NOTE:  Use -1 for pins that do not apply</span></div>\n<div class=\"line\"><a id=\"l-686\" name=\"l-686\"></a><span class=\"linenos\"> 686</span><span class=\"c1\">// Example pins here are for a Mayfly 1.x and a Dragino IoT Bee</span></div>\n<div class=\"line\"><a id=\"l-687\" name=\"l-687\"></a><span class=\"linenos\"> 687</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemVccPin</span><span class=\"w\">     </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">18</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin controlling modem power</span></div>\n<div class=\"line\"><a id=\"l-688\" name=\"l-688\"></a><span class=\"linenos\"> 688</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemStatusPin</span><span class=\"w\">  </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">-1</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin used to read modem status</span></div>\n<div class=\"line\"><a id=\"l-689\" name=\"l-689\"></a><span class=\"linenos\"> 689</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemResetPin</span><span class=\"w\">   </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">A5</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin connected to modem reset pin</span></div>\n<div class=\"line\"><a id=\"l-690\" name=\"l-690\"></a><span class=\"linenos\"> 690</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemSleepRqPin</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">-1</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin for modem sleep/wake request</span></div>\n<div class=\"line\"><a id=\"l-691\" name=\"l-691\"></a><span class=\"linenos\"> 691</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemLEDPin</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">redLED</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin connected an LED to show modem</span></div>\n<div class=\"line\"><a id=\"l-692\" name=\"l-692\"></a><span class=\"linenos\"> 692</span><span class=\"w\">                                    </span><span class=\"c1\">// status</span></div>\n<div class=\"line\"><a id=\"l-693\" name=\"l-693\"></a><span class=\"linenos\"> 693</span></div>\n<div class=\"line\"><a id=\"l-694\" name=\"l-694\"></a><span class=\"linenos\"> 694</span><span class=\"c1\">// Network connection information</span></div>\n<div class=\"line\"><a id=\"l-695\" name=\"l-695\"></a><span class=\"linenos\"> 695</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">apn</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">CELLULAR_APN</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// APN for GPRS connection</span></div>\n<div class=\"line\"><a id=\"l-696\" name=\"l-696\"></a><span class=\"linenos\"> 696</span></div>\n<div class=\"line\"><a id=\"l-697\" name=\"l-697\"></a><span class=\"linenos\"> 697</span><span class=\"c1\">// Create the modem object</span></div>\n<div class=\"line\"><a id=\"l-698\" name=\"l-698\"></a><span class=\"linenos\"> 698</span><span class=\"n\">QuectelBG96</span><span class=\"w\"> </span><span class=\"nf\">modemBG96</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">modemSerial</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">modemVccPin</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">modemStatusPin</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">modemResetPin</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-699\" name=\"l-699\"></a><span class=\"linenos\"> 699</span><span class=\"w\">                      </span><span class=\"n\">modemSleepRqPin</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">apn</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-700\" name=\"l-700\"></a><span class=\"linenos\"> 700</span><span class=\"c1\">// Create an extra reference to the modem by a generic name</span></div>\n<div class=\"line\"><a id=\"l-701\" name=\"l-701\"></a><span class=\"linenos\"> 701</span><span class=\"n\">QuectelBG96</span><span class=\"w\"> </span><span class=\"n\">modem</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">modemBG96</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-702\" name=\"l-702\"></a><span class=\"linenos\"> 702</span><span class=\"cm\">/** End [quectel_bg96] */</span></div>\n<div class=\"line\"><a id=\"l-703\" name=\"l-703\"></a><span class=\"linenos\"> 703</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-704\" name=\"l-704\"></a><span class=\"linenos\"> 704</span></div>\n<div class=\"line\"><a id=\"l-705\" name=\"l-705\"></a><span class=\"linenos\"> 705</span></div>\n<div class=\"line\"><a id=\"l-706\" name=\"l-706\"></a><span class=\"linenos\"> 706</span><span class=\"cp\">#elif defined(BUILD_MODEM_SEQUANS_MONARCH)</span></div>\n<div class=\"line\"><a id=\"l-707\" name=\"l-707\"></a><span class=\"linenos\"> 707</span><span class=\"cp\">#define BUILD_HAS_MODEM</span></div>\n<div class=\"line\"><a id=\"l-708\" name=\"l-708\"></a><span class=\"linenos\"> 708</span><span class=\"cm\">/** Start [sequans_monarch] */</span></div>\n<div class=\"line\"><a id=\"l-709\" name=\"l-709\"></a><span class=\"linenos\"> 709</span><span class=\"c1\">// For the Nimbelink LTE-M Verizon/Sequans or other boards based on the Sequans</span></div>\n<div class=\"line\"><a id=\"l-710\" name=\"l-710\"></a><span class=\"linenos\"> 710</span><span class=\"c1\">// Monarch series</span></div>\n<div class=\"line\"><a id=\"l-711\" name=\"l-711\"></a><span class=\"linenos\"> 711</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;modems/SequansMonarch.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-712\" name=\"l-712\"></a><span class=\"linenos\"> 712</span></div>\n<div class=\"line\"><a id=\"l-713\" name=\"l-713\"></a><span class=\"linenos\"> 713</span><span class=\"c1\">// NOTE: Extra hardware and software serial ports are created in the &quot;Settings</span></div>\n<div class=\"line\"><a id=\"l-714\" name=\"l-714\"></a><span class=\"linenos\"> 714</span><span class=\"c1\">// for Additional Serial Ports&quot; section</span></div>\n<div class=\"line\"><a id=\"l-715\" name=\"l-715\"></a><span class=\"linenos\"> 715</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int32_t</span><span class=\"w\"> </span><span class=\"n\">modemBaud</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">921600</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Default baud rate of SVZM20 is 921600</span></div>\n<div class=\"line\"><a id=\"l-716\" name=\"l-716\"></a><span class=\"linenos\"> 716</span><span class=\"c1\">// NOTE:  This baud rate is much too fast for many Arduinos!  The module should</span></div>\n<div class=\"line\"><a id=\"l-717\" name=\"l-717\"></a><span class=\"linenos\"> 717</span><span class=\"c1\">// be programmed to a slower baud rate or set to auto-baud using the AT+IPR</span></div>\n<div class=\"line\"><a id=\"l-718\" name=\"l-718\"></a><span class=\"linenos\"> 718</span><span class=\"c1\">// command.</span></div>\n<div class=\"line\"><a id=\"l-719\" name=\"l-719\"></a><span class=\"linenos\"> 719</span></div>\n<div class=\"line\"><a id=\"l-720\" name=\"l-720\"></a><span class=\"linenos\"> 720</span><span class=\"c1\">// Modem Pins - Describe the physical pin connection of your modem to your board</span></div>\n<div class=\"line\"><a id=\"l-721\" name=\"l-721\"></a><span class=\"linenos\"> 721</span><span class=\"c1\">// NOTE:  Use -1 for pins that do not apply</span></div>\n<div class=\"line\"><a id=\"l-722\" name=\"l-722\"></a><span class=\"linenos\"> 722</span><span class=\"c1\">// Nimbelink Skywire (NOT directly connectable to a Mayfly!)</span></div>\n<div class=\"line\"><a id=\"l-723\" name=\"l-723\"></a><span class=\"linenos\"> 723</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemVccPin</span><span class=\"w\">     </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">18</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin controlling modem power</span></div>\n<div class=\"line\"><a id=\"l-724\" name=\"l-724\"></a><span class=\"linenos\"> 724</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemStatusPin</span><span class=\"w\">  </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">19</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin used to read modem status</span></div>\n<div class=\"line\"><a id=\"l-725\" name=\"l-725\"></a><span class=\"linenos\"> 725</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemResetPin</span><span class=\"w\">   </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">20</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin connected to modem reset pin</span></div>\n<div class=\"line\"><a id=\"l-726\" name=\"l-726\"></a><span class=\"linenos\"> 726</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemSleepRqPin</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">23</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin for modem sleep/wake request</span></div>\n<div class=\"line\"><a id=\"l-727\" name=\"l-727\"></a><span class=\"linenos\"> 727</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemLEDPin</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">redLED</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin connected an LED to show modem</span></div>\n<div class=\"line\"><a id=\"l-728\" name=\"l-728\"></a><span class=\"linenos\"> 728</span><span class=\"w\">                                    </span><span class=\"c1\">// status</span></div>\n<div class=\"line\"><a id=\"l-729\" name=\"l-729\"></a><span class=\"linenos\"> 729</span></div>\n<div class=\"line\"><a id=\"l-730\" name=\"l-730\"></a><span class=\"linenos\"> 730</span><span class=\"c1\">// Network connection information</span></div>\n<div class=\"line\"><a id=\"l-731\" name=\"l-731\"></a><span class=\"linenos\"> 731</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">apn</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">CELLULAR_APN</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// APN for GPRS connection</span></div>\n<div class=\"line\"><a id=\"l-732\" name=\"l-732\"></a><span class=\"linenos\"> 732</span></div>\n<div class=\"line\"><a id=\"l-733\" name=\"l-733\"></a><span class=\"linenos\"> 733</span><span class=\"c1\">// Create the modem object</span></div>\n<div class=\"line\"><a id=\"l-734\" name=\"l-734\"></a><span class=\"linenos\"> 734</span><span class=\"n\">SequansMonarch</span><span class=\"w\"> </span><span class=\"nf\">modemSVZM</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">modemSerial</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">modemVccPin</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">modemStatusPin</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-735\" name=\"l-735\"></a><span class=\"linenos\"> 735</span><span class=\"w\">                         </span><span class=\"n\">modemResetPin</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">modemSleepRqPin</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">apn</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-736\" name=\"l-736\"></a><span class=\"linenos\"> 736</span><span class=\"c1\">// Create an extra reference to the modem by a generic name</span></div>\n<div class=\"line\"><a id=\"l-737\" name=\"l-737\"></a><span class=\"linenos\"> 737</span><span class=\"n\">SequansMonarch</span><span class=\"w\"> </span><span class=\"n\">modem</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">modemSVZM</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-738\" name=\"l-738\"></a><span class=\"linenos\"> 738</span><span class=\"cm\">/** End [sequans_monarch] */</span></div>\n<div class=\"line\"><a id=\"l-739\" name=\"l-739\"></a><span class=\"linenos\"> 739</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-740\" name=\"l-740\"></a><span class=\"linenos\"> 740</span></div>\n<div class=\"line\"><a id=\"l-741\" name=\"l-741\"></a><span class=\"linenos\"> 741</span></div>\n<div class=\"line\"><a id=\"l-742\" name=\"l-742\"></a><span class=\"linenos\"> 742</span><span class=\"cp\">#elif defined(BUILD_MODEM_SIM_COM_SIM800)</span></div>\n<div class=\"line\"><a id=\"l-743\" name=\"l-743\"></a><span class=\"linenos\"> 743</span><span class=\"cp\">#define BUILD_HAS_MODEM</span></div>\n<div class=\"line\"><a id=\"l-744\" name=\"l-744\"></a><span class=\"linenos\"> 744</span><span class=\"cm\">/** Start [sim_com_sim800] */</span></div>\n<div class=\"line\"><a id=\"l-745\" name=\"l-745\"></a><span class=\"linenos\"> 745</span><span class=\"c1\">// For almost anything based on the SIMCom SIM800 EXCEPT the Sodaq 2GBee R6 and</span></div>\n<div class=\"line\"><a id=\"l-746\" name=\"l-746\"></a><span class=\"linenos\"> 746</span><span class=\"c1\">// higher</span></div>\n<div class=\"line\"><a id=\"l-747\" name=\"l-747\"></a><span class=\"linenos\"> 747</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;modems/SIMComSIM800.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-748\" name=\"l-748\"></a><span class=\"linenos\"> 748</span></div>\n<div class=\"line\"><a id=\"l-749\" name=\"l-749\"></a><span class=\"linenos\"> 749</span><span class=\"c1\">// NOTE: Extra hardware and software serial ports are created in the &quot;Settings</span></div>\n<div class=\"line\"><a id=\"l-750\" name=\"l-750\"></a><span class=\"linenos\"> 750</span><span class=\"c1\">// for Additional Serial Ports&quot; section</span></div>\n<div class=\"line\"><a id=\"l-751\" name=\"l-751\"></a><span class=\"linenos\"> 751</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int32_t</span><span class=\"w\"> </span><span class=\"n\">modemBaud</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">9600</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">//  SIM800 does auto-bauding by default</span></div>\n<div class=\"line\"><a id=\"l-752\" name=\"l-752\"></a><span class=\"linenos\"> 752</span></div>\n<div class=\"line\"><a id=\"l-753\" name=\"l-753\"></a><span class=\"linenos\"> 753</span><span class=\"c1\">// Modem Pins - Describe the physical pin connection of your modem to your board</span></div>\n<div class=\"line\"><a id=\"l-754\" name=\"l-754\"></a><span class=\"linenos\"> 754</span><span class=\"c1\">// NOTE:  Use -1 for pins that do not apply</span></div>\n<div class=\"line\"><a id=\"l-755\" name=\"l-755\"></a><span class=\"linenos\"> 755</span><span class=\"c1\">// Example pins are for a Sodaq GPRSBee R4 with a Mayfly 0.x</span></div>\n<div class=\"line\"><a id=\"l-756\" name=\"l-756\"></a><span class=\"linenos\"> 756</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemVccPin</span><span class=\"w\">     </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">-1</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin controlling modem power</span></div>\n<div class=\"line\"><a id=\"l-757\" name=\"l-757\"></a><span class=\"linenos\"> 757</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemStatusPin</span><span class=\"w\">  </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">19</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin used to read modem status</span></div>\n<div class=\"line\"><a id=\"l-758\" name=\"l-758\"></a><span class=\"linenos\"> 758</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemResetPin</span><span class=\"w\">   </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">-1</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin connected to modem reset pin</span></div>\n<div class=\"line\"><a id=\"l-759\" name=\"l-759\"></a><span class=\"linenos\"> 759</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemSleepRqPin</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">23</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin for modem sleep/wake request</span></div>\n<div class=\"line\"><a id=\"l-760\" name=\"l-760\"></a><span class=\"linenos\"> 760</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemLEDPin</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">redLED</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin connected an LED to show modem</span></div>\n<div class=\"line\"><a id=\"l-761\" name=\"l-761\"></a><span class=\"linenos\"> 761</span><span class=\"w\">                                    </span><span class=\"c1\">// status</span></div>\n<div class=\"line\"><a id=\"l-762\" name=\"l-762\"></a><span class=\"linenos\"> 762</span></div>\n<div class=\"line\"><a id=\"l-763\" name=\"l-763\"></a><span class=\"linenos\"> 763</span><span class=\"c1\">// Network connection information</span></div>\n<div class=\"line\"><a id=\"l-764\" name=\"l-764\"></a><span class=\"linenos\"> 764</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">apn</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">CELLULAR_APN</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// APN for GPRS connection</span></div>\n<div class=\"line\"><a id=\"l-765\" name=\"l-765\"></a><span class=\"linenos\"> 765</span></div>\n<div class=\"line\"><a id=\"l-766\" name=\"l-766\"></a><span class=\"linenos\"> 766</span><span class=\"c1\">// Create the modem object</span></div>\n<div class=\"line\"><a id=\"l-767\" name=\"l-767\"></a><span class=\"linenos\"> 767</span><span class=\"n\">SIMComSIM800</span><span class=\"w\"> </span><span class=\"nf\">modemS800</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">modemSerial</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">modemVccPin</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">modemStatusPin</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">modemResetPin</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-768\" name=\"l-768\"></a><span class=\"linenos\"> 768</span><span class=\"w\">                       </span><span class=\"n\">modemSleepRqPin</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">apn</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-769\" name=\"l-769\"></a><span class=\"linenos\"> 769</span><span class=\"c1\">// Create an extra reference to the modem by a generic name</span></div>\n<div class=\"line\"><a id=\"l-770\" name=\"l-770\"></a><span class=\"linenos\"> 770</span><span class=\"n\">SIMComSIM800</span><span class=\"w\"> </span><span class=\"n\">modem</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">modemS800</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-771\" name=\"l-771\"></a><span class=\"linenos\"> 771</span><span class=\"cm\">/** End [sim_com_sim800] */</span></div>\n<div class=\"line\"><a id=\"l-772\" name=\"l-772\"></a><span class=\"linenos\"> 772</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-773\" name=\"l-773\"></a><span class=\"linenos\"> 773</span></div>\n<div class=\"line\"><a id=\"l-774\" name=\"l-774\"></a><span class=\"linenos\"> 774</span></div>\n<div class=\"line\"><a id=\"l-775\" name=\"l-775\"></a><span class=\"linenos\"> 775</span><span class=\"cp\">#elif defined(BUILD_MODEM_SIM_COM_SIM7000)</span></div>\n<div class=\"line\"><a id=\"l-776\" name=\"l-776\"></a><span class=\"linenos\"> 776</span><span class=\"cp\">#define BUILD_HAS_MODEM</span></div>\n<div class=\"line\"><a id=\"l-777\" name=\"l-777\"></a><span class=\"linenos\"> 777</span><span class=\"cm\">/** Start [sim_com_sim7000] */</span></div>\n<div class=\"line\"><a id=\"l-778\" name=\"l-778\"></a><span class=\"linenos\"> 778</span><span class=\"c1\">// For almost anything based on the SIMCom SIM7000</span></div>\n<div class=\"line\"><a id=\"l-779\" name=\"l-779\"></a><span class=\"linenos\"> 779</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;modems/SIMComSIM7000.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-780\" name=\"l-780\"></a><span class=\"linenos\"> 780</span></div>\n<div class=\"line\"><a id=\"l-781\" name=\"l-781\"></a><span class=\"linenos\"> 781</span><span class=\"c1\">// NOTE: Extra hardware and software serial ports are created in the &quot;Settings</span></div>\n<div class=\"line\"><a id=\"l-782\" name=\"l-782\"></a><span class=\"linenos\"> 782</span><span class=\"c1\">// for Additional Serial Ports&quot; section</span></div>\n<div class=\"line\"><a id=\"l-783\" name=\"l-783\"></a><span class=\"linenos\"> 783</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int32_t</span><span class=\"w\"> </span><span class=\"n\">modemBaud</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">9600</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">//  SIM7000 does auto-bauding by default</span></div>\n<div class=\"line\"><a id=\"l-784\" name=\"l-784\"></a><span class=\"linenos\"> 784</span></div>\n<div class=\"line\"><a id=\"l-785\" name=\"l-785\"></a><span class=\"linenos\"> 785</span><span class=\"c1\">// Modem Pins - Describe the physical pin connection of your modem to your board</span></div>\n<div class=\"line\"><a id=\"l-786\" name=\"l-786\"></a><span class=\"linenos\"> 786</span><span class=\"c1\">// NOTE:  Use -1 for pins that do not apply</span></div>\n<div class=\"line\"><a id=\"l-787\" name=\"l-787\"></a><span class=\"linenos\"> 787</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemVccPin</span><span class=\"w\">     </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">18</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin controlling modem power</span></div>\n<div class=\"line\"><a id=\"l-788\" name=\"l-788\"></a><span class=\"linenos\"> 788</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemStatusPin</span><span class=\"w\">  </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">19</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin used to read modem status</span></div>\n<div class=\"line\"><a id=\"l-789\" name=\"l-789\"></a><span class=\"linenos\"> 789</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemResetPin</span><span class=\"w\">   </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">A5</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin connected to modem reset pin</span></div>\n<div class=\"line\"><a id=\"l-790\" name=\"l-790\"></a><span class=\"linenos\"> 790</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemSleepRqPin</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">23</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin for modem sleep/wake request</span></div>\n<div class=\"line\"><a id=\"l-791\" name=\"l-791\"></a><span class=\"linenos\"> 791</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemLEDPin</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">redLED</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin connected an LED to show modem</span></div>\n<div class=\"line\"><a id=\"l-792\" name=\"l-792\"></a><span class=\"linenos\"> 792</span><span class=\"w\">                                    </span><span class=\"c1\">// status</span></div>\n<div class=\"line\"><a id=\"l-793\" name=\"l-793\"></a><span class=\"linenos\"> 793</span></div>\n<div class=\"line\"><a id=\"l-794\" name=\"l-794\"></a><span class=\"linenos\"> 794</span><span class=\"c1\">// Network connection information</span></div>\n<div class=\"line\"><a id=\"l-795\" name=\"l-795\"></a><span class=\"linenos\"> 795</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">apn</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">CELLULAR_APN</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// APN for GPRS connection</span></div>\n<div class=\"line\"><a id=\"l-796\" name=\"l-796\"></a><span class=\"linenos\"> 796</span></div>\n<div class=\"line\"><a id=\"l-797\" name=\"l-797\"></a><span class=\"linenos\"> 797</span><span class=\"c1\">// Create the modem object</span></div>\n<div class=\"line\"><a id=\"l-798\" name=\"l-798\"></a><span class=\"linenos\"> 798</span><span class=\"n\">SIMComSIM7000</span><span class=\"w\"> </span><span class=\"nf\">modem7000</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">modemSerial</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">modemVccPin</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">modemStatusPin</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-799\" name=\"l-799\"></a><span class=\"linenos\"> 799</span><span class=\"w\">                        </span><span class=\"n\">modemResetPin</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">modemSleepRqPin</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">apn</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-800\" name=\"l-800\"></a><span class=\"linenos\"> 800</span><span class=\"c1\">// Create an extra reference to the modem by a generic name</span></div>\n<div class=\"line\"><a id=\"l-801\" name=\"l-801\"></a><span class=\"linenos\"> 801</span><span class=\"n\">SIMComSIM7000</span><span class=\"w\"> </span><span class=\"n\">modem</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">modem7000</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-802\" name=\"l-802\"></a><span class=\"linenos\"> 802</span><span class=\"cm\">/** End [sim_com_sim7000] */</span></div>\n<div class=\"line\"><a id=\"l-803\" name=\"l-803\"></a><span class=\"linenos\"> 803</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-804\" name=\"l-804\"></a><span class=\"linenos\"> 804</span></div>\n<div class=\"line\"><a id=\"l-805\" name=\"l-805\"></a><span class=\"linenos\"> 805</span></div>\n<div class=\"line\"><a id=\"l-806\" name=\"l-806\"></a><span class=\"linenos\"> 806</span><span class=\"cp\">#elif defined(BUILD_MODEM_SIM_COM_SIM7080)</span></div>\n<div class=\"line\"><a id=\"l-807\" name=\"l-807\"></a><span class=\"linenos\"> 807</span><span class=\"cp\">#define BUILD_HAS_MODEM</span></div>\n<div class=\"line\"><a id=\"l-808\" name=\"l-808\"></a><span class=\"linenos\"> 808</span><span class=\"cm\">/** Start [sim_com_sim7080] */</span></div>\n<div class=\"line\"><a id=\"l-809\" name=\"l-809\"></a><span class=\"linenos\"> 809</span><span class=\"c1\">// For almost anything based on the SIMCom SIM7080G</span></div>\n<div class=\"line\"><a id=\"l-810\" name=\"l-810\"></a><span class=\"linenos\"> 810</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;modems/SIMComSIM7080.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-811\" name=\"l-811\"></a><span class=\"linenos\"> 811</span></div>\n<div class=\"line\"><a id=\"l-812\" name=\"l-812\"></a><span class=\"linenos\"> 812</span><span class=\"c1\">// NOTE: Extra hardware and software serial ports are created in the &quot;Settings</span></div>\n<div class=\"line\"><a id=\"l-813\" name=\"l-813\"></a><span class=\"linenos\"> 813</span><span class=\"c1\">// for Additional Serial Ports&quot; section</span></div>\n<div class=\"line\"><a id=\"l-814\" name=\"l-814\"></a><span class=\"linenos\"> 814</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int32_t</span><span class=\"w\"> </span><span class=\"n\">modemBaud</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-815\" name=\"l-815\"></a><span class=\"linenos\"> 815</span><span class=\"w\">    </span><span class=\"mi\">9600</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">//  SIM7080 does auto-bauding by default, but I set mine to 9600</span></div>\n<div class=\"line\"><a id=\"l-816\" name=\"l-816\"></a><span class=\"linenos\"> 816</span></div>\n<div class=\"line\"><a id=\"l-817\" name=\"l-817\"></a><span class=\"linenos\"> 817</span><span class=\"c1\">// Modem Pins - Describe the physical pin connection of your modem to your board</span></div>\n<div class=\"line\"><a id=\"l-818\" name=\"l-818\"></a><span class=\"linenos\"> 818</span><span class=\"c1\">// NOTE:  Use -1 for pins that do not apply</span></div>\n<div class=\"line\"><a id=\"l-819\" name=\"l-819\"></a><span class=\"linenos\"> 819</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemVccPin</span><span class=\"w\">     </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">18</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin controlling modem power</span></div>\n<div class=\"line\"><a id=\"l-820\" name=\"l-820\"></a><span class=\"linenos\"> 820</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemStatusPin</span><span class=\"w\">  </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">19</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin used to read modem status</span></div>\n<div class=\"line\"><a id=\"l-821\" name=\"l-821\"></a><span class=\"linenos\"> 821</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemSleepRqPin</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">23</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin for modem sleep/wake request</span></div>\n<div class=\"line\"><a id=\"l-822\" name=\"l-822\"></a><span class=\"linenos\"> 822</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemLEDPin</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">redLED</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin connected an LED to show modem</span></div>\n<div class=\"line\"><a id=\"l-823\" name=\"l-823\"></a><span class=\"linenos\"> 823</span><span class=\"w\">                                    </span><span class=\"c1\">// status</span></div>\n<div class=\"line\"><a id=\"l-824\" name=\"l-824\"></a><span class=\"linenos\"> 824</span></div>\n<div class=\"line\"><a id=\"l-825\" name=\"l-825\"></a><span class=\"linenos\"> 825</span><span class=\"c1\">// Network connection information</span></div>\n<div class=\"line\"><a id=\"l-826\" name=\"l-826\"></a><span class=\"linenos\"> 826</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">apn</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">CELLULAR_APN</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// APN for GPRS connection</span></div>\n<div class=\"line\"><a id=\"l-827\" name=\"l-827\"></a><span class=\"linenos\"> 827</span></div>\n<div class=\"line\"><a id=\"l-828\" name=\"l-828\"></a><span class=\"linenos\"> 828</span><span class=\"c1\">// Create the modem object</span></div>\n<div class=\"line\"><a id=\"l-829\" name=\"l-829\"></a><span class=\"linenos\"> 829</span><span class=\"n\">SIMComSIM7080</span><span class=\"w\"> </span><span class=\"nf\">modem7080</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">modemSerial</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">modemVccPin</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">modemStatusPin</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-830\" name=\"l-830\"></a><span class=\"linenos\"> 830</span><span class=\"w\">                        </span><span class=\"n\">modemSleepRqPin</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">apn</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-831\" name=\"l-831\"></a><span class=\"linenos\"> 831</span><span class=\"c1\">// Create an extra reference to the modem by a generic name</span></div>\n<div class=\"line\"><a id=\"l-832\" name=\"l-832\"></a><span class=\"linenos\"> 832</span><span class=\"n\">SIMComSIM7080</span><span class=\"w\"> </span><span class=\"n\">modem</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">modem7080</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-833\" name=\"l-833\"></a><span class=\"linenos\"> 833</span><span class=\"cm\">/** End [sim_com_sim7080] */</span></div>\n<div class=\"line\"><a id=\"l-834\" name=\"l-834\"></a><span class=\"linenos\"> 834</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-835\" name=\"l-835\"></a><span class=\"linenos\"> 835</span></div>\n<div class=\"line\"><a id=\"l-836\" name=\"l-836\"></a><span class=\"linenos\"> 836</span></div>\n<div class=\"line\"><a id=\"l-837\" name=\"l-837\"></a><span class=\"linenos\"> 837</span><span class=\"cp\">#elif defined(BUILD_MODEM_SODAQ_2G_BEE_R6)</span></div>\n<div class=\"line\"><a id=\"l-838\" name=\"l-838\"></a><span class=\"linenos\"> 838</span><span class=\"cp\">#define BUILD_HAS_MODEM</span></div>\n<div class=\"line\"><a id=\"l-839\" name=\"l-839\"></a><span class=\"linenos\"> 839</span><span class=\"cm\">/** Start [sodaq_2g_bee_r6] */</span></div>\n<div class=\"line\"><a id=\"l-840\" name=\"l-840\"></a><span class=\"linenos\"> 840</span><span class=\"c1\">// For the Sodaq 2GBee R6 and R7 based on the SIMCom SIM800</span></div>\n<div class=\"line\"><a id=\"l-841\" name=\"l-841\"></a><span class=\"linenos\"> 841</span><span class=\"c1\">// NOTE:  The Sodaq GPRSBee doesn&#39;t expose the SIM800&#39;s reset pin</span></div>\n<div class=\"line\"><a id=\"l-842\" name=\"l-842\"></a><span class=\"linenos\"> 842</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;modems/Sodaq2GBeeR6.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-843\" name=\"l-843\"></a><span class=\"linenos\"> 843</span></div>\n<div class=\"line\"><a id=\"l-844\" name=\"l-844\"></a><span class=\"linenos\"> 844</span><span class=\"c1\">// NOTE: Extra hardware and software serial ports are created in the &quot;Settings</span></div>\n<div class=\"line\"><a id=\"l-845\" name=\"l-845\"></a><span class=\"linenos\"> 845</span><span class=\"c1\">// for Additional Serial Ports&quot; section</span></div>\n<div class=\"line\"><a id=\"l-846\" name=\"l-846\"></a><span class=\"linenos\"> 846</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int32_t</span><span class=\"w\"> </span><span class=\"n\">modemBaud</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">9600</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">//  SIM800 does auto-bauding by default</span></div>\n<div class=\"line\"><a id=\"l-847\" name=\"l-847\"></a><span class=\"linenos\"> 847</span></div>\n<div class=\"line\"><a id=\"l-848\" name=\"l-848\"></a><span class=\"linenos\"> 848</span><span class=\"c1\">// Modem Pins - Describe the physical pin connection of your modem to your board</span></div>\n<div class=\"line\"><a id=\"l-849\" name=\"l-849\"></a><span class=\"linenos\"> 849</span><span class=\"c1\">// NOTE:  Use -1 for pins that do not apply</span></div>\n<div class=\"line\"><a id=\"l-850\" name=\"l-850\"></a><span class=\"linenos\"> 850</span><span class=\"c1\">// Example pins are for a Sodaq GPRSBee R6 or R7 with a Mayfly 0.x</span></div>\n<div class=\"line\"><a id=\"l-851\" name=\"l-851\"></a><span class=\"linenos\"> 851</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemVccPin</span><span class=\"w\">     </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">23</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin controlling modem power</span></div>\n<div class=\"line\"><a id=\"l-852\" name=\"l-852\"></a><span class=\"linenos\"> 852</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemStatusPin</span><span class=\"w\">  </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">19</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin used to read modem status</span></div>\n<div class=\"line\"><a id=\"l-853\" name=\"l-853\"></a><span class=\"linenos\"> 853</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemResetPin</span><span class=\"w\">   </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">-1</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin connected to modem reset pin</span></div>\n<div class=\"line\"><a id=\"l-854\" name=\"l-854\"></a><span class=\"linenos\"> 854</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemSleepRqPin</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">-1</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin for modem sleep/wake request</span></div>\n<div class=\"line\"><a id=\"l-855\" name=\"l-855\"></a><span class=\"linenos\"> 855</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemLEDPin</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">redLED</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin connected an LED to show modem</span></div>\n<div class=\"line\"><a id=\"l-856\" name=\"l-856\"></a><span class=\"linenos\"> 856</span><span class=\"w\">                                    </span><span class=\"c1\">// status</span></div>\n<div class=\"line\"><a id=\"l-857\" name=\"l-857\"></a><span class=\"linenos\"> 857</span></div>\n<div class=\"line\"><a id=\"l-858\" name=\"l-858\"></a><span class=\"linenos\"> 858</span><span class=\"c1\">// Network connection information</span></div>\n<div class=\"line\"><a id=\"l-859\" name=\"l-859\"></a><span class=\"linenos\"> 859</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">apn</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">CELLULAR_APN</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// APN for GPRS connection</span></div>\n<div class=\"line\"><a id=\"l-860\" name=\"l-860\"></a><span class=\"linenos\"> 860</span></div>\n<div class=\"line\"><a id=\"l-861\" name=\"l-861\"></a><span class=\"linenos\"> 861</span><span class=\"c1\">// Create the modem object</span></div>\n<div class=\"line\"><a id=\"l-862\" name=\"l-862\"></a><span class=\"linenos\"> 862</span><span class=\"n\">Sodaq2GBeeR6</span><span class=\"w\"> </span><span class=\"nf\">modem2GB</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">modemSerial</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">modemVccPin</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">modemStatusPin</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">apn</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-863\" name=\"l-863\"></a><span class=\"linenos\"> 863</span><span class=\"c1\">// Create an extra reference to the modem by a generic name</span></div>\n<div class=\"line\"><a id=\"l-864\" name=\"l-864\"></a><span class=\"linenos\"> 864</span><span class=\"n\">Sodaq2GBeeR6</span><span class=\"w\"> </span><span class=\"n\">modem</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">modem2GB</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-865\" name=\"l-865\"></a><span class=\"linenos\"> 865</span><span class=\"cm\">/** End [sodaq_2g_bee_r6] */</span></div>\n<div class=\"line\"><a id=\"l-866\" name=\"l-866\"></a><span class=\"linenos\"> 866</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-867\" name=\"l-867\"></a><span class=\"linenos\"> 867</span></div>\n<div class=\"line\"><a id=\"l-868\" name=\"l-868\"></a><span class=\"linenos\"> 868</span></div>\n<div class=\"line\"><a id=\"l-869\" name=\"l-869\"></a><span class=\"linenos\"> 869</span><span class=\"cp\">#elif defined(BUILD_MODEM_SODAQ_UBEE_R410M)</span></div>\n<div class=\"line\"><a id=\"l-870\" name=\"l-870\"></a><span class=\"linenos\"> 870</span><span class=\"cp\">#define BUILD_HAS_MODEM</span></div>\n<div class=\"line\"><a id=\"l-871\" name=\"l-871\"></a><span class=\"linenos\"> 871</span><span class=\"cm\">/** Start [sodaq_ubee_r410m] */</span></div>\n<div class=\"line\"><a id=\"l-872\" name=\"l-872\"></a><span class=\"linenos\"> 872</span><span class=\"c1\">// For the Sodaq UBee based on the 4G LTE-M u-blox SARA R410M</span></div>\n<div class=\"line\"><a id=\"l-873\" name=\"l-873\"></a><span class=\"linenos\"> 873</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;modems/SodaqUBeeR410M.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-874\" name=\"l-874\"></a><span class=\"linenos\"> 874</span></div>\n<div class=\"line\"><a id=\"l-875\" name=\"l-875\"></a><span class=\"linenos\"> 875</span><span class=\"c1\">// NOTE: Extra hardware and software serial ports are created in the &quot;Settings</span></div>\n<div class=\"line\"><a id=\"l-876\" name=\"l-876\"></a><span class=\"linenos\"> 876</span><span class=\"c1\">// for Additional Serial Ports&quot; section</span></div>\n<div class=\"line\"><a id=\"l-877\" name=\"l-877\"></a><span class=\"linenos\"> 877</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int32_t</span><span class=\"w\"> </span><span class=\"n\">modemBaud</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-878\" name=\"l-878\"></a><span class=\"linenos\"> 878</span><span class=\"w\">    </span><span class=\"mi\">115200</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Default baud rate of the SARA R410M is 115200</span></div>\n<div class=\"line\"><a id=\"l-879\" name=\"l-879\"></a><span class=\"linenos\"> 879</span><span class=\"c1\">// NOTE:  The SARA R410N DOES NOT save baud rate to non-volatile memory.  After</span></div>\n<div class=\"line\"><a id=\"l-880\" name=\"l-880\"></a><span class=\"linenos\"> 880</span><span class=\"c1\">// every power loss, the module will return to the default baud rate of 115200.</span></div>\n<div class=\"line\"><a id=\"l-881\" name=\"l-881\"></a><span class=\"linenos\"> 881</span><span class=\"c1\">// NOTE:  115200 is TOO FAST for an 8MHz Arduino.  This library attempts to</span></div>\n<div class=\"line\"><a id=\"l-882\" name=\"l-882\"></a><span class=\"linenos\"> 882</span><span class=\"c1\">// compensate by sending a baud rate change command in the wake function when</span></div>\n<div class=\"line\"><a id=\"l-883\" name=\"l-883\"></a><span class=\"linenos\"> 883</span><span class=\"c1\">// compiled for a 8MHz board. Because of this, 8MHz boards, LIKE THE MAYFLY,</span></div>\n<div class=\"line\"><a id=\"l-884\" name=\"l-884\"></a><span class=\"linenos\"> 884</span><span class=\"c1\">// *MUST* use a HardwareSerial instance as modemSerial.</span></div>\n<div class=\"line\"><a id=\"l-885\" name=\"l-885\"></a><span class=\"linenos\"> 885</span></div>\n<div class=\"line\"><a id=\"l-886\" name=\"l-886\"></a><span class=\"linenos\"> 886</span><span class=\"c1\">// Modem Pins - Describe the physical pin connection of your modem to your board</span></div>\n<div class=\"line\"><a id=\"l-887\" name=\"l-887\"></a><span class=\"linenos\"> 887</span><span class=\"c1\">// NOTE:  Use -1 for pins that do not apply</span></div>\n<div class=\"line\"><a id=\"l-888\" name=\"l-888\"></a><span class=\"linenos\"> 888</span><span class=\"c1\">// Example pins are for a Sodaq uBee R410M with a Mayfly 0.x</span></div>\n<div class=\"line\"><a id=\"l-889\" name=\"l-889\"></a><span class=\"linenos\"> 889</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemVccPin</span><span class=\"w\">     </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">23</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin controlling modem power</span></div>\n<div class=\"line\"><a id=\"l-890\" name=\"l-890\"></a><span class=\"linenos\"> 890</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemStatusPin</span><span class=\"w\">  </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">19</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin used to read modem status</span></div>\n<div class=\"line\"><a id=\"l-891\" name=\"l-891\"></a><span class=\"linenos\"> 891</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemResetPin</span><span class=\"w\">   </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">-1</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin connected to modem reset pin</span></div>\n<div class=\"line\"><a id=\"l-892\" name=\"l-892\"></a><span class=\"linenos\"> 892</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemSleepRqPin</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">20</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin for modem sleep/wake request</span></div>\n<div class=\"line\"><a id=\"l-893\" name=\"l-893\"></a><span class=\"linenos\"> 893</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemLEDPin</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">redLED</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin connected an LED to show modem</span></div>\n<div class=\"line\"><a id=\"l-894\" name=\"l-894\"></a><span class=\"linenos\"> 894</span><span class=\"w\">                                    </span><span class=\"c1\">// status</span></div>\n<div class=\"line\"><a id=\"l-895\" name=\"l-895\"></a><span class=\"linenos\"> 895</span></div>\n<div class=\"line\"><a id=\"l-896\" name=\"l-896\"></a><span class=\"linenos\"> 896</span><span class=\"c1\">// Network connection information</span></div>\n<div class=\"line\"><a id=\"l-897\" name=\"l-897\"></a><span class=\"linenos\"> 897</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">apn</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">CELLULAR_APN</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// APN for GPRS connection</span></div>\n<div class=\"line\"><a id=\"l-898\" name=\"l-898\"></a><span class=\"linenos\"> 898</span></div>\n<div class=\"line\"><a id=\"l-899\" name=\"l-899\"></a><span class=\"linenos\"> 899</span><span class=\"c1\">// Create the modem object</span></div>\n<div class=\"line\"><a id=\"l-900\" name=\"l-900\"></a><span class=\"linenos\"> 900</span><span class=\"n\">SodaqUBeeR410M</span><span class=\"w\"> </span><span class=\"nf\">modemR410</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">modemSerial</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">modemVccPin</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">modemStatusPin</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-901\" name=\"l-901\"></a><span class=\"linenos\"> 901</span><span class=\"w\">                         </span><span class=\"n\">modemResetPin</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">modemSleepRqPin</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">apn</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-902\" name=\"l-902\"></a><span class=\"linenos\"> 902</span><span class=\"c1\">// Create an extra reference to the modem by a generic name</span></div>\n<div class=\"line\"><a id=\"l-903\" name=\"l-903\"></a><span class=\"linenos\"> 903</span><span class=\"n\">SodaqUBeeR410M</span><span class=\"w\"> </span><span class=\"n\">modem</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">modemR410</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-904\" name=\"l-904\"></a><span class=\"linenos\"> 904</span><span class=\"cm\">/** End [sodaq_ubee_r410m] */</span></div>\n<div class=\"line\"><a id=\"l-905\" name=\"l-905\"></a><span class=\"linenos\"> 905</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-906\" name=\"l-906\"></a><span class=\"linenos\"> 906</span></div>\n<div class=\"line\"><a id=\"l-907\" name=\"l-907\"></a><span class=\"linenos\"> 907</span></div>\n<div class=\"line\"><a id=\"l-908\" name=\"l-908\"></a><span class=\"linenos\"> 908</span><span class=\"cp\">#elif defined(BUILD_MODEM_SODAQ_UBEE_U201)</span></div>\n<div class=\"line\"><a id=\"l-909\" name=\"l-909\"></a><span class=\"linenos\"> 909</span><span class=\"cp\">#define BUILD_HAS_MODEM</span></div>\n<div class=\"line\"><a id=\"l-910\" name=\"l-910\"></a><span class=\"linenos\"> 910</span><span class=\"cm\">/** Start [sodaq_ubee_u201] */</span></div>\n<div class=\"line\"><a id=\"l-911\" name=\"l-911\"></a><span class=\"linenos\"> 911</span><span class=\"c1\">// For the Sodaq UBee based on the 3G u-blox SARA U201</span></div>\n<div class=\"line\"><a id=\"l-912\" name=\"l-912\"></a><span class=\"linenos\"> 912</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;modems/SodaqUBeeU201.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-913\" name=\"l-913\"></a><span class=\"linenos\"> 913</span></div>\n<div class=\"line\"><a id=\"l-914\" name=\"l-914\"></a><span class=\"linenos\"> 914</span><span class=\"c1\">// NOTE: Extra hardware and software serial ports are created in the &quot;Settings</span></div>\n<div class=\"line\"><a id=\"l-915\" name=\"l-915\"></a><span class=\"linenos\"> 915</span><span class=\"c1\">// for Additional Serial Ports&quot; section</span></div>\n<div class=\"line\"><a id=\"l-916\" name=\"l-916\"></a><span class=\"linenos\"> 916</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int32_t</span><span class=\"w\"> </span><span class=\"n\">modemBaud</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-917\" name=\"l-917\"></a><span class=\"linenos\"> 917</span><span class=\"w\">    </span><span class=\"mi\">9600</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">//  SARA U2xx module does auto-bauding by default</span></div>\n<div class=\"line\"><a id=\"l-918\" name=\"l-918\"></a><span class=\"linenos\"> 918</span></div>\n<div class=\"line\"><a id=\"l-919\" name=\"l-919\"></a><span class=\"linenos\"> 919</span><span class=\"c1\">// Modem Pins - Describe the physical pin connection of your modem to your board</span></div>\n<div class=\"line\"><a id=\"l-920\" name=\"l-920\"></a><span class=\"linenos\"> 920</span><span class=\"c1\">// NOTE:  Use -1 for pins that do not apply</span></div>\n<div class=\"line\"><a id=\"l-921\" name=\"l-921\"></a><span class=\"linenos\"> 921</span><span class=\"c1\">// Example pins are for a Sodaq uBee U201 with a Mayfly 0.x</span></div>\n<div class=\"line\"><a id=\"l-922\" name=\"l-922\"></a><span class=\"linenos\"> 922</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemVccPin</span><span class=\"w\">     </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">23</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin controlling modem power</span></div>\n<div class=\"line\"><a id=\"l-923\" name=\"l-923\"></a><span class=\"linenos\"> 923</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemStatusPin</span><span class=\"w\">  </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">19</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin used to read modem status</span></div>\n<div class=\"line\"><a id=\"l-924\" name=\"l-924\"></a><span class=\"linenos\"> 924</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemResetPin</span><span class=\"w\">   </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">-1</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin connected to modem reset pin</span></div>\n<div class=\"line\"><a id=\"l-925\" name=\"l-925\"></a><span class=\"linenos\"> 925</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemSleepRqPin</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">20</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin for modem sleep/wake request</span></div>\n<div class=\"line\"><a id=\"l-926\" name=\"l-926\"></a><span class=\"linenos\"> 926</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">modemLEDPin</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">redLED</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// MCU pin connected an LED to show modem</span></div>\n<div class=\"line\"><a id=\"l-927\" name=\"l-927\"></a><span class=\"linenos\"> 927</span><span class=\"w\">                                    </span><span class=\"c1\">// status</span></div>\n<div class=\"line\"><a id=\"l-928\" name=\"l-928\"></a><span class=\"linenos\"> 928</span></div>\n<div class=\"line\"><a id=\"l-929\" name=\"l-929\"></a><span class=\"linenos\"> 929</span><span class=\"c1\">// Network connection information</span></div>\n<div class=\"line\"><a id=\"l-930\" name=\"l-930\"></a><span class=\"linenos\"> 930</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">apn</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">CELLULAR_APN</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// APN for GPRS connection</span></div>\n<div class=\"line\"><a id=\"l-931\" name=\"l-931\"></a><span class=\"linenos\"> 931</span></div>\n<div class=\"line\"><a id=\"l-932\" name=\"l-932\"></a><span class=\"linenos\"> 932</span><span class=\"c1\">// Create the modem object</span></div>\n<div class=\"line\"><a id=\"l-933\" name=\"l-933\"></a><span class=\"linenos\"> 933</span><span class=\"n\">SodaqUBeeU201</span><span class=\"w\"> </span><span class=\"nf\">modemU201</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">modemSerial</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">modemVccPin</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">modemStatusPin</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-934\" name=\"l-934\"></a><span class=\"linenos\"> 934</span><span class=\"w\">                        </span><span class=\"n\">modemResetPin</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">modemSleepRqPin</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">apn</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-935\" name=\"l-935\"></a><span class=\"linenos\"> 935</span><span class=\"c1\">// Create an extra reference to the modem by a generic name</span></div>\n<div class=\"line\"><a id=\"l-936\" name=\"l-936\"></a><span class=\"linenos\"> 936</span><span class=\"n\">SodaqUBeeU201</span><span class=\"w\"> </span><span class=\"n\">modem</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">modemU201</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-937\" name=\"l-937\"></a><span class=\"linenos\"> 937</span><span class=\"cm\">/** End [sodaq_ubee_u201] */</span></div>\n<div class=\"line\"><a id=\"l-938\" name=\"l-938\"></a><span class=\"linenos\"> 938</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-939\" name=\"l-939\"></a><span class=\"linenos\"> 939</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-940\" name=\"l-940\"></a><span class=\"linenos\"> 940</span></div>\n<div class=\"line\"><a id=\"l-941\" name=\"l-941\"></a><span class=\"linenos\"> 941</span><span class=\"cp\">#if !defined(BUILD_MODEM_NO_MODEM) &amp;&amp; defined(BUILD_HAS_MODEM)</span></div>\n<div class=\"line\"><a id=\"l-942\" name=\"l-942\"></a><span class=\"linenos\"> 942</span><span class=\"cm\">/** Start [modem_variables] */</span></div>\n<div class=\"line\"><a id=\"l-943\" name=\"l-943\"></a><span class=\"linenos\"> 943</span><span class=\"c1\">// Create RSSI and signal strength variable pointers for the modem</span></div>\n<div class=\"line\"><a id=\"l-944\" name=\"l-944\"></a><span class=\"linenos\"> 944</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">modemRSSI</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-945\" name=\"l-945\"></a><span class=\"linenos\"> 945</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">Modem_RSSI</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">modem</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;</span><span class=\"nf\">RSSI</span><span class=\"s\">&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-946\" name=\"l-946\"></a><span class=\"linenos\"> 946</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">modemSignalPct</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">Modem_SignalPercent</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-947\" name=\"l-947\"></a><span class=\"linenos\"> 947</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">modem</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;signalPercent&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-948\" name=\"l-948\"></a><span class=\"linenos\"> 948</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">modemBatteryState</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">Modem_BatteryState</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-949\" name=\"l-949\"></a><span class=\"linenos\"> 949</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">modem</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;modemBatteryCS&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-950\" name=\"l-950\"></a><span class=\"linenos\"> 950</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">modemBatteryPct</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">Modem_BatteryPercent</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-951\" name=\"l-951\"></a><span class=\"linenos\"> 951</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">modem</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;modemBatteryPct&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-952\" name=\"l-952\"></a><span class=\"linenos\"> 952</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">modemBatteryVoltage</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">Modem_BatteryVoltage</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-953\" name=\"l-953\"></a><span class=\"linenos\"> 953</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">modem</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;modemBatterymV&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-954\" name=\"l-954\"></a><span class=\"linenos\"> 954</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">modemTemperature</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-955\" name=\"l-955\"></a><span class=\"linenos\"> 955</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">Modem_Temp</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">modem</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;modemTemp&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-956\" name=\"l-956\"></a><span class=\"linenos\"> 956</span><span class=\"cm\">/** End [modem_variables] */</span></div>\n<div class=\"line\"><a id=\"l-957\" name=\"l-957\"></a><span class=\"linenos\"> 957</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-958\" name=\"l-958\"></a><span class=\"linenos\"> 958</span></div>\n<div class=\"line\"><a id=\"l-959\" name=\"l-959\"></a><span class=\"linenos\"> 959</span></div>\n<div class=\"line\"><a id=\"l-960\" name=\"l-960\"></a><span class=\"linenos\"> 960</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-961\" name=\"l-961\"></a><span class=\"linenos\"> 961</span><span class=\"c1\">//  Using the Processor as a Sensor</span></div>\n<div class=\"line\"><a id=\"l-962\" name=\"l-962\"></a><span class=\"linenos\"> 962</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-963\" name=\"l-963\"></a><span class=\"linenos\"> 963</span><span class=\"cm\">/** Start [processor_stats] */</span></div>\n<div class=\"line\"><a id=\"l-964\" name=\"l-964\"></a><span class=\"linenos\"> 964</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;sensors/ProcessorStats.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-965\" name=\"l-965\"></a><span class=\"linenos\"> 965</span></div>\n<div class=\"line\"><a id=\"l-966\" name=\"l-966\"></a><span class=\"linenos\"> 966</span><span class=\"c1\">// Create the main processor chip &quot;sensor&quot; - for general metadata</span></div>\n<div class=\"line\"><a id=\"l-967\" name=\"l-967\"></a><span class=\"linenos\"> 967</span><span class=\"cp\">#if defined(ENVIRODIY_STONEFLY_M4)</span></div>\n<div class=\"line\"><a id=\"l-968\" name=\"l-968\"></a><span class=\"linenos\"> 968</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">mcuBoardVersion</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s\">&quot;v0.1&quot;</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-969\" name=\"l-969\"></a><span class=\"linenos\"> 969</span><span class=\"cp\">#elif defined(ARDUINO_AVR_ENVIRODIY_MAYFLY)</span></div>\n<div class=\"line\"><a id=\"l-970\" name=\"l-970\"></a><span class=\"linenos\"> 970</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">mcuBoardVersion</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s\">&quot;v1.1&quot;</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-971\" name=\"l-971\"></a><span class=\"linenos\"> 971</span><span class=\"cp\">#else</span></div>\n<div class=\"line\"><a id=\"l-972\" name=\"l-972\"></a><span class=\"linenos\"> 972</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">mcuBoardVersion</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s\">&quot;unknown&quot;</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-973\" name=\"l-973\"></a><span class=\"linenos\"> 973</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-974\" name=\"l-974\"></a><span class=\"linenos\"> 974</span><span class=\"n\">ProcessorStats</span><span class=\"w\"> </span><span class=\"nf\">mcuBoard</span><span class=\"p\">(</span><span class=\"n\">mcuBoardVersion</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mi\">5</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-975\" name=\"l-975\"></a><span class=\"linenos\"> 975</span></div>\n<div class=\"line\"><a id=\"l-976\" name=\"l-976\"></a><span class=\"linenos\"> 976</span><span class=\"c1\">// Create sample number, battery voltage, free RAM, and reset cause variable</span></div>\n<div class=\"line\"><a id=\"l-977\" name=\"l-977\"></a><span class=\"linenos\"> 977</span><span class=\"c1\">// pointers for the processor</span></div>\n<div class=\"line\"><a id=\"l-978\" name=\"l-978\"></a><span class=\"linenos\"> 978</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">mcuBoardBatt</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">ProcessorStats_Battery</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-979\" name=\"l-979\"></a><span class=\"linenos\"> 979</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">mcuBoard</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-980\" name=\"l-980\"></a><span class=\"linenos\"> 980</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">mcuBoardAvailableRAM</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">ProcessorStats_FreeRam</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-981\" name=\"l-981\"></a><span class=\"linenos\"> 981</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">mcuBoard</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-982\" name=\"l-982\"></a><span class=\"linenos\"> 982</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">mcuBoardSampNo</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">ProcessorStats_SampleNumber</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-983\" name=\"l-983\"></a><span class=\"linenos\"> 983</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">mcuBoard</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-984\" name=\"l-984\"></a><span class=\"linenos\"> 984</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">mcuBoardReset</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">ProcessorStats_ResetCode</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-985\" name=\"l-985\"></a><span class=\"linenos\"> 985</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">mcuBoard</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-986\" name=\"l-986\"></a><span class=\"linenos\"> 986</span><span class=\"cm\">/** End [processor_stats] */</span></div>\n<div class=\"line\"><a id=\"l-987\" name=\"l-987\"></a><span class=\"linenos\"> 987</span></div>\n<div class=\"line\"><a id=\"l-988\" name=\"l-988\"></a><span class=\"linenos\"> 988</span></div>\n<div class=\"line\"><a id=\"l-989\" name=\"l-989\"></a><span class=\"linenos\"> 989</span><span class=\"cp\">#if defined(MS_USE_DS3231)</span></div>\n<div class=\"line\"><a id=\"l-990\" name=\"l-990\"></a><span class=\"linenos\"> 990</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-991\" name=\"l-991\"></a><span class=\"linenos\"> 991</span><span class=\"c1\">//  Maxim DS3231 RTC (Real Time Clock)</span></div>\n<div class=\"line\"><a id=\"l-992\" name=\"l-992\"></a><span class=\"linenos\"> 992</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-993\" name=\"l-993\"></a><span class=\"linenos\"> 993</span><span class=\"cm\">/** Start [maxim_ds3231] */</span></div>\n<div class=\"line\"><a id=\"l-994\" name=\"l-994\"></a><span class=\"linenos\"> 994</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;sensors/MaximDS3231.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-995\" name=\"l-995\"></a><span class=\"linenos\"> 995</span></div>\n<div class=\"line\"><a id=\"l-996\" name=\"l-996\"></a><span class=\"linenos\"> 996</span><span class=\"c1\">// Create a DS3231 sensor object</span></div>\n<div class=\"line\"><a id=\"l-997\" name=\"l-997\"></a><span class=\"linenos\"> 997</span><span class=\"n\">MaximDS3231</span><span class=\"w\"> </span><span class=\"nf\">ds3231</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-998\" name=\"l-998\"></a><span class=\"linenos\"> 998</span></div>\n<div class=\"line\"><a id=\"l-999\" name=\"l-999\"></a><span class=\"linenos\"> 999</span><span class=\"c1\">// Create a temperature variable pointer for the DS3231</span></div>\n<div class=\"line\"><a id=\"l-1000\" name=\"l-1000\"></a><span class=\"linenos\">1000</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">ds3231Temp</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-1001\" name=\"l-1001\"></a><span class=\"linenos\">1001</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">MaximDS3231_Temp</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">ds3231</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1002\" name=\"l-1002\"></a><span class=\"linenos\">1002</span><span class=\"cm\">/** End [maxim_ds3231] */</span></div>\n<div class=\"line\"><a id=\"l-1003\" name=\"l-1003\"></a><span class=\"linenos\">1003</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-1004\" name=\"l-1004\"></a><span class=\"linenos\">1004</span></div>\n<div class=\"line\"><a id=\"l-1005\" name=\"l-1005\"></a><span class=\"linenos\">1005</span></div>\n<div class=\"line\"><a id=\"l-1006\" name=\"l-1006\"></a><span class=\"linenos\">1006</span><span class=\"cp\">#if defined(BUILD_SENSOR_ALPHASENSE_CO2)</span></div>\n<div class=\"line\"><a id=\"l-1007\" name=\"l-1007\"></a><span class=\"linenos\">1007</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-1008\" name=\"l-1008\"></a><span class=\"linenos\">1008</span><span class=\"c1\">//  Alphasense CO2 Sensor</span></div>\n<div class=\"line\"><a id=\"l-1009\" name=\"l-1009\"></a><span class=\"linenos\">1009</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-1010\" name=\"l-1010\"></a><span class=\"linenos\">1010</span><span class=\"cm\">/** Start [alphasense_co2] */</span></div>\n<div class=\"line\"><a id=\"l-1011\" name=\"l-1011\"></a><span class=\"linenos\">1011</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;sensors/AlphasenseCO2.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-1012\" name=\"l-1012\"></a><span class=\"linenos\">1012</span></div>\n<div class=\"line\"><a id=\"l-1013\" name=\"l-1013\"></a><span class=\"linenos\">1013</span><span class=\"c1\">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span></div>\n<div class=\"line\"><a id=\"l-1014\" name=\"l-1014\"></a><span class=\"linenos\">1014</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">      </span><span class=\"n\">AlphasenseCO2Power</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">sensorPowerPin</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Power pin</span></div>\n<div class=\"line\"><a id=\"l-1015\" name=\"l-1015\"></a><span class=\"linenos\">1015</span><span class=\"n\">aco2_adsDiffMux_t</span><span class=\"w\"> </span><span class=\"n\">AlphasenseDiffMux</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-1016\" name=\"l-1016\"></a><span class=\"linenos\">1016</span><span class=\"w\">    </span><span class=\"n\">DIFF_MUX_2_3</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Differential voltage config</span></div>\n<div class=\"line\"><a id=\"l-1017\" name=\"l-1017\"></a><span class=\"linenos\">1017</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">uint8_t</span><span class=\"w\"> </span><span class=\"n\">AlphasenseCO2ADSi2c_addr</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-1018\" name=\"l-1018\"></a><span class=\"linenos\">1018</span><span class=\"w\">    </span><span class=\"mh\">0x48</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// The I2C address of the ADS1115 ADC</span></div>\n<div class=\"line\"><a id=\"l-1019\" name=\"l-1019\"></a><span class=\"linenos\">1019</span></div>\n<div class=\"line\"><a id=\"l-1020\" name=\"l-1020\"></a><span class=\"linenos\">1020</span><span class=\"c1\">// Create an Alphasense CO2 sensor object</span></div>\n<div class=\"line\"><a id=\"l-1021\" name=\"l-1021\"></a><span class=\"linenos\">1021</span><span class=\"n\">AlphasenseCO2</span><span class=\"w\"> </span><span class=\"nf\">alphasenseCO2</span><span class=\"p\">(</span><span class=\"n\">AlphasenseCO2Power</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">AlphasenseDiffMux</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-1022\" name=\"l-1022\"></a><span class=\"linenos\">1022</span><span class=\"w\">                            </span><span class=\"n\">AlphasenseCO2ADSi2c_addr</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1023\" name=\"l-1023\"></a><span class=\"linenos\">1023</span></div>\n<div class=\"line\"><a id=\"l-1024\" name=\"l-1024\"></a><span class=\"linenos\">1024</span><span class=\"c1\">// Create PAR and raw voltage variable pointers for the CO2</span></div>\n<div class=\"line\"><a id=\"l-1025\" name=\"l-1025\"></a><span class=\"linenos\">1025</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">asCO2</span><span class=\"w\">        </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">AlphasenseCO2_CO2</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">alphasenseCO2</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-1026\" name=\"l-1026\"></a><span class=\"linenos\">1026</span><span class=\"w\">                                               </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1027\" name=\"l-1027\"></a><span class=\"linenos\">1027</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">asco2voltage</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">AlphasenseCO2_Voltage</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-1028\" name=\"l-1028\"></a><span class=\"linenos\">1028</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">alphasenseCO2</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1029\" name=\"l-1029\"></a><span class=\"linenos\">1029</span><span class=\"cm\">/** End [alphasense_co2] */</span></div>\n<div class=\"line\"><a id=\"l-1030\" name=\"l-1030\"></a><span class=\"linenos\">1030</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-1031\" name=\"l-1031\"></a><span class=\"linenos\">1031</span></div>\n<div class=\"line\"><a id=\"l-1032\" name=\"l-1032\"></a><span class=\"linenos\">1032</span></div>\n<div class=\"line\"><a id=\"l-1033\" name=\"l-1033\"></a><span class=\"linenos\">1033</span><span class=\"cp\">#if defined(BUILD_SENSOR_ANB_PH)</span></div>\n<div class=\"line\"><a id=\"l-1034\" name=\"l-1034\"></a><span class=\"linenos\">1034</span><span class=\"cp\">#ifndef BUILD_MODBUS_SENSOR</span></div>\n<div class=\"line\"><a id=\"l-1035\" name=\"l-1035\"></a><span class=\"linenos\">1035</span><span class=\"cp\">#define BUILD_MODBUS_SENSOR</span></div>\n<div class=\"line\"><a id=\"l-1036\" name=\"l-1036\"></a><span class=\"linenos\">1036</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-1037\" name=\"l-1037\"></a><span class=\"linenos\">1037</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-1038\" name=\"l-1038\"></a><span class=\"linenos\">1038</span><span class=\"c1\">//  ANB Sensors pH Sensor</span></div>\n<div class=\"line\"><a id=\"l-1039\" name=\"l-1039\"></a><span class=\"linenos\">1039</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-1040\" name=\"l-1040\"></a><span class=\"linenos\">1040</span><span class=\"cm\">/** Start [anb_ph] */</span></div>\n<div class=\"line\"><a id=\"l-1041\" name=\"l-1041\"></a><span class=\"linenos\">1041</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;sensors/ANBpH.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-1042\" name=\"l-1042\"></a><span class=\"linenos\">1042</span></div>\n<div class=\"line\"><a id=\"l-1043\" name=\"l-1043\"></a><span class=\"linenos\">1043</span><span class=\"c1\">// NOTE: Extra hardware and software serial ports are created in the &quot;Settings</span></div>\n<div class=\"line\"><a id=\"l-1044\" name=\"l-1044\"></a><span class=\"linenos\">1044</span><span class=\"c1\">// for Additional Serial Ports&quot; section</span></div>\n<div class=\"line\"><a id=\"l-1045\" name=\"l-1045\"></a><span class=\"linenos\">1045</span></div>\n<div class=\"line\"><a id=\"l-1046\" name=\"l-1046\"></a><span class=\"linenos\">1046</span><span class=\"c1\">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span></div>\n<div class=\"line\"><a id=\"l-1047\" name=\"l-1047\"></a><span class=\"linenos\">1047</span><span class=\"kr\">byte</span><span class=\"w\"> </span><span class=\"n\">anbModbusAddress</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-1048\" name=\"l-1048\"></a><span class=\"linenos\">1048</span><span class=\"w\">    </span><span class=\"mh\">0x55</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// The modbus address of ANB pH Sensor (0x55 is the default)</span></div>\n<div class=\"line\"><a id=\"l-1049\" name=\"l-1049\"></a><span class=\"linenos\">1049</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">anbPower</span><span class=\"w\">          </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">sensorPowerPin</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// ANB pH Sensor power pin</span></div>\n<div class=\"line\"><a id=\"l-1050\" name=\"l-1050\"></a><span class=\"linenos\">1050</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">alAdapterPower</span><span class=\"w\">    </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">sensorPowerPin</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// RS485 adapter power pin</span></div>\n<div class=\"line\"><a id=\"l-1051\" name=\"l-1051\"></a><span class=\"linenos\">1051</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">al485EnablePin</span><span class=\"w\">    </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">-1</span><span class=\"p\">;</span><span class=\"w\">              </span><span class=\"c1\">// Adapter RE/DE pin</span></div>\n<div class=\"line\"><a id=\"l-1052\" name=\"l-1052\"></a><span class=\"linenos\">1052</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">uint8_t</span><span class=\"w\"> </span><span class=\"n\">anbNumberReadings</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-1053\" name=\"l-1053\"></a><span class=\"linenos\">1053</span></div>\n<div class=\"line\"><a id=\"l-1054\" name=\"l-1054\"></a><span class=\"linenos\">1054</span><span class=\"c1\">// Create an ANB pH sensor object</span></div>\n<div class=\"line\"><a id=\"l-1055\" name=\"l-1055\"></a><span class=\"linenos\">1055</span><span class=\"n\">ANBpH</span><span class=\"w\"> </span><span class=\"nf\">anbPH</span><span class=\"p\">(</span><span class=\"n\">anbModbusAddress</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">modbusSerial</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">anbPower</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">alAdapterPower</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-1056\" name=\"l-1056\"></a><span class=\"linenos\">1056</span><span class=\"w\">            </span><span class=\"n\">al485EnablePin</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">anbNumberReadings</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1057\" name=\"l-1057\"></a><span class=\"linenos\">1057</span></div>\n<div class=\"line\"><a id=\"l-1058\" name=\"l-1058\"></a><span class=\"linenos\">1058</span><span class=\"c1\">// Create all of the variable pointers for the ANB pH sensor</span></div>\n<div class=\"line\"><a id=\"l-1059\" name=\"l-1059\"></a><span class=\"linenos\">1059</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">anbPHValue</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">ANBpH_pH</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">anbPH</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-1060\" name=\"l-1060\"></a><span class=\"linenos\">1060</span><span class=\"w\">                                    </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1061\" name=\"l-1061\"></a><span class=\"linenos\">1061</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">anbPHTemp</span><span class=\"w\">  </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">ANBpH_Temp</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">anbPH</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-1062\" name=\"l-1062\"></a><span class=\"linenos\">1062</span><span class=\"w\">                                      </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1063\" name=\"l-1063\"></a><span class=\"linenos\">1063</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">anbPHSal</span><span class=\"w\">   </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">ANBpH_Salinity</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">anbPH</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-1064\" name=\"l-1064\"></a><span class=\"linenos\">1064</span><span class=\"w\">                                          </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1065\" name=\"l-1065\"></a><span class=\"linenos\">1065</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">anbPHSpCond</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-1066\" name=\"l-1066\"></a><span class=\"linenos\">1066</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">ANBpH_SpCond</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">anbPH</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1067\" name=\"l-1067\"></a><span class=\"linenos\">1067</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">anbPHEC</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">ANBpH_EC</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">anbPH</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-1068\" name=\"l-1068\"></a><span class=\"linenos\">1068</span><span class=\"w\">                                 </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1069\" name=\"l-1069\"></a><span class=\"linenos\">1069</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">anbPHHealth</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-1070\" name=\"l-1070\"></a><span class=\"linenos\">1070</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">ANBpH_HealthCode</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">anbPH</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1071\" name=\"l-1071\"></a><span class=\"linenos\">1071</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">anbPHDiagnostic</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-1072\" name=\"l-1072\"></a><span class=\"linenos\">1072</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">ANBpH_DiagnosticCode</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">anbPH</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1073\" name=\"l-1073\"></a><span class=\"linenos\">1073</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">anbPHStatus</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-1074\" name=\"l-1074\"></a><span class=\"linenos\">1074</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">ANBpH_StatusCode</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">anbPH</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1075\" name=\"l-1075\"></a><span class=\"linenos\">1075</span><span class=\"cm\">/** End [anb_ph] */</span></div>\n<div class=\"line\"><a id=\"l-1076\" name=\"l-1076\"></a><span class=\"linenos\">1076</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-1077\" name=\"l-1077\"></a><span class=\"linenos\">1077</span></div>\n<div class=\"line\"><a id=\"l-1078\" name=\"l-1078\"></a><span class=\"linenos\">1078</span></div>\n<div class=\"line\"><a id=\"l-1079\" name=\"l-1079\"></a><span class=\"linenos\">1079</span><span class=\"cp\">#if defined(BUILD_SENSOR_AO_SONG_AM2315)</span></div>\n<div class=\"line\"><a id=\"l-1080\" name=\"l-1080\"></a><span class=\"linenos\">1080</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-1081\" name=\"l-1081\"></a><span class=\"linenos\">1081</span><span class=\"c1\">//  AOSong AM2315 Digital Humidity and Temperature Sensor</span></div>\n<div class=\"line\"><a id=\"l-1082\" name=\"l-1082\"></a><span class=\"linenos\">1082</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-1083\" name=\"l-1083\"></a><span class=\"linenos\">1083</span><span class=\"cm\">/** Start [ao_song_am2315] */</span></div>\n<div class=\"line\"><a id=\"l-1084\" name=\"l-1084\"></a><span class=\"linenos\">1084</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;sensors/AOSongAM2315.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-1085\" name=\"l-1085\"></a><span class=\"linenos\">1085</span></div>\n<div class=\"line\"><a id=\"l-1086\" name=\"l-1086\"></a><span class=\"linenos\">1086</span><span class=\"c1\">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span></div>\n<div class=\"line\"><a id=\"l-1087\" name=\"l-1087\"></a><span class=\"linenos\">1087</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">AM2315Power</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">sensorPowerPin</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Power pin</span></div>\n<div class=\"line\"><a id=\"l-1088\" name=\"l-1088\"></a><span class=\"linenos\">1088</span></div>\n<div class=\"line\"><a id=\"l-1089\" name=\"l-1089\"></a><span class=\"linenos\">1089</span><span class=\"c1\">// Create an AOSong AM2315 sensor object</span></div>\n<div class=\"line\"><a id=\"l-1090\" name=\"l-1090\"></a><span class=\"linenos\">1090</span><span class=\"n\">AOSongAM2315</span><span class=\"w\"> </span><span class=\"nf\">am2315</span><span class=\"p\">(</span><span class=\"n\">AM2315Power</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1091\" name=\"l-1091\"></a><span class=\"linenos\">1091</span></div>\n<div class=\"line\"><a id=\"l-1092\" name=\"l-1092\"></a><span class=\"linenos\">1092</span><span class=\"c1\">// Create humidity and temperature variable pointers for the AM2315</span></div>\n<div class=\"line\"><a id=\"l-1093\" name=\"l-1093\"></a><span class=\"linenos\">1093</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">am2315Humid</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-1094\" name=\"l-1094\"></a><span class=\"linenos\">1094</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">AOSongAM2315_Humidity</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">am2315</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1095\" name=\"l-1095\"></a><span class=\"linenos\">1095</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">am2315Temp</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-1096\" name=\"l-1096\"></a><span class=\"linenos\">1096</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">AOSongAM2315_Temp</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">am2315</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1097\" name=\"l-1097\"></a><span class=\"linenos\">1097</span><span class=\"cm\">/** End [ao_song_am2315] */</span></div>\n<div class=\"line\"><a id=\"l-1098\" name=\"l-1098\"></a><span class=\"linenos\">1098</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-1099\" name=\"l-1099\"></a><span class=\"linenos\">1099</span></div>\n<div class=\"line\"><a id=\"l-1100\" name=\"l-1100\"></a><span class=\"linenos\">1100</span></div>\n<div class=\"line\"><a id=\"l-1101\" name=\"l-1101\"></a><span class=\"linenos\">1101</span><span class=\"cp\">#if defined(BUILD_SENSOR_AO_SONG_DHT)</span></div>\n<div class=\"line\"><a id=\"l-1102\" name=\"l-1102\"></a><span class=\"linenos\">1102</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-1103\" name=\"l-1103\"></a><span class=\"linenos\">1103</span><span class=\"c1\">//  AOSong DHT 11/21 (AM2301)/22 (AM2302) Digital Humidity and Temperature</span></div>\n<div class=\"line\"><a id=\"l-1104\" name=\"l-1104\"></a><span class=\"linenos\">1104</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-1105\" name=\"l-1105\"></a><span class=\"linenos\">1105</span><span class=\"cm\">/** Start [ao_song_dht] */</span></div>\n<div class=\"line\"><a id=\"l-1106\" name=\"l-1106\"></a><span class=\"linenos\">1106</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;sensors/AOSongDHT.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-1107\" name=\"l-1107\"></a><span class=\"linenos\">1107</span></div>\n<div class=\"line\"><a id=\"l-1108\" name=\"l-1108\"></a><span class=\"linenos\">1108</span><span class=\"c1\">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span></div>\n<div class=\"line\"><a id=\"l-1109\" name=\"l-1109\"></a><span class=\"linenos\">1109</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">DHTPower</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">sensorPowerPin</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Power pin</span></div>\n<div class=\"line\"><a id=\"l-1110\" name=\"l-1110\"></a><span class=\"linenos\">1110</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">DHTPin</span><span class=\"w\">   </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">10</span><span class=\"p\">;</span><span class=\"w\">              </span><span class=\"c1\">// DHT data pin</span></div>\n<div class=\"line\"><a id=\"l-1111\" name=\"l-1111\"></a><span class=\"linenos\">1111</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">dhtType</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-1112\" name=\"l-1112\"></a><span class=\"linenos\">1112</span><span class=\"w\">    </span><span class=\"n\">DHT11</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// DHT type, one of DHT11, DHT12, DHT21, DHT22, or AM2301</span></div>\n<div class=\"line\"><a id=\"l-1113\" name=\"l-1113\"></a><span class=\"linenos\">1113</span></div>\n<div class=\"line\"><a id=\"l-1114\" name=\"l-1114\"></a><span class=\"linenos\">1114</span><span class=\"c1\">// Create an AOSong DHT sensor object</span></div>\n<div class=\"line\"><a id=\"l-1115\" name=\"l-1115\"></a><span class=\"linenos\">1115</span><span class=\"n\">AOSongDHT</span><span class=\"w\"> </span><span class=\"nf\">dht</span><span class=\"p\">(</span><span class=\"n\">DHTPower</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">DHTPin</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">dhtType</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1116\" name=\"l-1116\"></a><span class=\"linenos\">1116</span></div>\n<div class=\"line\"><a id=\"l-1117\" name=\"l-1117\"></a><span class=\"linenos\">1117</span><span class=\"c1\">// Create humidity, temperature, and heat index variable pointers for the DHT</span></div>\n<div class=\"line\"><a id=\"l-1118\" name=\"l-1118\"></a><span class=\"linenos\">1118</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">dhtHumid</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-1119\" name=\"l-1119\"></a><span class=\"linenos\">1119</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">AOSongDHT_Humidity</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">dht</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1120\" name=\"l-1120\"></a><span class=\"linenos\">1120</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">dhtTemp</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">AOSongDHT_Temp</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">dht</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-1121\" name=\"l-1121\"></a><span class=\"linenos\">1121</span><span class=\"w\">                                       </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1122\" name=\"l-1122\"></a><span class=\"linenos\">1122</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">dhtHI</span><span class=\"w\">   </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">AOSongDHT_HI</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">dht</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-1123\" name=\"l-1123\"></a><span class=\"linenos\">1123</span><span class=\"w\">                                     </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1124\" name=\"l-1124\"></a><span class=\"linenos\">1124</span><span class=\"cm\">/** End [ao_song_dht] */</span></div>\n<div class=\"line\"><a id=\"l-1125\" name=\"l-1125\"></a><span class=\"linenos\">1125</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-1126\" name=\"l-1126\"></a><span class=\"linenos\">1126</span></div>\n<div class=\"line\"><a id=\"l-1127\" name=\"l-1127\"></a><span class=\"linenos\">1127</span></div>\n<div class=\"line\"><a id=\"l-1128\" name=\"l-1128\"></a><span class=\"linenos\">1128</span><span class=\"cp\">#if defined(BUILD_SENSOR_APOGEE_SQ212)</span></div>\n<div class=\"line\"><a id=\"l-1129\" name=\"l-1129\"></a><span class=\"linenos\">1129</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-1130\" name=\"l-1130\"></a><span class=\"linenos\">1130</span><span class=\"c1\">//  Apogee SQ-212 Photosynthetically Active Radiation (PAR) Sensor</span></div>\n<div class=\"line\"><a id=\"l-1131\" name=\"l-1131\"></a><span class=\"linenos\">1131</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-1132\" name=\"l-1132\"></a><span class=\"linenos\">1132</span><span class=\"cm\">/** Start [apogee_sq212] */</span></div>\n<div class=\"line\"><a id=\"l-1133\" name=\"l-1133\"></a><span class=\"linenos\">1133</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;sensors/ApogeeSQ212.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-1134\" name=\"l-1134\"></a><span class=\"linenos\">1134</span></div>\n<div class=\"line\"><a id=\"l-1135\" name=\"l-1135\"></a><span class=\"linenos\">1135</span><span class=\"c1\">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span></div>\n<div class=\"line\"><a id=\"l-1136\" name=\"l-1136\"></a><span class=\"linenos\">1136</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">SQ212Power</span><span class=\"w\">       </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">sensorPowerPin</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Power pin</span></div>\n<div class=\"line\"><a id=\"l-1137\" name=\"l-1137\"></a><span class=\"linenos\">1137</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">SQ212ADSChannel</span><span class=\"w\">  </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"p\">;</span><span class=\"w\">     </span><span class=\"c1\">// The ADS channel for the SQ212</span></div>\n<div class=\"line\"><a id=\"l-1138\" name=\"l-1138\"></a><span class=\"linenos\">1138</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">uint8_t</span><span class=\"w\"> </span><span class=\"n\">SQ212ADSi2c_addr</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mh\">0x48</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// The I2C address of the ADS1115 ADC</span></div>\n<div class=\"line\"><a id=\"l-1139\" name=\"l-1139\"></a><span class=\"linenos\">1139</span></div>\n<div class=\"line\"><a id=\"l-1140\" name=\"l-1140\"></a><span class=\"linenos\">1140</span><span class=\"c1\">// Create an Apogee SQ212 sensor object</span></div>\n<div class=\"line\"><a id=\"l-1141\" name=\"l-1141\"></a><span class=\"linenos\">1141</span><span class=\"n\">ApogeeSQ212</span><span class=\"w\"> </span><span class=\"nf\">SQ212</span><span class=\"p\">(</span><span class=\"n\">SQ212Power</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">SQ212ADSChannel</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">SQ212ADSi2c_addr</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1142\" name=\"l-1142\"></a><span class=\"linenos\">1142</span></div>\n<div class=\"line\"><a id=\"l-1143\" name=\"l-1143\"></a><span class=\"linenos\">1143</span><span class=\"c1\">// Create PAR and raw voltage variable pointers for the SQ212</span></div>\n<div class=\"line\"><a id=\"l-1144\" name=\"l-1144\"></a><span class=\"linenos\">1144</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">sq212PAR</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-1145\" name=\"l-1145\"></a><span class=\"linenos\">1145</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">ApogeeSQ212_PAR</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">SQ212</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1146\" name=\"l-1146\"></a><span class=\"linenos\">1146</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">sq212voltage</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-1147\" name=\"l-1147\"></a><span class=\"linenos\">1147</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">ApogeeSQ212_Voltage</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">SQ212</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1148\" name=\"l-1148\"></a><span class=\"linenos\">1148</span><span class=\"cm\">/** End [apogee_sq212] */</span></div>\n<div class=\"line\"><a id=\"l-1149\" name=\"l-1149\"></a><span class=\"linenos\">1149</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-1150\" name=\"l-1150\"></a><span class=\"linenos\">1150</span></div>\n<div class=\"line\"><a id=\"l-1151\" name=\"l-1151\"></a><span class=\"linenos\">1151</span></div>\n<div class=\"line\"><a id=\"l-1152\" name=\"l-1152\"></a><span class=\"linenos\">1152</span><span class=\"cp\">#if defined(BUILD_SENSOR_ATLAS_SCIENTIFIC_CO2)</span></div>\n<div class=\"line\"><a id=\"l-1153\" name=\"l-1153\"></a><span class=\"linenos\">1153</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-1154\" name=\"l-1154\"></a><span class=\"linenos\">1154</span><span class=\"c1\">//  Atlas Scientific EZO-CO2 Embedded NDIR Carbon Dioxide Sensor</span></div>\n<div class=\"line\"><a id=\"l-1155\" name=\"l-1155\"></a><span class=\"linenos\">1155</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-1156\" name=\"l-1156\"></a><span class=\"linenos\">1156</span><span class=\"cm\">/** Start [atlas_scientific_co2] */</span></div>\n<div class=\"line\"><a id=\"l-1157\" name=\"l-1157\"></a><span class=\"linenos\">1157</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;sensors/AtlasScientificCO2.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-1158\" name=\"l-1158\"></a><span class=\"linenos\">1158</span></div>\n<div class=\"line\"><a id=\"l-1159\" name=\"l-1159\"></a><span class=\"linenos\">1159</span><span class=\"c1\">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span></div>\n<div class=\"line\"><a id=\"l-1160\" name=\"l-1160\"></a><span class=\"linenos\">1160</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">AtlasCO2Power</span><span class=\"w\">    </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">sensorPowerPin</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Power pin</span></div>\n<div class=\"line\"><a id=\"l-1161\" name=\"l-1161\"></a><span class=\"linenos\">1161</span><span class=\"kr\">uint8_t</span><span class=\"w\">      </span><span class=\"n\">AtlasCO2i2c_addr</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mh\">0x69</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Default for CO2-EZO is 0x69 (105)</span></div>\n<div class=\"line\"><a id=\"l-1162\" name=\"l-1162\"></a><span class=\"linenos\">1162</span><span class=\"c1\">// All Atlas sensors have different default I2C addresses, but any of them can</span></div>\n<div class=\"line\"><a id=\"l-1163\" name=\"l-1163\"></a><span class=\"linenos\">1163</span><span class=\"c1\">// be re-addressed to any 8 bit number.  If using the default address for any</span></div>\n<div class=\"line\"><a id=\"l-1164\" name=\"l-1164\"></a><span class=\"linenos\">1164</span><span class=\"c1\">// Atlas Scientific sensor, you may omit this argument.</span></div>\n<div class=\"line\"><a id=\"l-1165\" name=\"l-1165\"></a><span class=\"linenos\">1165</span></div>\n<div class=\"line\"><a id=\"l-1166\" name=\"l-1166\"></a><span class=\"linenos\">1166</span><span class=\"c1\">// Create an Atlas Scientific CO2 sensor object</span></div>\n<div class=\"line\"><a id=\"l-1167\" name=\"l-1167\"></a><span class=\"linenos\">1167</span><span class=\"c1\">// AtlasScientificCO2 atlasCO2(AtlasCO2Power, AtlasCO2i2c_addr);</span></div>\n<div class=\"line\"><a id=\"l-1168\" name=\"l-1168\"></a><span class=\"linenos\">1168</span><span class=\"n\">AtlasScientificCO2</span><span class=\"w\"> </span><span class=\"nf\">atlasCO2</span><span class=\"p\">(</span><span class=\"n\">AtlasCO2Power</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1169\" name=\"l-1169\"></a><span class=\"linenos\">1169</span></div>\n<div class=\"line\"><a id=\"l-1170\" name=\"l-1170\"></a><span class=\"linenos\">1170</span><span class=\"c1\">// Create concentration and temperature variable pointers for the EZO-CO2</span></div>\n<div class=\"line\"><a id=\"l-1171\" name=\"l-1171\"></a><span class=\"linenos\">1171</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">atlasCO2CO2</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">AtlasScientificCO2_CO2</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-1172\" name=\"l-1172\"></a><span class=\"linenos\">1172</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">atlasCO2</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1173\" name=\"l-1173\"></a><span class=\"linenos\">1173</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">atlasCO2Temp</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">AtlasScientificCO2_Temp</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-1174\" name=\"l-1174\"></a><span class=\"linenos\">1174</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">atlasCO2</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1175\" name=\"l-1175\"></a><span class=\"linenos\">1175</span><span class=\"cm\">/** End [atlas_scientific_co2] */</span></div>\n<div class=\"line\"><a id=\"l-1176\" name=\"l-1176\"></a><span class=\"linenos\">1176</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-1177\" name=\"l-1177\"></a><span class=\"linenos\">1177</span></div>\n<div class=\"line\"><a id=\"l-1178\" name=\"l-1178\"></a><span class=\"linenos\">1178</span></div>\n<div class=\"line\"><a id=\"l-1179\" name=\"l-1179\"></a><span class=\"linenos\">1179</span><span class=\"cp\">#if defined(BUILD_SENSOR_ATLAS_SCIENTIFIC_DO)</span></div>\n<div class=\"line\"><a id=\"l-1180\" name=\"l-1180\"></a><span class=\"linenos\">1180</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-1181\" name=\"l-1181\"></a><span class=\"linenos\">1181</span><span class=\"c1\">//  Atlas Scientific EZO-DO Dissolved Oxygen Sensor</span></div>\n<div class=\"line\"><a id=\"l-1182\" name=\"l-1182\"></a><span class=\"linenos\">1182</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-1183\" name=\"l-1183\"></a><span class=\"linenos\">1183</span><span class=\"cm\">/** Start [atlas_scientific_do] */</span></div>\n<div class=\"line\"><a id=\"l-1184\" name=\"l-1184\"></a><span class=\"linenos\">1184</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;sensors/AtlasScientificDO.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-1185\" name=\"l-1185\"></a><span class=\"linenos\">1185</span></div>\n<div class=\"line\"><a id=\"l-1186\" name=\"l-1186\"></a><span class=\"linenos\">1186</span><span class=\"c1\">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span></div>\n<div class=\"line\"><a id=\"l-1187\" name=\"l-1187\"></a><span class=\"linenos\">1187</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">AtlasDOPower</span><span class=\"w\">    </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">sensorPowerPin</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Power pin</span></div>\n<div class=\"line\"><a id=\"l-1188\" name=\"l-1188\"></a><span class=\"linenos\">1188</span><span class=\"kr\">uint8_t</span><span class=\"w\">      </span><span class=\"n\">AtlasDOi2c_addr</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mh\">0x61</span><span class=\"p\">;</span><span class=\"w\">            </span><span class=\"c1\">// Default for DO is 0x61 (97)</span></div>\n<div class=\"line\"><a id=\"l-1189\" name=\"l-1189\"></a><span class=\"linenos\">1189</span><span class=\"c1\">// All Atlas sensors have different default I2C addresses, but any of them can</span></div>\n<div class=\"line\"><a id=\"l-1190\" name=\"l-1190\"></a><span class=\"linenos\">1190</span><span class=\"c1\">// be re-addressed to any 8 bit number.  If using the default address for any</span></div>\n<div class=\"line\"><a id=\"l-1191\" name=\"l-1191\"></a><span class=\"linenos\">1191</span><span class=\"c1\">// Atlas Scientific sensor, you may omit this argument.</span></div>\n<div class=\"line\"><a id=\"l-1192\" name=\"l-1192\"></a><span class=\"linenos\">1192</span></div>\n<div class=\"line\"><a id=\"l-1193\" name=\"l-1193\"></a><span class=\"linenos\">1193</span><span class=\"c1\">// Create an Atlas Scientific DO sensor object</span></div>\n<div class=\"line\"><a id=\"l-1194\" name=\"l-1194\"></a><span class=\"linenos\">1194</span><span class=\"c1\">// AtlasScientificDO atlasDO(AtlasDOPower, AtlasDOi2c_addr);</span></div>\n<div class=\"line\"><a id=\"l-1195\" name=\"l-1195\"></a><span class=\"linenos\">1195</span><span class=\"n\">AtlasScientificDO</span><span class=\"w\"> </span><span class=\"nf\">atlasDO</span><span class=\"p\">(</span><span class=\"n\">AtlasDOPower</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1196\" name=\"l-1196\"></a><span class=\"linenos\">1196</span></div>\n<div class=\"line\"><a id=\"l-1197\" name=\"l-1197\"></a><span class=\"linenos\">1197</span><span class=\"c1\">// Create concentration and percent saturation variable pointers for the EZO-DO</span></div>\n<div class=\"line\"><a id=\"l-1198\" name=\"l-1198\"></a><span class=\"linenos\">1198</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">atlasDOconc</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">AtlasScientificDO_DOmgL</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-1199\" name=\"l-1199\"></a><span class=\"linenos\">1199</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">atlasDO</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1200\" name=\"l-1200\"></a><span class=\"linenos\">1200</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">atlasDOpct</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">AtlasScientificDO_DOpct</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-1201\" name=\"l-1201\"></a><span class=\"linenos\">1201</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">atlasDO</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1202\" name=\"l-1202\"></a><span class=\"linenos\">1202</span><span class=\"cm\">/** End [atlas_scientific_do] */</span></div>\n<div class=\"line\"><a id=\"l-1203\" name=\"l-1203\"></a><span class=\"linenos\">1203</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-1204\" name=\"l-1204\"></a><span class=\"linenos\">1204</span></div>\n<div class=\"line\"><a id=\"l-1205\" name=\"l-1205\"></a><span class=\"linenos\">1205</span></div>\n<div class=\"line\"><a id=\"l-1206\" name=\"l-1206\"></a><span class=\"linenos\">1206</span><span class=\"cp\">#if defined(BUILD_SENSOR_ATLAS_SCIENTIFIC_ORP)</span></div>\n<div class=\"line\"><a id=\"l-1207\" name=\"l-1207\"></a><span class=\"linenos\">1207</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-1208\" name=\"l-1208\"></a><span class=\"linenos\">1208</span><span class=\"c1\">//  Atlas Scientific EZO-ORP Oxidation/Reduction Potential Sensor</span></div>\n<div class=\"line\"><a id=\"l-1209\" name=\"l-1209\"></a><span class=\"linenos\">1209</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-1210\" name=\"l-1210\"></a><span class=\"linenos\">1210</span><span class=\"cm\">/** Start [atlas_scientific_orp] */</span></div>\n<div class=\"line\"><a id=\"l-1211\" name=\"l-1211\"></a><span class=\"linenos\">1211</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;sensors/AtlasScientificORP.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-1212\" name=\"l-1212\"></a><span class=\"linenos\">1212</span></div>\n<div class=\"line\"><a id=\"l-1213\" name=\"l-1213\"></a><span class=\"linenos\">1213</span><span class=\"c1\">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span></div>\n<div class=\"line\"><a id=\"l-1214\" name=\"l-1214\"></a><span class=\"linenos\">1214</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">AtlasORPPower</span><span class=\"w\">    </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">sensorPowerPin</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Power pin</span></div>\n<div class=\"line\"><a id=\"l-1215\" name=\"l-1215\"></a><span class=\"linenos\">1215</span><span class=\"kr\">uint8_t</span><span class=\"w\">      </span><span class=\"n\">AtlasORPi2c_addr</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mh\">0x62</span><span class=\"p\">;</span><span class=\"w\">            </span><span class=\"c1\">// Default for ORP is 0x62 (98)</span></div>\n<div class=\"line\"><a id=\"l-1216\" name=\"l-1216\"></a><span class=\"linenos\">1216</span><span class=\"c1\">// All Atlas sensors have different default I2C addresses, but any of them can</span></div>\n<div class=\"line\"><a id=\"l-1217\" name=\"l-1217\"></a><span class=\"linenos\">1217</span><span class=\"c1\">// be re-addressed to any 8 bit number.  If using the default address for any</span></div>\n<div class=\"line\"><a id=\"l-1218\" name=\"l-1218\"></a><span class=\"linenos\">1218</span><span class=\"c1\">// Atlas Scientific sensor, you may omit this argument.</span></div>\n<div class=\"line\"><a id=\"l-1219\" name=\"l-1219\"></a><span class=\"linenos\">1219</span></div>\n<div class=\"line\"><a id=\"l-1220\" name=\"l-1220\"></a><span class=\"linenos\">1220</span><span class=\"c1\">// Create an Atlas Scientific ORP sensor object</span></div>\n<div class=\"line\"><a id=\"l-1221\" name=\"l-1221\"></a><span class=\"linenos\">1221</span><span class=\"c1\">// AtlasScientificORP atlasORP(AtlasORPPower, AtlasORPi2c_addr);</span></div>\n<div class=\"line\"><a id=\"l-1222\" name=\"l-1222\"></a><span class=\"linenos\">1222</span><span class=\"n\">AtlasScientificORP</span><span class=\"w\"> </span><span class=\"nf\">atlasORP</span><span class=\"p\">(</span><span class=\"n\">AtlasORPPower</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1223\" name=\"l-1223\"></a><span class=\"linenos\">1223</span></div>\n<div class=\"line\"><a id=\"l-1224\" name=\"l-1224\"></a><span class=\"linenos\">1224</span><span class=\"c1\">// Create a potential variable pointer for the ORP</span></div>\n<div class=\"line\"><a id=\"l-1225\" name=\"l-1225\"></a><span class=\"linenos\">1225</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">atlasORPot</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">AtlasScientificORP_Potential</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-1226\" name=\"l-1226\"></a><span class=\"linenos\">1226</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">atlasORP</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1227\" name=\"l-1227\"></a><span class=\"linenos\">1227</span><span class=\"cm\">/** End [atlas_scientific_orp] */</span></div>\n<div class=\"line\"><a id=\"l-1228\" name=\"l-1228\"></a><span class=\"linenos\">1228</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-1229\" name=\"l-1229\"></a><span class=\"linenos\">1229</span></div>\n<div class=\"line\"><a id=\"l-1230\" name=\"l-1230\"></a><span class=\"linenos\">1230</span></div>\n<div class=\"line\"><a id=\"l-1231\" name=\"l-1231\"></a><span class=\"linenos\">1231</span><span class=\"cp\">#if defined(BUILD_SENSOR_ATLAS_SCIENTIFIC_PH)</span></div>\n<div class=\"line\"><a id=\"l-1232\" name=\"l-1232\"></a><span class=\"linenos\">1232</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-1233\" name=\"l-1233\"></a><span class=\"linenos\">1233</span><span class=\"c1\">//  Atlas Scientific EZO-pH Sensor</span></div>\n<div class=\"line\"><a id=\"l-1234\" name=\"l-1234\"></a><span class=\"linenos\">1234</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-1235\" name=\"l-1235\"></a><span class=\"linenos\">1235</span><span class=\"cm\">/** Start [atlas_scientific_ph] */</span></div>\n<div class=\"line\"><a id=\"l-1236\" name=\"l-1236\"></a><span class=\"linenos\">1236</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;sensors/AtlasScientificpH.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-1237\" name=\"l-1237\"></a><span class=\"linenos\">1237</span></div>\n<div class=\"line\"><a id=\"l-1238\" name=\"l-1238\"></a><span class=\"linenos\">1238</span><span class=\"c1\">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span></div>\n<div class=\"line\"><a id=\"l-1239\" name=\"l-1239\"></a><span class=\"linenos\">1239</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">AtlaspHPower</span><span class=\"w\">    </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">sensorPowerPin</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Power pin</span></div>\n<div class=\"line\"><a id=\"l-1240\" name=\"l-1240\"></a><span class=\"linenos\">1240</span><span class=\"kr\">uint8_t</span><span class=\"w\">      </span><span class=\"n\">AtlaspHi2c_addr</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mh\">0x63</span><span class=\"p\">;</span><span class=\"w\">            </span><span class=\"c1\">// Default for pH is 0x63 (99)</span></div>\n<div class=\"line\"><a id=\"l-1241\" name=\"l-1241\"></a><span class=\"linenos\">1241</span><span class=\"c1\">// All Atlas sensors have different default I2C addresses, but any of them can</span></div>\n<div class=\"line\"><a id=\"l-1242\" name=\"l-1242\"></a><span class=\"linenos\">1242</span><span class=\"c1\">// be re-addressed to any 8 bit number.  If using the default address for any</span></div>\n<div class=\"line\"><a id=\"l-1243\" name=\"l-1243\"></a><span class=\"linenos\">1243</span><span class=\"c1\">// Atlas Scientific sensor, you may omit this argument.</span></div>\n<div class=\"line\"><a id=\"l-1244\" name=\"l-1244\"></a><span class=\"linenos\">1244</span></div>\n<div class=\"line\"><a id=\"l-1245\" name=\"l-1245\"></a><span class=\"linenos\">1245</span><span class=\"c1\">// Create an Atlas Scientific pH sensor object</span></div>\n<div class=\"line\"><a id=\"l-1246\" name=\"l-1246\"></a><span class=\"linenos\">1246</span><span class=\"c1\">// AtlasScientificpH atlaspH(AtlaspHPower, AtlaspHi2c_addr);</span></div>\n<div class=\"line\"><a id=\"l-1247\" name=\"l-1247\"></a><span class=\"linenos\">1247</span><span class=\"n\">AtlasScientificpH</span><span class=\"w\"> </span><span class=\"nf\">atlaspH</span><span class=\"p\">(</span><span class=\"n\">AtlaspHPower</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1248\" name=\"l-1248\"></a><span class=\"linenos\">1248</span></div>\n<div class=\"line\"><a id=\"l-1249\" name=\"l-1249\"></a><span class=\"linenos\">1249</span><span class=\"c1\">// Create a pH variable pointer for the pH sensor</span></div>\n<div class=\"line\"><a id=\"l-1250\" name=\"l-1250\"></a><span class=\"linenos\">1250</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">atlaspHpH</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-1251\" name=\"l-1251\"></a><span class=\"linenos\">1251</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">AtlasScientificpH_pH</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">atlaspH</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1252\" name=\"l-1252\"></a><span class=\"linenos\">1252</span><span class=\"cm\">/** End [atlas_scientific_ph] */</span></div>\n<div class=\"line\"><a id=\"l-1253\" name=\"l-1253\"></a><span class=\"linenos\">1253</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-1254\" name=\"l-1254\"></a><span class=\"linenos\">1254</span></div>\n<div class=\"line\"><a id=\"l-1255\" name=\"l-1255\"></a><span class=\"linenos\">1255</span></div>\n<div class=\"line\"><a id=\"l-1256\" name=\"l-1256\"></a><span class=\"linenos\">1256</span><span class=\"cp\">#if defined(BUILD_SENSOR_ATLAS_SCIENTIFIC_RTD) || \\</span></div>\n<div class=\"line\"><a id=\"l-1257\" name=\"l-1257\"></a><span class=\"linenos\">1257</span><span class=\"cp\">    defined(BUILD_SENSOR_ATLAS_SCIENTIFIC_EC)</span></div>\n<div class=\"line\"><a id=\"l-1258\" name=\"l-1258\"></a><span class=\"linenos\">1258</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-1259\" name=\"l-1259\"></a><span class=\"linenos\">1259</span><span class=\"c1\">//  Atlas Scientific EZO-RTD Temperature Sensor</span></div>\n<div class=\"line\"><a id=\"l-1260\" name=\"l-1260\"></a><span class=\"linenos\">1260</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-1261\" name=\"l-1261\"></a><span class=\"linenos\">1261</span><span class=\"cm\">/** Start [atlas_scientific_rtd] */</span></div>\n<div class=\"line\"><a id=\"l-1262\" name=\"l-1262\"></a><span class=\"linenos\">1262</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;sensors/AtlasScientificRTD.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-1263\" name=\"l-1263\"></a><span class=\"linenos\">1263</span></div>\n<div class=\"line\"><a id=\"l-1264\" name=\"l-1264\"></a><span class=\"linenos\">1264</span><span class=\"c1\">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span></div>\n<div class=\"line\"><a id=\"l-1265\" name=\"l-1265\"></a><span class=\"linenos\">1265</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">AtlasRTDPower</span><span class=\"w\">    </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">sensorPowerPin</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Power pin</span></div>\n<div class=\"line\"><a id=\"l-1266\" name=\"l-1266\"></a><span class=\"linenos\">1266</span><span class=\"kr\">uint8_t</span><span class=\"w\">      </span><span class=\"n\">AtlasRTDi2c_addr</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mh\">0x66</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Default for RTD is 0x66 (102)</span></div>\n<div class=\"line\"><a id=\"l-1267\" name=\"l-1267\"></a><span class=\"linenos\">1267</span><span class=\"c1\">// All Atlas sensors have different default I2C addresses, but any of them can</span></div>\n<div class=\"line\"><a id=\"l-1268\" name=\"l-1268\"></a><span class=\"linenos\">1268</span><span class=\"c1\">// be re-addressed to any 8 bit number.  If using the default address for any</span></div>\n<div class=\"line\"><a id=\"l-1269\" name=\"l-1269\"></a><span class=\"linenos\">1269</span><span class=\"c1\">// Atlas Scientific sensor, you may omit this argument.</span></div>\n<div class=\"line\"><a id=\"l-1270\" name=\"l-1270\"></a><span class=\"linenos\">1270</span></div>\n<div class=\"line\"><a id=\"l-1271\" name=\"l-1271\"></a><span class=\"linenos\">1271</span><span class=\"c1\">// Create an Atlas Scientific RTD sensor object</span></div>\n<div class=\"line\"><a id=\"l-1272\" name=\"l-1272\"></a><span class=\"linenos\">1272</span><span class=\"c1\">// AtlasScientificRTD atlasRTD(AtlasRTDPower, AtlasRTDi2c_addr);</span></div>\n<div class=\"line\"><a id=\"l-1273\" name=\"l-1273\"></a><span class=\"linenos\">1273</span><span class=\"n\">AtlasScientificRTD</span><span class=\"w\"> </span><span class=\"nf\">atlasRTD</span><span class=\"p\">(</span><span class=\"n\">AtlasRTDPower</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1274\" name=\"l-1274\"></a><span class=\"linenos\">1274</span></div>\n<div class=\"line\"><a id=\"l-1275\" name=\"l-1275\"></a><span class=\"linenos\">1275</span><span class=\"c1\">// Create a temperature variable pointer for the RTD</span></div>\n<div class=\"line\"><a id=\"l-1276\" name=\"l-1276\"></a><span class=\"linenos\">1276</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">atlasTemp</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">AtlasScientificRTD_Temp</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-1277\" name=\"l-1277\"></a><span class=\"linenos\">1277</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">atlasRTD</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1278\" name=\"l-1278\"></a><span class=\"linenos\">1278</span><span class=\"cm\">/** End [atlas_scientific_rtd] */</span></div>\n<div class=\"line\"><a id=\"l-1279\" name=\"l-1279\"></a><span class=\"linenos\">1279</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-1280\" name=\"l-1280\"></a><span class=\"linenos\">1280</span></div>\n<div class=\"line\"><a id=\"l-1281\" name=\"l-1281\"></a><span class=\"linenos\">1281</span></div>\n<div class=\"line\"><a id=\"l-1282\" name=\"l-1282\"></a><span class=\"linenos\">1282</span><span class=\"cp\">#if defined(BUILD_SENSOR_ATLAS_SCIENTIFIC_EC)</span></div>\n<div class=\"line\"><a id=\"l-1283\" name=\"l-1283\"></a><span class=\"linenos\">1283</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-1284\" name=\"l-1284\"></a><span class=\"linenos\">1284</span><span class=\"c1\">//  Atlas Scientific EZO-EC Conductivity Sensor</span></div>\n<div class=\"line\"><a id=\"l-1285\" name=\"l-1285\"></a><span class=\"linenos\">1285</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-1286\" name=\"l-1286\"></a><span class=\"linenos\">1286</span><span class=\"cm\">/** Start [atlas_scientific_ec] */</span></div>\n<div class=\"line\"><a id=\"l-1287\" name=\"l-1287\"></a><span class=\"linenos\">1287</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;sensors/AtlasScientificEC.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-1288\" name=\"l-1288\"></a><span class=\"linenos\">1288</span></div>\n<div class=\"line\"><a id=\"l-1289\" name=\"l-1289\"></a><span class=\"linenos\">1289</span><span class=\"c1\">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span></div>\n<div class=\"line\"><a id=\"l-1290\" name=\"l-1290\"></a><span class=\"linenos\">1290</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">AtlasECPower</span><span class=\"w\">    </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">sensorPowerPin</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Power pin</span></div>\n<div class=\"line\"><a id=\"l-1291\" name=\"l-1291\"></a><span class=\"linenos\">1291</span><span class=\"kr\">uint8_t</span><span class=\"w\">      </span><span class=\"n\">AtlasECi2c_addr</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mh\">0x64</span><span class=\"p\">;</span><span class=\"w\">            </span><span class=\"c1\">// Default for EC is 0x64 (100)</span></div>\n<div class=\"line\"><a id=\"l-1292\" name=\"l-1292\"></a><span class=\"linenos\">1292</span><span class=\"c1\">// All Atlas sensors have different default I2C addresses, but any of them can</span></div>\n<div class=\"line\"><a id=\"l-1293\" name=\"l-1293\"></a><span class=\"linenos\">1293</span><span class=\"c1\">// be re-addressed to any 8 bit number.  If using the default address for any</span></div>\n<div class=\"line\"><a id=\"l-1294\" name=\"l-1294\"></a><span class=\"linenos\">1294</span><span class=\"c1\">// Atlas Scientific sensor, you may omit this argument.</span></div>\n<div class=\"line\"><a id=\"l-1295\" name=\"l-1295\"></a><span class=\"linenos\">1295</span></div>\n<div class=\"line\"><a id=\"l-1296\" name=\"l-1296\"></a><span class=\"linenos\">1296</span><span class=\"c1\">// Create an Atlas Scientific Conductivity sensor object</span></div>\n<div class=\"line\"><a id=\"l-1297\" name=\"l-1297\"></a><span class=\"linenos\">1297</span><span class=\"c1\">// AtlasScientificEC atlasEC(AtlasECPower, AtlasECi2c_addr);</span></div>\n<div class=\"line\"><a id=\"l-1298\" name=\"l-1298\"></a><span class=\"linenos\">1298</span><span class=\"n\">AtlasScientificEC</span><span class=\"w\"> </span><span class=\"nf\">atlasEC</span><span class=\"p\">(</span><span class=\"n\">AtlasECPower</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1299\" name=\"l-1299\"></a><span class=\"linenos\">1299</span></div>\n<div class=\"line\"><a id=\"l-1300\" name=\"l-1300\"></a><span class=\"linenos\">1300</span><span class=\"c1\">// Create four variable pointers for the EZO-ES</span></div>\n<div class=\"line\"><a id=\"l-1301\" name=\"l-1301\"></a><span class=\"linenos\">1301</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">atlasCond</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">AtlasScientificEC_Cond</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-1302\" name=\"l-1302\"></a><span class=\"linenos\">1302</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">atlasEC</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1303\" name=\"l-1303\"></a><span class=\"linenos\">1303</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">atlasTDS</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-1304\" name=\"l-1304\"></a><span class=\"linenos\">1304</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">AtlasScientificEC_TDS</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">atlasEC</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1305\" name=\"l-1305\"></a><span class=\"linenos\">1305</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">atlasSal</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">AtlasScientificEC_Salinity</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-1306\" name=\"l-1306\"></a><span class=\"linenos\">1306</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">atlasEC</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1307\" name=\"l-1307\"></a><span class=\"linenos\">1307</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">atlasGrav</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">AtlasScientificEC_SpecificGravity</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-1308\" name=\"l-1308\"></a><span class=\"linenos\">1308</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">atlasEC</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1309\" name=\"l-1309\"></a><span class=\"linenos\">1309</span></div>\n<div class=\"line\"><a id=\"l-1310\" name=\"l-1310\"></a><span class=\"linenos\">1310</span><span class=\"c1\">// Create a calculated variable for the temperature compensated conductivity</span></div>\n<div class=\"line\"><a id=\"l-1311\" name=\"l-1311\"></a><span class=\"linenos\">1311</span><span class=\"c1\">// (that is, the specific conductance).  For this example, we will use the</span></div>\n<div class=\"line\"><a id=\"l-1312\" name=\"l-1312\"></a><span class=\"linenos\">1312</span><span class=\"c1\">// temperature measured by the Atlas RTD above this.  You could use the</span></div>\n<div class=\"line\"><a id=\"l-1313\" name=\"l-1313\"></a><span class=\"linenos\">1313</span><span class=\"c1\">// temperature returned by any other water temperature sensor if desired.</span></div>\n<div class=\"line\"><a id=\"l-1314\" name=\"l-1314\"></a><span class=\"linenos\">1314</span><span class=\"c1\">// **DO NOT** use your logger board temperature (ie, from the DS3231) to</span></div>\n<div class=\"line\"><a id=\"l-1315\" name=\"l-1315\"></a><span class=\"linenos\">1315</span><span class=\"c1\">// calculate specific conductance!</span></div>\n<div class=\"line\"><a id=\"l-1316\" name=\"l-1316\"></a><span class=\"linenos\">1316</span><span class=\"kr\">float</span><span class=\"w\"> </span><span class=\"nf\">calculateAtlasSpCond</span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"p\">{</span></div>\n<div class=\"line\"><a id=\"l-1317\" name=\"l-1317\"></a><span class=\"linenos\">1317</span><span class=\"w\">    </span><span class=\"kr\">float</span><span class=\"w\"> </span><span class=\"n\">spCond</span><span class=\"w\">    </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">-9999</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Always safest to start with a bad value</span></div>\n<div class=\"line\"><a id=\"l-1318\" name=\"l-1318\"></a><span class=\"linenos\">1318</span><span class=\"w\">    </span><span class=\"kr\">float</span><span class=\"w\"> </span><span class=\"n\">waterTemp</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">atlasTemp</span><span class=\"o\">-&gt;</span><span class=\"n\">getValue</span><span class=\"p\">();</span></div>\n<div class=\"line\"><a id=\"l-1319\" name=\"l-1319\"></a><span class=\"linenos\">1319</span><span class=\"w\">    </span><span class=\"kr\">float</span><span class=\"w\"> </span><span class=\"n\">rawCond</span><span class=\"w\">   </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">atlasCond</span><span class=\"o\">-&gt;</span><span class=\"n\">getValue</span><span class=\"p\">();</span></div>\n<div class=\"line\"><a id=\"l-1320\" name=\"l-1320\"></a><span class=\"linenos\">1320</span><span class=\"w\">    </span><span class=\"c1\">// ^^ Linearized temperature correction coefficient per degrees Celsius.</span></div>\n<div class=\"line\"><a id=\"l-1321\" name=\"l-1321\"></a><span class=\"linenos\">1321</span><span class=\"w\">    </span><span class=\"c1\">// The value of 0.019 comes from measurements reported here:</span></div>\n<div class=\"line\"><a id=\"l-1322\" name=\"l-1322\"></a><span class=\"linenos\">1322</span><span class=\"w\">    </span><span class=\"c1\">// Hayashi M. Temperature-electrical conductivity relation of water for</span></div>\n<div class=\"line\"><a id=\"l-1323\" name=\"l-1323\"></a><span class=\"linenos\">1323</span><span class=\"w\">    </span><span class=\"c1\">// environmental monitoring and geophysical data inversion. Environ Monit</span></div>\n<div class=\"line\"><a id=\"l-1324\" name=\"l-1324\"></a><span class=\"linenos\">1324</span><span class=\"w\">    </span><span class=\"c1\">// Assess. 2004 Aug-Sep;96(1-3):119-28.</span></div>\n<div class=\"line\"><a id=\"l-1325\" name=\"l-1325\"></a><span class=\"linenos\">1325</span><span class=\"w\">    </span><span class=\"c1\">// doi: 10.1023/b:emas.0000031719.83065.68. PMID: 15327152.</span></div>\n<div class=\"line\"><a id=\"l-1326\" name=\"l-1326\"></a><span class=\"linenos\">1326</span><span class=\"w\">    </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">waterTemp</span><span class=\"w\"> </span><span class=\"o\">!=</span><span class=\"w\"> </span><span class=\"mi\">-9999</span><span class=\"w\"> </span><span class=\"o\">&amp;&amp;</span><span class=\"w\"> </span><span class=\"n\">rawCond</span><span class=\"w\"> </span><span class=\"o\">!=</span><span class=\"w\"> </span><span class=\"mi\">-9999</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">{</span></div>\n<div class=\"line\"><a id=\"l-1327\" name=\"l-1327\"></a><span class=\"linenos\">1327</span><span class=\"w\">        </span><span class=\"c1\">// make sure both inputs are good</span></div>\n<div class=\"line\"><a id=\"l-1328\" name=\"l-1328\"></a><span class=\"linenos\">1328</span><span class=\"w\">        </span><span class=\"kr\">float</span><span class=\"w\"> </span><span class=\"n\">temperatureCoef</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mf\">0.019</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-1329\" name=\"l-1329\"></a><span class=\"linenos\">1329</span><span class=\"w\">        </span><span class=\"n\">spCond</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">rawCond</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"n\">temperatureCoef</span><span class=\"w\"> </span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">waterTemp</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"mf\">25.0</span><span class=\"p\">));</span></div>\n<div class=\"line\"><a id=\"l-1330\" name=\"l-1330\"></a><span class=\"linenos\">1330</span><span class=\"w\">    </span><span class=\"p\">}</span></div>\n<div class=\"line\"><a id=\"l-1331\" name=\"l-1331\"></a><span class=\"linenos\">1331</span><span class=\"w\">    </span><span class=\"k\">return</span><span class=\"w\"> </span><span class=\"n\">spCond</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-1332\" name=\"l-1332\"></a><span class=\"linenos\">1332</span><span class=\"p\">}</span></div>\n<div class=\"line\"><a id=\"l-1333\" name=\"l-1333\"></a><span class=\"linenos\">1333</span></div>\n<div class=\"line\"><a id=\"l-1334\" name=\"l-1334\"></a><span class=\"linenos\">1334</span><span class=\"c1\">// Properties of the calculated variable</span></div>\n<div class=\"line\"><a id=\"l-1335\" name=\"l-1335\"></a><span class=\"linenos\">1335</span><span class=\"c1\">// The number of digits after the decimal place</span></div>\n<div class=\"line\"><a id=\"l-1336\" name=\"l-1336\"></a><span class=\"linenos\">1336</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">uint8_t</span><span class=\"w\"> </span><span class=\"n\">atlasSpCondResolution</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-1337\" name=\"l-1337\"></a><span class=\"linenos\">1337</span><span class=\"c1\">// This must be a value from http://vocabulary.odm2.org/variablename/</span></div>\n<div class=\"line\"><a id=\"l-1338\" name=\"l-1338\"></a><span class=\"linenos\">1338</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">atlasSpCondName</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s\">&quot;specificConductance&quot;</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-1339\" name=\"l-1339\"></a><span class=\"linenos\">1339</span><span class=\"c1\">// This must be a value from http://vocabulary.odm2.org/units/</span></div>\n<div class=\"line\"><a id=\"l-1340\" name=\"l-1340\"></a><span class=\"linenos\">1340</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">atlasSpCondUnit</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s\">&quot;microsiemenPerCentimeter&quot;</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-1341\" name=\"l-1341\"></a><span class=\"linenos\">1341</span><span class=\"c1\">// A short code for the variable</span></div>\n<div class=\"line\"><a id=\"l-1342\" name=\"l-1342\"></a><span class=\"linenos\">1342</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">atlasSpCondCode</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s\">&quot;atlasSpCond&quot;</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-1343\" name=\"l-1343\"></a><span class=\"linenos\">1343</span><span class=\"c1\">// The (optional) universally unique identifier</span></div>\n<div class=\"line\"><a id=\"l-1344\" name=\"l-1344\"></a><span class=\"linenos\">1344</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">atlasSpCondUUID</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-1345\" name=\"l-1345\"></a><span class=\"linenos\">1345</span></div>\n<div class=\"line\"><a id=\"l-1346\" name=\"l-1346\"></a><span class=\"linenos\">1346</span><span class=\"c1\">// Finally, create the specific conductance variable and return a pointer to it</span></div>\n<div class=\"line\"><a id=\"l-1347\" name=\"l-1347\"></a><span class=\"linenos\">1347</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">atlasSpCond</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-1348\" name=\"l-1348\"></a><span class=\"linenos\">1348</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">Variable</span><span class=\"p\">(</span><span class=\"n\">calculateAtlasSpCond</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">atlasSpCondResolution</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">atlasSpCondName</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-1349\" name=\"l-1349\"></a><span class=\"linenos\">1349</span><span class=\"w\">                 </span><span class=\"n\">atlasSpCondUnit</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">atlasSpCondCode</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">atlasSpCondUUID</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1350\" name=\"l-1350\"></a><span class=\"linenos\">1350</span><span class=\"cm\">/** End [atlas_scientific_ec] */</span></div>\n<div class=\"line\"><a id=\"l-1351\" name=\"l-1351\"></a><span class=\"linenos\">1351</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-1352\" name=\"l-1352\"></a><span class=\"linenos\">1352</span></div>\n<div class=\"line\"><a id=\"l-1353\" name=\"l-1353\"></a><span class=\"linenos\">1353</span></div>\n<div class=\"line\"><a id=\"l-1354\" name=\"l-1354\"></a><span class=\"linenos\">1354</span><span class=\"cp\">#if defined(BUILD_SENSOR_BOSCH_BME280)</span></div>\n<div class=\"line\"><a id=\"l-1355\" name=\"l-1355\"></a><span class=\"linenos\">1355</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-1356\" name=\"l-1356\"></a><span class=\"linenos\">1356</span><span class=\"c1\">//  Bosch BME280 Environmental Sensor</span></div>\n<div class=\"line\"><a id=\"l-1357\" name=\"l-1357\"></a><span class=\"linenos\">1357</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-1358\" name=\"l-1358\"></a><span class=\"linenos\">1358</span><span class=\"cm\">/** Start [bosch_bme280] */</span></div>\n<div class=\"line\"><a id=\"l-1359\" name=\"l-1359\"></a><span class=\"linenos\">1359</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;sensors/BoschBME280.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-1360\" name=\"l-1360\"></a><span class=\"linenos\">1360</span></div>\n<div class=\"line\"><a id=\"l-1361\" name=\"l-1361\"></a><span class=\"linenos\">1361</span><span class=\"c1\">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span></div>\n<div class=\"line\"><a id=\"l-1362\" name=\"l-1362\"></a><span class=\"linenos\">1362</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">BME280Power</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">sensorPowerPin</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Power pin</span></div>\n<div class=\"line\"><a id=\"l-1363\" name=\"l-1363\"></a><span class=\"linenos\">1363</span><span class=\"kr\">uint8_t</span><span class=\"w\">      </span><span class=\"n\">BMEi2c_addr</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mh\">0x76</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-1364\" name=\"l-1364\"></a><span class=\"linenos\">1364</span><span class=\"c1\">// The BME280 can be addressed either as 0x77 (Adafruit default) or 0x76 (Grove</span></div>\n<div class=\"line\"><a id=\"l-1365\" name=\"l-1365\"></a><span class=\"linenos\">1365</span><span class=\"c1\">// default) Either can be physically modified for the other address</span></div>\n<div class=\"line\"><a id=\"l-1366\" name=\"l-1366\"></a><span class=\"linenos\">1366</span></div>\n<div class=\"line\"><a id=\"l-1367\" name=\"l-1367\"></a><span class=\"linenos\">1367</span><span class=\"c1\">// Create a Bosch BME280 sensor object</span></div>\n<div class=\"line\"><a id=\"l-1368\" name=\"l-1368\"></a><span class=\"linenos\">1368</span><span class=\"n\">BoschBME280</span><span class=\"w\"> </span><span class=\"nf\">bme280</span><span class=\"p\">(</span><span class=\"n\">BME280Power</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">BMEi2c_addr</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1369\" name=\"l-1369\"></a><span class=\"linenos\">1369</span></div>\n<div class=\"line\"><a id=\"l-1370\" name=\"l-1370\"></a><span class=\"linenos\">1370</span><span class=\"c1\">// Create four variable pointers for the BME280</span></div>\n<div class=\"line\"><a id=\"l-1371\" name=\"l-1371\"></a><span class=\"linenos\">1371</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">bme280Humid</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-1372\" name=\"l-1372\"></a><span class=\"linenos\">1372</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">BoschBME280_Humidity</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">bme280</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1373\" name=\"l-1373\"></a><span class=\"linenos\">1373</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">bme280Temp</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-1374\" name=\"l-1374\"></a><span class=\"linenos\">1374</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">BoschBME280_Temp</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">bme280</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1375\" name=\"l-1375\"></a><span class=\"linenos\">1375</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">bme280Press</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-1376\" name=\"l-1376\"></a><span class=\"linenos\">1376</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">BoschBME280_Pressure</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">bme280</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1377\" name=\"l-1377\"></a><span class=\"linenos\">1377</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">bme280Alt</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-1378\" name=\"l-1378\"></a><span class=\"linenos\">1378</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">BoschBME280_Altitude</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">bme280</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1379\" name=\"l-1379\"></a><span class=\"linenos\">1379</span><span class=\"cm\">/** End [bosch_bme280] */</span></div>\n<div class=\"line\"><a id=\"l-1380\" name=\"l-1380\"></a><span class=\"linenos\">1380</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-1381\" name=\"l-1381\"></a><span class=\"linenos\">1381</span></div>\n<div class=\"line\"><a id=\"l-1382\" name=\"l-1382\"></a><span class=\"linenos\">1382</span></div>\n<div class=\"line\"><a id=\"l-1383\" name=\"l-1383\"></a><span class=\"linenos\">1383</span><span class=\"cp\">#if defined(BUILD_SENSOR_BOSCH_BMP3XX)</span></div>\n<div class=\"line\"><a id=\"l-1384\" name=\"l-1384\"></a><span class=\"linenos\">1384</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-1385\" name=\"l-1385\"></a><span class=\"linenos\">1385</span><span class=\"c1\">//  Bosch BMP 3xx Barometric Pressure Sensor</span></div>\n<div class=\"line\"><a id=\"l-1386\" name=\"l-1386\"></a><span class=\"linenos\">1386</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-1387\" name=\"l-1387\"></a><span class=\"linenos\">1387</span><span class=\"cm\">/** Start [bosch_bmp3xx] */</span></div>\n<div class=\"line\"><a id=\"l-1388\" name=\"l-1388\"></a><span class=\"linenos\">1388</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;sensors/BoschBMP3xx.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-1389\" name=\"l-1389\"></a><span class=\"linenos\">1389</span></div>\n<div class=\"line\"><a id=\"l-1390\" name=\"l-1390\"></a><span class=\"linenos\">1390</span><span class=\"c1\">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span></div>\n<div class=\"line\"><a id=\"l-1391\" name=\"l-1391\"></a><span class=\"linenos\">1391</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">bmp3xxPower</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">-1</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Power pin</span></div>\n<div class=\"line\"><a id=\"l-1392\" name=\"l-1392\"></a><span class=\"linenos\">1392</span><span class=\"n\">Mode</span><span class=\"w\"> </span><span class=\"n\">bmpMode</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">FORCED_MODE</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// The operating mode of the BMP; normal or forced</span></div>\n<div class=\"line\"><a id=\"l-1393\" name=\"l-1393\"></a><span class=\"linenos\">1393</span><span class=\"n\">Oversampling</span><span class=\"w\"> </span><span class=\"n\">bmpPressureOversample</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">OVERSAMPLING_X32</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-1394\" name=\"l-1394\"></a><span class=\"linenos\">1394</span><span class=\"n\">Oversampling</span><span class=\"w\"> </span><span class=\"n\">bmpTempOversample</span><span class=\"w\">     </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">OVERSAMPLING_X2</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-1395\" name=\"l-1395\"></a><span class=\"linenos\">1395</span><span class=\"n\">IIRFilter</span><span class=\"w\">    </span><span class=\"n\">bmpFilterCoeff</span><span class=\"w\">        </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">IIR_FILTER_OFF</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-1396\" name=\"l-1396\"></a><span class=\"linenos\">1396</span><span class=\"n\">TimeStandby</span><span class=\"w\">  </span><span class=\"n\">bmpTimeStandby</span><span class=\"w\">        </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">TIME_STANDBY_5MS</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-1397\" name=\"l-1397\"></a><span class=\"linenos\">1397</span><span class=\"kr\">uint8_t</span><span class=\"w\">      </span><span class=\"n\">bmpI2C_addr</span><span class=\"w\">           </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mh\">0x77</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-1398\" name=\"l-1398\"></a><span class=\"linenos\">1398</span><span class=\"c1\">// The BMP3xx can be addressed either as 0x77 or 0x76</span></div>\n<div class=\"line\"><a id=\"l-1399\" name=\"l-1399\"></a><span class=\"linenos\">1399</span></div>\n<div class=\"line\"><a id=\"l-1400\" name=\"l-1400\"></a><span class=\"linenos\">1400</span><span class=\"c1\">// Create a Bosch BMP3xx sensor object</span></div>\n<div class=\"line\"><a id=\"l-1401\" name=\"l-1401\"></a><span class=\"linenos\">1401</span><span class=\"n\">BoschBMP3xx</span><span class=\"w\"> </span><span class=\"nf\">bmp3xx</span><span class=\"p\">(</span><span class=\"n\">bmp3xxPower</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">bmpMode</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">bmpPressureOversample</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-1402\" name=\"l-1402\"></a><span class=\"linenos\">1402</span><span class=\"w\">                   </span><span class=\"n\">bmpTempOversample</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">bmpFilterCoeff</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">bmpTimeStandby</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-1403\" name=\"l-1403\"></a><span class=\"linenos\">1403</span><span class=\"w\">                   </span><span class=\"n\">bmpI2C_addr</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1404\" name=\"l-1404\"></a><span class=\"linenos\">1404</span></div>\n<div class=\"line\"><a id=\"l-1405\" name=\"l-1405\"></a><span class=\"linenos\">1405</span><span class=\"c1\">// Create the variable pointers for the BMP3xx</span></div>\n<div class=\"line\"><a id=\"l-1406\" name=\"l-1406\"></a><span class=\"linenos\">1406</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">bmp3xxTemp</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-1407\" name=\"l-1407\"></a><span class=\"linenos\">1407</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">BoschBMP3xx_Temp</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">bmp3xx</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1408\" name=\"l-1408\"></a><span class=\"linenos\">1408</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">bmp3xxPress</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-1409\" name=\"l-1409\"></a><span class=\"linenos\">1409</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">BoschBMP3xx_Pressure</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">bmp3xx</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1410\" name=\"l-1410\"></a><span class=\"linenos\">1410</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">bmp3xxAlt</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-1411\" name=\"l-1411\"></a><span class=\"linenos\">1411</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">BoschBMP3xx_Altitude</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">bmp3xx</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1412\" name=\"l-1412\"></a><span class=\"linenos\">1412</span><span class=\"cm\">/** End [bosch_bmp3xx] */</span></div>\n<div class=\"line\"><a id=\"l-1413\" name=\"l-1413\"></a><span class=\"linenos\">1413</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-1414\" name=\"l-1414\"></a><span class=\"linenos\">1414</span></div>\n<div class=\"line\"><a id=\"l-1415\" name=\"l-1415\"></a><span class=\"linenos\">1415</span></div>\n<div class=\"line\"><a id=\"l-1416\" name=\"l-1416\"></a><span class=\"linenos\">1416</span><span class=\"cp\">#if defined(BUILD_SENSOR_CAMPBELL_CLARI_VUE10)</span></div>\n<div class=\"line\"><a id=\"l-1417\" name=\"l-1417\"></a><span class=\"linenos\">1417</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-1418\" name=\"l-1418\"></a><span class=\"linenos\">1418</span><span class=\"c1\">//  Campbell ClariVUE Turbidity Sensor</span></div>\n<div class=\"line\"><a id=\"l-1419\" name=\"l-1419\"></a><span class=\"linenos\">1419</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-1420\" name=\"l-1420\"></a><span class=\"linenos\">1420</span><span class=\"cm\">/** Start [campbell_clari_vue10] */</span></div>\n<div class=\"line\"><a id=\"l-1421\" name=\"l-1421\"></a><span class=\"linenos\">1421</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;sensors/CampbellClariVUE10.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-1422\" name=\"l-1422\"></a><span class=\"linenos\">1422</span></div>\n<div class=\"line\"><a id=\"l-1423\" name=\"l-1423\"></a><span class=\"linenos\">1423</span><span class=\"c1\">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span></div>\n<div class=\"line\"><a id=\"l-1424\" name=\"l-1424\"></a><span class=\"linenos\">1424</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">ClariVUESDI12address</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s\">&quot;0&quot;</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// The SDI-12 Address of the ClariVUE10</span></div>\n<div class=\"line\"><a id=\"l-1425\" name=\"l-1425\"></a><span class=\"linenos\">1425</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">ClariVUEPower</span><span class=\"w\">       </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">sensorPowerPin</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Power pin</span></div>\n<div class=\"line\"><a id=\"l-1426\" name=\"l-1426\"></a><span class=\"linenos\">1426</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">ClariVUEData</span><span class=\"w\">        </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">sdi12DataPin</span><span class=\"p\">;</span><span class=\"w\">    </span><span class=\"c1\">// The SDI-12 data pin</span></div>\n<div class=\"line\"><a id=\"l-1427\" name=\"l-1427\"></a><span class=\"linenos\">1427</span><span class=\"c1\">// NOTE:  you should NOT take more than one readings.  THe sensor already takes</span></div>\n<div class=\"line\"><a id=\"l-1428\" name=\"l-1428\"></a><span class=\"linenos\">1428</span><span class=\"c1\">// and averages 8 by default.</span></div>\n<div class=\"line\"><a id=\"l-1429\" name=\"l-1429\"></a><span class=\"linenos\">1429</span></div>\n<div class=\"line\"><a id=\"l-1430\" name=\"l-1430\"></a><span class=\"linenos\">1430</span><span class=\"c1\">// Create a Campbell ClariVUE10 sensor object</span></div>\n<div class=\"line\"><a id=\"l-1431\" name=\"l-1431\"></a><span class=\"linenos\">1431</span><span class=\"n\">CampbellClariVUE10</span><span class=\"w\"> </span><span class=\"nf\">clarivue</span><span class=\"p\">(</span><span class=\"o\">*</span><span class=\"n\">ClariVUESDI12address</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">ClariVUEPower</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">ClariVUEData</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1432\" name=\"l-1432\"></a><span class=\"linenos\">1432</span></div>\n<div class=\"line\"><a id=\"l-1433\" name=\"l-1433\"></a><span class=\"linenos\">1433</span><span class=\"c1\">// Create turbidity, temperature, and error variable pointers for the ClariVUE10</span></div>\n<div class=\"line\"><a id=\"l-1434\" name=\"l-1434\"></a><span class=\"linenos\">1434</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">clarivueTurbidity</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">CampbellClariVUE10_Turbidity</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-1435\" name=\"l-1435\"></a><span class=\"linenos\">1435</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">clarivue</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1436\" name=\"l-1436\"></a><span class=\"linenos\">1436</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">clarivueTemp</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">CampbellClariVUE10_Temp</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-1437\" name=\"l-1437\"></a><span class=\"linenos\">1437</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">clarivue</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1438\" name=\"l-1438\"></a><span class=\"linenos\">1438</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">clarivueError</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">CampbellClariVUE10_ErrorCode</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-1439\" name=\"l-1439\"></a><span class=\"linenos\">1439</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">clarivue</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1440\" name=\"l-1440\"></a><span class=\"linenos\">1440</span><span class=\"cm\">/** End [campbell_clari_vue10] */</span></div>\n<div class=\"line\"><a id=\"l-1441\" name=\"l-1441\"></a><span class=\"linenos\">1441</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-1442\" name=\"l-1442\"></a><span class=\"linenos\">1442</span></div>\n<div class=\"line\"><a id=\"l-1443\" name=\"l-1443\"></a><span class=\"linenos\">1443</span></div>\n<div class=\"line\"><a id=\"l-1444\" name=\"l-1444\"></a><span class=\"linenos\">1444</span><span class=\"cp\">#if defined(BUILD_SENSOR_CAMPBELL_OBS3)</span></div>\n<div class=\"line\"><a id=\"l-1445\" name=\"l-1445\"></a><span class=\"linenos\">1445</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-1446\" name=\"l-1446\"></a><span class=\"linenos\">1446</span><span class=\"c1\">//  Campbell OBS 3 / OBS 3+ Analog Turbidity Sensor</span></div>\n<div class=\"line\"><a id=\"l-1447\" name=\"l-1447\"></a><span class=\"linenos\">1447</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-1448\" name=\"l-1448\"></a><span class=\"linenos\">1448</span><span class=\"cm\">/** Start [campbell_obs3] */</span></div>\n<div class=\"line\"><a id=\"l-1449\" name=\"l-1449\"></a><span class=\"linenos\">1449</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;sensors/CampbellOBS3.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-1450\" name=\"l-1450\"></a><span class=\"linenos\">1450</span></div>\n<div class=\"line\"><a id=\"l-1451\" name=\"l-1451\"></a><span class=\"linenos\">1451</span><span class=\"c1\">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span></div>\n<div class=\"line\"><a id=\"l-1452\" name=\"l-1452\"></a><span class=\"linenos\">1452</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">OBS3Power</span><span class=\"w\">          </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">sensorPowerPin</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Power pin</span></div>\n<div class=\"line\"><a id=\"l-1453\" name=\"l-1453\"></a><span class=\"linenos\">1453</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">uint8_t</span><span class=\"w\"> </span><span class=\"n\">OBS3NumberReadings</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">10</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-1454\" name=\"l-1454\"></a><span class=\"linenos\">1454</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">uint8_t</span><span class=\"w\"> </span><span class=\"n\">OBS3ADSi2c_addr</span><span class=\"w\">    </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mh\">0x48</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// The I2C address of the ADS1115 ADC</span></div>\n<div class=\"line\"><a id=\"l-1455\" name=\"l-1455\"></a><span class=\"linenos\">1455</span></div>\n<div class=\"line\"><a id=\"l-1456\" name=\"l-1456\"></a><span class=\"linenos\">1456</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">OBSLowADSChannel</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// ADS channel for *low* range output</span></div>\n<div class=\"line\"><a id=\"l-1457\" name=\"l-1457\"></a><span class=\"linenos\">1457</span></div>\n<div class=\"line\"><a id=\"l-1458\" name=\"l-1458\"></a><span class=\"linenos\">1458</span><span class=\"c1\">// Campbell OBS 3+ *Low* Range Calibration in Volts</span></div>\n<div class=\"line\"><a id=\"l-1459\" name=\"l-1459\"></a><span class=\"linenos\">1459</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">float</span><span class=\"w\"> </span><span class=\"n\">OBSLow_A</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mf\">0.000E+00</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// &quot;A&quot; value (X^2) [*low* range]</span></div>\n<div class=\"line\"><a id=\"l-1460\" name=\"l-1460\"></a><span class=\"linenos\">1460</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">float</span><span class=\"w\"> </span><span class=\"n\">OBSLow_B</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mf\">1.000E+00</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// &quot;B&quot; value (X) [*low* range]</span></div>\n<div class=\"line\"><a id=\"l-1461\" name=\"l-1461\"></a><span class=\"linenos\">1461</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">float</span><span class=\"w\"> </span><span class=\"n\">OBSLow_C</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mf\">0.000E+00</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// &quot;C&quot; value [*low* range]</span></div>\n<div class=\"line\"><a id=\"l-1462\" name=\"l-1462\"></a><span class=\"linenos\">1462</span></div>\n<div class=\"line\"><a id=\"l-1463\" name=\"l-1463\"></a><span class=\"linenos\">1463</span><span class=\"c1\">// Create a Campbell OBS3+ *low* range sensor object</span></div>\n<div class=\"line\"><a id=\"l-1464\" name=\"l-1464\"></a><span class=\"linenos\">1464</span><span class=\"n\">CampbellOBS3</span><span class=\"w\"> </span><span class=\"nf\">osb3low</span><span class=\"p\">(</span><span class=\"n\">OBS3Power</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">OBSLowADSChannel</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">OBSLow_A</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">OBSLow_B</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">OBSLow_C</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-1465\" name=\"l-1465\"></a><span class=\"linenos\">1465</span><span class=\"w\">                     </span><span class=\"n\">OBS3ADSi2c_addr</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">OBS3NumberReadings</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1466\" name=\"l-1466\"></a><span class=\"linenos\">1466</span></div>\n<div class=\"line\"><a id=\"l-1467\" name=\"l-1467\"></a><span class=\"linenos\">1467</span><span class=\"c1\">// Create turbidity and voltage variable pointers for the low range  of the OBS3</span></div>\n<div class=\"line\"><a id=\"l-1468\" name=\"l-1468\"></a><span class=\"linenos\">1468</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">obs3TurbLow</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">CampbellOBS3_Turbidity</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-1469\" name=\"l-1469\"></a><span class=\"linenos\">1469</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">osb3low</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;TurbLow&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1470\" name=\"l-1470\"></a><span class=\"linenos\">1470</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">obs3VoltLow</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">CampbellOBS3_Voltage</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-1471\" name=\"l-1471\"></a><span class=\"linenos\">1471</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">osb3low</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;TurbLowV&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1472\" name=\"l-1472\"></a><span class=\"linenos\">1472</span></div>\n<div class=\"line\"><a id=\"l-1473\" name=\"l-1473\"></a><span class=\"linenos\">1473</span></div>\n<div class=\"line\"><a id=\"l-1474\" name=\"l-1474\"></a><span class=\"linenos\">1474</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">OBSHighADSChannel</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// ADS channel for *high* range output</span></div>\n<div class=\"line\"><a id=\"l-1475\" name=\"l-1475\"></a><span class=\"linenos\">1475</span></div>\n<div class=\"line\"><a id=\"l-1476\" name=\"l-1476\"></a><span class=\"linenos\">1476</span><span class=\"c1\">// Campbell OBS 3+ *High* Range Calibration in Volts</span></div>\n<div class=\"line\"><a id=\"l-1477\" name=\"l-1477\"></a><span class=\"linenos\">1477</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">float</span><span class=\"w\"> </span><span class=\"n\">OBSHigh_A</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mf\">0.000E+00</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// &quot;A&quot; value (X^2) [*high* range]</span></div>\n<div class=\"line\"><a id=\"l-1478\" name=\"l-1478\"></a><span class=\"linenos\">1478</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">float</span><span class=\"w\"> </span><span class=\"n\">OBSHigh_B</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mf\">1.000E+00</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// &quot;B&quot; value (X) [*high* range]</span></div>\n<div class=\"line\"><a id=\"l-1479\" name=\"l-1479\"></a><span class=\"linenos\">1479</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">float</span><span class=\"w\"> </span><span class=\"n\">OBSHigh_C</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mf\">0.000E+00</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// &quot;C&quot; value [*high* range]</span></div>\n<div class=\"line\"><a id=\"l-1480\" name=\"l-1480\"></a><span class=\"linenos\">1480</span></div>\n<div class=\"line\"><a id=\"l-1481\" name=\"l-1481\"></a><span class=\"linenos\">1481</span><span class=\"c1\">// Create a Campbell OBS3+ *high* range sensor object</span></div>\n<div class=\"line\"><a id=\"l-1482\" name=\"l-1482\"></a><span class=\"linenos\">1482</span><span class=\"n\">CampbellOBS3</span><span class=\"w\"> </span><span class=\"nf\">osb3high</span><span class=\"p\">(</span><span class=\"n\">OBS3Power</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">OBSHighADSChannel</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">OBSHigh_A</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">OBSHigh_B</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-1483\" name=\"l-1483\"></a><span class=\"linenos\">1483</span><span class=\"w\">                      </span><span class=\"n\">OBSHigh_C</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">OBS3ADSi2c_addr</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">OBS3NumberReadings</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1484\" name=\"l-1484\"></a><span class=\"linenos\">1484</span></div>\n<div class=\"line\"><a id=\"l-1485\" name=\"l-1485\"></a><span class=\"linenos\">1485</span><span class=\"c1\">// Create turbidity and voltage variable pointers for the high range of the OBS3</span></div>\n<div class=\"line\"><a id=\"l-1486\" name=\"l-1486\"></a><span class=\"linenos\">1486</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">obs3TurbHigh</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">CampbellOBS3_Turbidity</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-1487\" name=\"l-1487\"></a><span class=\"linenos\">1487</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">osb3high</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;TurbHigh&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1488\" name=\"l-1488\"></a><span class=\"linenos\">1488</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">obs3VoltHigh</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">CampbellOBS3_Voltage</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-1489\" name=\"l-1489\"></a><span class=\"linenos\">1489</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">osb3high</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;TurbHighV&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1490\" name=\"l-1490\"></a><span class=\"linenos\">1490</span><span class=\"cm\">/** End [campbell_obs3] */</span></div>\n<div class=\"line\"><a id=\"l-1491\" name=\"l-1491\"></a><span class=\"linenos\">1491</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-1492\" name=\"l-1492\"></a><span class=\"linenos\">1492</span></div>\n<div class=\"line\"><a id=\"l-1493\" name=\"l-1493\"></a><span class=\"linenos\">1493</span><span class=\"cp\">#if defined(BUILD_SENSOR_CAMPBELL_RAIN_VUE10)</span></div>\n<div class=\"line\"><a id=\"l-1494\" name=\"l-1494\"></a><span class=\"linenos\">1494</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-1495\" name=\"l-1495\"></a><span class=\"linenos\">1495</span><span class=\"c1\">//  Campbell RainVUE Precipitation Sensor</span></div>\n<div class=\"line\"><a id=\"l-1496\" name=\"l-1496\"></a><span class=\"linenos\">1496</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-1497\" name=\"l-1497\"></a><span class=\"linenos\">1497</span><span class=\"cm\">/** Start [campbell_rain_vue10] */</span></div>\n<div class=\"line\"><a id=\"l-1498\" name=\"l-1498\"></a><span class=\"linenos\">1498</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;sensors/CampbellRainVUE10.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-1499\" name=\"l-1499\"></a><span class=\"linenos\">1499</span></div>\n<div class=\"line\"><a id=\"l-1500\" name=\"l-1500\"></a><span class=\"linenos\">1500</span><span class=\"c1\">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span></div>\n<div class=\"line\"><a id=\"l-1501\" name=\"l-1501\"></a><span class=\"linenos\">1501</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"w\">  </span><span class=\"n\">RainVUESDI12address</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s\">&quot;0&quot;</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// The SDI-12 Address of the RainVUE10</span></div>\n<div class=\"line\"><a id=\"l-1502\" name=\"l-1502\"></a><span class=\"linenos\">1502</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">RainVUEPower</span><span class=\"w\">        </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">-1</span><span class=\"p\">;</span><span class=\"w\">   </span><span class=\"c1\">// Power pin, for continuous power</span></div>\n<div class=\"line\"><a id=\"l-1503\" name=\"l-1503\"></a><span class=\"linenos\">1503</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">RainVUEData</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">5</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// The SDI-12 data pin, for continuous power</span></div>\n<div class=\"line\"><a id=\"l-1504\" name=\"l-1504\"></a><span class=\"linenos\">1504</span><span class=\"c1\">// NOTE:  you should NOT take more than one readings.  The sensor counts</span></div>\n<div class=\"line\"><a id=\"l-1505\" name=\"l-1505\"></a><span class=\"linenos\">1505</span><span class=\"c1\">// cumulative tips and rain accumulation since the last measurement.</span></div>\n<div class=\"line\"><a id=\"l-1506\" name=\"l-1506\"></a><span class=\"linenos\">1506</span></div>\n<div class=\"line\"><a id=\"l-1507\" name=\"l-1507\"></a><span class=\"linenos\">1507</span><span class=\"c1\">// Create a Campbell RainVUE10 sensor object</span></div>\n<div class=\"line\"><a id=\"l-1508\" name=\"l-1508\"></a><span class=\"linenos\">1508</span><span class=\"n\">CampbellRainVUE10</span><span class=\"w\"> </span><span class=\"nf\">rainvue</span><span class=\"p\">(</span><span class=\"o\">*</span><span class=\"n\">RainVUESDI12address</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">RainVUEPower</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">RainVUEData</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1509\" name=\"l-1509\"></a><span class=\"linenos\">1509</span></div>\n<div class=\"line\"><a id=\"l-1510\" name=\"l-1510\"></a><span class=\"linenos\">1510</span><span class=\"c1\">// Create turbidity, temperature, and error variable pointers for the RainVUE10</span></div>\n<div class=\"line\"><a id=\"l-1511\" name=\"l-1511\"></a><span class=\"linenos\">1511</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">rainvuePrecipitation</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">CampbellRainVUE10_Precipitation</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-1512\" name=\"l-1512\"></a><span class=\"linenos\">1512</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">rainvue</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1513\" name=\"l-1513\"></a><span class=\"linenos\">1513</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">rainvueTips</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">CampbellRainVUE10_Tips</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-1514\" name=\"l-1514\"></a><span class=\"linenos\">1514</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">rainvue</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1515\" name=\"l-1515\"></a><span class=\"linenos\">1515</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">rainvueRainRateAve</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">CampbellRainVUE10_RainRateAve</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-1516\" name=\"l-1516\"></a><span class=\"linenos\">1516</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">rainvue</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1517\" name=\"l-1517\"></a><span class=\"linenos\">1517</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">rainvueRainRateMax</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">CampbellRainVUE10_RainRateMax</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-1518\" name=\"l-1518\"></a><span class=\"linenos\">1518</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">rainvue</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1519\" name=\"l-1519\"></a><span class=\"linenos\">1519</span><span class=\"cm\">/** End [campbell_rain_vue10] */</span></div>\n<div class=\"line\"><a id=\"l-1520\" name=\"l-1520\"></a><span class=\"linenos\">1520</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-1521\" name=\"l-1521\"></a><span class=\"linenos\">1521</span></div>\n<div class=\"line\"><a id=\"l-1522\" name=\"l-1522\"></a><span class=\"linenos\">1522</span></div>\n<div class=\"line\"><a id=\"l-1523\" name=\"l-1523\"></a><span class=\"linenos\">1523</span><span class=\"cp\">#if defined(BUILD_SENSOR_DECAGON_CTD)</span></div>\n<div class=\"line\"><a id=\"l-1524\" name=\"l-1524\"></a><span class=\"linenos\">1524</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-1525\" name=\"l-1525\"></a><span class=\"linenos\">1525</span><span class=\"c1\">//  Decagon CTD-10 Conductivity, Temperature, and Depth Sensor</span></div>\n<div class=\"line\"><a id=\"l-1526\" name=\"l-1526\"></a><span class=\"linenos\">1526</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-1527\" name=\"l-1527\"></a><span class=\"linenos\">1527</span><span class=\"cm\">/** Start [decagon_ctd] */</span></div>\n<div class=\"line\"><a id=\"l-1528\" name=\"l-1528\"></a><span class=\"linenos\">1528</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;sensors/DecagonCTD.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-1529\" name=\"l-1529\"></a><span class=\"linenos\">1529</span></div>\n<div class=\"line\"><a id=\"l-1530\" name=\"l-1530\"></a><span class=\"linenos\">1530</span><span class=\"c1\">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span></div>\n<div class=\"line\"><a id=\"l-1531\" name=\"l-1531\"></a><span class=\"linenos\">1531</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"w\">   </span><span class=\"n\">CTDSDI12address</span><span class=\"w\">   </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s\">&quot;1&quot;</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// The SDI-12 Address of the CTD</span></div>\n<div class=\"line\"><a id=\"l-1532\" name=\"l-1532\"></a><span class=\"linenos\">1532</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">uint8_t</span><span class=\"w\"> </span><span class=\"n\">CTDNumberReadings</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">6</span><span class=\"p\">;</span><span class=\"w\">    </span><span class=\"c1\">// The number of readings to average</span></div>\n<div class=\"line\"><a id=\"l-1533\" name=\"l-1533\"></a><span class=\"linenos\">1533</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">CTDPower</span><span class=\"w\">          </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">sensorPowerPin</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Power pin</span></div>\n<div class=\"line\"><a id=\"l-1534\" name=\"l-1534\"></a><span class=\"linenos\">1534</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">CTDData</span><span class=\"w\">           </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">sdi12DataPin</span><span class=\"p\">;</span><span class=\"w\">    </span><span class=\"c1\">// The SDI-12 data pin</span></div>\n<div class=\"line\"><a id=\"l-1535\" name=\"l-1535\"></a><span class=\"linenos\">1535</span></div>\n<div class=\"line\"><a id=\"l-1536\" name=\"l-1536\"></a><span class=\"linenos\">1536</span><span class=\"c1\">// Create a Decagon CTD sensor object</span></div>\n<div class=\"line\"><a id=\"l-1537\" name=\"l-1537\"></a><span class=\"linenos\">1537</span><span class=\"n\">DecagonCTD</span><span class=\"w\"> </span><span class=\"nf\">ctd</span><span class=\"p\">(</span><span class=\"o\">*</span><span class=\"n\">CTDSDI12address</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">CTDPower</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">CTDData</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">CTDNumberReadings</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1538\" name=\"l-1538\"></a><span class=\"linenos\">1538</span></div>\n<div class=\"line\"><a id=\"l-1539\" name=\"l-1539\"></a><span class=\"linenos\">1539</span><span class=\"c1\">// Create conductivity, temperature, and depth variable pointers for the CTD</span></div>\n<div class=\"line\"><a id=\"l-1540\" name=\"l-1540\"></a><span class=\"linenos\">1540</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">ctdCond</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">DecagonCTD_Cond</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">ctd</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-1541\" name=\"l-1541\"></a><span class=\"linenos\">1541</span><span class=\"w\">                                        </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1542\" name=\"l-1542\"></a><span class=\"linenos\">1542</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">ctdTemp</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">DecagonCTD_Temp</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">ctd</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-1543\" name=\"l-1543\"></a><span class=\"linenos\">1543</span><span class=\"w\">                                        </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1544\" name=\"l-1544\"></a><span class=\"linenos\">1544</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">ctdDepth</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-1545\" name=\"l-1545\"></a><span class=\"linenos\">1545</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">DecagonCTD_Depth</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">ctd</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1546\" name=\"l-1546\"></a><span class=\"linenos\">1546</span><span class=\"cm\">/** End [decagon_ctd] */</span></div>\n<div class=\"line\"><a id=\"l-1547\" name=\"l-1547\"></a><span class=\"linenos\">1547</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-1548\" name=\"l-1548\"></a><span class=\"linenos\">1548</span></div>\n<div class=\"line\"><a id=\"l-1549\" name=\"l-1549\"></a><span class=\"linenos\">1549</span></div>\n<div class=\"line\"><a id=\"l-1550\" name=\"l-1550\"></a><span class=\"linenos\">1550</span><span class=\"cp\">#if defined(BUILD_SENSOR_DECAGON_ES2)</span></div>\n<div class=\"line\"><a id=\"l-1551\" name=\"l-1551\"></a><span class=\"linenos\">1551</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-1552\" name=\"l-1552\"></a><span class=\"linenos\">1552</span><span class=\"c1\">//  Decagon ES2 Conductivity and Temperature Sensor</span></div>\n<div class=\"line\"><a id=\"l-1553\" name=\"l-1553\"></a><span class=\"linenos\">1553</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-1554\" name=\"l-1554\"></a><span class=\"linenos\">1554</span><span class=\"cm\">/** Start [decagon_es2] */</span></div>\n<div class=\"line\"><a id=\"l-1555\" name=\"l-1555\"></a><span class=\"linenos\">1555</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;sensors/DecagonES2.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-1556\" name=\"l-1556\"></a><span class=\"linenos\">1556</span></div>\n<div class=\"line\"><a id=\"l-1557\" name=\"l-1557\"></a><span class=\"linenos\">1557</span><span class=\"c1\">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span></div>\n<div class=\"line\"><a id=\"l-1558\" name=\"l-1558\"></a><span class=\"linenos\">1558</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"w\">   </span><span class=\"n\">ES2SDI12address</span><span class=\"w\">   </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s\">&quot;3&quot;</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// The SDI-12 Address of the ES2</span></div>\n<div class=\"line\"><a id=\"l-1559\" name=\"l-1559\"></a><span class=\"linenos\">1559</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">ES2Power</span><span class=\"w\">          </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">sensorPowerPin</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Power pin</span></div>\n<div class=\"line\"><a id=\"l-1560\" name=\"l-1560\"></a><span class=\"linenos\">1560</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">ES2Data</span><span class=\"w\">           </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">sdi12DataPin</span><span class=\"p\">;</span><span class=\"w\">    </span><span class=\"c1\">// The SDI-12 data pin</span></div>\n<div class=\"line\"><a id=\"l-1561\" name=\"l-1561\"></a><span class=\"linenos\">1561</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">uint8_t</span><span class=\"w\"> </span><span class=\"n\">ES2NumberReadings</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">5</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-1562\" name=\"l-1562\"></a><span class=\"linenos\">1562</span></div>\n<div class=\"line\"><a id=\"l-1563\" name=\"l-1563\"></a><span class=\"linenos\">1563</span><span class=\"c1\">// Create a Decagon ES2 sensor object</span></div>\n<div class=\"line\"><a id=\"l-1564\" name=\"l-1564\"></a><span class=\"linenos\">1564</span><span class=\"n\">DecagonES2</span><span class=\"w\"> </span><span class=\"nf\">es2</span><span class=\"p\">(</span><span class=\"o\">*</span><span class=\"n\">ES2SDI12address</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">ES2Power</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">ES2Data</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">ES2NumberReadings</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1565\" name=\"l-1565\"></a><span class=\"linenos\">1565</span></div>\n<div class=\"line\"><a id=\"l-1566\" name=\"l-1566\"></a><span class=\"linenos\">1566</span><span class=\"c1\">// Create specific conductance and temperature variable pointers for the ES2</span></div>\n<div class=\"line\"><a id=\"l-1567\" name=\"l-1567\"></a><span class=\"linenos\">1567</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">es2Cond</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">DecagonES2_Cond</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">es2</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-1568\" name=\"l-1568\"></a><span class=\"linenos\">1568</span><span class=\"w\">                                        </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1569\" name=\"l-1569\"></a><span class=\"linenos\">1569</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">es2Temp</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">DecagonES2_Temp</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">es2</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-1570\" name=\"l-1570\"></a><span class=\"linenos\">1570</span><span class=\"w\">                                        </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1571\" name=\"l-1571\"></a><span class=\"linenos\">1571</span><span class=\"cm\">/** End [decagon_es2] */</span></div>\n<div class=\"line\"><a id=\"l-1572\" name=\"l-1572\"></a><span class=\"linenos\">1572</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-1573\" name=\"l-1573\"></a><span class=\"linenos\">1573</span></div>\n<div class=\"line\"><a id=\"l-1574\" name=\"l-1574\"></a><span class=\"linenos\">1574</span></div>\n<div class=\"line\"><a id=\"l-1575\" name=\"l-1575\"></a><span class=\"linenos\">1575</span><span class=\"cp\">#if defined(BUILD_SENSOR_EVERLIGHT_ALSPT19)</span></div>\n<div class=\"line\"><a id=\"l-1576\" name=\"l-1576\"></a><span class=\"linenos\">1576</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-1577\" name=\"l-1577\"></a><span class=\"linenos\">1577</span><span class=\"c1\">//  Everlight ALS-PT19 Ambient Light Sensor</span></div>\n<div class=\"line\"><a id=\"l-1578\" name=\"l-1578\"></a><span class=\"linenos\">1578</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-1579\" name=\"l-1579\"></a><span class=\"linenos\">1579</span><span class=\"cm\">/** Start [everlight_alspt19] */</span></div>\n<div class=\"line\"><a id=\"l-1580\" name=\"l-1580\"></a><span class=\"linenos\">1580</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;sensors/EverlightALSPT19.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-1581\" name=\"l-1581\"></a><span class=\"linenos\">1581</span></div>\n<div class=\"line\"><a id=\"l-1582\" name=\"l-1582\"></a><span class=\"linenos\">1582</span><span class=\"c1\">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span></div>\n<div class=\"line\"><a id=\"l-1583\" name=\"l-1583\"></a><span class=\"linenos\">1583</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">alsPower</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">sensorPowerPin</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Power pin</span></div>\n<div class=\"line\"><a id=\"l-1584\" name=\"l-1584\"></a><span class=\"linenos\">1584</span><span class=\"cp\">#if defined(ENVIRODIY_STONEFLY_M4)</span></div>\n<div class=\"line\"><a id=\"l-1585\" name=\"l-1585\"></a><span class=\"linenos\">1585</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">alsData</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">A8</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// The ALS PT-19 data pin</span></div>\n<div class=\"line\"><a id=\"l-1586\" name=\"l-1586\"></a><span class=\"linenos\">1586</span><span class=\"cp\">#else</span></div>\n<div class=\"line\"><a id=\"l-1587\" name=\"l-1587\"></a><span class=\"linenos\">1587</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">alsData</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">A4</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// The ALS PT-19 data pin</span></div>\n<div class=\"line\"><a id=\"l-1588\" name=\"l-1588\"></a><span class=\"linenos\">1588</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-1589\" name=\"l-1589\"></a><span class=\"linenos\">1589</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">alsSupply</span><span class=\"w\">     </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mf\">3.3</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// The ALS PT-19 supply power voltage</span></div>\n<div class=\"line\"><a id=\"l-1590\" name=\"l-1590\"></a><span class=\"linenos\">1590</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">alsResistance</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">10</span><span class=\"p\">;</span><span class=\"w\">   </span><span class=\"c1\">// The ALS PT-19 loading resistance (in k\u03a9)</span></div>\n<div class=\"line\"><a id=\"l-1591\" name=\"l-1591\"></a><span class=\"linenos\">1591</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">uint8_t</span><span class=\"w\"> </span><span class=\"n\">alsNumberReadings</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">10</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-1592\" name=\"l-1592\"></a><span class=\"linenos\">1592</span></div>\n<div class=\"line\"><a id=\"l-1593\" name=\"l-1593\"></a><span class=\"linenos\">1593</span><span class=\"c1\">// Create a Everlight ALS-PT19 sensor object</span></div>\n<div class=\"line\"><a id=\"l-1594\" name=\"l-1594\"></a><span class=\"linenos\">1594</span><span class=\"n\">EverlightALSPT19</span><span class=\"w\"> </span><span class=\"nf\">alsPt19</span><span class=\"p\">(</span><span class=\"n\">alsPower</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">alsData</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">alsSupply</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">alsResistance</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-1595\" name=\"l-1595\"></a><span class=\"linenos\">1595</span><span class=\"w\">                         </span><span class=\"n\">alsNumberReadings</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1596\" name=\"l-1596\"></a><span class=\"linenos\">1596</span></div>\n<div class=\"line\"><a id=\"l-1597\" name=\"l-1597\"></a><span class=\"linenos\">1597</span><span class=\"c1\">// For an EnviroDIY Mayfly, you can use the abbreviated version</span></div>\n<div class=\"line\"><a id=\"l-1598\" name=\"l-1598\"></a><span class=\"linenos\">1598</span><span class=\"c1\">// EverlightALSPT19 alsPt19(alsNumberReadings);</span></div>\n<div class=\"line\"><a id=\"l-1599\" name=\"l-1599\"></a><span class=\"linenos\">1599</span></div>\n<div class=\"line\"><a id=\"l-1600\" name=\"l-1600\"></a><span class=\"linenos\">1600</span><span class=\"c1\">// Create voltage, current, and illuminance variable pointers for the ALS-PT19</span></div>\n<div class=\"line\"><a id=\"l-1601\" name=\"l-1601\"></a><span class=\"linenos\">1601</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">alsPt19Volt</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">EverlightALSPT19_Voltage</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-1602\" name=\"l-1602\"></a><span class=\"linenos\">1602</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">alsPt19</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1603\" name=\"l-1603\"></a><span class=\"linenos\">1603</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">alsPt19Current</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">EverlightALSPT19_Current</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-1604\" name=\"l-1604\"></a><span class=\"linenos\">1604</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">alsPt19</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1605\" name=\"l-1605\"></a><span class=\"linenos\">1605</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">alsPt19Lux</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">EverlightALSPT19_Illuminance</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-1606\" name=\"l-1606\"></a><span class=\"linenos\">1606</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">alsPt19</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1607\" name=\"l-1607\"></a><span class=\"linenos\">1607</span><span class=\"cm\">/** End [everlight_alspt19] */</span></div>\n<div class=\"line\"><a id=\"l-1608\" name=\"l-1608\"></a><span class=\"linenos\">1608</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-1609\" name=\"l-1609\"></a><span class=\"linenos\">1609</span></div>\n<div class=\"line\"><a id=\"l-1610\" name=\"l-1610\"></a><span class=\"linenos\">1610</span></div>\n<div class=\"line\"><a id=\"l-1611\" name=\"l-1611\"></a><span class=\"linenos\">1611</span><span class=\"cp\">#if defined(BUILD_SENSOR_TIADS1X15)</span></div>\n<div class=\"line\"><a id=\"l-1612\" name=\"l-1612\"></a><span class=\"linenos\">1612</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-1613\" name=\"l-1613\"></a><span class=\"linenos\">1613</span><span class=\"c1\">//  External Voltage via TI ADS1115</span></div>\n<div class=\"line\"><a id=\"l-1614\" name=\"l-1614\"></a><span class=\"linenos\">1614</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-1615\" name=\"l-1615\"></a><span class=\"linenos\">1615</span><span class=\"cm\">/** Start [tiads1x15] */</span></div>\n<div class=\"line\"><a id=\"l-1616\" name=\"l-1616\"></a><span class=\"linenos\">1616</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;sensors/TIADS1x15.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-1617\" name=\"l-1617\"></a><span class=\"linenos\">1617</span></div>\n<div class=\"line\"><a id=\"l-1618\" name=\"l-1618\"></a><span class=\"linenos\">1618</span><span class=\"c1\">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span></div>\n<div class=\"line\"><a id=\"l-1619\" name=\"l-1619\"></a><span class=\"linenos\">1619</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">ADSPower</span><span class=\"w\">       </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">sensorPowerPin</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Power pin</span></div>\n<div class=\"line\"><a id=\"l-1620\" name=\"l-1620\"></a><span class=\"linenos\">1620</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">ADSChannel</span><span class=\"w\">     </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"p\">;</span><span class=\"w\">               </span><span class=\"c1\">// The ADS channel of interest</span></div>\n<div class=\"line\"><a id=\"l-1621\" name=\"l-1621\"></a><span class=\"linenos\">1621</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">float</span><span class=\"w\">   </span><span class=\"n\">dividerGain</span><span class=\"w\">    </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">10</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">//  Gain setting if using a voltage divider</span></div>\n<div class=\"line\"><a id=\"l-1622\" name=\"l-1622\"></a><span class=\"linenos\">1622</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">uint8_t</span><span class=\"w\"> </span><span class=\"n\">evADSi2c_addr</span><span class=\"w\">  </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mh\">0x48</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// The I2C address of the ADS1115 ADC</span></div>\n<div class=\"line\"><a id=\"l-1623\" name=\"l-1623\"></a><span class=\"linenos\">1623</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">uint8_t</span><span class=\"w\"> </span><span class=\"n\">VoltReadsToAvg</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"p\">;</span><span class=\"w\">     </span><span class=\"c1\">// Only read one sample</span></div>\n<div class=\"line\"><a id=\"l-1624\" name=\"l-1624\"></a><span class=\"linenos\">1624</span></div>\n<div class=\"line\"><a id=\"l-1625\" name=\"l-1625\"></a><span class=\"linenos\">1625</span><span class=\"c1\">// Create an External Voltage sensor object</span></div>\n<div class=\"line\"><a id=\"l-1626\" name=\"l-1626\"></a><span class=\"linenos\">1626</span><span class=\"n\">TIADS1x15</span><span class=\"w\"> </span><span class=\"nf\">ads1x15</span><span class=\"p\">(</span><span class=\"n\">ADSPower</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">ADSChannel</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">dividerGain</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">evADSi2c_addr</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-1627\" name=\"l-1627\"></a><span class=\"linenos\">1627</span><span class=\"w\">                  </span><span class=\"n\">VoltReadsToAvg</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1628\" name=\"l-1628\"></a><span class=\"linenos\">1628</span></div>\n<div class=\"line\"><a id=\"l-1629\" name=\"l-1629\"></a><span class=\"linenos\">1629</span><span class=\"c1\">// Create a voltage variable pointer</span></div>\n<div class=\"line\"><a id=\"l-1630\" name=\"l-1630\"></a><span class=\"linenos\">1630</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">ads1x15Volt</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-1631\" name=\"l-1631\"></a><span class=\"linenos\">1631</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">TIADS1x15_Voltage</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">ads1x15</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1632\" name=\"l-1632\"></a><span class=\"linenos\">1632</span><span class=\"cm\">/** End [tiads1x15] */</span></div>\n<div class=\"line\"><a id=\"l-1633\" name=\"l-1633\"></a><span class=\"linenos\">1633</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-1634\" name=\"l-1634\"></a><span class=\"linenos\">1634</span></div>\n<div class=\"line\"><a id=\"l-1635\" name=\"l-1635\"></a><span class=\"linenos\">1635</span></div>\n<div class=\"line\"><a id=\"l-1636\" name=\"l-1636\"></a><span class=\"linenos\">1636</span><span class=\"cp\">#if defined(BUILD_SENSOR_FREESCALE_MPL115A2)</span></div>\n<div class=\"line\"><a id=\"l-1637\" name=\"l-1637\"></a><span class=\"linenos\">1637</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-1638\" name=\"l-1638\"></a><span class=\"linenos\">1638</span><span class=\"c1\">//  Freescale Semiconductor MPL115A2 Barometer</span></div>\n<div class=\"line\"><a id=\"l-1639\" name=\"l-1639\"></a><span class=\"linenos\">1639</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-1640\" name=\"l-1640\"></a><span class=\"linenos\">1640</span><span class=\"cm\">/** Start [freescale_mpl115a2] */</span></div>\n<div class=\"line\"><a id=\"l-1641\" name=\"l-1641\"></a><span class=\"linenos\">1641</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;sensors/FreescaleMPL115A2.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-1642\" name=\"l-1642\"></a><span class=\"linenos\">1642</span></div>\n<div class=\"line\"><a id=\"l-1643\" name=\"l-1643\"></a><span class=\"linenos\">1643</span><span class=\"c1\">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span></div>\n<div class=\"line\"><a id=\"l-1644\" name=\"l-1644\"></a><span class=\"linenos\">1644</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">MPLPower</span><span class=\"w\">              </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">sensorPowerPin</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Power pin</span></div>\n<div class=\"line\"><a id=\"l-1645\" name=\"l-1645\"></a><span class=\"linenos\">1645</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">uint8_t</span><span class=\"w\"> </span><span class=\"n\">MPL115A2ReadingsToAvg</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-1646\" name=\"l-1646\"></a><span class=\"linenos\">1646</span></div>\n<div class=\"line\"><a id=\"l-1647\" name=\"l-1647\"></a><span class=\"linenos\">1647</span><span class=\"c1\">// Create a FreescaleMPL115A2 barometer sensor object</span></div>\n<div class=\"line\"><a id=\"l-1648\" name=\"l-1648\"></a><span class=\"linenos\">1648</span><span class=\"n\">FreescaleMPL115A2</span><span class=\"w\"> </span><span class=\"nf\">mpl115a2</span><span class=\"p\">(</span><span class=\"n\">MPLPower</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">MPL115A2ReadingsToAvg</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1649\" name=\"l-1649\"></a><span class=\"linenos\">1649</span></div>\n<div class=\"line\"><a id=\"l-1650\" name=\"l-1650\"></a><span class=\"linenos\">1650</span><span class=\"c1\">// Create pressure and temperature variable pointers for the MPL</span></div>\n<div class=\"line\"><a id=\"l-1651\" name=\"l-1651\"></a><span class=\"linenos\">1651</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">mplPress</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">FreescaleMPL115A2_Pressure</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-1652\" name=\"l-1652\"></a><span class=\"linenos\">1652</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">mpl115a2</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1653\" name=\"l-1653\"></a><span class=\"linenos\">1653</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">mplTemp</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">FreescaleMPL115A2_Temp</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-1654\" name=\"l-1654\"></a><span class=\"linenos\">1654</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">mpl115a2</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1655\" name=\"l-1655\"></a><span class=\"linenos\">1655</span><span class=\"cm\">/** End [freescale_mpl115a2] */</span></div>\n<div class=\"line\"><a id=\"l-1656\" name=\"l-1656\"></a><span class=\"linenos\">1656</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-1657\" name=\"l-1657\"></a><span class=\"linenos\">1657</span></div>\n<div class=\"line\"><a id=\"l-1658\" name=\"l-1658\"></a><span class=\"linenos\">1658</span></div>\n<div class=\"line\"><a id=\"l-1659\" name=\"l-1659\"></a><span class=\"linenos\">1659</span><span class=\"cp\">#if defined(BUILD_SENSOR_GEOLUX_HYDRO_CAM)</span></div>\n<div class=\"line\"><a id=\"l-1660\" name=\"l-1660\"></a><span class=\"linenos\">1660</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-1661\" name=\"l-1661\"></a><span class=\"linenos\">1661</span><span class=\"c1\">//  Geolux HydroCam camera</span></div>\n<div class=\"line\"><a id=\"l-1662\" name=\"l-1662\"></a><span class=\"linenos\">1662</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-1663\" name=\"l-1663\"></a><span class=\"linenos\">1663</span><span class=\"cm\">/** Start [geolux_hydro_cam] */</span></div>\n<div class=\"line\"><a id=\"l-1664\" name=\"l-1664\"></a><span class=\"linenos\">1664</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;sensors/GeoluxHydroCam.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-1665\" name=\"l-1665\"></a><span class=\"linenos\">1665</span></div>\n<div class=\"line\"><a id=\"l-1666\" name=\"l-1666\"></a><span class=\"linenos\">1666</span><span class=\"c1\">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span></div>\n<div class=\"line\"><a id=\"l-1667\" name=\"l-1667\"></a><span class=\"linenos\">1667</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">cameraPower</span><span class=\"w\">        </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">sensorPowerPin</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Power pin</span></div>\n<div class=\"line\"><a id=\"l-1668\" name=\"l-1668\"></a><span class=\"linenos\">1668</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">cameraAdapterPower</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">sensorPowerPin</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// RS232 adapter power pin</span></div>\n<div class=\"line\"><a id=\"l-1669\" name=\"l-1669\"></a><span class=\"linenos\">1669</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"w\">  </span><span class=\"n\">imageResolution</span><span class=\"w\">    </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s\">&quot;800x600&quot;</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-1670\" name=\"l-1670\"></a><span class=\"linenos\">1670</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"w\">  </span><span class=\"n\">filePrefix</span><span class=\"w\">         </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">LoggerID</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-1671\" name=\"l-1671\"></a><span class=\"linenos\">1671</span><span class=\"kr\">bool</span><span class=\"w\">         </span><span class=\"n\">alwaysAutoFocus</span><span class=\"w\">    </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"kr\">false</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-1672\" name=\"l-1672\"></a><span class=\"linenos\">1672</span></div>\n<div class=\"line\"><a id=\"l-1673\" name=\"l-1673\"></a><span class=\"linenos\">1673</span><span class=\"c1\">// Create a GeoluxHydroCam sensor object</span></div>\n<div class=\"line\"><a id=\"l-1674\" name=\"l-1674\"></a><span class=\"linenos\">1674</span><span class=\"n\">GeoluxHydroCam</span><span class=\"w\"> </span><span class=\"nf\">hydrocam</span><span class=\"p\">(</span><span class=\"n\">cameraSerial</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">cameraPower</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">dataLogger</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-1675\" name=\"l-1675\"></a><span class=\"linenos\">1675</span><span class=\"w\">                        </span><span class=\"n\">cameraAdapterPower</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">imageResolution</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">filePrefix</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-1676\" name=\"l-1676\"></a><span class=\"linenos\">1676</span><span class=\"w\">                        </span><span class=\"n\">alwaysAutoFocus</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1677\" name=\"l-1677\"></a><span class=\"linenos\">1677</span></div>\n<div class=\"line\"><a id=\"l-1678\" name=\"l-1678\"></a><span class=\"linenos\">1678</span><span class=\"c1\">// Create image size and byte error variables for the Geolux HydroCam</span></div>\n<div class=\"line\"><a id=\"l-1679\" name=\"l-1679\"></a><span class=\"linenos\">1679</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">hydrocamImageSize</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">GeoluxHydroCam_ImageSize</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-1680\" name=\"l-1680\"></a><span class=\"linenos\">1680</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">hydrocam</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1681\" name=\"l-1681\"></a><span class=\"linenos\">1681</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">hydrocamByteError</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">GeoluxHydroCam_ByteError</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-1682\" name=\"l-1682\"></a><span class=\"linenos\">1682</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">hydrocam</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1683\" name=\"l-1683\"></a><span class=\"linenos\">1683</span><span class=\"cm\">/** End [geolux_hydro_cam] */</span></div>\n<div class=\"line\"><a id=\"l-1684\" name=\"l-1684\"></a><span class=\"linenos\">1684</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-1685\" name=\"l-1685\"></a><span class=\"linenos\">1685</span></div>\n<div class=\"line\"><a id=\"l-1686\" name=\"l-1686\"></a><span class=\"linenos\">1686</span></div>\n<div class=\"line\"><a id=\"l-1687\" name=\"l-1687\"></a><span class=\"linenos\">1687</span><span class=\"cp\">#if defined(BUILD_SENSOR_GRO_POINT_GPLP8)</span></div>\n<div class=\"line\"><a id=\"l-1688\" name=\"l-1688\"></a><span class=\"linenos\">1688</span><span class=\"cp\">#ifndef BUILD_MODBUS_SENSOR</span></div>\n<div class=\"line\"><a id=\"l-1689\" name=\"l-1689\"></a><span class=\"linenos\">1689</span><span class=\"cp\">#define BUILD_MODBUS_SENSOR</span></div>\n<div class=\"line\"><a id=\"l-1690\" name=\"l-1690\"></a><span class=\"linenos\">1690</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-1691\" name=\"l-1691\"></a><span class=\"linenos\">1691</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-1692\" name=\"l-1692\"></a><span class=\"linenos\">1692</span><span class=\"c1\">//  GroPoint Profile GPLP-8 Soil Moisture and Temperature Sensor</span></div>\n<div class=\"line\"><a id=\"l-1693\" name=\"l-1693\"></a><span class=\"linenos\">1693</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-1694\" name=\"l-1694\"></a><span class=\"linenos\">1694</span><span class=\"cm\">/** Start [gro_point_gplp8] */</span></div>\n<div class=\"line\"><a id=\"l-1695\" name=\"l-1695\"></a><span class=\"linenos\">1695</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;sensors/GroPointGPLP8.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-1696\" name=\"l-1696\"></a><span class=\"linenos\">1696</span></div>\n<div class=\"line\"><a id=\"l-1697\" name=\"l-1697\"></a><span class=\"linenos\">1697</span><span class=\"c1\">// NOTE: Extra hardware and software serial ports are created in the &quot;Settings</span></div>\n<div class=\"line\"><a id=\"l-1698\" name=\"l-1698\"></a><span class=\"linenos\">1698</span><span class=\"c1\">// for Additional Serial Ports&quot; section</span></div>\n<div class=\"line\"><a id=\"l-1699\" name=\"l-1699\"></a><span class=\"linenos\">1699</span></div>\n<div class=\"line\"><a id=\"l-1700\" name=\"l-1700\"></a><span class=\"linenos\">1700</span><span class=\"c1\">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span></div>\n<div class=\"line\"><a id=\"l-1701\" name=\"l-1701\"></a><span class=\"linenos\">1701</span><span class=\"kr\">byte</span><span class=\"w\"> </span><span class=\"n\">gplp8ModbusAddress</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mh\">0x19</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// The modbus address of the gplp8</span></div>\n<div class=\"line\"><a id=\"l-1702\" name=\"l-1702\"></a><span class=\"linenos\">1702</span><span class=\"c1\">// Raw Request &gt;&gt;&gt; {0x19, 0x03, 0x00, 0xC8, 0x00, 0x01, 0x06, 0x2C}</span></div>\n<div class=\"line\"><a id=\"l-1703\" name=\"l-1703\"></a><span class=\"linenos\">1703</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">gplp8AdapterPower</span><span class=\"w\">   </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">sensorPowerPin</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// RS485 adapter power pin</span></div>\n<div class=\"line\"><a id=\"l-1704\" name=\"l-1704\"></a><span class=\"linenos\">1704</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">gplp8SensorPower</span><span class=\"w\">    </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">relayPowerPin</span><span class=\"p\">;</span><span class=\"w\">   </span><span class=\"c1\">// Sensor power pin</span></div>\n<div class=\"line\"><a id=\"l-1705\" name=\"l-1705\"></a><span class=\"linenos\">1705</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">gplp8EnablePin</span><span class=\"w\">      </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">-1</span><span class=\"p\">;</span><span class=\"w\">              </span><span class=\"c1\">// Adapter RE/DE pin</span></div>\n<div class=\"line\"><a id=\"l-1706\" name=\"l-1706\"></a><span class=\"linenos\">1706</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">uint8_t</span><span class=\"w\"> </span><span class=\"n\">gplp8NumberReadings</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-1707\" name=\"l-1707\"></a><span class=\"linenos\">1707</span><span class=\"c1\">// The manufacturer recommends averaging 10 readings, but we take 5 to minimize</span></div>\n<div class=\"line\"><a id=\"l-1708\" name=\"l-1708\"></a><span class=\"linenos\">1708</span><span class=\"c1\">// power consumption</span></div>\n<div class=\"line\"><a id=\"l-1709\" name=\"l-1709\"></a><span class=\"linenos\">1709</span></div>\n<div class=\"line\"><a id=\"l-1710\" name=\"l-1710\"></a><span class=\"linenos\">1710</span><span class=\"c1\">// Create a GroPoint Profile GPLP-8 sensor object</span></div>\n<div class=\"line\"><a id=\"l-1711\" name=\"l-1711\"></a><span class=\"linenos\">1711</span><span class=\"n\">GroPointGPLP8</span><span class=\"w\"> </span><span class=\"nf\">gplp8</span><span class=\"p\">(</span><span class=\"n\">gplp8ModbusAddress</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">modbusSerial</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">gplp8AdapterPower</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-1712\" name=\"l-1712\"></a><span class=\"linenos\">1712</span><span class=\"w\">                    </span><span class=\"n\">gplp8SensorPower</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">gplp8EnablePin</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">gplp8NumberReadings</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1713\" name=\"l-1713\"></a><span class=\"linenos\">1713</span></div>\n<div class=\"line\"><a id=\"l-1714\" name=\"l-1714\"></a><span class=\"linenos\">1714</span><span class=\"c1\">// Create moisture variable pointers for each segment of the GPLP-8</span></div>\n<div class=\"line\"><a id=\"l-1715\" name=\"l-1715\"></a><span class=\"linenos\">1715</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">gplp8Moist1</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">GroPointGPLP8_Moist</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-1716\" name=\"l-1716\"></a><span class=\"linenos\">1716</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">gplp8</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;GPLP8Moist1&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1717\" name=\"l-1717\"></a><span class=\"linenos\">1717</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">gplp8Moist2</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">GroPointGPLP8_Moist</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-1718\" name=\"l-1718\"></a><span class=\"linenos\">1718</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">gplp8</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;GPLP8Moist2&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1719\" name=\"l-1719\"></a><span class=\"linenos\">1719</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">gplp8Moist3</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">GroPointGPLP8_Moist</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-1720\" name=\"l-1720\"></a><span class=\"linenos\">1720</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">gplp8</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;GPLP8Moist3&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1721\" name=\"l-1721\"></a><span class=\"linenos\">1721</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">gplp8Moist4</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">GroPointGPLP8_Moist</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-1722\" name=\"l-1722\"></a><span class=\"linenos\">1722</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">gplp8</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;GPLP8Moist4&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1723\" name=\"l-1723\"></a><span class=\"linenos\">1723</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">gplp8Moist5</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">GroPointGPLP8_Moist</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-1724\" name=\"l-1724\"></a><span class=\"linenos\">1724</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">gplp8</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mi\">4</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;GPLP8Moist5&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1725\" name=\"l-1725\"></a><span class=\"linenos\">1725</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">gplp8Moist6</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">GroPointGPLP8_Moist</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-1726\" name=\"l-1726\"></a><span class=\"linenos\">1726</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">gplp8</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mi\">5</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;GPLP8Moist6&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1727\" name=\"l-1727\"></a><span class=\"linenos\">1727</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">gplp8Moist7</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">GroPointGPLP8_Moist</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-1728\" name=\"l-1728\"></a><span class=\"linenos\">1728</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">gplp8</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mi\">6</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;GPLP8Moist7&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1729\" name=\"l-1729\"></a><span class=\"linenos\">1729</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">gplp8Moist8</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">GroPointGPLP8_Moist</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-1730\" name=\"l-1730\"></a><span class=\"linenos\">1730</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">gplp8</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mi\">7</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;GPLP8Moist8&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1731\" name=\"l-1731\"></a><span class=\"linenos\">1731</span></div>\n<div class=\"line\"><a id=\"l-1732\" name=\"l-1732\"></a><span class=\"linenos\">1732</span><span class=\"c1\">// Create temperature variable pointers for each sensor of the GPLP-8</span></div>\n<div class=\"line\"><a id=\"l-1733\" name=\"l-1733\"></a><span class=\"linenos\">1733</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">gplp8Temp1</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">GroPointGPLP8_Temp</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-1734\" name=\"l-1734\"></a><span class=\"linenos\">1734</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">gplp8</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mi\">8</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;GPLP8Temp1&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1735\" name=\"l-1735\"></a><span class=\"linenos\">1735</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">gplp8Temp2</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">GroPointGPLP8_Temp</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-1736\" name=\"l-1736\"></a><span class=\"linenos\">1736</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">gplp8</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mi\">9</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;GPLP8Temp1&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1737\" name=\"l-1737\"></a><span class=\"linenos\">1737</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">gplp8Temp3</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">GroPointGPLP8_Temp</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-1738\" name=\"l-1738\"></a><span class=\"linenos\">1738</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">gplp8</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mi\">10</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;GPLP8Temp3&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1739\" name=\"l-1739\"></a><span class=\"linenos\">1739</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">gplp8Temp4</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">GroPointGPLP8_Temp</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-1740\" name=\"l-1740\"></a><span class=\"linenos\">1740</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">gplp8</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mi\">11</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;GPLP8Temp4&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1741\" name=\"l-1741\"></a><span class=\"linenos\">1741</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">gplp8Temp5</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">GroPointGPLP8_Temp</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-1742\" name=\"l-1742\"></a><span class=\"linenos\">1742</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">gplp8</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mi\">12</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;GPLP8Temp5&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1743\" name=\"l-1743\"></a><span class=\"linenos\">1743</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">gplp8Temp6</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">GroPointGPLP8_Temp</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-1744\" name=\"l-1744\"></a><span class=\"linenos\">1744</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">gplp8</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mi\">13</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;GPLP8Temp6&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1745\" name=\"l-1745\"></a><span class=\"linenos\">1745</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">gplp8Temp7</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">GroPointGPLP8_Temp</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-1746\" name=\"l-1746\"></a><span class=\"linenos\">1746</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">gplp8</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mi\">14</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;GPLP8Temp7&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1747\" name=\"l-1747\"></a><span class=\"linenos\">1747</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">gplp8Temp8</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">GroPointGPLP8_Temp</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-1748\" name=\"l-1748\"></a><span class=\"linenos\">1748</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">gplp8</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mi\">15</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;GPLP8Temp8&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1749\" name=\"l-1749\"></a><span class=\"linenos\">1749</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">gplp8Temp9</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">GroPointGPLP8_Temp</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-1750\" name=\"l-1750\"></a><span class=\"linenos\">1750</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">gplp8</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mi\">16</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;GPLP8Temp9&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1751\" name=\"l-1751\"></a><span class=\"linenos\">1751</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">gplp8Temp10</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">GroPointGPLP8_Temp</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-1752\" name=\"l-1752\"></a><span class=\"linenos\">1752</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">gplp8</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mi\">17</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;GPLP8Temp10&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1753\" name=\"l-1753\"></a><span class=\"linenos\">1753</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">gplp8Temp11</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">GroPointGPLP8_Temp</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-1754\" name=\"l-1754\"></a><span class=\"linenos\">1754</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">gplp8</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mi\">18</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;GPLP8Temp11&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1755\" name=\"l-1755\"></a><span class=\"linenos\">1755</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">gplp8Temp12</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">GroPointGPLP8_Temp</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-1756\" name=\"l-1756\"></a><span class=\"linenos\">1756</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">gplp8</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mi\">19</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;GPLP8Temp12&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1757\" name=\"l-1757\"></a><span class=\"linenos\">1757</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">gplp8Temp13</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">GroPointGPLP8_Temp</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-1758\" name=\"l-1758\"></a><span class=\"linenos\">1758</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">gplp8</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mi\">20</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;GPLP8Temp13&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1759\" name=\"l-1759\"></a><span class=\"linenos\">1759</span><span class=\"cm\">/** End [gro_point_gplp8] */</span></div>\n<div class=\"line\"><a id=\"l-1760\" name=\"l-1760\"></a><span class=\"linenos\">1760</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-1761\" name=\"l-1761\"></a><span class=\"linenos\">1761</span></div>\n<div class=\"line\"><a id=\"l-1762\" name=\"l-1762\"></a><span class=\"linenos\">1762</span></div>\n<div class=\"line\"><a id=\"l-1763\" name=\"l-1763\"></a><span class=\"linenos\">1763</span><span class=\"cp\">#if defined(BUILD_SENSOR_IN_SITU_RDO)</span></div>\n<div class=\"line\"><a id=\"l-1764\" name=\"l-1764\"></a><span class=\"linenos\">1764</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-1765\" name=\"l-1765\"></a><span class=\"linenos\">1765</span><span class=\"c1\">//  In-Situ RDO PRO-X Rugged Dissolved Oxygen Probe</span></div>\n<div class=\"line\"><a id=\"l-1766\" name=\"l-1766\"></a><span class=\"linenos\">1766</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-1767\" name=\"l-1767\"></a><span class=\"linenos\">1767</span><span class=\"cm\">/** Start [in_situ_rdo] */</span></div>\n<div class=\"line\"><a id=\"l-1768\" name=\"l-1768\"></a><span class=\"linenos\">1768</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;sensors/InSituRDO.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-1769\" name=\"l-1769\"></a><span class=\"linenos\">1769</span></div>\n<div class=\"line\"><a id=\"l-1770\" name=\"l-1770\"></a><span class=\"linenos\">1770</span><span class=\"c1\">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span></div>\n<div class=\"line\"><a id=\"l-1771\" name=\"l-1771\"></a><span class=\"linenos\">1771</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"w\">   </span><span class=\"n\">RDOSDI12address</span><span class=\"w\">   </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s\">&quot;5&quot;</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// The SDI-12 Address of the RDO PRO-X</span></div>\n<div class=\"line\"><a id=\"l-1772\" name=\"l-1772\"></a><span class=\"linenos\">1772</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">RDOPower</span><span class=\"w\">          </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">sensorPowerPin</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Power pin</span></div>\n<div class=\"line\"><a id=\"l-1773\" name=\"l-1773\"></a><span class=\"linenos\">1773</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">RDOData</span><span class=\"w\">           </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">sdi12DataPin</span><span class=\"p\">;</span><span class=\"w\">    </span><span class=\"c1\">// The SDI-12 data pin</span></div>\n<div class=\"line\"><a id=\"l-1774\" name=\"l-1774\"></a><span class=\"linenos\">1774</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">uint8_t</span><span class=\"w\"> </span><span class=\"n\">RDONumberReadings</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-1775\" name=\"l-1775\"></a><span class=\"linenos\">1775</span></div>\n<div class=\"line\"><a id=\"l-1776\" name=\"l-1776\"></a><span class=\"linenos\">1776</span><span class=\"c1\">// Create an In-Situ RDO PRO-X dissolved oxygen sensor object</span></div>\n<div class=\"line\"><a id=\"l-1777\" name=\"l-1777\"></a><span class=\"linenos\">1777</span><span class=\"n\">InSituRDO</span><span class=\"w\"> </span><span class=\"nf\">insituRDO</span><span class=\"p\">(</span><span class=\"o\">*</span><span class=\"n\">RDOSDI12address</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">RDOPower</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">RDOData</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">RDONumberReadings</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1778\" name=\"l-1778\"></a><span class=\"linenos\">1778</span></div>\n<div class=\"line\"><a id=\"l-1779\" name=\"l-1779\"></a><span class=\"linenos\">1779</span><span class=\"c1\">// Create dissolved oxygen percent, dissolved oxygen concentration, temperature,</span></div>\n<div class=\"line\"><a id=\"l-1780\" name=\"l-1780\"></a><span class=\"linenos\">1780</span><span class=\"c1\">// and oxygen partial pressure variable pointers for the RDO PRO-X</span></div>\n<div class=\"line\"><a id=\"l-1781\" name=\"l-1781\"></a><span class=\"linenos\">1781</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">rdoDOpct</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-1782\" name=\"l-1782\"></a><span class=\"linenos\">1782</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">InSituRDO_DOpct</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">insituRDO</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1783\" name=\"l-1783\"></a><span class=\"linenos\">1783</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">rdoDOmgL</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-1784\" name=\"l-1784\"></a><span class=\"linenos\">1784</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">InSituRDO_DOmgL</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">insituRDO</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1785\" name=\"l-1785\"></a><span class=\"linenos\">1785</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">rdoTemp</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">InSituRDO_Temp</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">insituRDO</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-1786\" name=\"l-1786\"></a><span class=\"linenos\">1786</span><span class=\"w\">                                       </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1787\" name=\"l-1787\"></a><span class=\"linenos\">1787</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">rdoO2pp</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-1788\" name=\"l-1788\"></a><span class=\"linenos\">1788</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">InSituRDO_Pressure</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">insituRDO</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1789\" name=\"l-1789\"></a><span class=\"linenos\">1789</span><span class=\"cm\">/** End [in_situ_rdo] */</span></div>\n<div class=\"line\"><a id=\"l-1790\" name=\"l-1790\"></a><span class=\"linenos\">1790</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-1791\" name=\"l-1791\"></a><span class=\"linenos\">1791</span></div>\n<div class=\"line\"><a id=\"l-1792\" name=\"l-1792\"></a><span class=\"linenos\">1792</span></div>\n<div class=\"line\"><a id=\"l-1793\" name=\"l-1793\"></a><span class=\"linenos\">1793</span><span class=\"cp\">#if defined(BUILD_SENSOR_IN_SITU_TROLL_SDI12A)</span></div>\n<div class=\"line\"><a id=\"l-1794\" name=\"l-1794\"></a><span class=\"linenos\">1794</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-1795\" name=\"l-1795\"></a><span class=\"linenos\">1795</span><span class=\"c1\">//    In-Situ Aqua/Level TROLL Pressure, Temperature, and Depth Sensor</span></div>\n<div class=\"line\"><a id=\"l-1796\" name=\"l-1796\"></a><span class=\"linenos\">1796</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-1797\" name=\"l-1797\"></a><span class=\"linenos\">1797</span><span class=\"cm\">/** Start [in_situ_troll_sdi12a] */</span></div>\n<div class=\"line\"><a id=\"l-1798\" name=\"l-1798\"></a><span class=\"linenos\">1798</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;sensors/InSituTrollSdi12a.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-1799\" name=\"l-1799\"></a><span class=\"linenos\">1799</span></div>\n<div class=\"line\"><a id=\"l-1800\" name=\"l-1800\"></a><span class=\"linenos\">1800</span><span class=\"c1\">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span></div>\n<div class=\"line\"><a id=\"l-1801\" name=\"l-1801\"></a><span class=\"linenos\">1801</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">TROLLSDI12address</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-1802\" name=\"l-1802\"></a><span class=\"linenos\">1802</span><span class=\"w\">    </span><span class=\"s\">&quot;1&quot;</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// The SDI-12 Address of the Aqua/Level TROLL</span></div>\n<div class=\"line\"><a id=\"l-1803\" name=\"l-1803\"></a><span class=\"linenos\">1803</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">TROLLPower</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-1804\" name=\"l-1804\"></a><span class=\"linenos\">1804</span><span class=\"w\">    </span><span class=\"n\">sensorPowerPin</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Pin to switch power on and off (-1 if unconnected)</span></div>\n<div class=\"line\"><a id=\"l-1805\" name=\"l-1805\"></a><span class=\"linenos\">1805</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">TROLLData</span><span class=\"w\">           </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">sdi12DataPin</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// The SDI-12 data pin</span></div>\n<div class=\"line\"><a id=\"l-1806\" name=\"l-1806\"></a><span class=\"linenos\">1806</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">uint8_t</span><span class=\"w\"> </span><span class=\"n\">TROLLNumberReadings</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// The number of readings to average</span></div>\n<div class=\"line\"><a id=\"l-1807\" name=\"l-1807\"></a><span class=\"linenos\">1807</span></div>\n<div class=\"line\"><a id=\"l-1808\" name=\"l-1808\"></a><span class=\"linenos\">1808</span><span class=\"c1\">// Create an In-Situ TROLL sensor object</span></div>\n<div class=\"line\"><a id=\"l-1809\" name=\"l-1809\"></a><span class=\"linenos\">1809</span><span class=\"n\">InSituTrollSdi12a</span><span class=\"w\"> </span><span class=\"nf\">insituTROLL</span><span class=\"p\">(</span><span class=\"o\">*</span><span class=\"n\">TROLLSDI12address</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">TROLLPower</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">TROLLData</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-1810\" name=\"l-1810\"></a><span class=\"linenos\">1810</span><span class=\"w\">                              </span><span class=\"n\">TROLLNumberReadings</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1811\" name=\"l-1811\"></a><span class=\"linenos\">1811</span></div>\n<div class=\"line\"><a id=\"l-1812\" name=\"l-1812\"></a><span class=\"linenos\">1812</span><span class=\"c1\">// Create pressure, temperature, and depth variable pointers for the TROLL</span></div>\n<div class=\"line\"><a id=\"l-1813\" name=\"l-1813\"></a><span class=\"linenos\">1813</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">trollPressure</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">InSituTrollSdi12a_Pressure</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-1814\" name=\"l-1814\"></a><span class=\"linenos\">1814</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">insituTROLL</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1815\" name=\"l-1815\"></a><span class=\"linenos\">1815</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">trollTemp</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">InSituTrollSdi12a_Temp</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-1816\" name=\"l-1816\"></a><span class=\"linenos\">1816</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">insituTROLL</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1817\" name=\"l-1817\"></a><span class=\"linenos\">1817</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">trollDepth</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">InSituTrollSdi12a_Depth</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-1818\" name=\"l-1818\"></a><span class=\"linenos\">1818</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">insituTROLL</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1819\" name=\"l-1819\"></a><span class=\"linenos\">1819</span><span class=\"cm\">/** End [in_situ_troll_sdi12a] */</span></div>\n<div class=\"line\"><a id=\"l-1820\" name=\"l-1820\"></a><span class=\"linenos\">1820</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-1821\" name=\"l-1821\"></a><span class=\"linenos\">1821</span></div>\n<div class=\"line\"><a id=\"l-1822\" name=\"l-1822\"></a><span class=\"linenos\">1822</span></div>\n<div class=\"line\"><a id=\"l-1823\" name=\"l-1823\"></a><span class=\"linenos\">1823</span><span class=\"cp\">#if defined(BUILD_SENSOR_KELLER_ACCULEVEL)</span></div>\n<div class=\"line\"><a id=\"l-1824\" name=\"l-1824\"></a><span class=\"linenos\">1824</span><span class=\"cp\">#ifndef BUILD_MODBUS_SENSOR</span></div>\n<div class=\"line\"><a id=\"l-1825\" name=\"l-1825\"></a><span class=\"linenos\">1825</span><span class=\"cp\">#define BUILD_MODBUS_SENSOR</span></div>\n<div class=\"line\"><a id=\"l-1826\" name=\"l-1826\"></a><span class=\"linenos\">1826</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-1827\" name=\"l-1827\"></a><span class=\"linenos\">1827</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-1828\" name=\"l-1828\"></a><span class=\"linenos\">1828</span><span class=\"c1\">//  Keller Acculevel High Accuracy Submersible Level Transmitter</span></div>\n<div class=\"line\"><a id=\"l-1829\" name=\"l-1829\"></a><span class=\"linenos\">1829</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-1830\" name=\"l-1830\"></a><span class=\"linenos\">1830</span><span class=\"cm\">/** Start [keller_acculevel] */</span></div>\n<div class=\"line\"><a id=\"l-1831\" name=\"l-1831\"></a><span class=\"linenos\">1831</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;sensors/KellerAcculevel.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-1832\" name=\"l-1832\"></a><span class=\"linenos\">1832</span></div>\n<div class=\"line\"><a id=\"l-1833\" name=\"l-1833\"></a><span class=\"linenos\">1833</span><span class=\"c1\">// NOTE: Extra hardware and software serial ports are created in the &quot;Settings</span></div>\n<div class=\"line\"><a id=\"l-1834\" name=\"l-1834\"></a><span class=\"linenos\">1834</span><span class=\"c1\">// for Additional Serial Ports&quot; section</span></div>\n<div class=\"line\"><a id=\"l-1835\" name=\"l-1835\"></a><span class=\"linenos\">1835</span></div>\n<div class=\"line\"><a id=\"l-1836\" name=\"l-1836\"></a><span class=\"linenos\">1836</span><span class=\"c1\">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span></div>\n<div class=\"line\"><a id=\"l-1837\" name=\"l-1837\"></a><span class=\"linenos\">1837</span><span class=\"kr\">byte</span><span class=\"w\"> </span><span class=\"n\">acculevelModbusAddress</span><span class=\"w\">  </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mh\">0x01</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// The modbus address of KellerAcculevel</span></div>\n<div class=\"line\"><a id=\"l-1838\" name=\"l-1838\"></a><span class=\"linenos\">1838</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">acculevelPower</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">relayPowerPin</span><span class=\"p\">;</span><span class=\"w\">   </span><span class=\"c1\">// Acculevel Sensor power pin</span></div>\n<div class=\"line\"><a id=\"l-1839\" name=\"l-1839\"></a><span class=\"linenos\">1839</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">alAdapterPower</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">sensorPowerPin</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// RS485 adapter power pin</span></div>\n<div class=\"line\"><a id=\"l-1840\" name=\"l-1840\"></a><span class=\"linenos\">1840</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">al485EnablePin</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">-1</span><span class=\"p\">;</span><span class=\"w\">              </span><span class=\"c1\">// Adapter RE/DE pin</span></div>\n<div class=\"line\"><a id=\"l-1841\" name=\"l-1841\"></a><span class=\"linenos\">1841</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">uint8_t</span><span class=\"w\"> </span><span class=\"n\">acculevelNumberReadings</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">5</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-1842\" name=\"l-1842\"></a><span class=\"linenos\">1842</span><span class=\"c1\">// The manufacturer recommends taking and averaging a few readings</span></div>\n<div class=\"line\"><a id=\"l-1843\" name=\"l-1843\"></a><span class=\"linenos\">1843</span></div>\n<div class=\"line\"><a id=\"l-1844\" name=\"l-1844\"></a><span class=\"linenos\">1844</span><span class=\"c1\">// Create a Keller Acculevel sensor object</span></div>\n<div class=\"line\"><a id=\"l-1845\" name=\"l-1845\"></a><span class=\"linenos\">1845</span><span class=\"n\">KellerAcculevel</span><span class=\"w\"> </span><span class=\"nf\">acculevel</span><span class=\"p\">(</span><span class=\"n\">acculevelModbusAddress</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">modbusSerial</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">alAdapterPower</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-1846\" name=\"l-1846\"></a><span class=\"linenos\">1846</span><span class=\"w\">                          </span><span class=\"n\">acculevelPower</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">al485EnablePin</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-1847\" name=\"l-1847\"></a><span class=\"linenos\">1847</span><span class=\"w\">                          </span><span class=\"n\">acculevelNumberReadings</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1848\" name=\"l-1848\"></a><span class=\"linenos\">1848</span></div>\n<div class=\"line\"><a id=\"l-1849\" name=\"l-1849\"></a><span class=\"linenos\">1849</span><span class=\"c1\">// Create pressure, temperature, and height variable pointers for the Acculevel</span></div>\n<div class=\"line\"><a id=\"l-1850\" name=\"l-1850\"></a><span class=\"linenos\">1850</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">acculevPress</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">KellerAcculevel_Pressure</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-1851\" name=\"l-1851\"></a><span class=\"linenos\">1851</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">acculevel</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1852\" name=\"l-1852\"></a><span class=\"linenos\">1852</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">acculevTemp</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">KellerAcculevel_Temp</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-1853\" name=\"l-1853\"></a><span class=\"linenos\">1853</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">acculevel</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1854\" name=\"l-1854\"></a><span class=\"linenos\">1854</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">acculevHeight</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">KellerAcculevel_Height</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-1855\" name=\"l-1855\"></a><span class=\"linenos\">1855</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">acculevel</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1856\" name=\"l-1856\"></a><span class=\"linenos\">1856</span><span class=\"cm\">/** End [keller_acculevel] */</span></div>\n<div class=\"line\"><a id=\"l-1857\" name=\"l-1857\"></a><span class=\"linenos\">1857</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-1858\" name=\"l-1858\"></a><span class=\"linenos\">1858</span></div>\n<div class=\"line\"><a id=\"l-1859\" name=\"l-1859\"></a><span class=\"linenos\">1859</span></div>\n<div class=\"line\"><a id=\"l-1860\" name=\"l-1860\"></a><span class=\"linenos\">1860</span><span class=\"cp\">#if defined(BUILD_SENSOR_KELLER_NANOLEVEL)</span></div>\n<div class=\"line\"><a id=\"l-1861\" name=\"l-1861\"></a><span class=\"linenos\">1861</span><span class=\"cp\">#ifndef BUILD_MODBUS_SENSOR</span></div>\n<div class=\"line\"><a id=\"l-1862\" name=\"l-1862\"></a><span class=\"linenos\">1862</span><span class=\"cp\">#define BUILD_MODBUS_SENSOR</span></div>\n<div class=\"line\"><a id=\"l-1863\" name=\"l-1863\"></a><span class=\"linenos\">1863</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-1864\" name=\"l-1864\"></a><span class=\"linenos\">1864</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-1865\" name=\"l-1865\"></a><span class=\"linenos\">1865</span><span class=\"c1\">//  Keller Nanolevel High Accuracy Submersible Level Transmitter</span></div>\n<div class=\"line\"><a id=\"l-1866\" name=\"l-1866\"></a><span class=\"linenos\">1866</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-1867\" name=\"l-1867\"></a><span class=\"linenos\">1867</span><span class=\"cm\">/** Start [keller_nanolevel] */</span></div>\n<div class=\"line\"><a id=\"l-1868\" name=\"l-1868\"></a><span class=\"linenos\">1868</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;sensors/KellerNanolevel.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-1869\" name=\"l-1869\"></a><span class=\"linenos\">1869</span></div>\n<div class=\"line\"><a id=\"l-1870\" name=\"l-1870\"></a><span class=\"linenos\">1870</span><span class=\"c1\">// NOTE: Extra hardware and software serial ports are created in the &quot;Settings</span></div>\n<div class=\"line\"><a id=\"l-1871\" name=\"l-1871\"></a><span class=\"linenos\">1871</span><span class=\"c1\">// for Additional Serial Ports&quot; section</span></div>\n<div class=\"line\"><a id=\"l-1872\" name=\"l-1872\"></a><span class=\"linenos\">1872</span></div>\n<div class=\"line\"><a id=\"l-1873\" name=\"l-1873\"></a><span class=\"linenos\">1873</span><span class=\"c1\">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span></div>\n<div class=\"line\"><a id=\"l-1874\" name=\"l-1874\"></a><span class=\"linenos\">1874</span><span class=\"kr\">byte</span><span class=\"w\"> </span><span class=\"n\">nanolevelModbusAddress</span><span class=\"w\">  </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mh\">0x01</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// The modbus address of KellerNanolevel</span></div>\n<div class=\"line\"><a id=\"l-1875\" name=\"l-1875\"></a><span class=\"linenos\">1875</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">nlAdapterPower</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">sensorPowerPin</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// RS485 adapter power pin</span></div>\n<div class=\"line\"><a id=\"l-1876\" name=\"l-1876\"></a><span class=\"linenos\">1876</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">nanolevelPower</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">relayPowerPin</span><span class=\"p\">;</span><span class=\"w\">   </span><span class=\"c1\">// Sensor power pin</span></div>\n<div class=\"line\"><a id=\"l-1877\" name=\"l-1877\"></a><span class=\"linenos\">1877</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">nl485EnablePin</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">-1</span><span class=\"p\">;</span><span class=\"w\">              </span><span class=\"c1\">// Adapter RE/DE pin</span></div>\n<div class=\"line\"><a id=\"l-1878\" name=\"l-1878\"></a><span class=\"linenos\">1878</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">uint8_t</span><span class=\"w\"> </span><span class=\"n\">nanolevelNumberReadings</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">5</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-1879\" name=\"l-1879\"></a><span class=\"linenos\">1879</span><span class=\"c1\">// The manufacturer recommends taking and averaging a few readings</span></div>\n<div class=\"line\"><a id=\"l-1880\" name=\"l-1880\"></a><span class=\"linenos\">1880</span></div>\n<div class=\"line\"><a id=\"l-1881\" name=\"l-1881\"></a><span class=\"linenos\">1881</span><span class=\"c1\">// Create a Keller Nanolevel sensor object</span></div>\n<div class=\"line\"><a id=\"l-1882\" name=\"l-1882\"></a><span class=\"linenos\">1882</span><span class=\"n\">KellerNanolevel</span><span class=\"w\"> </span><span class=\"nf\">nanolevel</span><span class=\"p\">(</span><span class=\"n\">nanolevelModbusAddress</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">modbusSerial</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">nlAdapterPower</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-1883\" name=\"l-1883\"></a><span class=\"linenos\">1883</span><span class=\"w\">                          </span><span class=\"n\">nanolevelPower</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">nl485EnablePin</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-1884\" name=\"l-1884\"></a><span class=\"linenos\">1884</span><span class=\"w\">                          </span><span class=\"n\">nanolevelNumberReadings</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1885\" name=\"l-1885\"></a><span class=\"linenos\">1885</span></div>\n<div class=\"line\"><a id=\"l-1886\" name=\"l-1886\"></a><span class=\"linenos\">1886</span><span class=\"c1\">// Create pressure, temperature, and height variable pointers for the Nanolevel</span></div>\n<div class=\"line\"><a id=\"l-1887\" name=\"l-1887\"></a><span class=\"linenos\">1887</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">nanolevPress</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">KellerNanolevel_Pressure</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-1888\" name=\"l-1888\"></a><span class=\"linenos\">1888</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">nanolevel</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1889\" name=\"l-1889\"></a><span class=\"linenos\">1889</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">nanolevTemp</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">KellerNanolevel_Temp</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-1890\" name=\"l-1890\"></a><span class=\"linenos\">1890</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">nanolevel</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1891\" name=\"l-1891\"></a><span class=\"linenos\">1891</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">nanolevHeight</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">KellerNanolevel_Height</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-1892\" name=\"l-1892\"></a><span class=\"linenos\">1892</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">nanolevel</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1893\" name=\"l-1893\"></a><span class=\"linenos\">1893</span><span class=\"cm\">/** End [keller_nanolevel] */</span></div>\n<div class=\"line\"><a id=\"l-1894\" name=\"l-1894\"></a><span class=\"linenos\">1894</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-1895\" name=\"l-1895\"></a><span class=\"linenos\">1895</span></div>\n<div class=\"line\"><a id=\"l-1896\" name=\"l-1896\"></a><span class=\"linenos\">1896</span></div>\n<div class=\"line\"><a id=\"l-1897\" name=\"l-1897\"></a><span class=\"linenos\">1897</span><span class=\"cp\">#if defined(BUILD_SENSOR_MAX_BOTIX_SONAR)</span></div>\n<div class=\"line\"><a id=\"l-1898\" name=\"l-1898\"></a><span class=\"linenos\">1898</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-1899\" name=\"l-1899\"></a><span class=\"linenos\">1899</span><span class=\"c1\">//  Maxbotix HRXL Ultrasonic Range Finder</span></div>\n<div class=\"line\"><a id=\"l-1900\" name=\"l-1900\"></a><span class=\"linenos\">1900</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-1901\" name=\"l-1901\"></a><span class=\"linenos\">1901</span><span class=\"cm\">/** Start [max_botix_sonar] */</span></div>\n<div class=\"line\"><a id=\"l-1902\" name=\"l-1902\"></a><span class=\"linenos\">1902</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;sensors/MaxBotixSonar.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-1903\" name=\"l-1903\"></a><span class=\"linenos\">1903</span></div>\n<div class=\"line\"><a id=\"l-1904\" name=\"l-1904\"></a><span class=\"linenos\">1904</span><span class=\"c1\">// A Maxbotix sonar with the trigger pin disconnect CANNOT share the serial port</span></div>\n<div class=\"line\"><a id=\"l-1905\" name=\"l-1905\"></a><span class=\"linenos\">1905</span><span class=\"c1\">// A Maxbotix sonar using the trigger may be able to share but YMMV</span></div>\n<div class=\"line\"><a id=\"l-1906\" name=\"l-1906\"></a><span class=\"linenos\">1906</span></div>\n<div class=\"line\"><a id=\"l-1907\" name=\"l-1907\"></a><span class=\"linenos\">1907</span><span class=\"c1\">// NOTE: Extra hardware and software serial ports are created in the &quot;Settings</span></div>\n<div class=\"line\"><a id=\"l-1908\" name=\"l-1908\"></a><span class=\"linenos\">1908</span><span class=\"c1\">// for Additional Serial Ports&quot; section</span></div>\n<div class=\"line\"><a id=\"l-1909\" name=\"l-1909\"></a><span class=\"linenos\">1909</span></div>\n<div class=\"line\"><a id=\"l-1910\" name=\"l-1910\"></a><span class=\"linenos\">1910</span><span class=\"c1\">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span></div>\n<div class=\"line\"><a id=\"l-1911\" name=\"l-1911\"></a><span class=\"linenos\">1911</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">SonarPower</span><span class=\"w\">    </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">sensorPowerPin</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Excite (power) pin</span></div>\n<div class=\"line\"><a id=\"l-1912\" name=\"l-1912\"></a><span class=\"linenos\">1912</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">Sonar1Trigger</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">-1</span><span class=\"p\">;</span><span class=\"w\">              </span><span class=\"c1\">// Trigger pin</span></div>\n<div class=\"line\"><a id=\"l-1913\" name=\"l-1913\"></a><span class=\"linenos\">1913</span><span class=\"c1\">// Trigger should be a *unique* negative number if unconnected</span></div>\n<div class=\"line\"><a id=\"l-1914\" name=\"l-1914\"></a><span class=\"linenos\">1914</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int16_t</span><span class=\"w\"> </span><span class=\"n\">Sonar1MaxRange</span><span class=\"w\">       </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">9999</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Maximum range of sonar</span></div>\n<div class=\"line\"><a id=\"l-1915\" name=\"l-1915\"></a><span class=\"linenos\">1915</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">uint8_t</span><span class=\"w\"> </span><span class=\"n\">sonar1NumberReadings</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"p\">;</span><span class=\"w\">     </span><span class=\"c1\">// The number of readings to average</span></div>\n<div class=\"line\"><a id=\"l-1916\" name=\"l-1916\"></a><span class=\"linenos\">1916</span></div>\n<div class=\"line\"><a id=\"l-1917\" name=\"l-1917\"></a><span class=\"linenos\">1917</span><span class=\"c1\">// Create a MaxBotix Sonar sensor object</span></div>\n<div class=\"line\"><a id=\"l-1918\" name=\"l-1918\"></a><span class=\"linenos\">1918</span><span class=\"n\">MaxBotixSonar</span><span class=\"w\"> </span><span class=\"nf\">sonar1</span><span class=\"p\">(</span><span class=\"n\">sonarSerial</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">SonarPower</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">Sonar1Trigger</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">Sonar1MaxRange</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-1919\" name=\"l-1919\"></a><span class=\"linenos\">1919</span><span class=\"w\">                     </span><span class=\"n\">sonar1NumberReadings</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1920\" name=\"l-1920\"></a><span class=\"linenos\">1920</span></div>\n<div class=\"line\"><a id=\"l-1921\" name=\"l-1921\"></a><span class=\"linenos\">1921</span><span class=\"c1\">// Create an ultrasonic range variable pointer</span></div>\n<div class=\"line\"><a id=\"l-1922\" name=\"l-1922\"></a><span class=\"linenos\">1922</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">sonar1Range</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-1923\" name=\"l-1923\"></a><span class=\"linenos\">1923</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">MaxBotixSonar_Range</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">sonar1</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1924\" name=\"l-1924\"></a><span class=\"linenos\">1924</span><span class=\"cm\">/** End [max_botix_sonar] */</span></div>\n<div class=\"line\"><a id=\"l-1925\" name=\"l-1925\"></a><span class=\"linenos\">1925</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-1926\" name=\"l-1926\"></a><span class=\"linenos\">1926</span></div>\n<div class=\"line\"><a id=\"l-1927\" name=\"l-1927\"></a><span class=\"linenos\">1927</span></div>\n<div class=\"line\"><a id=\"l-1928\" name=\"l-1928\"></a><span class=\"linenos\">1928</span><span class=\"cp\">#if defined(BUILD_SENSOR_MAXIM_DS18) || \\</span></div>\n<div class=\"line\"><a id=\"l-1929\" name=\"l-1929\"></a><span class=\"linenos\">1929</span><span class=\"cp\">    defined(BUILD_SENSOR_ANALOG_ELEC_CONDUCTIVITY)</span></div>\n<div class=\"line\"><a id=\"l-1930\" name=\"l-1930\"></a><span class=\"linenos\">1930</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-1931\" name=\"l-1931\"></a><span class=\"linenos\">1931</span><span class=\"c1\">//  Maxim DS18 One Wire Temperature Sensor</span></div>\n<div class=\"line\"><a id=\"l-1932\" name=\"l-1932\"></a><span class=\"linenos\">1932</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-1933\" name=\"l-1933\"></a><span class=\"linenos\">1933</span><span class=\"cm\">/** Start [maxim_ds18] */</span></div>\n<div class=\"line\"><a id=\"l-1934\" name=\"l-1934\"></a><span class=\"linenos\">1934</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;sensors/MaximDS18.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-1935\" name=\"l-1935\"></a><span class=\"linenos\">1935</span></div>\n<div class=\"line\"><a id=\"l-1936\" name=\"l-1936\"></a><span class=\"linenos\">1936</span><span class=\"c1\">// OneWire Address [array of 8 hex characters]</span></div>\n<div class=\"line\"><a id=\"l-1937\" name=\"l-1937\"></a><span class=\"linenos\">1937</span><span class=\"c1\">// If only using a single sensor on the OneWire bus, you may omit the address</span></div>\n<div class=\"line\"><a id=\"l-1938\" name=\"l-1938\"></a><span class=\"linenos\">1938</span><span class=\"n\">DeviceAddress</span><span class=\"w\"> </span><span class=\"n\">OneWireAddress1</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"mh\">0x28</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mh\">0xFF</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mh\">0xBD</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mh\">0xBA</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-1939\" name=\"l-1939\"></a><span class=\"linenos\">1939</span><span class=\"w\">                                 </span><span class=\"mh\">0x81</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mh\">0x16</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mh\">0x03</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mh\">0x0C</span><span class=\"p\">};</span></div>\n<div class=\"line\"><a id=\"l-1940\" name=\"l-1940\"></a><span class=\"linenos\">1940</span><span class=\"c1\">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span></div>\n<div class=\"line\"><a id=\"l-1941\" name=\"l-1941\"></a><span class=\"linenos\">1941</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">OneWirePower</span><span class=\"w\">       </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">sensorPowerPin</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Power pin</span></div>\n<div class=\"line\"><a id=\"l-1942\" name=\"l-1942\"></a><span class=\"linenos\">1942</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">OneWireBus</span><span class=\"w\">         </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">A0</span><span class=\"p\">;</span><span class=\"w\">              </span><span class=\"c1\">// OneWire Bus Pin</span></div>\n<div class=\"line\"><a id=\"l-1943\" name=\"l-1943\"></a><span class=\"linenos\">1943</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">ds18NumberReadings</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-1944\" name=\"l-1944\"></a><span class=\"linenos\">1944</span></div>\n<div class=\"line\"><a id=\"l-1945\" name=\"l-1945\"></a><span class=\"linenos\">1945</span><span class=\"c1\">// Create a Maxim DS18 sensor objects (use this form for a known address)</span></div>\n<div class=\"line\"><a id=\"l-1946\" name=\"l-1946\"></a><span class=\"linenos\">1946</span><span class=\"n\">MaximDS18</span><span class=\"w\"> </span><span class=\"nf\">ds18</span><span class=\"p\">(</span><span class=\"n\">OneWireAddress1</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">OneWirePower</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">OneWireBus</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">ds18NumberReadings</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1947\" name=\"l-1947\"></a><span class=\"linenos\">1947</span></div>\n<div class=\"line\"><a id=\"l-1948\" name=\"l-1948\"></a><span class=\"linenos\">1948</span><span class=\"c1\">// Create a Maxim DS18 sensor object (use this form for a single sensor on bus</span></div>\n<div class=\"line\"><a id=\"l-1949\" name=\"l-1949\"></a><span class=\"linenos\">1949</span><span class=\"c1\">// with an unknown address)</span></div>\n<div class=\"line\"><a id=\"l-1950\" name=\"l-1950\"></a><span class=\"linenos\">1950</span><span class=\"c1\">// MaximDS18 ds18(OneWirePower, OneWireBus);</span></div>\n<div class=\"line\"><a id=\"l-1951\" name=\"l-1951\"></a><span class=\"linenos\">1951</span></div>\n<div class=\"line\"><a id=\"l-1952\" name=\"l-1952\"></a><span class=\"linenos\">1952</span><span class=\"c1\">// Create a temperature variable pointer for the DS18</span></div>\n<div class=\"line\"><a id=\"l-1953\" name=\"l-1953\"></a><span class=\"linenos\">1953</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">ds18Temp</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">MaximDS18_Temp</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">ds18</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-1954\" name=\"l-1954\"></a><span class=\"linenos\">1954</span><span class=\"w\">                                        </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1955\" name=\"l-1955\"></a><span class=\"linenos\">1955</span><span class=\"cm\">/** End [maxim_ds18] */</span></div>\n<div class=\"line\"><a id=\"l-1956\" name=\"l-1956\"></a><span class=\"linenos\">1956</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-1957\" name=\"l-1957\"></a><span class=\"linenos\">1957</span></div>\n<div class=\"line\"><a id=\"l-1958\" name=\"l-1958\"></a><span class=\"linenos\">1958</span></div>\n<div class=\"line\"><a id=\"l-1959\" name=\"l-1959\"></a><span class=\"linenos\">1959</span><span class=\"cp\">#if defined(BUILD_SENSOR_MEA_SPEC_MS5803)</span></div>\n<div class=\"line\"><a id=\"l-1960\" name=\"l-1960\"></a><span class=\"linenos\">1960</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-1961\" name=\"l-1961\"></a><span class=\"linenos\">1961</span><span class=\"c1\">//  Measurement Specialties MS5803-14BA pressure sensor</span></div>\n<div class=\"line\"><a id=\"l-1962\" name=\"l-1962\"></a><span class=\"linenos\">1962</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-1963\" name=\"l-1963\"></a><span class=\"linenos\">1963</span><span class=\"cm\">/** Start [mea_spec_ms5803] */</span></div>\n<div class=\"line\"><a id=\"l-1964\" name=\"l-1964\"></a><span class=\"linenos\">1964</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;sensors/MeaSpecMS5803.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-1965\" name=\"l-1965\"></a><span class=\"linenos\">1965</span></div>\n<div class=\"line\"><a id=\"l-1966\" name=\"l-1966\"></a><span class=\"linenos\">1966</span><span class=\"c1\">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span></div>\n<div class=\"line\"><a id=\"l-1967\" name=\"l-1967\"></a><span class=\"linenos\">1967</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">MS5803Power</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">sensorPowerPin</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Power pin</span></div>\n<div class=\"line\"><a id=\"l-1968\" name=\"l-1968\"></a><span class=\"linenos\">1968</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">uint8_t</span><span class=\"w\"> </span><span class=\"n\">MS5803i2c_addr</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-1969\" name=\"l-1969\"></a><span class=\"linenos\">1969</span><span class=\"w\">    </span><span class=\"mh\">0x76</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// The MS5803 can be addressed either as 0x76 (default) or 0x77</span></div>\n<div class=\"line\"><a id=\"l-1970\" name=\"l-1970\"></a><span class=\"linenos\">1970</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int16_t</span><span class=\"w\"> </span><span class=\"n\">MS5803maxPressure</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-1971\" name=\"l-1971\"></a><span class=\"linenos\">1971</span><span class=\"w\">    </span><span class=\"mi\">14</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// The maximum pressure measurable by the specific MS5803 model</span></div>\n<div class=\"line\"><a id=\"l-1972\" name=\"l-1972\"></a><span class=\"linenos\">1972</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">uint8_t</span><span class=\"w\"> </span><span class=\"n\">MS5803ReadingsToAvg</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-1973\" name=\"l-1973\"></a><span class=\"linenos\">1973</span></div>\n<div class=\"line\"><a id=\"l-1974\" name=\"l-1974\"></a><span class=\"linenos\">1974</span><span class=\"c1\">// Create a MeaSpec MS5803 pressure and temperature sensor object</span></div>\n<div class=\"line\"><a id=\"l-1975\" name=\"l-1975\"></a><span class=\"linenos\">1975</span><span class=\"n\">MeaSpecMS5803</span><span class=\"w\"> </span><span class=\"nf\">ms5803</span><span class=\"p\">(</span><span class=\"n\">MS5803Power</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">MS5803i2c_addr</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">MS5803maxPressure</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-1976\" name=\"l-1976\"></a><span class=\"linenos\">1976</span><span class=\"w\">                     </span><span class=\"n\">MS5803ReadingsToAvg</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1977\" name=\"l-1977\"></a><span class=\"linenos\">1977</span></div>\n<div class=\"line\"><a id=\"l-1978\" name=\"l-1978\"></a><span class=\"linenos\">1978</span><span class=\"c1\">// Create pressure and temperature variable pointers for the MS5803</span></div>\n<div class=\"line\"><a id=\"l-1979\" name=\"l-1979\"></a><span class=\"linenos\">1979</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">ms5803Press</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-1980\" name=\"l-1980\"></a><span class=\"linenos\">1980</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">MeaSpecMS5803_Pressure</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">ms5803</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1981\" name=\"l-1981\"></a><span class=\"linenos\">1981</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">ms5803Temp</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-1982\" name=\"l-1982\"></a><span class=\"linenos\">1982</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">MeaSpecMS5803_Temp</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">ms5803</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-1983\" name=\"l-1983\"></a><span class=\"linenos\">1983</span><span class=\"cm\">/** End [mea_spec_ms5803] */</span></div>\n<div class=\"line\"><a id=\"l-1984\" name=\"l-1984\"></a><span class=\"linenos\">1984</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-1985\" name=\"l-1985\"></a><span class=\"linenos\">1985</span></div>\n<div class=\"line\"><a id=\"l-1986\" name=\"l-1986\"></a><span class=\"linenos\">1986</span></div>\n<div class=\"line\"><a id=\"l-1987\" name=\"l-1987\"></a><span class=\"linenos\">1987</span><span class=\"cp\">#if defined(BUILD_SENSOR_DECAGON_5TM)</span></div>\n<div class=\"line\"><a id=\"l-1988\" name=\"l-1988\"></a><span class=\"linenos\">1988</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-1989\" name=\"l-1989\"></a><span class=\"linenos\">1989</span><span class=\"c1\">//  Meter ECH2O Soil Moisture Sensor</span></div>\n<div class=\"line\"><a id=\"l-1990\" name=\"l-1990\"></a><span class=\"linenos\">1990</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-1991\" name=\"l-1991\"></a><span class=\"linenos\">1991</span><span class=\"cm\">/** Start [decagon_5tm] */</span></div>\n<div class=\"line\"><a id=\"l-1992\" name=\"l-1992\"></a><span class=\"linenos\">1992</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;sensors/Decagon5TM.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-1993\" name=\"l-1993\"></a><span class=\"linenos\">1993</span></div>\n<div class=\"line\"><a id=\"l-1994\" name=\"l-1994\"></a><span class=\"linenos\">1994</span><span class=\"c1\">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span></div>\n<div class=\"line\"><a id=\"l-1995\" name=\"l-1995\"></a><span class=\"linenos\">1995</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"w\">  </span><span class=\"n\">TMSDI12address</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s\">&quot;2&quot;</span><span class=\"p\">;</span><span class=\"w\">             </span><span class=\"c1\">// The SDI-12 Address of the 5-TM</span></div>\n<div class=\"line\"><a id=\"l-1996\" name=\"l-1996\"></a><span class=\"linenos\">1996</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">TMPower</span><span class=\"w\">        </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">sensorPowerPin</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Power pin</span></div>\n<div class=\"line\"><a id=\"l-1997\" name=\"l-1997\"></a><span class=\"linenos\">1997</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">TMData</span><span class=\"w\">         </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">sdi12DataPin</span><span class=\"p\">;</span><span class=\"w\">    </span><span class=\"c1\">// The SDI-12 data pin</span></div>\n<div class=\"line\"><a id=\"l-1998\" name=\"l-1998\"></a><span class=\"linenos\">1998</span></div>\n<div class=\"line\"><a id=\"l-1999\" name=\"l-1999\"></a><span class=\"linenos\">1999</span><span class=\"c1\">// Create a Decagon 5TM sensor object</span></div>\n<div class=\"line\"><a id=\"l-2000\" name=\"l-2000\"></a><span class=\"linenos\">2000</span><span class=\"n\">Decagon5TM</span><span class=\"w\"> </span><span class=\"nf\">fivetm</span><span class=\"p\">(</span><span class=\"o\">*</span><span class=\"n\">TMSDI12address</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">TMPower</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">TMData</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2001\" name=\"l-2001\"></a><span class=\"linenos\">2001</span></div>\n<div class=\"line\"><a id=\"l-2002\" name=\"l-2002\"></a><span class=\"linenos\">2002</span><span class=\"c1\">// Create the matric potential, volumetric water content, and temperature</span></div>\n<div class=\"line\"><a id=\"l-2003\" name=\"l-2003\"></a><span class=\"linenos\">2003</span><span class=\"c1\">// variable pointers for the 5TM</span></div>\n<div class=\"line\"><a id=\"l-2004\" name=\"l-2004\"></a><span class=\"linenos\">2004</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">fivetmEa</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">Decagon5TM_Ea</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">fivetm</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-2005\" name=\"l-2005\"></a><span class=\"linenos\">2005</span><span class=\"w\">                                       </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2006\" name=\"l-2006\"></a><span class=\"linenos\">2006</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">fivetmVWC</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-2007\" name=\"l-2007\"></a><span class=\"linenos\">2007</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">Decagon5TM_VWC</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">fivetm</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2008\" name=\"l-2008\"></a><span class=\"linenos\">2008</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">fivetmTemp</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-2009\" name=\"l-2009\"></a><span class=\"linenos\">2009</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">Decagon5TM_Temp</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">fivetm</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2010\" name=\"l-2010\"></a><span class=\"linenos\">2010</span><span class=\"cm\">/** End [decagon_5tm] */</span></div>\n<div class=\"line\"><a id=\"l-2011\" name=\"l-2011\"></a><span class=\"linenos\">2011</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-2012\" name=\"l-2012\"></a><span class=\"linenos\">2012</span></div>\n<div class=\"line\"><a id=\"l-2013\" name=\"l-2013\"></a><span class=\"linenos\">2013</span></div>\n<div class=\"line\"><a id=\"l-2014\" name=\"l-2014\"></a><span class=\"linenos\">2014</span><span class=\"cp\">#if defined(BUILD_SENSOR_METER_HYDROS21)</span></div>\n<div class=\"line\"><a id=\"l-2015\" name=\"l-2015\"></a><span class=\"linenos\">2015</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-2016\" name=\"l-2016\"></a><span class=\"linenos\">2016</span><span class=\"c1\">//  Meter Hydros 21 Conductivity, Temperature, and Depth Sensor</span></div>\n<div class=\"line\"><a id=\"l-2017\" name=\"l-2017\"></a><span class=\"linenos\">2017</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-2018\" name=\"l-2018\"></a><span class=\"linenos\">2018</span><span class=\"cm\">/** Start [meter_hydros21] */</span></div>\n<div class=\"line\"><a id=\"l-2019\" name=\"l-2019\"></a><span class=\"linenos\">2019</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;sensors/MeterHydros21.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-2020\" name=\"l-2020\"></a><span class=\"linenos\">2020</span></div>\n<div class=\"line\"><a id=\"l-2021\" name=\"l-2021\"></a><span class=\"linenos\">2021</span><span class=\"c1\">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span></div>\n<div class=\"line\"><a id=\"l-2022\" name=\"l-2022\"></a><span class=\"linenos\">2022</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"w\">   </span><span class=\"n\">hydros21SDI12address</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s\">&quot;1&quot;</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// The SDI-12 Address of the Hydros21</span></div>\n<div class=\"line\"><a id=\"l-2023\" name=\"l-2023\"></a><span class=\"linenos\">2023</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">uint8_t</span><span class=\"w\"> </span><span class=\"n\">hydros21NumberReadings</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">6</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// The number of readings to average</span></div>\n<div class=\"line\"><a id=\"l-2024\" name=\"l-2024\"></a><span class=\"linenos\">2024</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">hydros21Power</span><span class=\"w\">          </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">sensorPowerPin</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Power pin</span></div>\n<div class=\"line\"><a id=\"l-2025\" name=\"l-2025\"></a><span class=\"linenos\">2025</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">hydros21Data</span><span class=\"w\">           </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">sdi12DataPin</span><span class=\"p\">;</span><span class=\"w\">    </span><span class=\"c1\">// The SDI-12 data pin</span></div>\n<div class=\"line\"><a id=\"l-2026\" name=\"l-2026\"></a><span class=\"linenos\">2026</span></div>\n<div class=\"line\"><a id=\"l-2027\" name=\"l-2027\"></a><span class=\"linenos\">2027</span><span class=\"c1\">// Create a Decagon Hydros21 sensor object</span></div>\n<div class=\"line\"><a id=\"l-2028\" name=\"l-2028\"></a><span class=\"linenos\">2028</span><span class=\"n\">MeterHydros21</span><span class=\"w\"> </span><span class=\"nf\">hydros21</span><span class=\"p\">(</span><span class=\"o\">*</span><span class=\"n\">hydros21SDI12address</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">hydros21Power</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">hydros21Data</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-2029\" name=\"l-2029\"></a><span class=\"linenos\">2029</span><span class=\"w\">                       </span><span class=\"n\">hydros21NumberReadings</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2030\" name=\"l-2030\"></a><span class=\"linenos\">2030</span></div>\n<div class=\"line\"><a id=\"l-2031\" name=\"l-2031\"></a><span class=\"linenos\">2031</span><span class=\"c1\">// Create conductivity, temperature, and depth variable pointers for the</span></div>\n<div class=\"line\"><a id=\"l-2032\" name=\"l-2032\"></a><span class=\"linenos\">2032</span><span class=\"c1\">// Hydros21</span></div>\n<div class=\"line\"><a id=\"l-2033\" name=\"l-2033\"></a><span class=\"linenos\">2033</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">hydros21Cond</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-2034\" name=\"l-2034\"></a><span class=\"linenos\">2034</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">MeterHydros21_Cond</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">hydros21</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2035\" name=\"l-2035\"></a><span class=\"linenos\">2035</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">hydros21Temp</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-2036\" name=\"l-2036\"></a><span class=\"linenos\">2036</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">MeterHydros21_Temp</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">hydros21</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2037\" name=\"l-2037\"></a><span class=\"linenos\">2037</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">hydros21Depth</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-2038\" name=\"l-2038\"></a><span class=\"linenos\">2038</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">MeterHydros21_Depth</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">hydros21</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2039\" name=\"l-2039\"></a><span class=\"linenos\">2039</span><span class=\"cm\">/** End [meter_hydros21] */</span></div>\n<div class=\"line\"><a id=\"l-2040\" name=\"l-2040\"></a><span class=\"linenos\">2040</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-2041\" name=\"l-2041\"></a><span class=\"linenos\">2041</span></div>\n<div class=\"line\"><a id=\"l-2042\" name=\"l-2042\"></a><span class=\"linenos\">2042</span></div>\n<div class=\"line\"><a id=\"l-2043\" name=\"l-2043\"></a><span class=\"linenos\">2043</span><span class=\"cp\">#if defined(BUILD_SENSOR_METER_TEROS11)</span></div>\n<div class=\"line\"><a id=\"l-2044\" name=\"l-2044\"></a><span class=\"linenos\">2044</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-2045\" name=\"l-2045\"></a><span class=\"linenos\">2045</span><span class=\"c1\">//  Meter Teros 11 Soil Moisture Sensor</span></div>\n<div class=\"line\"><a id=\"l-2046\" name=\"l-2046\"></a><span class=\"linenos\">2046</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-2047\" name=\"l-2047\"></a><span class=\"linenos\">2047</span><span class=\"cm\">/** Start [meter_teros11] */</span></div>\n<div class=\"line\"><a id=\"l-2048\" name=\"l-2048\"></a><span class=\"linenos\">2048</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;sensors/MeterTeros11.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-2049\" name=\"l-2049\"></a><span class=\"linenos\">2049</span></div>\n<div class=\"line\"><a id=\"l-2050\" name=\"l-2050\"></a><span class=\"linenos\">2050</span><span class=\"c1\">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span></div>\n<div class=\"line\"><a id=\"l-2051\" name=\"l-2051\"></a><span class=\"linenos\">2051</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"w\">   </span><span class=\"n\">teros11SDI12address</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s\">&quot;4&quot;</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// The SDI-12 Address of the Teros 11</span></div>\n<div class=\"line\"><a id=\"l-2052\" name=\"l-2052\"></a><span class=\"linenos\">2052</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">terosPower</span><span class=\"w\">          </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">sensorPowerPin</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Power pin</span></div>\n<div class=\"line\"><a id=\"l-2053\" name=\"l-2053\"></a><span class=\"linenos\">2053</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">terosData</span><span class=\"w\">           </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">sdi12DataPin</span><span class=\"p\">;</span><span class=\"w\">    </span><span class=\"c1\">// The SDI-12 data pin</span></div>\n<div class=\"line\"><a id=\"l-2054\" name=\"l-2054\"></a><span class=\"linenos\">2054</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">uint8_t</span><span class=\"w\"> </span><span class=\"n\">teros11NumberReadings</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// The number of readings to average</span></div>\n<div class=\"line\"><a id=\"l-2055\" name=\"l-2055\"></a><span class=\"linenos\">2055</span></div>\n<div class=\"line\"><a id=\"l-2056\" name=\"l-2056\"></a><span class=\"linenos\">2056</span><span class=\"c1\">// Create a METER TEROS 11 sensor object</span></div>\n<div class=\"line\"><a id=\"l-2057\" name=\"l-2057\"></a><span class=\"linenos\">2057</span><span class=\"n\">MeterTeros11</span><span class=\"w\"> </span><span class=\"nf\">teros11</span><span class=\"p\">(</span><span class=\"o\">*</span><span class=\"n\">teros11SDI12address</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">terosPower</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">terosData</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-2058\" name=\"l-2058\"></a><span class=\"linenos\">2058</span><span class=\"w\">                     </span><span class=\"n\">teros11NumberReadings</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2059\" name=\"l-2059\"></a><span class=\"linenos\">2059</span></div>\n<div class=\"line\"><a id=\"l-2060\" name=\"l-2060\"></a><span class=\"linenos\">2060</span><span class=\"c1\">// Create the matric potential, volumetric water content, and temperature</span></div>\n<div class=\"line\"><a id=\"l-2061\" name=\"l-2061\"></a><span class=\"linenos\">2061</span><span class=\"c1\">// variable pointers for the Teros 11</span></div>\n<div class=\"line\"><a id=\"l-2062\" name=\"l-2062\"></a><span class=\"linenos\">2062</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">teros11Ea</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-2063\" name=\"l-2063\"></a><span class=\"linenos\">2063</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">MeterTeros11_Ea</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">teros11</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2064\" name=\"l-2064\"></a><span class=\"linenos\">2064</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">teros11Temp</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-2065\" name=\"l-2065\"></a><span class=\"linenos\">2065</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">MeterTeros11_Temp</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">teros11</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2066\" name=\"l-2066\"></a><span class=\"linenos\">2066</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">teros11VWC</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-2067\" name=\"l-2067\"></a><span class=\"linenos\">2067</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">MeterTeros11_VWC</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">teros11</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2068\" name=\"l-2068\"></a><span class=\"linenos\">2068</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">teros11Count</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-2069\" name=\"l-2069\"></a><span class=\"linenos\">2069</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">MeterTeros11_Count</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">teros11</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2070\" name=\"l-2070\"></a><span class=\"linenos\">2070</span><span class=\"cm\">/** End [meter_teros11] */</span></div>\n<div class=\"line\"><a id=\"l-2071\" name=\"l-2071\"></a><span class=\"linenos\">2071</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-2072\" name=\"l-2072\"></a><span class=\"linenos\">2072</span></div>\n<div class=\"line\"><a id=\"l-2073\" name=\"l-2073\"></a><span class=\"linenos\">2073</span></div>\n<div class=\"line\"><a id=\"l-2074\" name=\"l-2074\"></a><span class=\"linenos\">2074</span><span class=\"cp\">#if defined(BUILD_SENSOR_PALEO_TERRA_REDOX)</span></div>\n<div class=\"line\"><a id=\"l-2075\" name=\"l-2075\"></a><span class=\"linenos\">2075</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-2076\" name=\"l-2076\"></a><span class=\"linenos\">2076</span><span class=\"c1\">//  PaleoTerra Redox Sensors</span></div>\n<div class=\"line\"><a id=\"l-2077\" name=\"l-2077\"></a><span class=\"linenos\">2077</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-2078\" name=\"l-2078\"></a><span class=\"linenos\">2078</span><span class=\"cm\">/** Start [paleo_terra_redox] */</span></div>\n<div class=\"line\"><a id=\"l-2079\" name=\"l-2079\"></a><span class=\"linenos\">2079</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;sensors/PaleoTerraRedox.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-2080\" name=\"l-2080\"></a><span class=\"linenos\">2080</span></div>\n<div class=\"line\"><a id=\"l-2081\" name=\"l-2081\"></a><span class=\"linenos\">2081</span><span class=\"c1\">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span></div>\n<div class=\"line\"><a id=\"l-2082\" name=\"l-2082\"></a><span class=\"linenos\">2082</span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">paleoTerraPower</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">sensorPowerPin</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Power pin</span></div>\n<div class=\"line\"><a id=\"l-2083\" name=\"l-2083\"></a><span class=\"linenos\">2083</span><span class=\"kr\">uint8_t</span><span class=\"w\"> </span><span class=\"n\">paleoI2CAddress</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mh\">0x68</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// the I2C address of the redox sensor</span></div>\n<div class=\"line\"><a id=\"l-2084\" name=\"l-2084\"></a><span class=\"linenos\">2084</span></div>\n<div class=\"line\"><a id=\"l-2085\" name=\"l-2085\"></a><span class=\"linenos\">2085</span><span class=\"c1\">// Create the PaleoTerra sensor object</span></div>\n<div class=\"line\"><a id=\"l-2086\" name=\"l-2086\"></a><span class=\"linenos\">2086</span><span class=\"cp\">#if defined(MS_PALEOTERRA_SOFTWAREWIRE)</span></div>\n<div class=\"line\"><a id=\"l-2087\" name=\"l-2087\"></a><span class=\"linenos\">2087</span><span class=\"n\">PaleoTerraRedox</span><span class=\"w\"> </span><span class=\"nf\">ptRedox</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">softI2C</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">paleoTerraPower</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">paleoI2CAddress</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2088\" name=\"l-2088\"></a><span class=\"linenos\">2088</span><span class=\"c1\">// PaleoTerraRedox ptRedox(paleoTerraPower, softwareSDA, softwareSCL,</span></div>\n<div class=\"line\"><a id=\"l-2089\" name=\"l-2089\"></a><span class=\"linenos\">2089</span><span class=\"c1\">// paleoI2CAddress);</span></div>\n<div class=\"line\"><a id=\"l-2090\" name=\"l-2090\"></a><span class=\"linenos\">2090</span><span class=\"cp\">#else</span></div>\n<div class=\"line\"><a id=\"l-2091\" name=\"l-2091\"></a><span class=\"linenos\">2091</span><span class=\"n\">PaleoTerraRedox</span><span class=\"w\"> </span><span class=\"nf\">ptRedox</span><span class=\"p\">(</span><span class=\"n\">paleoTerraPower</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">paleoI2CAddress</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2092\" name=\"l-2092\"></a><span class=\"linenos\">2092</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-2093\" name=\"l-2093\"></a><span class=\"linenos\">2093</span></div>\n<div class=\"line\"><a id=\"l-2094\" name=\"l-2094\"></a><span class=\"linenos\">2094</span><span class=\"c1\">// Create the voltage variable for the redox sensor</span></div>\n<div class=\"line\"><a id=\"l-2095\" name=\"l-2095\"></a><span class=\"linenos\">2095</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">ptVolt</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">PaleoTerraRedox_Voltage</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-2096\" name=\"l-2096\"></a><span class=\"linenos\">2096</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">ptRedox</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2097\" name=\"l-2097\"></a><span class=\"linenos\">2097</span><span class=\"cm\">/** End [paleo_terra_redox] */</span></div>\n<div class=\"line\"><a id=\"l-2098\" name=\"l-2098\"></a><span class=\"linenos\">2098</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-2099\" name=\"l-2099\"></a><span class=\"linenos\">2099</span></div>\n<div class=\"line\"><a id=\"l-2100\" name=\"l-2100\"></a><span class=\"linenos\">2100</span></div>\n<div class=\"line\"><a id=\"l-2101\" name=\"l-2101\"></a><span class=\"linenos\">2101</span><span class=\"cp\">#if defined(BUILD_SENSOR_RAIN_COUNTER_I2C)</span></div>\n<div class=\"line\"><a id=\"l-2102\" name=\"l-2102\"></a><span class=\"linenos\">2102</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-2103\" name=\"l-2103\"></a><span class=\"linenos\">2103</span><span class=\"c1\">//  External I2C Rain Tipping Bucket Counter</span></div>\n<div class=\"line\"><a id=\"l-2104\" name=\"l-2104\"></a><span class=\"linenos\">2104</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-2105\" name=\"l-2105\"></a><span class=\"linenos\">2105</span><span class=\"cm\">/** Start [rain_counter_i2c] */</span></div>\n<div class=\"line\"><a id=\"l-2106\" name=\"l-2106\"></a><span class=\"linenos\">2106</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;sensors/RainCounterI2C.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-2107\" name=\"l-2107\"></a><span class=\"linenos\">2107</span></div>\n<div class=\"line\"><a id=\"l-2108\" name=\"l-2108\"></a><span class=\"linenos\">2108</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">uint8_t</span><span class=\"w\"> </span><span class=\"n\">RainCounterI2CAddress</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mh\">0x08</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-2109\" name=\"l-2109\"></a><span class=\"linenos\">2109</span><span class=\"c1\">// I2C Address for EnviroDIY external tip counter; 0x08 by default</span></div>\n<div class=\"line\"><a id=\"l-2110\" name=\"l-2110\"></a><span class=\"linenos\">2110</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">float</span><span class=\"w\"> </span><span class=\"n\">depthPerTipEvent</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mf\">0.2</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// rain depth in mm per tip event</span></div>\n<div class=\"line\"><a id=\"l-2111\" name=\"l-2111\"></a><span class=\"linenos\">2111</span></div>\n<div class=\"line\"><a id=\"l-2112\" name=\"l-2112\"></a><span class=\"linenos\">2112</span><span class=\"c1\">// Create a Rain Counter sensor object</span></div>\n<div class=\"line\"><a id=\"l-2113\" name=\"l-2113\"></a><span class=\"linenos\">2113</span><span class=\"cp\">#if defined(MS_RAIN_SOFTWAREWIRE)</span></div>\n<div class=\"line\"><a id=\"l-2114\" name=\"l-2114\"></a><span class=\"linenos\">2114</span><span class=\"n\">RainCounterI2C</span><span class=\"w\"> </span><span class=\"nf\">tbi2c</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">softI2C</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">RainCounterI2CAddress</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">depthPerTipEvent</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2115\" name=\"l-2115\"></a><span class=\"linenos\">2115</span><span class=\"c1\">// RainCounterI2C tbi2c(softwareSDA, softwareSCL, RainCounterI2CAddress,</span></div>\n<div class=\"line\"><a id=\"l-2116\" name=\"l-2116\"></a><span class=\"linenos\">2116</span><span class=\"c1\">//                      depthPerTipEvent);</span></div>\n<div class=\"line\"><a id=\"l-2117\" name=\"l-2117\"></a><span class=\"linenos\">2117</span><span class=\"cp\">#else</span></div>\n<div class=\"line\"><a id=\"l-2118\" name=\"l-2118\"></a><span class=\"linenos\">2118</span><span class=\"n\">RainCounterI2C</span><span class=\"w\"> </span><span class=\"nf\">tbi2c</span><span class=\"p\">(</span><span class=\"n\">RainCounterI2CAddress</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">depthPerTipEvent</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2119\" name=\"l-2119\"></a><span class=\"linenos\">2119</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-2120\" name=\"l-2120\"></a><span class=\"linenos\">2120</span></div>\n<div class=\"line\"><a id=\"l-2121\" name=\"l-2121\"></a><span class=\"linenos\">2121</span><span class=\"c1\">// Create number of tips and rain depth variable pointers for the tipping bucket</span></div>\n<div class=\"line\"><a id=\"l-2122\" name=\"l-2122\"></a><span class=\"linenos\">2122</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">tbi2cTips</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-2123\" name=\"l-2123\"></a><span class=\"linenos\">2123</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">RainCounterI2C_Tips</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">tbi2c</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2124\" name=\"l-2124\"></a><span class=\"linenos\">2124</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">tbi2cDepth</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-2125\" name=\"l-2125\"></a><span class=\"linenos\">2125</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">RainCounterI2C_Depth</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">tbi2c</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2126\" name=\"l-2126\"></a><span class=\"linenos\">2126</span><span class=\"cm\">/** End [rain_counter_i2c] */</span></div>\n<div class=\"line\"><a id=\"l-2127\" name=\"l-2127\"></a><span class=\"linenos\">2127</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-2128\" name=\"l-2128\"></a><span class=\"linenos\">2128</span></div>\n<div class=\"line\"><a id=\"l-2129\" name=\"l-2129\"></a><span class=\"linenos\">2129</span></div>\n<div class=\"line\"><a id=\"l-2130\" name=\"l-2130\"></a><span class=\"linenos\">2130</span><span class=\"cp\">#if defined(BUILD_SENSOR_SENSIRION_SHT4X)</span></div>\n<div class=\"line\"><a id=\"l-2131\" name=\"l-2131\"></a><span class=\"linenos\">2131</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-2132\" name=\"l-2132\"></a><span class=\"linenos\">2132</span><span class=\"c1\">//  Sensirion SHT4X Digital Humidity and Temperature Sensor</span></div>\n<div class=\"line\"><a id=\"l-2133\" name=\"l-2133\"></a><span class=\"linenos\">2133</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-2134\" name=\"l-2134\"></a><span class=\"linenos\">2134</span><span class=\"cm\">/** Start [sensirion_sht4x] */</span></div>\n<div class=\"line\"><a id=\"l-2135\" name=\"l-2135\"></a><span class=\"linenos\">2135</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;sensors/SensirionSHT4x.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-2136\" name=\"l-2136\"></a><span class=\"linenos\">2136</span></div>\n<div class=\"line\"><a id=\"l-2137\" name=\"l-2137\"></a><span class=\"linenos\">2137</span><span class=\"c1\">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span></div>\n<div class=\"line\"><a id=\"l-2138\" name=\"l-2138\"></a><span class=\"linenos\">2138</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">SHT4xPower</span><span class=\"w\">     </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">sensorPowerPin</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Power pin</span></div>\n<div class=\"line\"><a id=\"l-2139\" name=\"l-2139\"></a><span class=\"linenos\">2139</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">bool</span><span class=\"w\">   </span><span class=\"n\">SHT4xUseHeater</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"kr\">true</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-2140\" name=\"l-2140\"></a><span class=\"linenos\">2140</span></div>\n<div class=\"line\"><a id=\"l-2141\" name=\"l-2141\"></a><span class=\"linenos\">2141</span><span class=\"c1\">// Create an Sensirion SHT4X sensor object</span></div>\n<div class=\"line\"><a id=\"l-2142\" name=\"l-2142\"></a><span class=\"linenos\">2142</span><span class=\"n\">SensirionSHT4x</span><span class=\"w\"> </span><span class=\"nf\">sht4x</span><span class=\"p\">(</span><span class=\"n\">SHT4xPower</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">SHT4xUseHeater</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2143\" name=\"l-2143\"></a><span class=\"linenos\">2143</span></div>\n<div class=\"line\"><a id=\"l-2144\" name=\"l-2144\"></a><span class=\"linenos\">2144</span><span class=\"c1\">// Create humidity and temperature variable pointers for the SHT4X</span></div>\n<div class=\"line\"><a id=\"l-2145\" name=\"l-2145\"></a><span class=\"linenos\">2145</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">sht4xHumid</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-2146\" name=\"l-2146\"></a><span class=\"linenos\">2146</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">SensirionSHT4x_Humidity</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">sht4x</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2147\" name=\"l-2147\"></a><span class=\"linenos\">2147</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">sht4xTemp</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-2148\" name=\"l-2148\"></a><span class=\"linenos\">2148</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">SensirionSHT4x_Temp</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">sht4x</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2149\" name=\"l-2149\"></a><span class=\"linenos\">2149</span><span class=\"cm\">/** End [sensirion_sht4x] */</span></div>\n<div class=\"line\"><a id=\"l-2150\" name=\"l-2150\"></a><span class=\"linenos\">2150</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-2151\" name=\"l-2151\"></a><span class=\"linenos\">2151</span></div>\n<div class=\"line\"><a id=\"l-2152\" name=\"l-2152\"></a><span class=\"linenos\">2152</span></div>\n<div class=\"line\"><a id=\"l-2153\" name=\"l-2153\"></a><span class=\"linenos\">2153</span><span class=\"cp\">#if defined(BUILD_SENSOR_TALLY_COUNTER_I2C)</span></div>\n<div class=\"line\"><a id=\"l-2154\" name=\"l-2154\"></a><span class=\"linenos\">2154</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-2155\" name=\"l-2155\"></a><span class=\"linenos\">2155</span><span class=\"c1\">//    Tally I2C Event Counter for rain or wind reed-switch sensors</span></div>\n<div class=\"line\"><a id=\"l-2156\" name=\"l-2156\"></a><span class=\"linenos\">2156</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-2157\" name=\"l-2157\"></a><span class=\"linenos\">2157</span><span class=\"cm\">/** Start [tally_counter_i2c] */</span></div>\n<div class=\"line\"><a id=\"l-2158\" name=\"l-2158\"></a><span class=\"linenos\">2158</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;sensors/TallyCounterI2C.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-2159\" name=\"l-2159\"></a><span class=\"linenos\">2159</span></div>\n<div class=\"line\"><a id=\"l-2160\" name=\"l-2160\"></a><span class=\"linenos\">2160</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">TallyPower</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">-1</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Power pin (-1 if continuously powered)</span></div>\n<div class=\"line\"><a id=\"l-2161\" name=\"l-2161\"></a><span class=\"linenos\">2161</span><span class=\"c1\">// NorthernWidget Tally I2CPower is -1 by default because it is often deployed</span></div>\n<div class=\"line\"><a id=\"l-2162\" name=\"l-2162\"></a><span class=\"linenos\">2162</span><span class=\"c1\">// with power always on, but Tally also has a super capacitor that enables it</span></div>\n<div class=\"line\"><a id=\"l-2163\" name=\"l-2163\"></a><span class=\"linenos\">2163</span><span class=\"c1\">// to be self powered between readings/recharge as described at</span></div>\n<div class=\"line\"><a id=\"l-2164\" name=\"l-2164\"></a><span class=\"linenos\">2164</span><span class=\"c1\">// https://github.com/EnviroDIY/Project-Tally</span></div>\n<div class=\"line\"><a id=\"l-2165\" name=\"l-2165\"></a><span class=\"linenos\">2165</span></div>\n<div class=\"line\"><a id=\"l-2166\" name=\"l-2166\"></a><span class=\"linenos\">2166</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">uint8_t</span><span class=\"w\"> </span><span class=\"n\">TallyCounterI2CAddress</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mh\">0x33</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-2167\" name=\"l-2167\"></a><span class=\"linenos\">2167</span><span class=\"c1\">// NorthernWidget Tally I2C address is 0x33 by default</span></div>\n<div class=\"line\"><a id=\"l-2168\" name=\"l-2168\"></a><span class=\"linenos\">2168</span></div>\n<div class=\"line\"><a id=\"l-2169\" name=\"l-2169\"></a><span class=\"linenos\">2169</span><span class=\"c1\">// Create a Tally Counter sensor object</span></div>\n<div class=\"line\"><a id=\"l-2170\" name=\"l-2170\"></a><span class=\"linenos\">2170</span><span class=\"n\">TallyCounterI2C</span><span class=\"w\"> </span><span class=\"nf\">tallyi2c</span><span class=\"p\">(</span><span class=\"n\">TallyPower</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">TallyCounterI2CAddress</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2171\" name=\"l-2171\"></a><span class=\"linenos\">2171</span></div>\n<div class=\"line\"><a id=\"l-2172\" name=\"l-2172\"></a><span class=\"linenos\">2172</span><span class=\"c1\">// Create variable pointers for the Tally event counter</span></div>\n<div class=\"line\"><a id=\"l-2173\" name=\"l-2173\"></a><span class=\"linenos\">2173</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">tallyEvents</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">TallyCounterI2C_Events</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-2174\" name=\"l-2174\"></a><span class=\"linenos\">2174</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">tallyi2c</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2175\" name=\"l-2175\"></a><span class=\"linenos\">2175</span></div>\n<div class=\"line\"><a id=\"l-2176\" name=\"l-2176\"></a><span class=\"linenos\">2176</span><span class=\"c1\">// For  Wind Speed, create a Calculated Variable that converts, similar to:</span></div>\n<div class=\"line\"><a id=\"l-2177\" name=\"l-2177\"></a><span class=\"linenos\">2177</span><span class=\"c1\">// period = loggingInterval * 60.0;    // in seconds</span></div>\n<div class=\"line\"><a id=\"l-2178\" name=\"l-2178\"></a><span class=\"linenos\">2178</span><span class=\"c1\">// frequency = tallyEventCount/period; // average event frequency in Hz</span></div>\n<div class=\"line\"><a id=\"l-2179\" name=\"l-2179\"></a><span class=\"linenos\">2179</span><span class=\"c1\">// tallyWindSpeed = frequency * 2.5 * 1.60934;  // in km/h</span></div>\n<div class=\"line\"><a id=\"l-2180\" name=\"l-2180\"></a><span class=\"linenos\">2180</span><span class=\"c1\">// 2.5 mph/Hz &amp; 1.60934 kmph/mph and 2.5 mph/Hz conversion factor from</span></div>\n<div class=\"line\"><a id=\"l-2181\" name=\"l-2181\"></a><span class=\"linenos\">2181</span><span class=\"c1\">// web: Inspeed-Version-II-Reed-Switch-Anemometer-Sensor-Only-WS2R</span></div>\n<div class=\"line\"><a id=\"l-2182\" name=\"l-2182\"></a><span class=\"linenos\">2182</span><span class=\"cm\">/** End [tally_counter_i2c] */</span></div>\n<div class=\"line\"><a id=\"l-2183\" name=\"l-2183\"></a><span class=\"linenos\">2183</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-2184\" name=\"l-2184\"></a><span class=\"linenos\">2184</span></div>\n<div class=\"line\"><a id=\"l-2185\" name=\"l-2185\"></a><span class=\"linenos\">2185</span></div>\n<div class=\"line\"><a id=\"l-2186\" name=\"l-2186\"></a><span class=\"linenos\">2186</span><span class=\"cp\">#if defined(BUILD_SENSOR_TI_INA219)</span></div>\n<div class=\"line\"><a id=\"l-2187\" name=\"l-2187\"></a><span class=\"linenos\">2187</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-2188\" name=\"l-2188\"></a><span class=\"linenos\">2188</span><span class=\"c1\">//  TI INA219 High Side Current/Voltage Sensor (Current mA, Voltage, Power)</span></div>\n<div class=\"line\"><a id=\"l-2189\" name=\"l-2189\"></a><span class=\"linenos\">2189</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-2190\" name=\"l-2190\"></a><span class=\"linenos\">2190</span><span class=\"cm\">/** Start [ti_ina219] */</span></div>\n<div class=\"line\"><a id=\"l-2191\" name=\"l-2191\"></a><span class=\"linenos\">2191</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;sensors/TIINA219.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-2192\" name=\"l-2192\"></a><span class=\"linenos\">2192</span></div>\n<div class=\"line\"><a id=\"l-2193\" name=\"l-2193\"></a><span class=\"linenos\">2193</span><span class=\"c1\">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span></div>\n<div class=\"line\"><a id=\"l-2194\" name=\"l-2194\"></a><span class=\"linenos\">2194</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">INA219Power</span><span class=\"w\">    </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">sensorPowerPin</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Power pin</span></div>\n<div class=\"line\"><a id=\"l-2195\" name=\"l-2195\"></a><span class=\"linenos\">2195</span><span class=\"kr\">uint8_t</span><span class=\"w\">      </span><span class=\"n\">INA219i2c_addr</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mh\">0x40</span><span class=\"p\">;</span><span class=\"w\">            </span><span class=\"c1\">// 1000000 (Board A0+A1=GND)</span></div>\n<div class=\"line\"><a id=\"l-2196\" name=\"l-2196\"></a><span class=\"linenos\">2196</span><span class=\"c1\">// The INA219 can have one of 16 addresses, depending on the connections of A0</span></div>\n<div class=\"line\"><a id=\"l-2197\" name=\"l-2197\"></a><span class=\"linenos\">2197</span><span class=\"c1\">// and A1</span></div>\n<div class=\"line\"><a id=\"l-2198\" name=\"l-2198\"></a><span class=\"linenos\">2198</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">uint8_t</span><span class=\"w\"> </span><span class=\"n\">INA219ReadingsToAvg</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-2199\" name=\"l-2199\"></a><span class=\"linenos\">2199</span></div>\n<div class=\"line\"><a id=\"l-2200\" name=\"l-2200\"></a><span class=\"linenos\">2200</span><span class=\"c1\">// Create an INA219 sensor object</span></div>\n<div class=\"line\"><a id=\"l-2201\" name=\"l-2201\"></a><span class=\"linenos\">2201</span><span class=\"n\">TIINA219</span><span class=\"w\"> </span><span class=\"nf\">ina219</span><span class=\"p\">(</span><span class=\"n\">INA219Power</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">INA219i2c_addr</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">INA219ReadingsToAvg</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2202\" name=\"l-2202\"></a><span class=\"linenos\">2202</span></div>\n<div class=\"line\"><a id=\"l-2203\" name=\"l-2203\"></a><span class=\"linenos\">2203</span><span class=\"c1\">// Create current, voltage, and power variable pointers for the INA219</span></div>\n<div class=\"line\"><a id=\"l-2204\" name=\"l-2204\"></a><span class=\"linenos\">2204</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">inaCurrent</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-2205\" name=\"l-2205\"></a><span class=\"linenos\">2205</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">TIINA219_Current</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">ina219</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2206\" name=\"l-2206\"></a><span class=\"linenos\">2206</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">inaVolt</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-2207\" name=\"l-2207\"></a><span class=\"linenos\">2207</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">TIINA219_Voltage</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">ina219</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2208\" name=\"l-2208\"></a><span class=\"linenos\">2208</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">inaPower</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">TIINA219_Power</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">ina219</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-2209\" name=\"l-2209\"></a><span class=\"linenos\">2209</span><span class=\"w\">                                        </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2210\" name=\"l-2210\"></a><span class=\"linenos\">2210</span><span class=\"cm\">/** End [ti_ina219] */</span></div>\n<div class=\"line\"><a id=\"l-2211\" name=\"l-2211\"></a><span class=\"linenos\">2211</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-2212\" name=\"l-2212\"></a><span class=\"linenos\">2212</span></div>\n<div class=\"line\"><a id=\"l-2213\" name=\"l-2213\"></a><span class=\"linenos\">2213</span></div>\n<div class=\"line\"><a id=\"l-2214\" name=\"l-2214\"></a><span class=\"linenos\">2214</span><span class=\"cp\">#if defined(BUILD_SENSOR_TURNER_CYCLOPS)</span></div>\n<div class=\"line\"><a id=\"l-2215\" name=\"l-2215\"></a><span class=\"linenos\">2215</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-2216\" name=\"l-2216\"></a><span class=\"linenos\">2216</span><span class=\"c1\">//  Turner Cyclops-7F Submersible Fluorometer</span></div>\n<div class=\"line\"><a id=\"l-2217\" name=\"l-2217\"></a><span class=\"linenos\">2217</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-2218\" name=\"l-2218\"></a><span class=\"linenos\">2218</span><span class=\"cm\">/** Start [turner_cyclops] */</span></div>\n<div class=\"line\"><a id=\"l-2219\" name=\"l-2219\"></a><span class=\"linenos\">2219</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;sensors/TurnerCyclops.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-2220\" name=\"l-2220\"></a><span class=\"linenos\">2220</span></div>\n<div class=\"line\"><a id=\"l-2221\" name=\"l-2221\"></a><span class=\"linenos\">2221</span><span class=\"c1\">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span></div>\n<div class=\"line\"><a id=\"l-2222\" name=\"l-2222\"></a><span class=\"linenos\">2222</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">cyclopsPower</span><span class=\"w\">          </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">sensorPowerPin</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Power pin</span></div>\n<div class=\"line\"><a id=\"l-2223\" name=\"l-2223\"></a><span class=\"linenos\">2223</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">uint8_t</span><span class=\"w\"> </span><span class=\"n\">cyclopsNumberReadings</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">10</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-2224\" name=\"l-2224\"></a><span class=\"linenos\">2224</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">uint8_t</span><span class=\"w\"> </span><span class=\"n\">cyclopsADSi2c_addr</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mh\">0x48</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// The I2C address of the ADS1115 ADC</span></div>\n<div class=\"line\"><a id=\"l-2225\" name=\"l-2225\"></a><span class=\"linenos\">2225</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">cyclopsADSChannel</span><span class=\"w\">  </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"p\">;</span><span class=\"w\">     </span><span class=\"c1\">// ADS channel</span></div>\n<div class=\"line\"><a id=\"l-2226\" name=\"l-2226\"></a><span class=\"linenos\">2226</span></div>\n<div class=\"line\"><a id=\"l-2227\" name=\"l-2227\"></a><span class=\"linenos\">2227</span><span class=\"c1\">// Cyclops calibration information</span></div>\n<div class=\"line\"><a id=\"l-2228\" name=\"l-2228\"></a><span class=\"linenos\">2228</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">float</span><span class=\"w\"> </span><span class=\"n\">cyclopsStdConc</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mf\">1.000</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Concentration of the standard used</span></div>\n<div class=\"line\"><a id=\"l-2229\" name=\"l-2229\"></a><span class=\"linenos\">2229</span><span class=\"w\">                                     </span><span class=\"c1\">// for a 1-point sensor calibration.</span></div>\n<div class=\"line\"><a id=\"l-2230\" name=\"l-2230\"></a><span class=\"linenos\">2230</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">float</span><span class=\"w\"> </span><span class=\"n\">cyclopsStdVolt</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-2231\" name=\"l-2231\"></a><span class=\"linenos\">2231</span><span class=\"w\">    </span><span class=\"mf\">1.000</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// The voltage (in volts) measured for the conc_std.</span></div>\n<div class=\"line\"><a id=\"l-2232\" name=\"l-2232\"></a><span class=\"linenos\">2232</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">float</span><span class=\"w\"> </span><span class=\"n\">cyclopsBlankVolt</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-2233\" name=\"l-2233\"></a><span class=\"linenos\">2233</span><span class=\"w\">    </span><span class=\"mf\">0.000</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// The voltage (in volts) measured for a blank.</span></div>\n<div class=\"line\"><a id=\"l-2234\" name=\"l-2234\"></a><span class=\"linenos\">2234</span></div>\n<div class=\"line\"><a id=\"l-2235\" name=\"l-2235\"></a><span class=\"linenos\">2235</span><span class=\"c1\">// Create a Turner Cyclops sensor object</span></div>\n<div class=\"line\"><a id=\"l-2236\" name=\"l-2236\"></a><span class=\"linenos\">2236</span><span class=\"n\">TurnerCyclops</span><span class=\"w\"> </span><span class=\"nf\">cyclops</span><span class=\"p\">(</span><span class=\"n\">cyclopsPower</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">cyclopsADSChannel</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">cyclopsStdConc</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-2237\" name=\"l-2237\"></a><span class=\"linenos\">2237</span><span class=\"w\">                      </span><span class=\"n\">cyclopsStdVolt</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">cyclopsBlankVolt</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">cyclopsADSi2c_addr</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-2238\" name=\"l-2238\"></a><span class=\"linenos\">2238</span><span class=\"w\">                      </span><span class=\"n\">cyclopsNumberReadings</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2239\" name=\"l-2239\"></a><span class=\"linenos\">2239</span></div>\n<div class=\"line\"><a id=\"l-2240\" name=\"l-2240\"></a><span class=\"linenos\">2240</span><span class=\"c1\">// Create the voltage variable pointer - used for any type of Cyclops</span></div>\n<div class=\"line\"><a id=\"l-2241\" name=\"l-2241\"></a><span class=\"linenos\">2241</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">cyclopsVoltage</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-2242\" name=\"l-2242\"></a><span class=\"linenos\">2242</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">TurnerCyclops_Voltage</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">cyclops</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2243\" name=\"l-2243\"></a><span class=\"linenos\">2243</span></div>\n<div class=\"line\"><a id=\"l-2244\" name=\"l-2244\"></a><span class=\"linenos\">2244</span><span class=\"c1\">// Create the variable pointer for the primary output parameter.  Only use</span></div>\n<div class=\"line\"><a id=\"l-2245\" name=\"l-2245\"></a><span class=\"linenos\">2245</span><span class=\"c1\">// **ONE** of these!  Which is possible depends on your specific sensor!</span></div>\n<div class=\"line\"><a id=\"l-2246\" name=\"l-2246\"></a><span class=\"linenos\">2246</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">cyclopsChloro</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">TurnerCyclops_Chlorophyll</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-2247\" name=\"l-2247\"></a><span class=\"linenos\">2247</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">cyclops</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2248\" name=\"l-2248\"></a><span class=\"linenos\">2248</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">cyclopsRWT</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">TurnerCyclops_Rhodamine</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-2249\" name=\"l-2249\"></a><span class=\"linenos\">2249</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">cyclops</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2250\" name=\"l-2250\"></a><span class=\"linenos\">2250</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">cyclopsFluoroscein</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">TurnerCyclops_Fluorescein</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-2251\" name=\"l-2251\"></a><span class=\"linenos\">2251</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">cyclops</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2252\" name=\"l-2252\"></a><span class=\"linenos\">2252</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">cyclopsPhycocyanin</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">TurnerCyclops_Phycocyanin</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-2253\" name=\"l-2253\"></a><span class=\"linenos\">2253</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">cyclops</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2254\" name=\"l-2254\"></a><span class=\"linenos\">2254</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">cyclopsPhycoerythrin</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">TurnerCyclops_Phycoerythrin</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-2255\" name=\"l-2255\"></a><span class=\"linenos\">2255</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">cyclops</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2256\" name=\"l-2256\"></a><span class=\"linenos\">2256</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">cyclopsCDOM</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-2257\" name=\"l-2257\"></a><span class=\"linenos\">2257</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">TurnerCyclops_CDOM</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">cyclops</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2258\" name=\"l-2258\"></a><span class=\"linenos\">2258</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">cyclopsCrudeOil</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">TurnerCyclops_CrudeOil</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-2259\" name=\"l-2259\"></a><span class=\"linenos\">2259</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">cyclops</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2260\" name=\"l-2260\"></a><span class=\"linenos\">2260</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">cyclopsBrighteners</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">TurnerCyclops_Brighteners</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-2261\" name=\"l-2261\"></a><span class=\"linenos\">2261</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">cyclops</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2262\" name=\"l-2262\"></a><span class=\"linenos\">2262</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">cyclopsTurbidity</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">TurnerCyclops_Turbidity</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-2263\" name=\"l-2263\"></a><span class=\"linenos\">2263</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">cyclops</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2264\" name=\"l-2264\"></a><span class=\"linenos\">2264</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">cyclopsPTSA</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-2265\" name=\"l-2265\"></a><span class=\"linenos\">2265</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">TurnerCyclops_PTSA</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">cyclops</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2266\" name=\"l-2266\"></a><span class=\"linenos\">2266</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">cyclopsBTEX</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-2267\" name=\"l-2267\"></a><span class=\"linenos\">2267</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">TurnerCyclops_BTEX</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">cyclops</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2268\" name=\"l-2268\"></a><span class=\"linenos\">2268</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">cyclopsTryptophan</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">TurnerCyclops_Tryptophan</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-2269\" name=\"l-2269\"></a><span class=\"linenos\">2269</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">cyclops</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2270\" name=\"l-2270\"></a><span class=\"linenos\">2270</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">cyclopsRedChloro</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">TurnerCyclops_RedChlorophyll</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-2271\" name=\"l-2271\"></a><span class=\"linenos\">2271</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">cyclops</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2272\" name=\"l-2272\"></a><span class=\"linenos\">2272</span><span class=\"cm\">/** End [turner_cyclops] */</span></div>\n<div class=\"line\"><a id=\"l-2273\" name=\"l-2273\"></a><span class=\"linenos\">2273</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-2274\" name=\"l-2274\"></a><span class=\"linenos\">2274</span></div>\n<div class=\"line\"><a id=\"l-2275\" name=\"l-2275\"></a><span class=\"linenos\">2275</span></div>\n<div class=\"line\"><a id=\"l-2276\" name=\"l-2276\"></a><span class=\"linenos\">2276</span><span class=\"cp\">#if defined(BUILD_SENSOR_TURNER_TURBIDITY_PLUS)</span></div>\n<div class=\"line\"><a id=\"l-2277\" name=\"l-2277\"></a><span class=\"linenos\">2277</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-2278\" name=\"l-2278\"></a><span class=\"linenos\">2278</span><span class=\"c1\">//  Turner Turbidity Plus Turbidity Sensor</span></div>\n<div class=\"line\"><a id=\"l-2279\" name=\"l-2279\"></a><span class=\"linenos\">2279</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-2280\" name=\"l-2280\"></a><span class=\"linenos\">2280</span><span class=\"cm\">/** Start [turner_turbidity_plus] */</span></div>\n<div class=\"line\"><a id=\"l-2281\" name=\"l-2281\"></a><span class=\"linenos\">2281</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;sensors/TurnerTurbidityPlus.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-2282\" name=\"l-2282\"></a><span class=\"linenos\">2282</span></div>\n<div class=\"line\"><a id=\"l-2283\" name=\"l-2283\"></a><span class=\"linenos\">2283</span><span class=\"c1\">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span></div>\n<div class=\"line\"><a id=\"l-2284\" name=\"l-2284\"></a><span class=\"linenos\">2284</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">     </span><span class=\"n\">turbidityPlusPower</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">sensorPowerPin</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Power pin</span></div>\n<div class=\"line\"><a id=\"l-2285\" name=\"l-2285\"></a><span class=\"linenos\">2285</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">     </span><span class=\"n\">turbidityPlusWiper</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">relayPowerPin</span><span class=\"p\">;</span><span class=\"w\">   </span><span class=\"c1\">// Wiper pin</span></div>\n<div class=\"line\"><a id=\"l-2286\" name=\"l-2286\"></a><span class=\"linenos\">2286</span><span class=\"n\">ttp_adsDiffMux_t</span><span class=\"w\"> </span><span class=\"n\">turbidityPlusDiffMux</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-2287\" name=\"l-2287\"></a><span class=\"linenos\">2287</span><span class=\"w\">    </span><span class=\"n\">DIFF_MUX_2_3</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Differential voltage config</span></div>\n<div class=\"line\"><a id=\"l-2288\" name=\"l-2288\"></a><span class=\"linenos\">2288</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">uint8_t</span><span class=\"w\"> </span><span class=\"n\">turbidityPlusNumberReadings</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">10</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-2289\" name=\"l-2289\"></a><span class=\"linenos\">2289</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">uint8_t</span><span class=\"w\"> </span><span class=\"n\">turbidityPlusADSi2c_addr</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-2290\" name=\"l-2290\"></a><span class=\"linenos\">2290</span><span class=\"w\">    </span><span class=\"mh\">0x48</span><span class=\"p\">;</span><span class=\"w\">                                 </span><span class=\"c1\">// The I2C address of the ADS1115 ADC</span></div>\n<div class=\"line\"><a id=\"l-2291\" name=\"l-2291\"></a><span class=\"linenos\">2291</span><span class=\"n\">adsGain_t</span><span class=\"w\"> </span><span class=\"n\">turbidityPlusGain</span><span class=\"w\">  </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">GAIN_ONE</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// The gain of the ADS</span></div>\n<div class=\"line\"><a id=\"l-2292\" name=\"l-2292\"></a><span class=\"linenos\">2292</span><span class=\"kr\">float</span><span class=\"w\"> </span><span class=\"n\">tpVoltageDividerFactor</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// The factor for a voltage divider, if any</span></div>\n<div class=\"line\"><a id=\"l-2293\" name=\"l-2293\"></a><span class=\"linenos\">2293</span></div>\n<div class=\"line\"><a id=\"l-2294\" name=\"l-2294\"></a><span class=\"linenos\">2294</span><span class=\"c1\">// Turbidity Plus calibration information</span></div>\n<div class=\"line\"><a id=\"l-2295\" name=\"l-2295\"></a><span class=\"linenos\">2295</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">float</span><span class=\"w\"> </span><span class=\"n\">turbidityPlusStdConc</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mf\">1.000</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Concentration of the standard used</span></div>\n<div class=\"line\"><a id=\"l-2296\" name=\"l-2296\"></a><span class=\"linenos\">2296</span><span class=\"w\">                                           </span><span class=\"c1\">// for a 1-point sensor calibration.</span></div>\n<div class=\"line\"><a id=\"l-2297\" name=\"l-2297\"></a><span class=\"linenos\">2297</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">float</span><span class=\"w\"> </span><span class=\"n\">turbidityPlusStdVolt</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-2298\" name=\"l-2298\"></a><span class=\"linenos\">2298</span><span class=\"w\">    </span><span class=\"mf\">1.000</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// The voltage (in volts) measured for the conc_std.</span></div>\n<div class=\"line\"><a id=\"l-2299\" name=\"l-2299\"></a><span class=\"linenos\">2299</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">float</span><span class=\"w\"> </span><span class=\"n\">turbidityPlusBlankVolt</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-2300\" name=\"l-2300\"></a><span class=\"linenos\">2300</span><span class=\"w\">    </span><span class=\"mf\">0.000</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// The voltage (in volts) measured for a blank.</span></div>\n<div class=\"line\"><a id=\"l-2301\" name=\"l-2301\"></a><span class=\"linenos\">2301</span></div>\n<div class=\"line\"><a id=\"l-2302\" name=\"l-2302\"></a><span class=\"linenos\">2302</span><span class=\"c1\">// Create a Turner Turbidity Plus sensor object</span></div>\n<div class=\"line\"><a id=\"l-2303\" name=\"l-2303\"></a><span class=\"linenos\">2303</span><span class=\"n\">TurnerTurbidityPlus</span><span class=\"w\"> </span><span class=\"nf\">turbidityPlus</span><span class=\"p\">(</span><span class=\"n\">turbidityPlusPower</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">turbidityPlusWiper</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-2304\" name=\"l-2304\"></a><span class=\"linenos\">2304</span><span class=\"w\">                                  </span><span class=\"n\">turbidityPlusDiffMux</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">turbidityPlusStdConc</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-2305\" name=\"l-2305\"></a><span class=\"linenos\">2305</span><span class=\"w\">                                  </span><span class=\"n\">turbidityPlusStdVolt</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">turbidityPlusBlankVolt</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-2306\" name=\"l-2306\"></a><span class=\"linenos\">2306</span><span class=\"w\">                                  </span><span class=\"n\">turbidityPlusADSi2c_addr</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">turbidityPlusGain</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-2307\" name=\"l-2307\"></a><span class=\"linenos\">2307</span><span class=\"w\">                                  </span><span class=\"n\">turbidityPlusNumberReadings</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-2308\" name=\"l-2308\"></a><span class=\"linenos\">2308</span><span class=\"w\">                                  </span><span class=\"n\">tpVoltageDividerFactor</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2309\" name=\"l-2309\"></a><span class=\"linenos\">2309</span></div>\n<div class=\"line\"><a id=\"l-2310\" name=\"l-2310\"></a><span class=\"linenos\">2310</span><span class=\"c1\">// Create the variable pointers</span></div>\n<div class=\"line\"><a id=\"l-2311\" name=\"l-2311\"></a><span class=\"linenos\">2311</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">turbidityPlusVoltage</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">TurnerTurbidityPlus_Voltage</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-2312\" name=\"l-2312\"></a><span class=\"linenos\">2312</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">turbidityPlus</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2313\" name=\"l-2313\"></a><span class=\"linenos\">2313</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">turbidityPlusTurbidity</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">TurnerTurbidityPlus_Turbidity</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-2314\" name=\"l-2314\"></a><span class=\"linenos\">2314</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">turbidityPlus</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2315\" name=\"l-2315\"></a><span class=\"linenos\">2315</span><span class=\"cm\">/** End [turner_turbidity_plus] */</span></div>\n<div class=\"line\"><a id=\"l-2316\" name=\"l-2316\"></a><span class=\"linenos\">2316</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-2317\" name=\"l-2317\"></a><span class=\"linenos\">2317</span></div>\n<div class=\"line\"><a id=\"l-2318\" name=\"l-2318\"></a><span class=\"linenos\">2318</span></div>\n<div class=\"line\"><a id=\"l-2319\" name=\"l-2319\"></a><span class=\"linenos\">2319</span><span class=\"cp\">#if defined(BUILD_SENSOR_ANALOG_ELEC_CONDUCTIVITY)</span></div>\n<div class=\"line\"><a id=\"l-2320\" name=\"l-2320\"></a><span class=\"linenos\">2320</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-2321\" name=\"l-2321\"></a><span class=\"linenos\">2321</span><span class=\"c1\">//   Analog Electrical Conductivity using the Processor&#39;s Analog Pins</span></div>\n<div class=\"line\"><a id=\"l-2322\" name=\"l-2322\"></a><span class=\"linenos\">2322</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-2323\" name=\"l-2323\"></a><span class=\"linenos\">2323</span><span class=\"cm\">/** Start [analog_elec_conductivity] */</span></div>\n<div class=\"line\"><a id=\"l-2324\" name=\"l-2324\"></a><span class=\"linenos\">2324</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;sensors/AnalogElecConductivity.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-2325\" name=\"l-2325\"></a><span class=\"linenos\">2325</span></div>\n<div class=\"line\"><a id=\"l-2326\" name=\"l-2326\"></a><span class=\"linenos\">2326</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">ECpwrPin</span><span class=\"w\">   </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">A4</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Power pin (-1 if continuously powered)</span></div>\n<div class=\"line\"><a id=\"l-2327\" name=\"l-2327\"></a><span class=\"linenos\">2327</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">ECdataPin1</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">A0</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Data pin (must be an analog pin, ie A#)</span></div>\n<div class=\"line\"><a id=\"l-2328\" name=\"l-2328\"></a><span class=\"linenos\">2328</span></div>\n<div class=\"line\"><a id=\"l-2329\" name=\"l-2329\"></a><span class=\"linenos\">2329</span><span class=\"c1\">// Create an Analog Electrical Conductivity sensor object</span></div>\n<div class=\"line\"><a id=\"l-2330\" name=\"l-2330\"></a><span class=\"linenos\">2330</span><span class=\"n\">AnalogElecConductivity</span><span class=\"w\"> </span><span class=\"nf\">analogEC_phy</span><span class=\"p\">(</span><span class=\"n\">ECpwrPin</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">ECdataPin1</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2331\" name=\"l-2331\"></a><span class=\"linenos\">2331</span></div>\n<div class=\"line\"><a id=\"l-2332\" name=\"l-2332\"></a><span class=\"linenos\">2332</span><span class=\"c1\">// Create a conductivity variable pointer for the analog sensor</span></div>\n<div class=\"line\"><a id=\"l-2333\" name=\"l-2333\"></a><span class=\"linenos\">2333</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">analogEc_cond</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">AnalogElecConductivity_EC</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-2334\" name=\"l-2334\"></a><span class=\"linenos\">2334</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">analogEC_phy</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2335\" name=\"l-2335\"></a><span class=\"linenos\">2335</span></div>\n<div class=\"line\"><a id=\"l-2336\" name=\"l-2336\"></a><span class=\"linenos\">2336</span><span class=\"c1\">// Create a calculated variable for the temperature compensated conductivity</span></div>\n<div class=\"line\"><a id=\"l-2337\" name=\"l-2337\"></a><span class=\"linenos\">2337</span><span class=\"c1\">// (that is, the specific conductance).  For this example, we will use the</span></div>\n<div class=\"line\"><a id=\"l-2338\" name=\"l-2338\"></a><span class=\"linenos\">2338</span><span class=\"c1\">// temperature measured by the Maxim DS18 saved as ds18Temp several sections</span></div>\n<div class=\"line\"><a id=\"l-2339\" name=\"l-2339\"></a><span class=\"linenos\">2339</span><span class=\"c1\">// above this.  You could use the temperature returned by any other water</span></div>\n<div class=\"line\"><a id=\"l-2340\" name=\"l-2340\"></a><span class=\"linenos\">2340</span><span class=\"c1\">// temperature sensor if desired.  **DO NOT** use your logger board temperature</span></div>\n<div class=\"line\"><a id=\"l-2341\" name=\"l-2341\"></a><span class=\"linenos\">2341</span><span class=\"c1\">// (ie, from the DS3231) to calculate specific conductance!</span></div>\n<div class=\"line\"><a id=\"l-2342\" name=\"l-2342\"></a><span class=\"linenos\">2342</span><span class=\"kr\">float</span><span class=\"w\"> </span><span class=\"nf\">calculateAnalogSpCond</span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"p\">{</span></div>\n<div class=\"line\"><a id=\"l-2343\" name=\"l-2343\"></a><span class=\"linenos\">2343</span><span class=\"w\">    </span><span class=\"kr\">float</span><span class=\"w\"> </span><span class=\"n\">spCond</span><span class=\"w\">          </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">-9999</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Always safest to start with a bad value</span></div>\n<div class=\"line\"><a id=\"l-2344\" name=\"l-2344\"></a><span class=\"linenos\">2344</span><span class=\"w\">    </span><span class=\"kr\">float</span><span class=\"w\"> </span><span class=\"n\">waterTemp</span><span class=\"w\">       </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">ds18Temp</span><span class=\"o\">-&gt;</span><span class=\"n\">getValue</span><span class=\"p\">();</span></div>\n<div class=\"line\"><a id=\"l-2345\" name=\"l-2345\"></a><span class=\"linenos\">2345</span><span class=\"w\">    </span><span class=\"kr\">float</span><span class=\"w\"> </span><span class=\"n\">rawCond</span><span class=\"w\">         </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">analogEc_cond</span><span class=\"o\">-&gt;</span><span class=\"n\">getValue</span><span class=\"p\">();</span></div>\n<div class=\"line\"><a id=\"l-2346\" name=\"l-2346\"></a><span class=\"linenos\">2346</span><span class=\"w\">    </span><span class=\"kr\">float</span><span class=\"w\"> </span><span class=\"n\">temperatureCoef</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mf\">0.019</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-2347\" name=\"l-2347\"></a><span class=\"linenos\">2347</span><span class=\"w\">    </span><span class=\"c1\">// ^^ Linearized temperature correction coefficient per degrees Celsius.</span></div>\n<div class=\"line\"><a id=\"l-2348\" name=\"l-2348\"></a><span class=\"linenos\">2348</span><span class=\"w\">    </span><span class=\"c1\">// The value of 0.019 comes from measurements reported here:</span></div>\n<div class=\"line\"><a id=\"l-2349\" name=\"l-2349\"></a><span class=\"linenos\">2349</span><span class=\"w\">    </span><span class=\"c1\">// Hayashi M. Temperature-electrical conductivity relation of water for</span></div>\n<div class=\"line\"><a id=\"l-2350\" name=\"l-2350\"></a><span class=\"linenos\">2350</span><span class=\"w\">    </span><span class=\"c1\">// environmental monitoring and geophysical data inversion. Environ Monit</span></div>\n<div class=\"line\"><a id=\"l-2351\" name=\"l-2351\"></a><span class=\"linenos\">2351</span><span class=\"w\">    </span><span class=\"c1\">// Assess. 2004 Aug-Sep;96(1-3):119-28.</span></div>\n<div class=\"line\"><a id=\"l-2352\" name=\"l-2352\"></a><span class=\"linenos\">2352</span><span class=\"w\">    </span><span class=\"c1\">// doi: 10.1023/b:emas.0000031719.83065.68. PMID: 15327152.</span></div>\n<div class=\"line\"><a id=\"l-2353\" name=\"l-2353\"></a><span class=\"linenos\">2353</span><span class=\"w\">    </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">waterTemp</span><span class=\"w\"> </span><span class=\"o\">!=</span><span class=\"w\"> </span><span class=\"mi\">-9999</span><span class=\"w\"> </span><span class=\"o\">&amp;&amp;</span><span class=\"w\"> </span><span class=\"n\">rawCond</span><span class=\"w\"> </span><span class=\"o\">!=</span><span class=\"w\"> </span><span class=\"mi\">-9999</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">{</span></div>\n<div class=\"line\"><a id=\"l-2354\" name=\"l-2354\"></a><span class=\"linenos\">2354</span><span class=\"w\">        </span><span class=\"c1\">// make sure both inputs are good</span></div>\n<div class=\"line\"><a id=\"l-2355\" name=\"l-2355\"></a><span class=\"linenos\">2355</span><span class=\"w\">        </span><span class=\"n\">spCond</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">rawCond</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"n\">temperatureCoef</span><span class=\"w\"> </span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">waterTemp</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"mf\">25.0</span><span class=\"p\">));</span></div>\n<div class=\"line\"><a id=\"l-2356\" name=\"l-2356\"></a><span class=\"linenos\">2356</span><span class=\"w\">    </span><span class=\"p\">}</span></div>\n<div class=\"line\"><a id=\"l-2357\" name=\"l-2357\"></a><span class=\"linenos\">2357</span><span class=\"w\">    </span><span class=\"k\">return</span><span class=\"w\"> </span><span class=\"n\">spCond</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-2358\" name=\"l-2358\"></a><span class=\"linenos\">2358</span><span class=\"p\">}</span></div>\n<div class=\"line\"><a id=\"l-2359\" name=\"l-2359\"></a><span class=\"linenos\">2359</span></div>\n<div class=\"line\"><a id=\"l-2360\" name=\"l-2360\"></a><span class=\"linenos\">2360</span><span class=\"c1\">// Properties of the calculated variable</span></div>\n<div class=\"line\"><a id=\"l-2361\" name=\"l-2361\"></a><span class=\"linenos\">2361</span><span class=\"c1\">// The number of digits after the decimal place</span></div>\n<div class=\"line\"><a id=\"l-2362\" name=\"l-2362\"></a><span class=\"linenos\">2362</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">uint8_t</span><span class=\"w\"> </span><span class=\"n\">analogSpCondResolution</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-2363\" name=\"l-2363\"></a><span class=\"linenos\">2363</span><span class=\"c1\">// This must be a value from http://vocabulary.odm2.org/variablename/</span></div>\n<div class=\"line\"><a id=\"l-2364\" name=\"l-2364\"></a><span class=\"linenos\">2364</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">analogSpCondName</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s\">&quot;specificConductance&quot;</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-2365\" name=\"l-2365\"></a><span class=\"linenos\">2365</span><span class=\"c1\">// This must be a value from http://vocabulary.odm2.org/units/</span></div>\n<div class=\"line\"><a id=\"l-2366\" name=\"l-2366\"></a><span class=\"linenos\">2366</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">analogSpCondUnit</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s\">&quot;microsiemenPerCentimeter&quot;</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-2367\" name=\"l-2367\"></a><span class=\"linenos\">2367</span><span class=\"c1\">// A short code for the variable</span></div>\n<div class=\"line\"><a id=\"l-2368\" name=\"l-2368\"></a><span class=\"linenos\">2368</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">analogSpCondCode</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s\">&quot;anlgSpCond&quot;</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-2369\" name=\"l-2369\"></a><span class=\"linenos\">2369</span><span class=\"c1\">// The (optional) universally unique identifier</span></div>\n<div class=\"line\"><a id=\"l-2370\" name=\"l-2370\"></a><span class=\"linenos\">2370</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">analogSpCondUUID</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-2371\" name=\"l-2371\"></a><span class=\"linenos\">2371</span></div>\n<div class=\"line\"><a id=\"l-2372\" name=\"l-2372\"></a><span class=\"linenos\">2372</span><span class=\"c1\">// Finally, Create the specific conductance variable and return a pointer to it</span></div>\n<div class=\"line\"><a id=\"l-2373\" name=\"l-2373\"></a><span class=\"linenos\">2373</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">analogEc_spcond</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">Variable</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-2374\" name=\"l-2374\"></a><span class=\"linenos\">2374</span><span class=\"w\">    </span><span class=\"n\">calculateAnalogSpCond</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">analogSpCondResolution</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">analogSpCondName</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-2375\" name=\"l-2375\"></a><span class=\"linenos\">2375</span><span class=\"w\">    </span><span class=\"n\">analogSpCondUnit</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">analogSpCondCode</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">analogSpCondUUID</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2376\" name=\"l-2376\"></a><span class=\"linenos\">2376</span><span class=\"cm\">/** End [analog_elec_conductivity] */</span></div>\n<div class=\"line\"><a id=\"l-2377\" name=\"l-2377\"></a><span class=\"linenos\">2377</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-2378\" name=\"l-2378\"></a><span class=\"linenos\">2378</span></div>\n<div class=\"line\"><a id=\"l-2379\" name=\"l-2379\"></a><span class=\"linenos\">2379</span></div>\n<div class=\"line\"><a id=\"l-2380\" name=\"l-2380\"></a><span class=\"linenos\">2380</span><span class=\"cp\">#if defined(BUILD_SENSOR_VEGA_PULS21)</span></div>\n<div class=\"line\"><a id=\"l-2381\" name=\"l-2381\"></a><span class=\"linenos\">2381</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-2382\" name=\"l-2382\"></a><span class=\"linenos\">2382</span><span class=\"c1\">//  VEGA PULS 21 Radar Sensor</span></div>\n<div class=\"line\"><a id=\"l-2383\" name=\"l-2383\"></a><span class=\"linenos\">2383</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-2384\" name=\"l-2384\"></a><span class=\"linenos\">2384</span><span class=\"cm\">/** Start [vega_puls21] */</span></div>\n<div class=\"line\"><a id=\"l-2385\" name=\"l-2385\"></a><span class=\"linenos\">2385</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;sensors/VegaPuls21.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-2386\" name=\"l-2386\"></a><span class=\"linenos\">2386</span></div>\n<div class=\"line\"><a id=\"l-2387\" name=\"l-2387\"></a><span class=\"linenos\">2387</span><span class=\"c1\">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span></div>\n<div class=\"line\"><a id=\"l-2388\" name=\"l-2388\"></a><span class=\"linenos\">2388</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">VegaPulsSDI12address</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s\">&quot;0&quot;</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// The SDI-12 Address of the VegaPuls21</span></div>\n<div class=\"line\"><a id=\"l-2389\" name=\"l-2389\"></a><span class=\"linenos\">2389</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">VegaPulsPower</span><span class=\"w\">       </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">sensorPowerPin</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Power pin</span></div>\n<div class=\"line\"><a id=\"l-2390\" name=\"l-2390\"></a><span class=\"linenos\">2390</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">VegaPulsData</span><span class=\"w\">        </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">sdi12DataPin</span><span class=\"p\">;</span><span class=\"w\">    </span><span class=\"c1\">// The SDI-12 data pin</span></div>\n<div class=\"line\"><a id=\"l-2391\" name=\"l-2391\"></a><span class=\"linenos\">2391</span><span class=\"c1\">// NOTE:  you should NOT take more than one readings.  THe sensor already takes</span></div>\n<div class=\"line\"><a id=\"l-2392\" name=\"l-2392\"></a><span class=\"linenos\">2392</span><span class=\"c1\">// and averages 8 by default.</span></div>\n<div class=\"line\"><a id=\"l-2393\" name=\"l-2393\"></a><span class=\"linenos\">2393</span></div>\n<div class=\"line\"><a id=\"l-2394\" name=\"l-2394\"></a><span class=\"linenos\">2394</span><span class=\"c1\">// Create a Vega Puls21 sensor object</span></div>\n<div class=\"line\"><a id=\"l-2395\" name=\"l-2395\"></a><span class=\"linenos\">2395</span><span class=\"n\">VegaPuls21</span><span class=\"w\"> </span><span class=\"nf\">VegaPuls</span><span class=\"p\">(</span><span class=\"o\">*</span><span class=\"n\">VegaPulsSDI12address</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">VegaPulsPower</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">VegaPulsData</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2396\" name=\"l-2396\"></a><span class=\"linenos\">2396</span></div>\n<div class=\"line\"><a id=\"l-2397\" name=\"l-2397\"></a><span class=\"linenos\">2397</span><span class=\"c1\">// Create stage, distance, temperature, reliability, and error variable pointers</span></div>\n<div class=\"line\"><a id=\"l-2398\" name=\"l-2398\"></a><span class=\"linenos\">2398</span><span class=\"c1\">// for the VegaPuls21</span></div>\n<div class=\"line\"><a id=\"l-2399\" name=\"l-2399\"></a><span class=\"linenos\">2399</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">VegaPulsStage</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-2400\" name=\"l-2400\"></a><span class=\"linenos\">2400</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">VegaPuls21_Stage</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">VegaPuls</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2401\" name=\"l-2401\"></a><span class=\"linenos\">2401</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">VegaPulsDistance</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-2402\" name=\"l-2402\"></a><span class=\"linenos\">2402</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">VegaPuls21_Distance</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">VegaPuls</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2403\" name=\"l-2403\"></a><span class=\"linenos\">2403</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">VegaPulsTemp</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-2404\" name=\"l-2404\"></a><span class=\"linenos\">2404</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">VegaPuls21_Temp</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">VegaPuls</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2405\" name=\"l-2405\"></a><span class=\"linenos\">2405</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">VegaPulsRelia</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">VegaPuls21_Reliability</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-2406\" name=\"l-2406\"></a><span class=\"linenos\">2406</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">VegaPuls</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2407\" name=\"l-2407\"></a><span class=\"linenos\">2407</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">VegaPulsError</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-2408\" name=\"l-2408\"></a><span class=\"linenos\">2408</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">VegaPuls21_ErrorCode</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">VegaPuls</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2409\" name=\"l-2409\"></a><span class=\"linenos\">2409</span><span class=\"cm\">/** End [vega_puls21] */</span></div>\n<div class=\"line\"><a id=\"l-2410\" name=\"l-2410\"></a><span class=\"linenos\">2410</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-2411\" name=\"l-2411\"></a><span class=\"linenos\">2411</span></div>\n<div class=\"line\"><a id=\"l-2412\" name=\"l-2412\"></a><span class=\"linenos\">2412</span></div>\n<div class=\"line\"><a id=\"l-2413\" name=\"l-2413\"></a><span class=\"linenos\">2413</span><span class=\"cp\">#if defined(BUILD_SENSOR_YOSEMITECH_Y504)</span></div>\n<div class=\"line\"><a id=\"l-2414\" name=\"l-2414\"></a><span class=\"linenos\">2414</span><span class=\"cp\">#ifndef BUILD_MODBUS_SENSOR</span></div>\n<div class=\"line\"><a id=\"l-2415\" name=\"l-2415\"></a><span class=\"linenos\">2415</span><span class=\"cp\">#define BUILD_MODBUS_SENSOR</span></div>\n<div class=\"line\"><a id=\"l-2416\" name=\"l-2416\"></a><span class=\"linenos\">2416</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-2417\" name=\"l-2417\"></a><span class=\"linenos\">2417</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-2418\" name=\"l-2418\"></a><span class=\"linenos\">2418</span><span class=\"c1\">//  Yosemitech Y504 Dissolved Oxygen Sensor</span></div>\n<div class=\"line\"><a id=\"l-2419\" name=\"l-2419\"></a><span class=\"linenos\">2419</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-2420\" name=\"l-2420\"></a><span class=\"linenos\">2420</span><span class=\"cm\">/** Start [yosemitech_y504] */</span></div>\n<div class=\"line\"><a id=\"l-2421\" name=\"l-2421\"></a><span class=\"linenos\">2421</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;sensors/YosemitechY504.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-2422\" name=\"l-2422\"></a><span class=\"linenos\">2422</span></div>\n<div class=\"line\"><a id=\"l-2423\" name=\"l-2423\"></a><span class=\"linenos\">2423</span><span class=\"c1\">// NOTE: Extra hardware and software serial ports are created in the &quot;Settings</span></div>\n<div class=\"line\"><a id=\"l-2424\" name=\"l-2424\"></a><span class=\"linenos\">2424</span><span class=\"c1\">// for Additional Serial Ports&quot; section</span></div>\n<div class=\"line\"><a id=\"l-2425\" name=\"l-2425\"></a><span class=\"linenos\">2425</span></div>\n<div class=\"line\"><a id=\"l-2426\" name=\"l-2426\"></a><span class=\"linenos\">2426</span><span class=\"c1\">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span></div>\n<div class=\"line\"><a id=\"l-2427\" name=\"l-2427\"></a><span class=\"linenos\">2427</span><span class=\"kr\">byte</span><span class=\"w\">          </span><span class=\"n\">y504ModbusAddress</span><span class=\"w\">  </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mh\">0x04</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// The modbus address of the Y504</span></div>\n<div class=\"line\"><a id=\"l-2428\" name=\"l-2428\"></a><span class=\"linenos\">2428</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">y504AdapterPower</span><span class=\"w\">   </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">sensorPowerPin</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// RS485 adapter power pin</span></div>\n<div class=\"line\"><a id=\"l-2429\" name=\"l-2429\"></a><span class=\"linenos\">2429</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">y504SensorPower</span><span class=\"w\">    </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">relayPowerPin</span><span class=\"p\">;</span><span class=\"w\">   </span><span class=\"c1\">// Sensor power pin</span></div>\n<div class=\"line\"><a id=\"l-2430\" name=\"l-2430\"></a><span class=\"linenos\">2430</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">y504EnablePin</span><span class=\"w\">      </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">-1</span><span class=\"p\">;</span><span class=\"w\">              </span><span class=\"c1\">// Adapter RE/DE pin</span></div>\n<div class=\"line\"><a id=\"l-2431\" name=\"l-2431\"></a><span class=\"linenos\">2431</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">uint8_t</span><span class=\"w\"> </span><span class=\"n\">y504NumberReadings</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">5</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-2432\" name=\"l-2432\"></a><span class=\"linenos\">2432</span><span class=\"c1\">// The manufacturer recommends averaging 10 readings, but we take 5 to minimize</span></div>\n<div class=\"line\"><a id=\"l-2433\" name=\"l-2433\"></a><span class=\"linenos\">2433</span><span class=\"c1\">// power consumption</span></div>\n<div class=\"line\"><a id=\"l-2434\" name=\"l-2434\"></a><span class=\"linenos\">2434</span></div>\n<div class=\"line\"><a id=\"l-2435\" name=\"l-2435\"></a><span class=\"linenos\">2435</span><span class=\"c1\">// Create a Yosemitech Y504 dissolved oxygen sensor object</span></div>\n<div class=\"line\"><a id=\"l-2436\" name=\"l-2436\"></a><span class=\"linenos\">2436</span><span class=\"n\">YosemitechY504</span><span class=\"w\"> </span><span class=\"nf\">y504</span><span class=\"p\">(</span><span class=\"n\">y504ModbusAddress</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">modbusSerial</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">y504AdapterPower</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-2437\" name=\"l-2437\"></a><span class=\"linenos\">2437</span><span class=\"w\">                    </span><span class=\"n\">y504SensorPower</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">y504EnablePin</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">y504NumberReadings</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2438\" name=\"l-2438\"></a><span class=\"linenos\">2438</span></div>\n<div class=\"line\"><a id=\"l-2439\" name=\"l-2439\"></a><span class=\"linenos\">2439</span><span class=\"c1\">// Create the dissolved oxygen percent, dissolved oxygen concentration, and</span></div>\n<div class=\"line\"><a id=\"l-2440\" name=\"l-2440\"></a><span class=\"linenos\">2440</span><span class=\"c1\">// temperature variable pointers for the Y504</span></div>\n<div class=\"line\"><a id=\"l-2441\" name=\"l-2441\"></a><span class=\"linenos\">2441</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">y504DOpct</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-2442\" name=\"l-2442\"></a><span class=\"linenos\">2442</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">YosemitechY504_DOpct</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">y504</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2443\" name=\"l-2443\"></a><span class=\"linenos\">2443</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">y504DOmgL</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-2444\" name=\"l-2444\"></a><span class=\"linenos\">2444</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">YosemitechY504_DOmgL</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">y504</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2445\" name=\"l-2445\"></a><span class=\"linenos\">2445</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">y504Temp</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-2446\" name=\"l-2446\"></a><span class=\"linenos\">2446</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">YosemitechY504_Temp</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">y504</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2447\" name=\"l-2447\"></a><span class=\"linenos\">2447</span><span class=\"cm\">/** End [yosemitech_y504] */</span></div>\n<div class=\"line\"><a id=\"l-2448\" name=\"l-2448\"></a><span class=\"linenos\">2448</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-2449\" name=\"l-2449\"></a><span class=\"linenos\">2449</span></div>\n<div class=\"line\"><a id=\"l-2450\" name=\"l-2450\"></a><span class=\"linenos\">2450</span></div>\n<div class=\"line\"><a id=\"l-2451\" name=\"l-2451\"></a><span class=\"linenos\">2451</span><span class=\"cp\">#if defined(BUILD_SENSOR_YOSEMITECH_Y510)</span></div>\n<div class=\"line\"><a id=\"l-2452\" name=\"l-2452\"></a><span class=\"linenos\">2452</span><span class=\"cp\">#ifndef BUILD_MODBUS_SENSOR</span></div>\n<div class=\"line\"><a id=\"l-2453\" name=\"l-2453\"></a><span class=\"linenos\">2453</span><span class=\"cp\">#define BUILD_MODBUS_SENSOR</span></div>\n<div class=\"line\"><a id=\"l-2454\" name=\"l-2454\"></a><span class=\"linenos\">2454</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-2455\" name=\"l-2455\"></a><span class=\"linenos\">2455</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-2456\" name=\"l-2456\"></a><span class=\"linenos\">2456</span><span class=\"c1\">//  Yosemitech Y510 Turbidity Sensor</span></div>\n<div class=\"line\"><a id=\"l-2457\" name=\"l-2457\"></a><span class=\"linenos\">2457</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-2458\" name=\"l-2458\"></a><span class=\"linenos\">2458</span><span class=\"cm\">/** Start [yosemitech_y510] */</span></div>\n<div class=\"line\"><a id=\"l-2459\" name=\"l-2459\"></a><span class=\"linenos\">2459</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;sensors/YosemitechY510.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-2460\" name=\"l-2460\"></a><span class=\"linenos\">2460</span></div>\n<div class=\"line\"><a id=\"l-2461\" name=\"l-2461\"></a><span class=\"linenos\">2461</span><span class=\"c1\">// NOTE: Extra hardware and software serial ports are created in the &quot;Settings</span></div>\n<div class=\"line\"><a id=\"l-2462\" name=\"l-2462\"></a><span class=\"linenos\">2462</span><span class=\"c1\">// for Additional Serial Ports&quot; section</span></div>\n<div class=\"line\"><a id=\"l-2463\" name=\"l-2463\"></a><span class=\"linenos\">2463</span></div>\n<div class=\"line\"><a id=\"l-2464\" name=\"l-2464\"></a><span class=\"linenos\">2464</span><span class=\"c1\">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span></div>\n<div class=\"line\"><a id=\"l-2465\" name=\"l-2465\"></a><span class=\"linenos\">2465</span><span class=\"kr\">byte</span><span class=\"w\">          </span><span class=\"n\">y510ModbusAddress</span><span class=\"w\">  </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mh\">0x0B</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// The modbus address of the Y510</span></div>\n<div class=\"line\"><a id=\"l-2466\" name=\"l-2466\"></a><span class=\"linenos\">2466</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">y510AdapterPower</span><span class=\"w\">   </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">sensorPowerPin</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// RS485 adapter power pin</span></div>\n<div class=\"line\"><a id=\"l-2467\" name=\"l-2467\"></a><span class=\"linenos\">2467</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">y510SensorPower</span><span class=\"w\">    </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">relayPowerPin</span><span class=\"p\">;</span><span class=\"w\">   </span><span class=\"c1\">// Sensor power pin</span></div>\n<div class=\"line\"><a id=\"l-2468\" name=\"l-2468\"></a><span class=\"linenos\">2468</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">y510EnablePin</span><span class=\"w\">      </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">-1</span><span class=\"p\">;</span><span class=\"w\">              </span><span class=\"c1\">// Adapter RE/DE pin</span></div>\n<div class=\"line\"><a id=\"l-2469\" name=\"l-2469\"></a><span class=\"linenos\">2469</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">uint8_t</span><span class=\"w\"> </span><span class=\"n\">y510NumberReadings</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">5</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-2470\" name=\"l-2470\"></a><span class=\"linenos\">2470</span><span class=\"c1\">// The manufacturer recommends averaging 10 readings, but we take 5 to minimize</span></div>\n<div class=\"line\"><a id=\"l-2471\" name=\"l-2471\"></a><span class=\"linenos\">2471</span><span class=\"c1\">// power consumption</span></div>\n<div class=\"line\"><a id=\"l-2472\" name=\"l-2472\"></a><span class=\"linenos\">2472</span></div>\n<div class=\"line\"><a id=\"l-2473\" name=\"l-2473\"></a><span class=\"linenos\">2473</span><span class=\"c1\">// Create a Y510-B Turbidity sensor object</span></div>\n<div class=\"line\"><a id=\"l-2474\" name=\"l-2474\"></a><span class=\"linenos\">2474</span><span class=\"n\">YosemitechY510</span><span class=\"w\"> </span><span class=\"nf\">y510</span><span class=\"p\">(</span><span class=\"n\">y510ModbusAddress</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">modbusSerial</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">y510AdapterPower</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-2475\" name=\"l-2475\"></a><span class=\"linenos\">2475</span><span class=\"w\">                    </span><span class=\"n\">y510SensorPower</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">y510EnablePin</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">y510NumberReadings</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2476\" name=\"l-2476\"></a><span class=\"linenos\">2476</span></div>\n<div class=\"line\"><a id=\"l-2477\" name=\"l-2477\"></a><span class=\"linenos\">2477</span><span class=\"c1\">// Create turbidity and temperature variable pointers for the Y510</span></div>\n<div class=\"line\"><a id=\"l-2478\" name=\"l-2478\"></a><span class=\"linenos\">2478</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">y510Turb</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-2479\" name=\"l-2479\"></a><span class=\"linenos\">2479</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">YosemitechY510_Turbidity</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">y510</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2480\" name=\"l-2480\"></a><span class=\"linenos\">2480</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">y510Temp</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-2481\" name=\"l-2481\"></a><span class=\"linenos\">2481</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">YosemitechY510_Temp</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">y510</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2482\" name=\"l-2482\"></a><span class=\"linenos\">2482</span><span class=\"cm\">/** End [yosemitech_y510] */</span></div>\n<div class=\"line\"><a id=\"l-2483\" name=\"l-2483\"></a><span class=\"linenos\">2483</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-2484\" name=\"l-2484\"></a><span class=\"linenos\">2484</span></div>\n<div class=\"line\"><a id=\"l-2485\" name=\"l-2485\"></a><span class=\"linenos\">2485</span></div>\n<div class=\"line\"><a id=\"l-2486\" name=\"l-2486\"></a><span class=\"linenos\">2486</span><span class=\"cp\">#if defined(BUILD_SENSOR_YOSEMITECH_Y511)</span></div>\n<div class=\"line\"><a id=\"l-2487\" name=\"l-2487\"></a><span class=\"linenos\">2487</span><span class=\"cp\">#ifndef BUILD_MODBUS_SENSOR</span></div>\n<div class=\"line\"><a id=\"l-2488\" name=\"l-2488\"></a><span class=\"linenos\">2488</span><span class=\"cp\">#define BUILD_MODBUS_SENSOR</span></div>\n<div class=\"line\"><a id=\"l-2489\" name=\"l-2489\"></a><span class=\"linenos\">2489</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-2490\" name=\"l-2490\"></a><span class=\"linenos\">2490</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-2491\" name=\"l-2491\"></a><span class=\"linenos\">2491</span><span class=\"c1\">//  Yosemitech Y511 Turbidity Sensor with Wiper</span></div>\n<div class=\"line\"><a id=\"l-2492\" name=\"l-2492\"></a><span class=\"linenos\">2492</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-2493\" name=\"l-2493\"></a><span class=\"linenos\">2493</span><span class=\"cm\">/** Start [yosemitech_y511] */</span></div>\n<div class=\"line\"><a id=\"l-2494\" name=\"l-2494\"></a><span class=\"linenos\">2494</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;sensors/YosemitechY511.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-2495\" name=\"l-2495\"></a><span class=\"linenos\">2495</span></div>\n<div class=\"line\"><a id=\"l-2496\" name=\"l-2496\"></a><span class=\"linenos\">2496</span><span class=\"c1\">// NOTE: Extra hardware and software serial ports are created in the &quot;Settings</span></div>\n<div class=\"line\"><a id=\"l-2497\" name=\"l-2497\"></a><span class=\"linenos\">2497</span><span class=\"c1\">// for Additional Serial Ports&quot; section</span></div>\n<div class=\"line\"><a id=\"l-2498\" name=\"l-2498\"></a><span class=\"linenos\">2498</span></div>\n<div class=\"line\"><a id=\"l-2499\" name=\"l-2499\"></a><span class=\"linenos\">2499</span><span class=\"c1\">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span></div>\n<div class=\"line\"><a id=\"l-2500\" name=\"l-2500\"></a><span class=\"linenos\">2500</span><span class=\"kr\">byte</span><span class=\"w\">          </span><span class=\"n\">y511ModbusAddress</span><span class=\"w\">  </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mh\">0x1A</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// The modbus address of the Y511</span></div>\n<div class=\"line\"><a id=\"l-2501\" name=\"l-2501\"></a><span class=\"linenos\">2501</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">y511AdapterPower</span><span class=\"w\">   </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">sensorPowerPin</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// RS485 adapter power pin</span></div>\n<div class=\"line\"><a id=\"l-2502\" name=\"l-2502\"></a><span class=\"linenos\">2502</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">y511SensorPower</span><span class=\"w\">    </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">relayPowerPin</span><span class=\"p\">;</span><span class=\"w\">   </span><span class=\"c1\">// Sensor power pin</span></div>\n<div class=\"line\"><a id=\"l-2503\" name=\"l-2503\"></a><span class=\"linenos\">2503</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">y511EnablePin</span><span class=\"w\">      </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">-1</span><span class=\"p\">;</span><span class=\"w\">              </span><span class=\"c1\">// Adapter RE/DE pin</span></div>\n<div class=\"line\"><a id=\"l-2504\" name=\"l-2504\"></a><span class=\"linenos\">2504</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">uint8_t</span><span class=\"w\"> </span><span class=\"n\">y511NumberReadings</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">5</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-2505\" name=\"l-2505\"></a><span class=\"linenos\">2505</span><span class=\"c1\">// The manufacturer recommends averaging 10 readings, but we take 5 to minimize</span></div>\n<div class=\"line\"><a id=\"l-2506\" name=\"l-2506\"></a><span class=\"linenos\">2506</span><span class=\"c1\">// power consumption</span></div>\n<div class=\"line\"><a id=\"l-2507\" name=\"l-2507\"></a><span class=\"linenos\">2507</span></div>\n<div class=\"line\"><a id=\"l-2508\" name=\"l-2508\"></a><span class=\"linenos\">2508</span><span class=\"c1\">// Create a Y511-A Turbidity sensor object</span></div>\n<div class=\"line\"><a id=\"l-2509\" name=\"l-2509\"></a><span class=\"linenos\">2509</span><span class=\"n\">YosemitechY511</span><span class=\"w\"> </span><span class=\"nf\">y511</span><span class=\"p\">(</span><span class=\"n\">y511ModbusAddress</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">modbusSerial</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">y511AdapterPower</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-2510\" name=\"l-2510\"></a><span class=\"linenos\">2510</span><span class=\"w\">                    </span><span class=\"n\">y511SensorPower</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">y511EnablePin</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">y511NumberReadings</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2511\" name=\"l-2511\"></a><span class=\"linenos\">2511</span></div>\n<div class=\"line\"><a id=\"l-2512\" name=\"l-2512\"></a><span class=\"linenos\">2512</span><span class=\"c1\">// Create turbidity and temperature variable pointers for the Y511</span></div>\n<div class=\"line\"><a id=\"l-2513\" name=\"l-2513\"></a><span class=\"linenos\">2513</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">y511Turb</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-2514\" name=\"l-2514\"></a><span class=\"linenos\">2514</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">YosemitechY511_Turbidity</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">y511</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2515\" name=\"l-2515\"></a><span class=\"linenos\">2515</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">y511Temp</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-2516\" name=\"l-2516\"></a><span class=\"linenos\">2516</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">YosemitechY511_Temp</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">y511</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2517\" name=\"l-2517\"></a><span class=\"linenos\">2517</span><span class=\"cm\">/** End [yosemitech_y511] */</span></div>\n<div class=\"line\"><a id=\"l-2518\" name=\"l-2518\"></a><span class=\"linenos\">2518</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-2519\" name=\"l-2519\"></a><span class=\"linenos\">2519</span></div>\n<div class=\"line\"><a id=\"l-2520\" name=\"l-2520\"></a><span class=\"linenos\">2520</span></div>\n<div class=\"line\"><a id=\"l-2521\" name=\"l-2521\"></a><span class=\"linenos\">2521</span><span class=\"cp\">#if defined(BUILD_SENSOR_YOSEMITECH_Y513)</span></div>\n<div class=\"line\"><a id=\"l-2522\" name=\"l-2522\"></a><span class=\"linenos\">2522</span><span class=\"cp\">#ifndef BUILD_MODBUS_SENSOR</span></div>\n<div class=\"line\"><a id=\"l-2523\" name=\"l-2523\"></a><span class=\"linenos\">2523</span><span class=\"cp\">#define BUILD_MODBUS_SENSOR</span></div>\n<div class=\"line\"><a id=\"l-2524\" name=\"l-2524\"></a><span class=\"linenos\">2524</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-2525\" name=\"l-2525\"></a><span class=\"linenos\">2525</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-2526\" name=\"l-2526\"></a><span class=\"linenos\">2526</span><span class=\"c1\">//  Yosemitech Y513 Blue Green Algae (BGA) Sensor</span></div>\n<div class=\"line\"><a id=\"l-2527\" name=\"l-2527\"></a><span class=\"linenos\">2527</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-2528\" name=\"l-2528\"></a><span class=\"linenos\">2528</span><span class=\"cm\">/** Start [yosemitech_y513] */</span></div>\n<div class=\"line\"><a id=\"l-2529\" name=\"l-2529\"></a><span class=\"linenos\">2529</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;sensors/YosemitechY513.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-2530\" name=\"l-2530\"></a><span class=\"linenos\">2530</span></div>\n<div class=\"line\"><a id=\"l-2531\" name=\"l-2531\"></a><span class=\"linenos\">2531</span><span class=\"c1\">// NOTE: Extra hardware and software serial ports are created in the &quot;Settings</span></div>\n<div class=\"line\"><a id=\"l-2532\" name=\"l-2532\"></a><span class=\"linenos\">2532</span><span class=\"c1\">// for Additional Serial Ports&quot; section</span></div>\n<div class=\"line\"><a id=\"l-2533\" name=\"l-2533\"></a><span class=\"linenos\">2533</span></div>\n<div class=\"line\"><a id=\"l-2534\" name=\"l-2534\"></a><span class=\"linenos\">2534</span><span class=\"c1\">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span></div>\n<div class=\"line\"><a id=\"l-2535\" name=\"l-2535\"></a><span class=\"linenos\">2535</span><span class=\"kr\">byte</span><span class=\"w\">          </span><span class=\"n\">y513ModbusAddress</span><span class=\"w\">  </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mh\">0x13</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// The modbus address of the Y513</span></div>\n<div class=\"line\"><a id=\"l-2536\" name=\"l-2536\"></a><span class=\"linenos\">2536</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">y513AdapterPower</span><span class=\"w\">   </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">sensorPowerPin</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// RS485 adapter power pin</span></div>\n<div class=\"line\"><a id=\"l-2537\" name=\"l-2537\"></a><span class=\"linenos\">2537</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">y513SensorPower</span><span class=\"w\">    </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">relayPowerPin</span><span class=\"p\">;</span><span class=\"w\">   </span><span class=\"c1\">// Sensor power pin</span></div>\n<div class=\"line\"><a id=\"l-2538\" name=\"l-2538\"></a><span class=\"linenos\">2538</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">y513EnablePin</span><span class=\"w\">      </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">-1</span><span class=\"p\">;</span><span class=\"w\">              </span><span class=\"c1\">// Adapter RE/DE pin</span></div>\n<div class=\"line\"><a id=\"l-2539\" name=\"l-2539\"></a><span class=\"linenos\">2539</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">uint8_t</span><span class=\"w\"> </span><span class=\"n\">y513NumberReadings</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">5</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-2540\" name=\"l-2540\"></a><span class=\"linenos\">2540</span><span class=\"c1\">// The manufacturer recommends averaging 10 readings, but we take 5 to minimize</span></div>\n<div class=\"line\"><a id=\"l-2541\" name=\"l-2541\"></a><span class=\"linenos\">2541</span><span class=\"c1\">// power consumption</span></div>\n<div class=\"line\"><a id=\"l-2542\" name=\"l-2542\"></a><span class=\"linenos\">2542</span></div>\n<div class=\"line\"><a id=\"l-2543\" name=\"l-2543\"></a><span class=\"linenos\">2543</span><span class=\"c1\">// Create a Y513 Blue Green Algae (BGA) sensor object</span></div>\n<div class=\"line\"><a id=\"l-2544\" name=\"l-2544\"></a><span class=\"linenos\">2544</span><span class=\"n\">YosemitechY513</span><span class=\"w\"> </span><span class=\"nf\">y513</span><span class=\"p\">(</span><span class=\"n\">y513ModbusAddress</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">modbusSerial</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">y513AdapterPower</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-2545\" name=\"l-2545\"></a><span class=\"linenos\">2545</span><span class=\"w\">                    </span><span class=\"n\">y513SensorPower</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">y513EnablePin</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">y513NumberReadings</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2546\" name=\"l-2546\"></a><span class=\"linenos\">2546</span></div>\n<div class=\"line\"><a id=\"l-2547\" name=\"l-2547\"></a><span class=\"linenos\">2547</span><span class=\"c1\">// Create Blue Green Algae (BGA) concentration and temperature variable</span></div>\n<div class=\"line\"><a id=\"l-2548\" name=\"l-2548\"></a><span class=\"linenos\">2548</span><span class=\"c1\">// pointers for the Y513</span></div>\n<div class=\"line\"><a id=\"l-2549\" name=\"l-2549\"></a><span class=\"linenos\">2549</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">y513BGA</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-2550\" name=\"l-2550\"></a><span class=\"linenos\">2550</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">YosemitechY513_BGA</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">y513</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2551\" name=\"l-2551\"></a><span class=\"linenos\">2551</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">y513Temp</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-2552\" name=\"l-2552\"></a><span class=\"linenos\">2552</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">YosemitechY513_Temp</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">y513</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2553\" name=\"l-2553\"></a><span class=\"linenos\">2553</span><span class=\"cm\">/** End [yosemitech_y513] */</span></div>\n<div class=\"line\"><a id=\"l-2554\" name=\"l-2554\"></a><span class=\"linenos\">2554</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-2555\" name=\"l-2555\"></a><span class=\"linenos\">2555</span></div>\n<div class=\"line\"><a id=\"l-2556\" name=\"l-2556\"></a><span class=\"linenos\">2556</span><span class=\"cp\">#if defined(BUILD_SENSOR_YOSEMITECH_Y514)</span></div>\n<div class=\"line\"><a id=\"l-2557\" name=\"l-2557\"></a><span class=\"linenos\">2557</span><span class=\"cp\">#ifndef BUILD_MODBUS_SENSOR</span></div>\n<div class=\"line\"><a id=\"l-2558\" name=\"l-2558\"></a><span class=\"linenos\">2558</span><span class=\"cp\">#define BUILD_MODBUS_SENSOR</span></div>\n<div class=\"line\"><a id=\"l-2559\" name=\"l-2559\"></a><span class=\"linenos\">2559</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-2560\" name=\"l-2560\"></a><span class=\"linenos\">2560</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-2561\" name=\"l-2561\"></a><span class=\"linenos\">2561</span><span class=\"c1\">//  Yosemitech Y514 Chlorophyll Sensor</span></div>\n<div class=\"line\"><a id=\"l-2562\" name=\"l-2562\"></a><span class=\"linenos\">2562</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-2563\" name=\"l-2563\"></a><span class=\"linenos\">2563</span><span class=\"cm\">/** Start [yosemitech_y514] */</span></div>\n<div class=\"line\"><a id=\"l-2564\" name=\"l-2564\"></a><span class=\"linenos\">2564</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;sensors/YosemitechY514.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-2565\" name=\"l-2565\"></a><span class=\"linenos\">2565</span></div>\n<div class=\"line\"><a id=\"l-2566\" name=\"l-2566\"></a><span class=\"linenos\">2566</span><span class=\"c1\">// NOTE: Extra hardware and software serial ports are created in the &quot;Settings</span></div>\n<div class=\"line\"><a id=\"l-2567\" name=\"l-2567\"></a><span class=\"linenos\">2567</span><span class=\"c1\">// for Additional Serial Ports&quot; section</span></div>\n<div class=\"line\"><a id=\"l-2568\" name=\"l-2568\"></a><span class=\"linenos\">2568</span></div>\n<div class=\"line\"><a id=\"l-2569\" name=\"l-2569\"></a><span class=\"linenos\">2569</span><span class=\"c1\">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span></div>\n<div class=\"line\"><a id=\"l-2570\" name=\"l-2570\"></a><span class=\"linenos\">2570</span><span class=\"kr\">byte</span><span class=\"w\">          </span><span class=\"n\">y514ModbusAddress</span><span class=\"w\">  </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mh\">0x14</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// The modbus address of the Y514</span></div>\n<div class=\"line\"><a id=\"l-2571\" name=\"l-2571\"></a><span class=\"linenos\">2571</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">y514AdapterPower</span><span class=\"w\">   </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">sensorPowerPin</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// RS485 adapter power pin</span></div>\n<div class=\"line\"><a id=\"l-2572\" name=\"l-2572\"></a><span class=\"linenos\">2572</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">y514SensorPower</span><span class=\"w\">    </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">relayPowerPin</span><span class=\"p\">;</span><span class=\"w\">   </span><span class=\"c1\">// Sensor power pin</span></div>\n<div class=\"line\"><a id=\"l-2573\" name=\"l-2573\"></a><span class=\"linenos\">2573</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">y514EnablePin</span><span class=\"w\">      </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">-1</span><span class=\"p\">;</span><span class=\"w\">              </span><span class=\"c1\">// Adapter RE/DE pin</span></div>\n<div class=\"line\"><a id=\"l-2574\" name=\"l-2574\"></a><span class=\"linenos\">2574</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">uint8_t</span><span class=\"w\"> </span><span class=\"n\">y514NumberReadings</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">5</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-2575\" name=\"l-2575\"></a><span class=\"linenos\">2575</span><span class=\"c1\">// The manufacturer recommends averaging 10 readings, but we take 5 to minimize</span></div>\n<div class=\"line\"><a id=\"l-2576\" name=\"l-2576\"></a><span class=\"linenos\">2576</span><span class=\"c1\">// power consumption</span></div>\n<div class=\"line\"><a id=\"l-2577\" name=\"l-2577\"></a><span class=\"linenos\">2577</span></div>\n<div class=\"line\"><a id=\"l-2578\" name=\"l-2578\"></a><span class=\"linenos\">2578</span><span class=\"c1\">// Create a Y514 chlorophyll sensor object</span></div>\n<div class=\"line\"><a id=\"l-2579\" name=\"l-2579\"></a><span class=\"linenos\">2579</span><span class=\"n\">YosemitechY514</span><span class=\"w\"> </span><span class=\"nf\">y514</span><span class=\"p\">(</span><span class=\"n\">y514ModbusAddress</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">modbusSerial</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">y514AdapterPower</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-2580\" name=\"l-2580\"></a><span class=\"linenos\">2580</span><span class=\"w\">                    </span><span class=\"n\">y514SensorPower</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">y514EnablePin</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">y514NumberReadings</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2581\" name=\"l-2581\"></a><span class=\"linenos\">2581</span></div>\n<div class=\"line\"><a id=\"l-2582\" name=\"l-2582\"></a><span class=\"linenos\">2582</span><span class=\"c1\">// Create chlorophyll concentration and temperature variable pointers for the</span></div>\n<div class=\"line\"><a id=\"l-2583\" name=\"l-2583\"></a><span class=\"linenos\">2583</span><span class=\"c1\">// Y514</span></div>\n<div class=\"line\"><a id=\"l-2584\" name=\"l-2584\"></a><span class=\"linenos\">2584</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">y514Chloro</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">YosemitechY514_Chlorophyll</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-2585\" name=\"l-2585\"></a><span class=\"linenos\">2585</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">y514</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2586\" name=\"l-2586\"></a><span class=\"linenos\">2586</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">y514Temp</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-2587\" name=\"l-2587\"></a><span class=\"linenos\">2587</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">YosemitechY514_Temp</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">y514</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2588\" name=\"l-2588\"></a><span class=\"linenos\">2588</span><span class=\"cm\">/** End [yosemitech_y514] */</span></div>\n<div class=\"line\"><a id=\"l-2589\" name=\"l-2589\"></a><span class=\"linenos\">2589</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-2590\" name=\"l-2590\"></a><span class=\"linenos\">2590</span></div>\n<div class=\"line\"><a id=\"l-2591\" name=\"l-2591\"></a><span class=\"linenos\">2591</span></div>\n<div class=\"line\"><a id=\"l-2592\" name=\"l-2592\"></a><span class=\"linenos\">2592</span><span class=\"cp\">#if defined(BUILD_SENSOR_YOSEMITECH_Y520)</span></div>\n<div class=\"line\"><a id=\"l-2593\" name=\"l-2593\"></a><span class=\"linenos\">2593</span><span class=\"cp\">#ifndef BUILD_MODBUS_SENSOR</span></div>\n<div class=\"line\"><a id=\"l-2594\" name=\"l-2594\"></a><span class=\"linenos\">2594</span><span class=\"cp\">#define BUILD_MODBUS_SENSOR</span></div>\n<div class=\"line\"><a id=\"l-2595\" name=\"l-2595\"></a><span class=\"linenos\">2595</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-2596\" name=\"l-2596\"></a><span class=\"linenos\">2596</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-2597\" name=\"l-2597\"></a><span class=\"linenos\">2597</span><span class=\"c1\">//  Yosemitech Y520 Conductivity Sensor</span></div>\n<div class=\"line\"><a id=\"l-2598\" name=\"l-2598\"></a><span class=\"linenos\">2598</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-2599\" name=\"l-2599\"></a><span class=\"linenos\">2599</span><span class=\"cm\">/** Start [yosemitech_y520] */</span></div>\n<div class=\"line\"><a id=\"l-2600\" name=\"l-2600\"></a><span class=\"linenos\">2600</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;sensors/YosemitechY520.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-2601\" name=\"l-2601\"></a><span class=\"linenos\">2601</span></div>\n<div class=\"line\"><a id=\"l-2602\" name=\"l-2602\"></a><span class=\"linenos\">2602</span><span class=\"c1\">// NOTE: Extra hardware and software serial ports are created in the &quot;Settings</span></div>\n<div class=\"line\"><a id=\"l-2603\" name=\"l-2603\"></a><span class=\"linenos\">2603</span><span class=\"c1\">// for Additional Serial Ports&quot; section</span></div>\n<div class=\"line\"><a id=\"l-2604\" name=\"l-2604\"></a><span class=\"linenos\">2604</span></div>\n<div class=\"line\"><a id=\"l-2605\" name=\"l-2605\"></a><span class=\"linenos\">2605</span><span class=\"c1\">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span></div>\n<div class=\"line\"><a id=\"l-2606\" name=\"l-2606\"></a><span class=\"linenos\">2606</span><span class=\"kr\">byte</span><span class=\"w\">          </span><span class=\"n\">y520ModbusAddress</span><span class=\"w\">  </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mh\">0x20</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// The modbus address of the Y520</span></div>\n<div class=\"line\"><a id=\"l-2607\" name=\"l-2607\"></a><span class=\"linenos\">2607</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">y520AdapterPower</span><span class=\"w\">   </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">sensorPowerPin</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// RS485 adapter power pin</span></div>\n<div class=\"line\"><a id=\"l-2608\" name=\"l-2608\"></a><span class=\"linenos\">2608</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">y520SensorPower</span><span class=\"w\">    </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">relayPowerPin</span><span class=\"p\">;</span><span class=\"w\">   </span><span class=\"c1\">// Sensor power pin</span></div>\n<div class=\"line\"><a id=\"l-2609\" name=\"l-2609\"></a><span class=\"linenos\">2609</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">y520EnablePin</span><span class=\"w\">      </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">-1</span><span class=\"p\">;</span><span class=\"w\">              </span><span class=\"c1\">// Adapter RE/DE pin</span></div>\n<div class=\"line\"><a id=\"l-2610\" name=\"l-2610\"></a><span class=\"linenos\">2610</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">uint8_t</span><span class=\"w\"> </span><span class=\"n\">y520NumberReadings</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">5</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-2611\" name=\"l-2611\"></a><span class=\"linenos\">2611</span><span class=\"c1\">// The manufacturer recommends averaging 10 readings, but we take 5 to minimize</span></div>\n<div class=\"line\"><a id=\"l-2612\" name=\"l-2612\"></a><span class=\"linenos\">2612</span><span class=\"c1\">// power consumption</span></div>\n<div class=\"line\"><a id=\"l-2613\" name=\"l-2613\"></a><span class=\"linenos\">2613</span></div>\n<div class=\"line\"><a id=\"l-2614\" name=\"l-2614\"></a><span class=\"linenos\">2614</span><span class=\"c1\">// Create a Y520 conductivity sensor object</span></div>\n<div class=\"line\"><a id=\"l-2615\" name=\"l-2615\"></a><span class=\"linenos\">2615</span><span class=\"n\">YosemitechY520</span><span class=\"w\"> </span><span class=\"nf\">y520</span><span class=\"p\">(</span><span class=\"n\">y520ModbusAddress</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">modbusSerial</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">y520AdapterPower</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-2616\" name=\"l-2616\"></a><span class=\"linenos\">2616</span><span class=\"w\">                    </span><span class=\"n\">y520SensorPower</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">y520EnablePin</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">y520NumberReadings</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2617\" name=\"l-2617\"></a><span class=\"linenos\">2617</span></div>\n<div class=\"line\"><a id=\"l-2618\" name=\"l-2618\"></a><span class=\"linenos\">2618</span><span class=\"c1\">// Create specific conductance and temperature variable pointers for the Y520</span></div>\n<div class=\"line\"><a id=\"l-2619\" name=\"l-2619\"></a><span class=\"linenos\">2619</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">y520Cond</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-2620\" name=\"l-2620\"></a><span class=\"linenos\">2620</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">YosemitechY520_Cond</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">y520</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2621\" name=\"l-2621\"></a><span class=\"linenos\">2621</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">y520Temp</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-2622\" name=\"l-2622\"></a><span class=\"linenos\">2622</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">YosemitechY520_Temp</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">y520</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2623\" name=\"l-2623\"></a><span class=\"linenos\">2623</span><span class=\"cm\">/** End [yosemitech_y520] */</span></div>\n<div class=\"line\"><a id=\"l-2624\" name=\"l-2624\"></a><span class=\"linenos\">2624</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-2625\" name=\"l-2625\"></a><span class=\"linenos\">2625</span></div>\n<div class=\"line\"><a id=\"l-2626\" name=\"l-2626\"></a><span class=\"linenos\">2626</span></div>\n<div class=\"line\"><a id=\"l-2627\" name=\"l-2627\"></a><span class=\"linenos\">2627</span><span class=\"cp\">#if defined(BUILD_SENSOR_YOSEMITECH_Y532)</span></div>\n<div class=\"line\"><a id=\"l-2628\" name=\"l-2628\"></a><span class=\"linenos\">2628</span><span class=\"cp\">#ifndef BUILD_MODBUS_SENSOR</span></div>\n<div class=\"line\"><a id=\"l-2629\" name=\"l-2629\"></a><span class=\"linenos\">2629</span><span class=\"cp\">#define BUILD_MODBUS_SENSOR</span></div>\n<div class=\"line\"><a id=\"l-2630\" name=\"l-2630\"></a><span class=\"linenos\">2630</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-2631\" name=\"l-2631\"></a><span class=\"linenos\">2631</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-2632\" name=\"l-2632\"></a><span class=\"linenos\">2632</span><span class=\"c1\">//  Yosemitech Y532 pH</span></div>\n<div class=\"line\"><a id=\"l-2633\" name=\"l-2633\"></a><span class=\"linenos\">2633</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-2634\" name=\"l-2634\"></a><span class=\"linenos\">2634</span><span class=\"cm\">/** Start [yosemitech_y532] */</span></div>\n<div class=\"line\"><a id=\"l-2635\" name=\"l-2635\"></a><span class=\"linenos\">2635</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;sensors/YosemitechY532.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-2636\" name=\"l-2636\"></a><span class=\"linenos\">2636</span></div>\n<div class=\"line\"><a id=\"l-2637\" name=\"l-2637\"></a><span class=\"linenos\">2637</span><span class=\"c1\">// NOTE: Extra hardware and software serial ports are created in the &quot;Settings</span></div>\n<div class=\"line\"><a id=\"l-2638\" name=\"l-2638\"></a><span class=\"linenos\">2638</span><span class=\"c1\">// for Additional Serial Ports&quot; section</span></div>\n<div class=\"line\"><a id=\"l-2639\" name=\"l-2639\"></a><span class=\"linenos\">2639</span></div>\n<div class=\"line\"><a id=\"l-2640\" name=\"l-2640\"></a><span class=\"linenos\">2640</span><span class=\"c1\">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span></div>\n<div class=\"line\"><a id=\"l-2641\" name=\"l-2641\"></a><span class=\"linenos\">2641</span><span class=\"kr\">byte</span><span class=\"w\">          </span><span class=\"n\">y532ModbusAddress</span><span class=\"w\">  </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mh\">0x32</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// The modbus address of the Y532</span></div>\n<div class=\"line\"><a id=\"l-2642\" name=\"l-2642\"></a><span class=\"linenos\">2642</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">y532AdapterPower</span><span class=\"w\">   </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">sensorPowerPin</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// RS485 adapter power pin</span></div>\n<div class=\"line\"><a id=\"l-2643\" name=\"l-2643\"></a><span class=\"linenos\">2643</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">y532SensorPower</span><span class=\"w\">    </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">relayPowerPin</span><span class=\"p\">;</span><span class=\"w\">   </span><span class=\"c1\">// Sensor power pin</span></div>\n<div class=\"line\"><a id=\"l-2644\" name=\"l-2644\"></a><span class=\"linenos\">2644</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">y532EnablePin</span><span class=\"w\">      </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">4</span><span class=\"p\">;</span><span class=\"w\">               </span><span class=\"c1\">// Adapter RE/DE pin</span></div>\n<div class=\"line\"><a id=\"l-2645\" name=\"l-2645\"></a><span class=\"linenos\">2645</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">uint8_t</span><span class=\"w\"> </span><span class=\"n\">y532NumberReadings</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-2646\" name=\"l-2646\"></a><span class=\"linenos\">2646</span><span class=\"c1\">// The manufacturer actually doesn&#39;t mention averaging for this one</span></div>\n<div class=\"line\"><a id=\"l-2647\" name=\"l-2647\"></a><span class=\"linenos\">2647</span></div>\n<div class=\"line\"><a id=\"l-2648\" name=\"l-2648\"></a><span class=\"linenos\">2648</span><span class=\"c1\">// Create a Yosemitech Y532 pH sensor object</span></div>\n<div class=\"line\"><a id=\"l-2649\" name=\"l-2649\"></a><span class=\"linenos\">2649</span><span class=\"n\">YosemitechY532</span><span class=\"w\"> </span><span class=\"nf\">y532</span><span class=\"p\">(</span><span class=\"n\">y532ModbusAddress</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">modbusSerial</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">y532AdapterPower</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-2650\" name=\"l-2650\"></a><span class=\"linenos\">2650</span><span class=\"w\">                    </span><span class=\"n\">y532SensorPower</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">y532EnablePin</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">y532NumberReadings</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2651\" name=\"l-2651\"></a><span class=\"linenos\">2651</span></div>\n<div class=\"line\"><a id=\"l-2652\" name=\"l-2652\"></a><span class=\"linenos\">2652</span><span class=\"c1\">// Create pH, electrical potential, and temperature variable pointers for the</span></div>\n<div class=\"line\"><a id=\"l-2653\" name=\"l-2653\"></a><span class=\"linenos\">2653</span><span class=\"c1\">// Y532</span></div>\n<div class=\"line\"><a id=\"l-2654\" name=\"l-2654\"></a><span class=\"linenos\">2654</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">y532Voltage</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-2655\" name=\"l-2655\"></a><span class=\"linenos\">2655</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">YosemitechY532_Voltage</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">y532</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2656\" name=\"l-2656\"></a><span class=\"linenos\">2656</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">y532pH</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-2657\" name=\"l-2657\"></a><span class=\"linenos\">2657</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">YosemitechY532_pH</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">y532</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2658\" name=\"l-2658\"></a><span class=\"linenos\">2658</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">y532Temp</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-2659\" name=\"l-2659\"></a><span class=\"linenos\">2659</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">YosemitechY532_Temp</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">y532</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2660\" name=\"l-2660\"></a><span class=\"linenos\">2660</span><span class=\"cm\">/** End [yosemitech_y532] */</span></div>\n<div class=\"line\"><a id=\"l-2661\" name=\"l-2661\"></a><span class=\"linenos\">2661</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-2662\" name=\"l-2662\"></a><span class=\"linenos\">2662</span></div>\n<div class=\"line\"><a id=\"l-2663\" name=\"l-2663\"></a><span class=\"linenos\">2663</span></div>\n<div class=\"line\"><a id=\"l-2664\" name=\"l-2664\"></a><span class=\"linenos\">2664</span><span class=\"cp\">#if defined(BUILD_SENSOR_YOSEMITECH_Y533)</span></div>\n<div class=\"line\"><a id=\"l-2665\" name=\"l-2665\"></a><span class=\"linenos\">2665</span><span class=\"cp\">#ifndef BUILD_MODBUS_SENSOR</span></div>\n<div class=\"line\"><a id=\"l-2666\" name=\"l-2666\"></a><span class=\"linenos\">2666</span><span class=\"cp\">#define BUILD_MODBUS_SENSOR</span></div>\n<div class=\"line\"><a id=\"l-2667\" name=\"l-2667\"></a><span class=\"linenos\">2667</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-2668\" name=\"l-2668\"></a><span class=\"linenos\">2668</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-2669\" name=\"l-2669\"></a><span class=\"linenos\">2669</span><span class=\"c1\">//  Yosemitech Y533 Oxidation Reduction Potential (ORP)</span></div>\n<div class=\"line\"><a id=\"l-2670\" name=\"l-2670\"></a><span class=\"linenos\">2670</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-2671\" name=\"l-2671\"></a><span class=\"linenos\">2671</span><span class=\"cm\">/** Start [yosemitech_y533] */</span></div>\n<div class=\"line\"><a id=\"l-2672\" name=\"l-2672\"></a><span class=\"linenos\">2672</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;sensors/YosemitechY533.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-2673\" name=\"l-2673\"></a><span class=\"linenos\">2673</span></div>\n<div class=\"line\"><a id=\"l-2674\" name=\"l-2674\"></a><span class=\"linenos\">2674</span><span class=\"c1\">// NOTE: Extra hardware and software serial ports are created in the &quot;Settings</span></div>\n<div class=\"line\"><a id=\"l-2675\" name=\"l-2675\"></a><span class=\"linenos\">2675</span><span class=\"c1\">// for Additional Serial Ports&quot; section</span></div>\n<div class=\"line\"><a id=\"l-2676\" name=\"l-2676\"></a><span class=\"linenos\">2676</span></div>\n<div class=\"line\"><a id=\"l-2677\" name=\"l-2677\"></a><span class=\"linenos\">2677</span><span class=\"c1\">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span></div>\n<div class=\"line\"><a id=\"l-2678\" name=\"l-2678\"></a><span class=\"linenos\">2678</span><span class=\"kr\">byte</span><span class=\"w\">          </span><span class=\"n\">y533ModbusAddress</span><span class=\"w\">  </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mh\">0x32</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// The modbus address of the Y533</span></div>\n<div class=\"line\"><a id=\"l-2679\" name=\"l-2679\"></a><span class=\"linenos\">2679</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">y533AdapterPower</span><span class=\"w\">   </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">sensorPowerPin</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// RS485 adapter power pin</span></div>\n<div class=\"line\"><a id=\"l-2680\" name=\"l-2680\"></a><span class=\"linenos\">2680</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">y533SensorPower</span><span class=\"w\">    </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">relayPowerPin</span><span class=\"p\">;</span><span class=\"w\">   </span><span class=\"c1\">// Sensor power pin</span></div>\n<div class=\"line\"><a id=\"l-2681\" name=\"l-2681\"></a><span class=\"linenos\">2681</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">y533EnablePin</span><span class=\"w\">      </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">4</span><span class=\"p\">;</span><span class=\"w\">               </span><span class=\"c1\">// Adapter RE/DE pin</span></div>\n<div class=\"line\"><a id=\"l-2682\" name=\"l-2682\"></a><span class=\"linenos\">2682</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">uint8_t</span><span class=\"w\"> </span><span class=\"n\">y533NumberReadings</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-2683\" name=\"l-2683\"></a><span class=\"linenos\">2683</span><span class=\"c1\">// The manufacturer actually doesn&#39;t mention averaging for this one</span></div>\n<div class=\"line\"><a id=\"l-2684\" name=\"l-2684\"></a><span class=\"linenos\">2684</span></div>\n<div class=\"line\"><a id=\"l-2685\" name=\"l-2685\"></a><span class=\"linenos\">2685</span><span class=\"c1\">// Create a Yosemitech Y533 ORP sensor object</span></div>\n<div class=\"line\"><a id=\"l-2686\" name=\"l-2686\"></a><span class=\"linenos\">2686</span><span class=\"n\">YosemitechY533</span><span class=\"w\"> </span><span class=\"nf\">y533</span><span class=\"p\">(</span><span class=\"n\">y533ModbusAddress</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">modbusSerial</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">y533AdapterPower</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-2687\" name=\"l-2687\"></a><span class=\"linenos\">2687</span><span class=\"w\">                    </span><span class=\"n\">y533SensorPower</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">y533EnablePin</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">y533NumberReadings</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2688\" name=\"l-2688\"></a><span class=\"linenos\">2688</span></div>\n<div class=\"line\"><a id=\"l-2689\" name=\"l-2689\"></a><span class=\"linenos\">2689</span><span class=\"c1\">// Create ORP and temperature variable pointers for the Y533</span></div>\n<div class=\"line\"><a id=\"l-2690\" name=\"l-2690\"></a><span class=\"linenos\">2690</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">y533ORP</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-2691\" name=\"l-2691\"></a><span class=\"linenos\">2691</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">YosemitechY533_ORP</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">y533</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2692\" name=\"l-2692\"></a><span class=\"linenos\">2692</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">y533Temp</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-2693\" name=\"l-2693\"></a><span class=\"linenos\">2693</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">YosemitechY533_Temp</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">y533</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2694\" name=\"l-2694\"></a><span class=\"linenos\">2694</span><span class=\"cm\">/** End [yosemitech_y533] */</span></div>\n<div class=\"line\"><a id=\"l-2695\" name=\"l-2695\"></a><span class=\"linenos\">2695</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-2696\" name=\"l-2696\"></a><span class=\"linenos\">2696</span></div>\n<div class=\"line\"><a id=\"l-2697\" name=\"l-2697\"></a><span class=\"linenos\">2697</span></div>\n<div class=\"line\"><a id=\"l-2698\" name=\"l-2698\"></a><span class=\"linenos\">2698</span><span class=\"cp\">#if defined(BUILD_SENSOR_YOSEMITECH_Y551)</span></div>\n<div class=\"line\"><a id=\"l-2699\" name=\"l-2699\"></a><span class=\"linenos\">2699</span><span class=\"cp\">#ifndef BUILD_MODBUS_SENSOR</span></div>\n<div class=\"line\"><a id=\"l-2700\" name=\"l-2700\"></a><span class=\"linenos\">2700</span><span class=\"cp\">#define BUILD_MODBUS_SENSOR</span></div>\n<div class=\"line\"><a id=\"l-2701\" name=\"l-2701\"></a><span class=\"linenos\">2701</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-2702\" name=\"l-2702\"></a><span class=\"linenos\">2702</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-2703\" name=\"l-2703\"></a><span class=\"linenos\">2703</span><span class=\"c1\">//  Yosemitech Y551 COD Sensor with Wiper</span></div>\n<div class=\"line\"><a id=\"l-2704\" name=\"l-2704\"></a><span class=\"linenos\">2704</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-2705\" name=\"l-2705\"></a><span class=\"linenos\">2705</span><span class=\"cm\">/** Start [yosemitech_y551] */</span></div>\n<div class=\"line\"><a id=\"l-2706\" name=\"l-2706\"></a><span class=\"linenos\">2706</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;sensors/YosemitechY551.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-2707\" name=\"l-2707\"></a><span class=\"linenos\">2707</span></div>\n<div class=\"line\"><a id=\"l-2708\" name=\"l-2708\"></a><span class=\"linenos\">2708</span><span class=\"c1\">// NOTE: Extra hardware and software serial ports are created in the &quot;Settings</span></div>\n<div class=\"line\"><a id=\"l-2709\" name=\"l-2709\"></a><span class=\"linenos\">2709</span><span class=\"c1\">// for Additional Serial Ports&quot; section</span></div>\n<div class=\"line\"><a id=\"l-2710\" name=\"l-2710\"></a><span class=\"linenos\">2710</span></div>\n<div class=\"line\"><a id=\"l-2711\" name=\"l-2711\"></a><span class=\"linenos\">2711</span><span class=\"c1\">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span></div>\n<div class=\"line\"><a id=\"l-2712\" name=\"l-2712\"></a><span class=\"linenos\">2712</span><span class=\"kr\">byte</span><span class=\"w\">          </span><span class=\"n\">y551ModbusAddress</span><span class=\"w\">  </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mh\">0x50</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// The modbus address of the Y551</span></div>\n<div class=\"line\"><a id=\"l-2713\" name=\"l-2713\"></a><span class=\"linenos\">2713</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">y551AdapterPower</span><span class=\"w\">   </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">sensorPowerPin</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// RS485 adapter power pin</span></div>\n<div class=\"line\"><a id=\"l-2714\" name=\"l-2714\"></a><span class=\"linenos\">2714</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">y551SensorPower</span><span class=\"w\">    </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">relayPowerPin</span><span class=\"p\">;</span><span class=\"w\">   </span><span class=\"c1\">// Sensor power pin</span></div>\n<div class=\"line\"><a id=\"l-2715\" name=\"l-2715\"></a><span class=\"linenos\">2715</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">y551EnablePin</span><span class=\"w\">      </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">-1</span><span class=\"p\">;</span><span class=\"w\">              </span><span class=\"c1\">// Adapter RE/DE pin</span></div>\n<div class=\"line\"><a id=\"l-2716\" name=\"l-2716\"></a><span class=\"linenos\">2716</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">uint8_t</span><span class=\"w\"> </span><span class=\"n\">y551NumberReadings</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">5</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-2717\" name=\"l-2717\"></a><span class=\"linenos\">2717</span><span class=\"c1\">// The manufacturer recommends averaging 10 readings, but we take 5 to minimize</span></div>\n<div class=\"line\"><a id=\"l-2718\" name=\"l-2718\"></a><span class=\"linenos\">2718</span><span class=\"c1\">// power consumption</span></div>\n<div class=\"line\"><a id=\"l-2719\" name=\"l-2719\"></a><span class=\"linenos\">2719</span></div>\n<div class=\"line\"><a id=\"l-2720\" name=\"l-2720\"></a><span class=\"linenos\">2720</span><span class=\"c1\">// Create a Y551 chemical oxygen demand sensor object</span></div>\n<div class=\"line\"><a id=\"l-2721\" name=\"l-2721\"></a><span class=\"linenos\">2721</span><span class=\"n\">YosemitechY551</span><span class=\"w\"> </span><span class=\"nf\">y551</span><span class=\"p\">(</span><span class=\"n\">y551ModbusAddress</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">modbusSerial</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">y551AdapterPower</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-2722\" name=\"l-2722\"></a><span class=\"linenos\">2722</span><span class=\"w\">                    </span><span class=\"n\">y551SensorPower</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">y551EnablePin</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">y551NumberReadings</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2723\" name=\"l-2723\"></a><span class=\"linenos\">2723</span></div>\n<div class=\"line\"><a id=\"l-2724\" name=\"l-2724\"></a><span class=\"linenos\">2724</span><span class=\"c1\">// Create COD, turbidity, and temperature variable pointers for the Y551</span></div>\n<div class=\"line\"><a id=\"l-2725\" name=\"l-2725\"></a><span class=\"linenos\">2725</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">y551COD</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-2726\" name=\"l-2726\"></a><span class=\"linenos\">2726</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">YosemitechY551_COD</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">y551</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2727\" name=\"l-2727\"></a><span class=\"linenos\">2727</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">y551Turbid</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-2728\" name=\"l-2728\"></a><span class=\"linenos\">2728</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">YosemitechY551_Turbidity</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">y551</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2729\" name=\"l-2729\"></a><span class=\"linenos\">2729</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">y551Temp</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-2730\" name=\"l-2730\"></a><span class=\"linenos\">2730</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">YosemitechY551_Temp</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">y551</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2731\" name=\"l-2731\"></a><span class=\"linenos\">2731</span><span class=\"cm\">/** End [yosemitech_y551] */</span></div>\n<div class=\"line\"><a id=\"l-2732\" name=\"l-2732\"></a><span class=\"linenos\">2732</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-2733\" name=\"l-2733\"></a><span class=\"linenos\">2733</span></div>\n<div class=\"line\"><a id=\"l-2734\" name=\"l-2734\"></a><span class=\"linenos\">2734</span></div>\n<div class=\"line\"><a id=\"l-2735\" name=\"l-2735\"></a><span class=\"linenos\">2735</span><span class=\"cp\">#if defined(BUILD_SENSOR_YOSEMITECH_Y560)</span></div>\n<div class=\"line\"><a id=\"l-2736\" name=\"l-2736\"></a><span class=\"linenos\">2736</span><span class=\"cp\">#ifndef BUILD_MODBUS_SENSOR</span></div>\n<div class=\"line\"><a id=\"l-2737\" name=\"l-2737\"></a><span class=\"linenos\">2737</span><span class=\"cp\">#define BUILD_MODBUS_SENSOR</span></div>\n<div class=\"line\"><a id=\"l-2738\" name=\"l-2738\"></a><span class=\"linenos\">2738</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-2739\" name=\"l-2739\"></a><span class=\"linenos\">2739</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-2740\" name=\"l-2740\"></a><span class=\"linenos\">2740</span><span class=\"c1\">//  Yosemitech Y560 Ammonium Probe with Wiper</span></div>\n<div class=\"line\"><a id=\"l-2741\" name=\"l-2741\"></a><span class=\"linenos\">2741</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-2742\" name=\"l-2742\"></a><span class=\"linenos\">2742</span><span class=\"cm\">/** Start [yosemitech_y560] */</span></div>\n<div class=\"line\"><a id=\"l-2743\" name=\"l-2743\"></a><span class=\"linenos\">2743</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;sensors/YosemitechY560.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-2744\" name=\"l-2744\"></a><span class=\"linenos\">2744</span></div>\n<div class=\"line\"><a id=\"l-2745\" name=\"l-2745\"></a><span class=\"linenos\">2745</span><span class=\"c1\">// NOTE: Extra hardware and software serial ports are created in the &quot;Settings</span></div>\n<div class=\"line\"><a id=\"l-2746\" name=\"l-2746\"></a><span class=\"linenos\">2746</span><span class=\"c1\">// for Additional Serial Ports&quot; section</span></div>\n<div class=\"line\"><a id=\"l-2747\" name=\"l-2747\"></a><span class=\"linenos\">2747</span></div>\n<div class=\"line\"><a id=\"l-2748\" name=\"l-2748\"></a><span class=\"linenos\">2748</span><span class=\"c1\">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span></div>\n<div class=\"line\"><a id=\"l-2749\" name=\"l-2749\"></a><span class=\"linenos\">2749</span><span class=\"kr\">byte</span><span class=\"w\"> </span><span class=\"n\">y560ModbusAddress</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-2750\" name=\"l-2750\"></a><span class=\"linenos\">2750</span><span class=\"w\">    </span><span class=\"mh\">0x60</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// The modbus address of the Y560.</span></div>\n<div class=\"line\"><a id=\"l-2751\" name=\"l-2751\"></a><span class=\"linenos\">2751</span><span class=\"w\">           </span><span class=\"c1\">// NOTE: Hexidecimal 0x60 = 96 decimal used by Yosemitech SmartPC</span></div>\n<div class=\"line\"><a id=\"l-2752\" name=\"l-2752\"></a><span class=\"linenos\">2752</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">y560AdapterPower</span><span class=\"w\">   </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">sensorPowerPin</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// RS485 adapter power pin</span></div>\n<div class=\"line\"><a id=\"l-2753\" name=\"l-2753\"></a><span class=\"linenos\">2753</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">y560SensorPower</span><span class=\"w\">    </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">relayPowerPin</span><span class=\"p\">;</span><span class=\"w\">   </span><span class=\"c1\">// Sensor power pin</span></div>\n<div class=\"line\"><a id=\"l-2754\" name=\"l-2754\"></a><span class=\"linenos\">2754</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">y560EnablePin</span><span class=\"w\">      </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">-1</span><span class=\"p\">;</span><span class=\"w\">              </span><span class=\"c1\">// Adapter RE/DE pin</span></div>\n<div class=\"line\"><a id=\"l-2755\" name=\"l-2755\"></a><span class=\"linenos\">2755</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">uint8_t</span><span class=\"w\"> </span><span class=\"n\">y560NumberReadings</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-2756\" name=\"l-2756\"></a><span class=\"linenos\">2756</span><span class=\"c1\">// The manufacturer recommends averaging 10 readings, but we take 5 to minimize</span></div>\n<div class=\"line\"><a id=\"l-2757\" name=\"l-2757\"></a><span class=\"linenos\">2757</span><span class=\"c1\">// power consumption</span></div>\n<div class=\"line\"><a id=\"l-2758\" name=\"l-2758\"></a><span class=\"linenos\">2758</span></div>\n<div class=\"line\"><a id=\"l-2759\" name=\"l-2759\"></a><span class=\"linenos\">2759</span><span class=\"c1\">// Create a Y560 Ammonium Probe object</span></div>\n<div class=\"line\"><a id=\"l-2760\" name=\"l-2760\"></a><span class=\"linenos\">2760</span><span class=\"n\">YosemitechY560</span><span class=\"w\"> </span><span class=\"nf\">y560</span><span class=\"p\">(</span><span class=\"n\">y560ModbusAddress</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">modbusSerial</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">y560AdapterPower</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-2761\" name=\"l-2761\"></a><span class=\"linenos\">2761</span><span class=\"w\">                    </span><span class=\"n\">y560SensorPower</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">y560EnablePin</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">y560NumberReadings</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2762\" name=\"l-2762\"></a><span class=\"linenos\">2762</span></div>\n<div class=\"line\"><a id=\"l-2763\" name=\"l-2763\"></a><span class=\"linenos\">2763</span><span class=\"c1\">// Create COD, turbidity, and temperature variable pointers for the Y560</span></div>\n<div class=\"line\"><a id=\"l-2764\" name=\"l-2764\"></a><span class=\"linenos\">2764</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">y560NH4_N</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-2765\" name=\"l-2765\"></a><span class=\"linenos\">2765</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">YosemitechY560_NH4_N</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">y560</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2766\" name=\"l-2766\"></a><span class=\"linenos\">2766</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">y560pH</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-2767\" name=\"l-2767\"></a><span class=\"linenos\">2767</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">YosemitechY560_pH</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">y560</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2768\" name=\"l-2768\"></a><span class=\"linenos\">2768</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">y560Temp</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-2769\" name=\"l-2769\"></a><span class=\"linenos\">2769</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">YosemitechY560_Temp</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">y560</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2770\" name=\"l-2770\"></a><span class=\"linenos\">2770</span><span class=\"cm\">/** End [yosemitech_y560] */</span></div>\n<div class=\"line\"><a id=\"l-2771\" name=\"l-2771\"></a><span class=\"linenos\">2771</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-2772\" name=\"l-2772\"></a><span class=\"linenos\">2772</span></div>\n<div class=\"line\"><a id=\"l-2773\" name=\"l-2773\"></a><span class=\"linenos\">2773</span></div>\n<div class=\"line\"><a id=\"l-2774\" name=\"l-2774\"></a><span class=\"linenos\">2774</span><span class=\"cp\">#if defined(BUILD_SENSOR_YOSEMITECH_Y700)</span></div>\n<div class=\"line\"><a id=\"l-2775\" name=\"l-2775\"></a><span class=\"linenos\">2775</span><span class=\"cp\">#ifndef BUILD_MODBUS_SENSOR</span></div>\n<div class=\"line\"><a id=\"l-2776\" name=\"l-2776\"></a><span class=\"linenos\">2776</span><span class=\"cp\">#define BUILD_MODBUS_SENSOR</span></div>\n<div class=\"line\"><a id=\"l-2777\" name=\"l-2777\"></a><span class=\"linenos\">2777</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-2778\" name=\"l-2778\"></a><span class=\"linenos\">2778</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-2779\" name=\"l-2779\"></a><span class=\"linenos\">2779</span><span class=\"c1\">//  Yosemitech Y700 Pressure Sensor</span></div>\n<div class=\"line\"><a id=\"l-2780\" name=\"l-2780\"></a><span class=\"linenos\">2780</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-2781\" name=\"l-2781\"></a><span class=\"linenos\">2781</span><span class=\"cm\">/** Start [yosemitech_y700] */</span></div>\n<div class=\"line\"><a id=\"l-2782\" name=\"l-2782\"></a><span class=\"linenos\">2782</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;sensors/YosemitechY700.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-2783\" name=\"l-2783\"></a><span class=\"linenos\">2783</span></div>\n<div class=\"line\"><a id=\"l-2784\" name=\"l-2784\"></a><span class=\"linenos\">2784</span><span class=\"c1\">// NOTE: Extra hardware and software serial ports are created in the &quot;Settings</span></div>\n<div class=\"line\"><a id=\"l-2785\" name=\"l-2785\"></a><span class=\"linenos\">2785</span><span class=\"c1\">// for Additional Serial Ports&quot; section</span></div>\n<div class=\"line\"><a id=\"l-2786\" name=\"l-2786\"></a><span class=\"linenos\">2786</span></div>\n<div class=\"line\"><a id=\"l-2787\" name=\"l-2787\"></a><span class=\"linenos\">2787</span><span class=\"c1\">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span></div>\n<div class=\"line\"><a id=\"l-2788\" name=\"l-2788\"></a><span class=\"linenos\">2788</span><span class=\"kr\">byte</span><span class=\"w\">          </span><span class=\"n\">y700ModbusAddress</span><span class=\"w\">  </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mh\">0x70</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// The modbus address of the Y700</span></div>\n<div class=\"line\"><a id=\"l-2789\" name=\"l-2789\"></a><span class=\"linenos\">2789</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">y700AdapterPower</span><span class=\"w\">   </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">sensorPowerPin</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// RS485 adapter power pin</span></div>\n<div class=\"line\"><a id=\"l-2790\" name=\"l-2790\"></a><span class=\"linenos\">2790</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">y700SensorPower</span><span class=\"w\">    </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">relayPowerPin</span><span class=\"p\">;</span><span class=\"w\">   </span><span class=\"c1\">// Sensor power pin</span></div>\n<div class=\"line\"><a id=\"l-2791\" name=\"l-2791\"></a><span class=\"linenos\">2791</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">y700EnablePin</span><span class=\"w\">      </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">-1</span><span class=\"p\">;</span><span class=\"w\">              </span><span class=\"c1\">// Adapter RE/DE pin</span></div>\n<div class=\"line\"><a id=\"l-2792\" name=\"l-2792\"></a><span class=\"linenos\">2792</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">uint8_t</span><span class=\"w\"> </span><span class=\"n\">y700NumberReadings</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">5</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-2793\" name=\"l-2793\"></a><span class=\"linenos\">2793</span><span class=\"c1\">// The manufacturer recommends averaging 10 readings, but we take 5 to minimize</span></div>\n<div class=\"line\"><a id=\"l-2794\" name=\"l-2794\"></a><span class=\"linenos\">2794</span><span class=\"c1\">// power consumption</span></div>\n<div class=\"line\"><a id=\"l-2795\" name=\"l-2795\"></a><span class=\"linenos\">2795</span></div>\n<div class=\"line\"><a id=\"l-2796\" name=\"l-2796\"></a><span class=\"linenos\">2796</span><span class=\"c1\">// Create a Y700 pressure sensor object</span></div>\n<div class=\"line\"><a id=\"l-2797\" name=\"l-2797\"></a><span class=\"linenos\">2797</span><span class=\"n\">YosemitechY700</span><span class=\"w\"> </span><span class=\"nf\">y700</span><span class=\"p\">(</span><span class=\"n\">y700ModbusAddress</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">modbusSerial</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">y700AdapterPower</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-2798\" name=\"l-2798\"></a><span class=\"linenos\">2798</span><span class=\"w\">                    </span><span class=\"n\">y700SensorPower</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">y700EnablePin</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">y700NumberReadings</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2799\" name=\"l-2799\"></a><span class=\"linenos\">2799</span></div>\n<div class=\"line\"><a id=\"l-2800\" name=\"l-2800\"></a><span class=\"linenos\">2800</span><span class=\"c1\">// Create pressure and temperature variable pointers for the Y700</span></div>\n<div class=\"line\"><a id=\"l-2801\" name=\"l-2801\"></a><span class=\"linenos\">2801</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">y700Pres</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-2802\" name=\"l-2802\"></a><span class=\"linenos\">2802</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">YosemitechY700_Pressure</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">y700</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2803\" name=\"l-2803\"></a><span class=\"linenos\">2803</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">y700Temp</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-2804\" name=\"l-2804\"></a><span class=\"linenos\">2804</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">YosemitechY700_Temp</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">y700</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2805\" name=\"l-2805\"></a><span class=\"linenos\">2805</span><span class=\"cm\">/** End [yosemitech_y700] */</span></div>\n<div class=\"line\"><a id=\"l-2806\" name=\"l-2806\"></a><span class=\"linenos\">2806</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-2807\" name=\"l-2807\"></a><span class=\"linenos\">2807</span></div>\n<div class=\"line\"><a id=\"l-2808\" name=\"l-2808\"></a><span class=\"linenos\">2808</span></div>\n<div class=\"line\"><a id=\"l-2809\" name=\"l-2809\"></a><span class=\"linenos\">2809</span><span class=\"cp\">#if defined(BUILD_SENSOR_YOSEMITECH_Y4000)</span></div>\n<div class=\"line\"><a id=\"l-2810\" name=\"l-2810\"></a><span class=\"linenos\">2810</span><span class=\"cp\">#ifndef BUILD_MODBUS_SENSOR</span></div>\n<div class=\"line\"><a id=\"l-2811\" name=\"l-2811\"></a><span class=\"linenos\">2811</span><span class=\"cp\">#define BUILD_MODBUS_SENSOR</span></div>\n<div class=\"line\"><a id=\"l-2812\" name=\"l-2812\"></a><span class=\"linenos\">2812</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-2813\" name=\"l-2813\"></a><span class=\"linenos\">2813</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-2814\" name=\"l-2814\"></a><span class=\"linenos\">2814</span><span class=\"c1\">//  Yosemitech Y4000 Multiparameter Sonde (DOmgL, Turbidity, Cond, pH, Temp,</span></div>\n<div class=\"line\"><a id=\"l-2815\" name=\"l-2815\"></a><span class=\"linenos\">2815</span><span class=\"c1\">//    ORP, Chlorophyll, BGA)</span></div>\n<div class=\"line\"><a id=\"l-2816\" name=\"l-2816\"></a><span class=\"linenos\">2816</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-2817\" name=\"l-2817\"></a><span class=\"linenos\">2817</span><span class=\"cm\">/** Start [yosemitech_y4000] */</span></div>\n<div class=\"line\"><a id=\"l-2818\" name=\"l-2818\"></a><span class=\"linenos\">2818</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;sensors/YosemitechY4000.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-2819\" name=\"l-2819\"></a><span class=\"linenos\">2819</span></div>\n<div class=\"line\"><a id=\"l-2820\" name=\"l-2820\"></a><span class=\"linenos\">2820</span><span class=\"c1\">// NOTE: Extra hardware and software serial ports are created in the &quot;Settings</span></div>\n<div class=\"line\"><a id=\"l-2821\" name=\"l-2821\"></a><span class=\"linenos\">2821</span><span class=\"c1\">// for Additional Serial Ports&quot; section</span></div>\n<div class=\"line\"><a id=\"l-2822\" name=\"l-2822\"></a><span class=\"linenos\">2822</span></div>\n<div class=\"line\"><a id=\"l-2823\" name=\"l-2823\"></a><span class=\"linenos\">2823</span><span class=\"c1\">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span></div>\n<div class=\"line\"><a id=\"l-2824\" name=\"l-2824\"></a><span class=\"linenos\">2824</span><span class=\"kr\">byte</span><span class=\"w\">          </span><span class=\"n\">y4000ModbusAddress</span><span class=\"w\">  </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mh\">0x05</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// The modbus address of the Y4000</span></div>\n<div class=\"line\"><a id=\"l-2825\" name=\"l-2825\"></a><span class=\"linenos\">2825</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">y4000AdapterPower</span><span class=\"w\">   </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">sensorPowerPin</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// RS485 adapter power pin</span></div>\n<div class=\"line\"><a id=\"l-2826\" name=\"l-2826\"></a><span class=\"linenos\">2826</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">y4000SensorPower</span><span class=\"w\">    </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">relayPowerPin</span><span class=\"p\">;</span><span class=\"w\">   </span><span class=\"c1\">// Sensor power pin</span></div>\n<div class=\"line\"><a id=\"l-2827\" name=\"l-2827\"></a><span class=\"linenos\">2827</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\">  </span><span class=\"n\">y4000EnablePin</span><span class=\"w\">      </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">-1</span><span class=\"p\">;</span><span class=\"w\">              </span><span class=\"c1\">// Adapter RE/DE pin</span></div>\n<div class=\"line\"><a id=\"l-2828\" name=\"l-2828\"></a><span class=\"linenos\">2828</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">uint8_t</span><span class=\"w\"> </span><span class=\"n\">y4000NumberReadings</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">5</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-2829\" name=\"l-2829\"></a><span class=\"linenos\">2829</span><span class=\"c1\">// The manufacturer recommends averaging 10 readings, but we take 5 to minimize</span></div>\n<div class=\"line\"><a id=\"l-2830\" name=\"l-2830\"></a><span class=\"linenos\">2830</span><span class=\"c1\">// power consumption</span></div>\n<div class=\"line\"><a id=\"l-2831\" name=\"l-2831\"></a><span class=\"linenos\">2831</span></div>\n<div class=\"line\"><a id=\"l-2832\" name=\"l-2832\"></a><span class=\"linenos\">2832</span><span class=\"c1\">// Create a Yosemitech Y4000 multi-parameter sensor object</span></div>\n<div class=\"line\"><a id=\"l-2833\" name=\"l-2833\"></a><span class=\"linenos\">2833</span><span class=\"n\">YosemitechY4000</span><span class=\"w\"> </span><span class=\"nf\">y4000</span><span class=\"p\">(</span><span class=\"n\">y4000ModbusAddress</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">modbusSerial</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">y4000AdapterPower</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-2834\" name=\"l-2834\"></a><span class=\"linenos\">2834</span><span class=\"w\">                      </span><span class=\"n\">y4000SensorPower</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">y4000EnablePin</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">y4000NumberReadings</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2835\" name=\"l-2835\"></a><span class=\"linenos\">2835</span></div>\n<div class=\"line\"><a id=\"l-2836\" name=\"l-2836\"></a><span class=\"linenos\">2836</span><span class=\"c1\">// Create all of the variable pointers for the Y4000</span></div>\n<div class=\"line\"><a id=\"l-2837\" name=\"l-2837\"></a><span class=\"linenos\">2837</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">y4000DO</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-2838\" name=\"l-2838\"></a><span class=\"linenos\">2838</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">YosemitechY4000_DOmgL</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">y4000</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2839\" name=\"l-2839\"></a><span class=\"linenos\">2839</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">y4000Turb</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">YosemitechY4000_Turbidity</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-2840\" name=\"l-2840\"></a><span class=\"linenos\">2840</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">y4000</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2841\" name=\"l-2841\"></a><span class=\"linenos\">2841</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">y4000Cond</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-2842\" name=\"l-2842\"></a><span class=\"linenos\">2842</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">YosemitechY4000_Cond</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">y4000</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2843\" name=\"l-2843\"></a><span class=\"linenos\">2843</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">y4000pH</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-2844\" name=\"l-2844\"></a><span class=\"linenos\">2844</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">YosemitechY4000_pH</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">y4000</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2845\" name=\"l-2845\"></a><span class=\"linenos\">2845</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">y4000Temp</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-2846\" name=\"l-2846\"></a><span class=\"linenos\">2846</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">YosemitechY4000_Temp</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">y4000</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2847\" name=\"l-2847\"></a><span class=\"linenos\">2847</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">y4000ORP</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-2848\" name=\"l-2848\"></a><span class=\"linenos\">2848</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">YosemitechY4000_ORP</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">y4000</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2849\" name=\"l-2849\"></a><span class=\"linenos\">2849</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">y4000Chloro</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">YosemitechY4000_Chlorophyll</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-2850\" name=\"l-2850\"></a><span class=\"linenos\">2850</span><span class=\"w\">    </span><span class=\"o\">&amp;</span><span class=\"n\">y4000</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2851\" name=\"l-2851\"></a><span class=\"linenos\">2851</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">y4000BGA</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-2852\" name=\"l-2852\"></a><span class=\"linenos\">2852</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">YosemitechY4000_BGA</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">y4000</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2853\" name=\"l-2853\"></a><span class=\"linenos\">2853</span><span class=\"cm\">/** End [yosemitech_y4000] */</span></div>\n<div class=\"line\"><a id=\"l-2854\" name=\"l-2854\"></a><span class=\"linenos\">2854</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-2855\" name=\"l-2855\"></a><span class=\"linenos\">2855</span></div>\n<div class=\"line\"><a id=\"l-2856\" name=\"l-2856\"></a><span class=\"linenos\">2856</span></div>\n<div class=\"line\"><a id=\"l-2857\" name=\"l-2857\"></a><span class=\"linenos\">2857</span><span class=\"cp\">#if defined(BUILD_SENSOR_ZEBRA_TECH_D_OPTO)</span></div>\n<div class=\"line\"><a id=\"l-2858\" name=\"l-2858\"></a><span class=\"linenos\">2858</span><span class=\"cp\">#ifndef BUILD_MODBUS_SENSOR</span></div>\n<div class=\"line\"><a id=\"l-2859\" name=\"l-2859\"></a><span class=\"linenos\">2859</span><span class=\"cp\">#define BUILD_MODBUS_SENSOR</span></div>\n<div class=\"line\"><a id=\"l-2860\" name=\"l-2860\"></a><span class=\"linenos\">2860</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-2861\" name=\"l-2861\"></a><span class=\"linenos\">2861</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-2862\" name=\"l-2862\"></a><span class=\"linenos\">2862</span><span class=\"c1\">//  Zebra Tech D-Opto Dissolved Oxygen Sensor</span></div>\n<div class=\"line\"><a id=\"l-2863\" name=\"l-2863\"></a><span class=\"linenos\">2863</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-2864\" name=\"l-2864\"></a><span class=\"linenos\">2864</span><span class=\"cm\">/** Start [zebra_tech_d_opto] */</span></div>\n<div class=\"line\"><a id=\"l-2865\" name=\"l-2865\"></a><span class=\"linenos\">2865</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;sensors/ZebraTechDOpto.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-2866\" name=\"l-2866\"></a><span class=\"linenos\">2866</span></div>\n<div class=\"line\"><a id=\"l-2867\" name=\"l-2867\"></a><span class=\"linenos\">2867</span><span class=\"c1\">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span></div>\n<div class=\"line\"><a id=\"l-2868\" name=\"l-2868\"></a><span class=\"linenos\">2868</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"w\">  </span><span class=\"n\">DOptoSDI12address</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s\">&quot;5&quot;</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// The SDI-12 Address of the D-Opto</span></div>\n<div class=\"line\"><a id=\"l-2869\" name=\"l-2869\"></a><span class=\"linenos\">2869</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">ZTPower</span><span class=\"w\">           </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">sensorPowerPin</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Power pin</span></div>\n<div class=\"line\"><a id=\"l-2870\" name=\"l-2870\"></a><span class=\"linenos\">2870</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">int8_t</span><span class=\"w\"> </span><span class=\"n\">ZTData</span><span class=\"w\">            </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">sdi12DataPin</span><span class=\"p\">;</span><span class=\"w\">    </span><span class=\"c1\">// The SDI-12 data pin</span></div>\n<div class=\"line\"><a id=\"l-2871\" name=\"l-2871\"></a><span class=\"linenos\">2871</span></div>\n<div class=\"line\"><a id=\"l-2872\" name=\"l-2872\"></a><span class=\"linenos\">2872</span><span class=\"c1\">// Create a Zebra Tech DOpto dissolved oxygen sensor object</span></div>\n<div class=\"line\"><a id=\"l-2873\" name=\"l-2873\"></a><span class=\"linenos\">2873</span><span class=\"n\">ZebraTechDOpto</span><span class=\"w\"> </span><span class=\"nf\">dopto</span><span class=\"p\">(</span><span class=\"o\">*</span><span class=\"n\">DOptoSDI12address</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">ZTPower</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">ZTData</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2874\" name=\"l-2874\"></a><span class=\"linenos\">2874</span></div>\n<div class=\"line\"><a id=\"l-2875\" name=\"l-2875\"></a><span class=\"linenos\">2875</span><span class=\"c1\">// Create dissolved oxygen percent, dissolved oxygen concentration, and</span></div>\n<div class=\"line\"><a id=\"l-2876\" name=\"l-2876\"></a><span class=\"linenos\">2876</span><span class=\"c1\">// temperature variable pointers for the Zebra Tech</span></div>\n<div class=\"line\"><a id=\"l-2877\" name=\"l-2877\"></a><span class=\"linenos\">2877</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">dOptoDOpct</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-2878\" name=\"l-2878\"></a><span class=\"linenos\">2878</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">ZebraTechDOpto_DOpct</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">dopto</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2879\" name=\"l-2879\"></a><span class=\"linenos\">2879</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">dOptoDOmgL</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-2880\" name=\"l-2880\"></a><span class=\"linenos\">2880</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">ZebraTechDOpto_DOmgL</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">dopto</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2881\" name=\"l-2881\"></a><span class=\"linenos\">2881</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">dOptoTemp</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-2882\" name=\"l-2882\"></a><span class=\"linenos\">2882</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">ZebraTechDOpto_Temp</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">dopto</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2883\" name=\"l-2883\"></a><span class=\"linenos\">2883</span><span class=\"cm\">/** End [zebra_tech_d_opto] */</span></div>\n<div class=\"line\"><a id=\"l-2884\" name=\"l-2884\"></a><span class=\"linenos\">2884</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-2885\" name=\"l-2885\"></a><span class=\"linenos\">2885</span></div>\n<div class=\"line\"><a id=\"l-2886\" name=\"l-2886\"></a><span class=\"linenos\">2886</span></div>\n<div class=\"line\"><a id=\"l-2887\" name=\"l-2887\"></a><span class=\"linenos\">2887</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-2888\" name=\"l-2888\"></a><span class=\"linenos\">2888</span><span class=\"c1\">//  Calculated Variable[s]</span></div>\n<div class=\"line\"><a id=\"l-2889\" name=\"l-2889\"></a><span class=\"linenos\">2889</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-2890\" name=\"l-2890\"></a><span class=\"linenos\">2890</span><span class=\"cm\">/** Start [calculated_variables] */</span></div>\n<div class=\"line\"><a id=\"l-2891\" name=\"l-2891\"></a><span class=\"linenos\">2891</span><span class=\"c1\">// Create the function to give your calculated result.</span></div>\n<div class=\"line\"><a id=\"l-2892\" name=\"l-2892\"></a><span class=\"linenos\">2892</span><span class=\"c1\">// The function should take no input (void) and return a float.</span></div>\n<div class=\"line\"><a id=\"l-2893\" name=\"l-2893\"></a><span class=\"linenos\">2893</span><span class=\"c1\">// You can use any named variable pointers to access values by way of</span></div>\n<div class=\"line\"><a id=\"l-2894\" name=\"l-2894\"></a><span class=\"linenos\">2894</span><span class=\"c1\">// variable-&gt;getValue()</span></div>\n<div class=\"line\"><a id=\"l-2895\" name=\"l-2895\"></a><span class=\"linenos\">2895</span></div>\n<div class=\"line\"><a id=\"l-2896\" name=\"l-2896\"></a><span class=\"linenos\">2896</span><span class=\"kr\">float</span><span class=\"w\"> </span><span class=\"nf\">calculateVariableValue</span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"p\">{</span></div>\n<div class=\"line\"><a id=\"l-2897\" name=\"l-2897\"></a><span class=\"linenos\">2897</span><span class=\"w\">    </span><span class=\"kr\">float</span><span class=\"w\"> </span><span class=\"n\">calculatedResult</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">-9999</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Always safest to start with a bad value</span></div>\n<div class=\"line\"><a id=\"l-2898\" name=\"l-2898\"></a><span class=\"linenos\">2898</span><span class=\"w\">    </span><span class=\"c1\">// float inputVar1 = variable1-&gt;getValue();</span></div>\n<div class=\"line\"><a id=\"l-2899\" name=\"l-2899\"></a><span class=\"linenos\">2899</span><span class=\"w\">    </span><span class=\"c1\">// float inputVar2 = variable2-&gt;getValue();</span></div>\n<div class=\"line\"><a id=\"l-2900\" name=\"l-2900\"></a><span class=\"linenos\">2900</span><span class=\"w\">    </span><span class=\"c1\">// make sure both inputs are good</span></div>\n<div class=\"line\"><a id=\"l-2901\" name=\"l-2901\"></a><span class=\"linenos\">2901</span><span class=\"w\">    </span><span class=\"c1\">// if (inputVar1 != -9999 &amp;&amp; inputVar2 != -9999) {</span></div>\n<div class=\"line\"><a id=\"l-2902\" name=\"l-2902\"></a><span class=\"linenos\">2902</span><span class=\"w\">    </span><span class=\"c1\">//     calculatedResult = inputVar1 + inputVar2;</span></div>\n<div class=\"line\"><a id=\"l-2903\" name=\"l-2903\"></a><span class=\"linenos\">2903</span><span class=\"w\">    </span><span class=\"c1\">// }</span></div>\n<div class=\"line\"><a id=\"l-2904\" name=\"l-2904\"></a><span class=\"linenos\">2904</span><span class=\"w\">    </span><span class=\"k\">return</span><span class=\"w\"> </span><span class=\"n\">calculatedResult</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-2905\" name=\"l-2905\"></a><span class=\"linenos\">2905</span><span class=\"p\">}</span></div>\n<div class=\"line\"><a id=\"l-2906\" name=\"l-2906\"></a><span class=\"linenos\">2906</span></div>\n<div class=\"line\"><a id=\"l-2907\" name=\"l-2907\"></a><span class=\"linenos\">2907</span><span class=\"c1\">// Properties of the calculated variable</span></div>\n<div class=\"line\"><a id=\"l-2908\" name=\"l-2908\"></a><span class=\"linenos\">2908</span><span class=\"c1\">// The number of digits after the decimal place</span></div>\n<div class=\"line\"><a id=\"l-2909\" name=\"l-2909\"></a><span class=\"linenos\">2909</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">uint8_t</span><span class=\"w\"> </span><span class=\"n\">calculatedVarResolution</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-2910\" name=\"l-2910\"></a><span class=\"linenos\">2910</span><span class=\"c1\">// This must be a value from http://vocabulary.odm2.org/variablename/</span></div>\n<div class=\"line\"><a id=\"l-2911\" name=\"l-2911\"></a><span class=\"linenos\">2911</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">calculatedVarName</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s\">&quot;varName&quot;</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-2912\" name=\"l-2912\"></a><span class=\"linenos\">2912</span><span class=\"c1\">// This must be a value from http://vocabulary.odm2.org/units/</span></div>\n<div class=\"line\"><a id=\"l-2913\" name=\"l-2913\"></a><span class=\"linenos\">2913</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">calculatedVarUnit</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s\">&quot;varUnit&quot;</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-2914\" name=\"l-2914\"></a><span class=\"linenos\">2914</span><span class=\"c1\">// A short code for the variable</span></div>\n<div class=\"line\"><a id=\"l-2915\" name=\"l-2915\"></a><span class=\"linenos\">2915</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">calculatedVarCode</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s\">&quot;calcVar&quot;</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-2916\" name=\"l-2916\"></a><span class=\"linenos\">2916</span><span class=\"c1\">// The (optional) universally unique identifier</span></div>\n<div class=\"line\"><a id=\"l-2917\" name=\"l-2917\"></a><span class=\"linenos\">2917</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">calculatedVarUUID</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-2918\" name=\"l-2918\"></a><span class=\"linenos\">2918</span></div>\n<div class=\"line\"><a id=\"l-2919\" name=\"l-2919\"></a><span class=\"linenos\">2919</span><span class=\"c1\">// Finally, Create a calculated variable and return a variable pointer to it</span></div>\n<div class=\"line\"><a id=\"l-2920\" name=\"l-2920\"></a><span class=\"linenos\">2920</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">calculatedVar</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">Variable</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-2921\" name=\"l-2921\"></a><span class=\"linenos\">2921</span><span class=\"w\">    </span><span class=\"n\">calculateVariableValue</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">calculatedVarResolution</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">calculatedVarName</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-2922\" name=\"l-2922\"></a><span class=\"linenos\">2922</span><span class=\"w\">    </span><span class=\"n\">calculatedVarUnit</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">calculatedVarCode</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">calculatedVarUUID</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2923\" name=\"l-2923\"></a><span class=\"linenos\">2923</span><span class=\"cm\">/** End [calculated_variables] */</span></div>\n<div class=\"line\"><a id=\"l-2924\" name=\"l-2924\"></a><span class=\"linenos\">2924</span></div>\n<div class=\"line\"><a id=\"l-2925\" name=\"l-2925\"></a><span class=\"linenos\">2925</span></div>\n<div class=\"line\"><a id=\"l-2926\" name=\"l-2926\"></a><span class=\"linenos\">2926</span><span class=\"cp\">#if defined(BUILD_TEST_CREATE_IN_ARRAY)</span></div>\n<div class=\"line\"><a id=\"l-2927\" name=\"l-2927\"></a><span class=\"linenos\">2927</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-2928\" name=\"l-2928\"></a><span class=\"linenos\">2928</span><span class=\"c1\">//  Creating the Variable Array[s] and Filling with Variable Objects</span></div>\n<div class=\"line\"><a id=\"l-2929\" name=\"l-2929\"></a><span class=\"linenos\">2929</span><span class=\"c1\">//  NOTE:  This shows three different ways of creating the same variable array</span></div>\n<div class=\"line\"><a id=\"l-2930\" name=\"l-2930\"></a><span class=\"linenos\">2930</span><span class=\"c1\">//         and filling it with variables</span></div>\n<div class=\"line\"><a id=\"l-2931\" name=\"l-2931\"></a><span class=\"linenos\">2931</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-2932\" name=\"l-2932\"></a><span class=\"linenos\">2932</span><span class=\"cm\">/** Start [variables_create_in_array] */</span></div>\n<div class=\"line\"><a id=\"l-2933\" name=\"l-2933\"></a><span class=\"linenos\">2933</span><span class=\"c1\">// Version 1: Create pointers for all of the variables from the sensors,</span></div>\n<div class=\"line\"><a id=\"l-2934\" name=\"l-2934\"></a><span class=\"linenos\">2934</span><span class=\"c1\">// at the same time putting them into an array</span></div>\n<div class=\"line\"><a id=\"l-2935\" name=\"l-2935\"></a><span class=\"linenos\">2935</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">variableList</span><span class=\"p\">[]</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"p\">{</span></div>\n<div class=\"line\"><a id=\"l-2936\" name=\"l-2936\"></a><span class=\"linenos\">2936</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">ProcessorStats_SampleNumber</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">mcuBoard</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-2937\" name=\"l-2937\"></a><span class=\"linenos\">2937</span><span class=\"w\">                                    </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">),</span></div>\n<div class=\"line\"><a id=\"l-2938\" name=\"l-2938\"></a><span class=\"linenos\">2938</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">ProcessorStats_FreeRam</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">mcuBoard</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-2939\" name=\"l-2939\"></a><span class=\"linenos\">2939</span><span class=\"w\">                               </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">),</span></div>\n<div class=\"line\"><a id=\"l-2940\" name=\"l-2940\"></a><span class=\"linenos\">2940</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">ProcessorStats_Battery</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">mcuBoard</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-2941\" name=\"l-2941\"></a><span class=\"linenos\">2941</span><span class=\"w\">                               </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">),</span></div>\n<div class=\"line\"><a id=\"l-2942\" name=\"l-2942\"></a><span class=\"linenos\">2942</span><span class=\"w\">    </span><span class=\"c1\">//  ... Add more variables as needed!</span></div>\n<div class=\"line\"><a id=\"l-2943\" name=\"l-2943\"></a><span class=\"linenos\">2943</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">Modem_RSSI</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">modem</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">),</span></div>\n<div class=\"line\"><a id=\"l-2944\" name=\"l-2944\"></a><span class=\"linenos\">2944</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">Modem_SignalPercent</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">modem</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">),</span></div>\n<div class=\"line\"><a id=\"l-2945\" name=\"l-2945\"></a><span class=\"linenos\">2945</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">Modem_Temp</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">modem</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">),</span></div>\n<div class=\"line\"><a id=\"l-2946\" name=\"l-2946\"></a><span class=\"linenos\">2946</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">Variable</span><span class=\"p\">(</span><span class=\"n\">calculateVariableValue</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">calculatedVarResolution</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-2947\" name=\"l-2947\"></a><span class=\"linenos\">2947</span><span class=\"w\">                 </span><span class=\"n\">calculatedVarName</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">calculatedVarUnit</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">calculatedVarCode</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-2948\" name=\"l-2948\"></a><span class=\"linenos\">2948</span><span class=\"w\">                 </span><span class=\"n\">calculatedVarUUID</span><span class=\"p\">),</span></div>\n<div class=\"line\"><a id=\"l-2949\" name=\"l-2949\"></a><span class=\"linenos\">2949</span><span class=\"p\">};</span></div>\n<div class=\"line\"><a id=\"l-2950\" name=\"l-2950\"></a><span class=\"linenos\">2950</span><span class=\"c1\">// Count up the number of pointers in the array</span></div>\n<div class=\"line\"><a id=\"l-2951\" name=\"l-2951\"></a><span class=\"linenos\">2951</span><span class=\"kr\">int</span><span class=\"w\"> </span><span class=\"n\">variableCount</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"kr\">sizeof</span><span class=\"p\">(</span><span class=\"n\">variableList</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"w\"> </span><span class=\"kr\">sizeof</span><span class=\"p\">(</span><span class=\"n\">variableList</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">]);</span></div>\n<div class=\"line\"><a id=\"l-2952\" name=\"l-2952\"></a><span class=\"linenos\">2952</span><span class=\"c1\">// Create the VariableArray object</span></div>\n<div class=\"line\"><a id=\"l-2953\" name=\"l-2953\"></a><span class=\"linenos\">2953</span><span class=\"n\">VariableArray</span><span class=\"w\"> </span><span class=\"nf\">varArray</span><span class=\"p\">(</span><span class=\"n\">variableCount</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">variableList</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2954\" name=\"l-2954\"></a><span class=\"linenos\">2954</span><span class=\"cm\">/** End [variables_create_in_array] */</span></div>\n<div class=\"line\"><a id=\"l-2955\" name=\"l-2955\"></a><span class=\"linenos\">2955</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-2956\" name=\"l-2956\"></a><span class=\"linenos\">2956</span></div>\n<div class=\"line\"><a id=\"l-2957\" name=\"l-2957\"></a><span class=\"linenos\">2957</span></div>\n<div class=\"line\"><a id=\"l-2958\" name=\"l-2958\"></a><span class=\"linenos\">2958</span><span class=\"cp\">#elif defined(BUILD_TEST_SEPARATE_UUIDS)</span></div>\n<div class=\"line\"><a id=\"l-2959\" name=\"l-2959\"></a><span class=\"linenos\">2959</span><span class=\"cm\">/** Start [variables_separate_uuids] */</span></div>\n<div class=\"line\"><a id=\"l-2960\" name=\"l-2960\"></a><span class=\"linenos\">2960</span><span class=\"c1\">// Version 2: Create two separate arrays, on for the variables and a separate</span></div>\n<div class=\"line\"><a id=\"l-2961\" name=\"l-2961\"></a><span class=\"linenos\">2961</span><span class=\"c1\">// one for the UUID&#39;s, then give both as input to the variable array</span></div>\n<div class=\"line\"><a id=\"l-2962\" name=\"l-2962\"></a><span class=\"linenos\">2962</span><span class=\"c1\">// constructor.  Be cautious when doing this though because order is CRUCIAL!</span></div>\n<div class=\"line\"><a id=\"l-2963\" name=\"l-2963\"></a><span class=\"linenos\">2963</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">variableList</span><span class=\"p\">[]</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"p\">{</span></div>\n<div class=\"line\"><a id=\"l-2964\" name=\"l-2964\"></a><span class=\"linenos\">2964</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">ProcessorStats_SampleNumber</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">mcuBoard</span><span class=\"p\">),</span></div>\n<div class=\"line\"><a id=\"l-2965\" name=\"l-2965\"></a><span class=\"linenos\">2965</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">ProcessorStats_FreeRam</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">mcuBoard</span><span class=\"p\">),</span></div>\n<div class=\"line\"><a id=\"l-2966\" name=\"l-2966\"></a><span class=\"linenos\">2966</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">ProcessorStats_Battery</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">mcuBoard</span><span class=\"p\">),</span></div>\n<div class=\"line\"><a id=\"l-2967\" name=\"l-2967\"></a><span class=\"linenos\">2967</span><span class=\"w\">    </span><span class=\"c1\">// new MaximDS3231_Temp(&amp;ds3231),</span></div>\n<div class=\"line\"><a id=\"l-2968\" name=\"l-2968\"></a><span class=\"linenos\">2968</span><span class=\"w\">    </span><span class=\"c1\">//  ... Add all of your variables!</span></div>\n<div class=\"line\"><a id=\"l-2969\" name=\"l-2969\"></a><span class=\"linenos\">2969</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">Modem_RSSI</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">modem</span><span class=\"p\">),</span></div>\n<div class=\"line\"><a id=\"l-2970\" name=\"l-2970\"></a><span class=\"linenos\">2970</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">Modem_SignalPercent</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">modem</span><span class=\"p\">),</span></div>\n<div class=\"line\"><a id=\"l-2971\" name=\"l-2971\"></a><span class=\"linenos\">2971</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">Modem_Temp</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">modem</span><span class=\"p\">),</span></div>\n<div class=\"line\"><a id=\"l-2972\" name=\"l-2972\"></a><span class=\"linenos\">2972</span><span class=\"w\">    </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">Variable</span><span class=\"p\">(</span><span class=\"n\">calculateVariableValue</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">calculatedVarResolution</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-2973\" name=\"l-2973\"></a><span class=\"linenos\">2973</span><span class=\"w\">                 </span><span class=\"n\">calculatedVarName</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">calculatedVarUnit</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">calculatedVarCode</span><span class=\"p\">),</span></div>\n<div class=\"line\"><a id=\"l-2974\" name=\"l-2974\"></a><span class=\"linenos\">2974</span><span class=\"p\">};</span></div>\n<div class=\"line\"><a id=\"l-2975\" name=\"l-2975\"></a><span class=\"linenos\">2975</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">UUIDs</span><span class=\"p\">[]</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"p\">{</span></div>\n<div class=\"line\"><a id=\"l-2976\" name=\"l-2976\"></a><span class=\"linenos\">2976</span><span class=\"w\">    </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-2977\" name=\"l-2977\"></a><span class=\"linenos\">2977</span><span class=\"w\">    </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-2978\" name=\"l-2978\"></a><span class=\"linenos\">2978</span><span class=\"w\">    </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-2979\" name=\"l-2979\"></a><span class=\"linenos\">2979</span><span class=\"w\">    </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-2980\" name=\"l-2980\"></a><span class=\"linenos\">2980</span><span class=\"w\">    </span><span class=\"c1\">//  ... The number of UUID&#39;s must match the number of variables!</span></div>\n<div class=\"line\"><a id=\"l-2981\" name=\"l-2981\"></a><span class=\"linenos\">2981</span><span class=\"w\">    </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-2982\" name=\"l-2982\"></a><span class=\"linenos\">2982</span><span class=\"w\">    </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-2983\" name=\"l-2983\"></a><span class=\"linenos\">2983</span><span class=\"w\">    </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-2984\" name=\"l-2984\"></a><span class=\"linenos\">2984</span><span class=\"w\">    </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-2985\" name=\"l-2985\"></a><span class=\"linenos\">2985</span><span class=\"p\">};</span></div>\n<div class=\"line\"><a id=\"l-2986\" name=\"l-2986\"></a><span class=\"linenos\">2986</span><span class=\"c1\">// Count up the number of pointers in the array</span></div>\n<div class=\"line\"><a id=\"l-2987\" name=\"l-2987\"></a><span class=\"linenos\">2987</span><span class=\"kr\">int</span><span class=\"w\"> </span><span class=\"n\">variableCount</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"kr\">sizeof</span><span class=\"p\">(</span><span class=\"n\">variableList</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"w\"> </span><span class=\"kr\">sizeof</span><span class=\"p\">(</span><span class=\"n\">variableList</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">]);</span></div>\n<div class=\"line\"><a id=\"l-2988\" name=\"l-2988\"></a><span class=\"linenos\">2988</span><span class=\"c1\">// Create the VariableArray object and attach the UUID&#39;s</span></div>\n<div class=\"line\"><a id=\"l-2989\" name=\"l-2989\"></a><span class=\"linenos\">2989</span><span class=\"n\">VariableArray</span><span class=\"w\"> </span><span class=\"nf\">varArray</span><span class=\"p\">(</span><span class=\"n\">variableCount</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">variableList</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">UUIDs</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-2990\" name=\"l-2990\"></a><span class=\"linenos\">2990</span><span class=\"cm\">/** End [variables_separate_uuids] */</span></div>\n<div class=\"line\"><a id=\"l-2991\" name=\"l-2991\"></a><span class=\"linenos\">2991</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-2992\" name=\"l-2992\"></a><span class=\"linenos\">2992</span></div>\n<div class=\"line\"><a id=\"l-2993\" name=\"l-2993\"></a><span class=\"linenos\">2993</span></div>\n<div class=\"line\"><a id=\"l-2994\" name=\"l-2994\"></a><span class=\"linenos\">2994</span><span class=\"cp\">#else</span></div>\n<div class=\"line\"><a id=\"l-2995\" name=\"l-2995\"></a><span class=\"linenos\">2995</span><span class=\"c1\">//^^ BUILD_TEST_PRE_NAMED_VARS</span></div>\n<div class=\"line\"><a id=\"l-2996\" name=\"l-2996\"></a><span class=\"linenos\">2996</span><span class=\"cm\">/** Start [variables_pre_named] */</span></div>\n<div class=\"line\"><a id=\"l-2997\" name=\"l-2997\"></a><span class=\"linenos\">2997</span><span class=\"c1\">// Version 3: Fill array with already created and named variable pointers</span></div>\n<div class=\"line\"><a id=\"l-2998\" name=\"l-2998\"></a><span class=\"linenos\">2998</span><span class=\"n\">Variable</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">variableList</span><span class=\"p\">[]</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"p\">{</span></div>\n<div class=\"line\"><a id=\"l-2999\" name=\"l-2999\"></a><span class=\"linenos\">2999</span><span class=\"cp\">#if defined(MS_USE_DS3231)</span></div>\n<div class=\"line\"><a id=\"l-3000\" name=\"l-3000\"></a><span class=\"linenos\">3000</span><span class=\"w\">    </span><span class=\"n\">ds3231Temp</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3001\" name=\"l-3001\"></a><span class=\"linenos\">3001</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-3002\" name=\"l-3002\"></a><span class=\"linenos\">3002</span><span class=\"cp\">#if defined(BUILD_SENSOR_ALPHASENSE_CO2)</span></div>\n<div class=\"line\"><a id=\"l-3003\" name=\"l-3003\"></a><span class=\"linenos\">3003</span><span class=\"w\">    </span><span class=\"n\">asCO2</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3004\" name=\"l-3004\"></a><span class=\"linenos\">3004</span><span class=\"w\">    </span><span class=\"n\">asco2voltage</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3005\" name=\"l-3005\"></a><span class=\"linenos\">3005</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-3006\" name=\"l-3006\"></a><span class=\"linenos\">3006</span><span class=\"cp\">#if defined(BUILD_SENSOR_ANB_PH)</span></div>\n<div class=\"line\"><a id=\"l-3007\" name=\"l-3007\"></a><span class=\"linenos\">3007</span><span class=\"w\">    </span><span class=\"n\">anbPHValue</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3008\" name=\"l-3008\"></a><span class=\"linenos\">3008</span><span class=\"w\">    </span><span class=\"n\">anbPHTemp</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3009\" name=\"l-3009\"></a><span class=\"linenos\">3009</span><span class=\"w\">    </span><span class=\"n\">anbPHSal</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3010\" name=\"l-3010\"></a><span class=\"linenos\">3010</span><span class=\"w\">    </span><span class=\"n\">anbPHSpCond</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3011\" name=\"l-3011\"></a><span class=\"linenos\">3011</span><span class=\"w\">    </span><span class=\"n\">anbPHEC</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3012\" name=\"l-3012\"></a><span class=\"linenos\">3012</span><span class=\"w\">    </span><span class=\"n\">anbPHHealth</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3013\" name=\"l-3013\"></a><span class=\"linenos\">3013</span><span class=\"w\">    </span><span class=\"n\">anbPHDiagnostic</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3014\" name=\"l-3014\"></a><span class=\"linenos\">3014</span><span class=\"w\">    </span><span class=\"n\">anbPHStatus</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3015\" name=\"l-3015\"></a><span class=\"linenos\">3015</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-3016\" name=\"l-3016\"></a><span class=\"linenos\">3016</span><span class=\"cp\">#if defined(BUILD_SENSOR_AO_SONG_AM2315)</span></div>\n<div class=\"line\"><a id=\"l-3017\" name=\"l-3017\"></a><span class=\"linenos\">3017</span><span class=\"w\">    </span><span class=\"n\">am2315Humid</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3018\" name=\"l-3018\"></a><span class=\"linenos\">3018</span><span class=\"w\">    </span><span class=\"n\">am2315Temp</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3019\" name=\"l-3019\"></a><span class=\"linenos\">3019</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-3020\" name=\"l-3020\"></a><span class=\"linenos\">3020</span><span class=\"cp\">#if defined(BUILD_SENSOR_AO_SONG_DHT)</span></div>\n<div class=\"line\"><a id=\"l-3021\" name=\"l-3021\"></a><span class=\"linenos\">3021</span><span class=\"w\">    </span><span class=\"n\">dhtHumid</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3022\" name=\"l-3022\"></a><span class=\"linenos\">3022</span><span class=\"w\">    </span><span class=\"n\">dhtTemp</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3023\" name=\"l-3023\"></a><span class=\"linenos\">3023</span><span class=\"w\">    </span><span class=\"n\">dhtHI</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3024\" name=\"l-3024\"></a><span class=\"linenos\">3024</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-3025\" name=\"l-3025\"></a><span class=\"linenos\">3025</span><span class=\"cp\">#if defined(BUILD_SENSOR_APOGEE_SQ212)</span></div>\n<div class=\"line\"><a id=\"l-3026\" name=\"l-3026\"></a><span class=\"linenos\">3026</span><span class=\"w\">    </span><span class=\"n\">sq212PAR</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3027\" name=\"l-3027\"></a><span class=\"linenos\">3027</span><span class=\"w\">    </span><span class=\"n\">sq212voltage</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3028\" name=\"l-3028\"></a><span class=\"linenos\">3028</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-3029\" name=\"l-3029\"></a><span class=\"linenos\">3029</span><span class=\"cp\">#if defined(BUILD_SENSOR_ATLAS_SCIENTIFIC_CO2)</span></div>\n<div class=\"line\"><a id=\"l-3030\" name=\"l-3030\"></a><span class=\"linenos\">3030</span><span class=\"w\">    </span><span class=\"n\">atlasCO2CO2</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3031\" name=\"l-3031\"></a><span class=\"linenos\">3031</span><span class=\"w\">    </span><span class=\"n\">atlasCO2Temp</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3032\" name=\"l-3032\"></a><span class=\"linenos\">3032</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-3033\" name=\"l-3033\"></a><span class=\"linenos\">3033</span><span class=\"cp\">#if defined(BUILD_SENSOR_ATLAS_SCIENTIFIC_DO)</span></div>\n<div class=\"line\"><a id=\"l-3034\" name=\"l-3034\"></a><span class=\"linenos\">3034</span><span class=\"w\">    </span><span class=\"n\">atlasDOconc</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3035\" name=\"l-3035\"></a><span class=\"linenos\">3035</span><span class=\"w\">    </span><span class=\"n\">atlasDOpct</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3036\" name=\"l-3036\"></a><span class=\"linenos\">3036</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-3037\" name=\"l-3037\"></a><span class=\"linenos\">3037</span><span class=\"cp\">#if defined(BUILD_SENSOR_ATLAS_SCIENTIFIC_ORP)</span></div>\n<div class=\"line\"><a id=\"l-3038\" name=\"l-3038\"></a><span class=\"linenos\">3038</span><span class=\"w\">    </span><span class=\"n\">atlasORPot</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3039\" name=\"l-3039\"></a><span class=\"linenos\">3039</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-3040\" name=\"l-3040\"></a><span class=\"linenos\">3040</span><span class=\"cp\">#if defined(BUILD_SENSOR_ATLAS_SCIENTIFIC_PH)</span></div>\n<div class=\"line\"><a id=\"l-3041\" name=\"l-3041\"></a><span class=\"linenos\">3041</span><span class=\"w\">    </span><span class=\"n\">atlaspHpH</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3042\" name=\"l-3042\"></a><span class=\"linenos\">3042</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-3043\" name=\"l-3043\"></a><span class=\"linenos\">3043</span><span class=\"cp\">#if defined(BUILD_SENSOR_ATLAS_SCIENTIFIC_RTD)</span></div>\n<div class=\"line\"><a id=\"l-3044\" name=\"l-3044\"></a><span class=\"linenos\">3044</span><span class=\"w\">    </span><span class=\"n\">atlasTemp</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3045\" name=\"l-3045\"></a><span class=\"linenos\">3045</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-3046\" name=\"l-3046\"></a><span class=\"linenos\">3046</span><span class=\"cp\">#if defined(BUILD_SENSOR_ATLAS_SCIENTIFIC_EC)</span></div>\n<div class=\"line\"><a id=\"l-3047\" name=\"l-3047\"></a><span class=\"linenos\">3047</span><span class=\"w\">    </span><span class=\"n\">atlasCond</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3048\" name=\"l-3048\"></a><span class=\"linenos\">3048</span><span class=\"w\">    </span><span class=\"n\">atlasTDS</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3049\" name=\"l-3049\"></a><span class=\"linenos\">3049</span><span class=\"w\">    </span><span class=\"n\">atlasSal</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3050\" name=\"l-3050\"></a><span class=\"linenos\">3050</span><span class=\"w\">    </span><span class=\"n\">atlasGrav</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3051\" name=\"l-3051\"></a><span class=\"linenos\">3051</span><span class=\"w\">    </span><span class=\"n\">atlasSpCond</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3052\" name=\"l-3052\"></a><span class=\"linenos\">3052</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-3053\" name=\"l-3053\"></a><span class=\"linenos\">3053</span><span class=\"cp\">#if defined(BUILD_SENSOR_BOSCH_BME280)</span></div>\n<div class=\"line\"><a id=\"l-3054\" name=\"l-3054\"></a><span class=\"linenos\">3054</span><span class=\"w\">    </span><span class=\"n\">bme280Temp</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3055\" name=\"l-3055\"></a><span class=\"linenos\">3055</span><span class=\"w\">    </span><span class=\"n\">bme280Humid</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3056\" name=\"l-3056\"></a><span class=\"linenos\">3056</span><span class=\"w\">    </span><span class=\"n\">bme280Press</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3057\" name=\"l-3057\"></a><span class=\"linenos\">3057</span><span class=\"w\">    </span><span class=\"n\">bme280Alt</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3058\" name=\"l-3058\"></a><span class=\"linenos\">3058</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-3059\" name=\"l-3059\"></a><span class=\"linenos\">3059</span><span class=\"cp\">#if defined(BUILD_SENSOR_BOSCH_BMP3XX)</span></div>\n<div class=\"line\"><a id=\"l-3060\" name=\"l-3060\"></a><span class=\"linenos\">3060</span><span class=\"w\">    </span><span class=\"n\">bmp3xxTemp</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3061\" name=\"l-3061\"></a><span class=\"linenos\">3061</span><span class=\"w\">    </span><span class=\"n\">bmp3xxPress</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3062\" name=\"l-3062\"></a><span class=\"linenos\">3062</span><span class=\"w\">    </span><span class=\"n\">bmp3xxAlt</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3063\" name=\"l-3063\"></a><span class=\"linenos\">3063</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-3064\" name=\"l-3064\"></a><span class=\"linenos\">3064</span><span class=\"cp\">#if defined(BUILD_SENSOR_CAMPBELL_CLARI_VUE10)</span></div>\n<div class=\"line\"><a id=\"l-3065\" name=\"l-3065\"></a><span class=\"linenos\">3065</span><span class=\"w\">    </span><span class=\"n\">clarivueTurbidity</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3066\" name=\"l-3066\"></a><span class=\"linenos\">3066</span><span class=\"w\">    </span><span class=\"n\">clarivueTemp</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3067\" name=\"l-3067\"></a><span class=\"linenos\">3067</span><span class=\"w\">    </span><span class=\"n\">clarivueError</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3068\" name=\"l-3068\"></a><span class=\"linenos\">3068</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-3069\" name=\"l-3069\"></a><span class=\"linenos\">3069</span><span class=\"cp\">#if defined(BUILD_SENSOR_CAMPBELL_OBS3)</span></div>\n<div class=\"line\"><a id=\"l-3070\" name=\"l-3070\"></a><span class=\"linenos\">3070</span><span class=\"w\">    </span><span class=\"n\">obs3TurbLow</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3071\" name=\"l-3071\"></a><span class=\"linenos\">3071</span><span class=\"w\">    </span><span class=\"n\">obs3VoltLow</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3072\" name=\"l-3072\"></a><span class=\"linenos\">3072</span><span class=\"w\">    </span><span class=\"n\">obs3TurbHigh</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3073\" name=\"l-3073\"></a><span class=\"linenos\">3073</span><span class=\"w\">    </span><span class=\"n\">obs3VoltHigh</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3074\" name=\"l-3074\"></a><span class=\"linenos\">3074</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-3075\" name=\"l-3075\"></a><span class=\"linenos\">3075</span><span class=\"cp\">#if defined(BUILD_SENSOR_CAMPBELL_RAIN_VUE10)</span></div>\n<div class=\"line\"><a id=\"l-3076\" name=\"l-3076\"></a><span class=\"linenos\">3076</span><span class=\"w\">    </span><span class=\"n\">rainvuePrecipitation</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3077\" name=\"l-3077\"></a><span class=\"linenos\">3077</span><span class=\"w\">    </span><span class=\"n\">rainvueTips</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3078\" name=\"l-3078\"></a><span class=\"linenos\">3078</span><span class=\"w\">    </span><span class=\"n\">rainvueRainRateAve</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3079\" name=\"l-3079\"></a><span class=\"linenos\">3079</span><span class=\"w\">    </span><span class=\"n\">rainvueRainRateMax</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3080\" name=\"l-3080\"></a><span class=\"linenos\">3080</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-3081\" name=\"l-3081\"></a><span class=\"linenos\">3081</span><span class=\"cp\">#if defined(BUILD_SENSOR_DECAGON_CTD)</span></div>\n<div class=\"line\"><a id=\"l-3082\" name=\"l-3082\"></a><span class=\"linenos\">3082</span><span class=\"w\">    </span><span class=\"n\">ctdCond</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3083\" name=\"l-3083\"></a><span class=\"linenos\">3083</span><span class=\"w\">    </span><span class=\"n\">ctdTemp</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3084\" name=\"l-3084\"></a><span class=\"linenos\">3084</span><span class=\"w\">    </span><span class=\"n\">ctdDepth</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3085\" name=\"l-3085\"></a><span class=\"linenos\">3085</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-3086\" name=\"l-3086\"></a><span class=\"linenos\">3086</span><span class=\"cp\">#if defined(BUILD_SENSOR_DECAGON_ES2)</span></div>\n<div class=\"line\"><a id=\"l-3087\" name=\"l-3087\"></a><span class=\"linenos\">3087</span><span class=\"w\">    </span><span class=\"n\">es2Cond</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3088\" name=\"l-3088\"></a><span class=\"linenos\">3088</span><span class=\"w\">    </span><span class=\"n\">es2Temp</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3089\" name=\"l-3089\"></a><span class=\"linenos\">3089</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-3090\" name=\"l-3090\"></a><span class=\"linenos\">3090</span><span class=\"cp\">#if defined(BUILD_SENSOR_EVERLIGHT_ALSPT19)</span></div>\n<div class=\"line\"><a id=\"l-3091\" name=\"l-3091\"></a><span class=\"linenos\">3091</span><span class=\"w\">    </span><span class=\"n\">alsPt19Volt</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3092\" name=\"l-3092\"></a><span class=\"linenos\">3092</span><span class=\"w\">    </span><span class=\"n\">alsPt19Current</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3093\" name=\"l-3093\"></a><span class=\"linenos\">3093</span><span class=\"w\">    </span><span class=\"n\">alsPt19Lux</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3094\" name=\"l-3094\"></a><span class=\"linenos\">3094</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-3095\" name=\"l-3095\"></a><span class=\"linenos\">3095</span><span class=\"cp\">#if defined(BUILD_SENSOR_TIADS1X15)</span></div>\n<div class=\"line\"><a id=\"l-3096\" name=\"l-3096\"></a><span class=\"linenos\">3096</span><span class=\"w\">    </span><span class=\"n\">ads1x15Volt</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3097\" name=\"l-3097\"></a><span class=\"linenos\">3097</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-3098\" name=\"l-3098\"></a><span class=\"linenos\">3098</span><span class=\"cp\">#if defined(BUILD_SENSOR_FREESCALE_MPL115A2)</span></div>\n<div class=\"line\"><a id=\"l-3099\" name=\"l-3099\"></a><span class=\"linenos\">3099</span><span class=\"w\">    </span><span class=\"n\">mplTemp</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3100\" name=\"l-3100\"></a><span class=\"linenos\">3100</span><span class=\"w\">    </span><span class=\"n\">mplPress</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3101\" name=\"l-3101\"></a><span class=\"linenos\">3101</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-3102\" name=\"l-3102\"></a><span class=\"linenos\">3102</span><span class=\"cp\">#if defined(BUILD_SENSOR_GEOLUX_HYDRO_CAM)</span></div>\n<div class=\"line\"><a id=\"l-3103\" name=\"l-3103\"></a><span class=\"linenos\">3103</span><span class=\"w\">    </span><span class=\"n\">hydrocamImageSize</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3104\" name=\"l-3104\"></a><span class=\"linenos\">3104</span><span class=\"w\">    </span><span class=\"n\">hydrocamByteError</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3105\" name=\"l-3105\"></a><span class=\"linenos\">3105</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-3106\" name=\"l-3106\"></a><span class=\"linenos\">3106</span><span class=\"cp\">#if defined(BUILD_SENSOR_GRO_POINT_GPLP8)</span></div>\n<div class=\"line\"><a id=\"l-3107\" name=\"l-3107\"></a><span class=\"linenos\">3107</span><span class=\"w\">    </span><span class=\"n\">gplp8Moist1</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3108\" name=\"l-3108\"></a><span class=\"linenos\">3108</span><span class=\"w\">    </span><span class=\"n\">gplp8Moist2</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3109\" name=\"l-3109\"></a><span class=\"linenos\">3109</span><span class=\"w\">    </span><span class=\"n\">gplp8Moist3</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3110\" name=\"l-3110\"></a><span class=\"linenos\">3110</span><span class=\"w\">    </span><span class=\"n\">gplp8Moist4</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3111\" name=\"l-3111\"></a><span class=\"linenos\">3111</span><span class=\"w\">    </span><span class=\"n\">gplp8Moist5</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3112\" name=\"l-3112\"></a><span class=\"linenos\">3112</span><span class=\"w\">    </span><span class=\"n\">gplp8Moist6</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3113\" name=\"l-3113\"></a><span class=\"linenos\">3113</span><span class=\"w\">    </span><span class=\"n\">gplp8Moist7</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3114\" name=\"l-3114\"></a><span class=\"linenos\">3114</span><span class=\"w\">    </span><span class=\"n\">gplp8Moist8</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3115\" name=\"l-3115\"></a><span class=\"linenos\">3115</span><span class=\"w\">    </span><span class=\"n\">gplp8Temp1</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3116\" name=\"l-3116\"></a><span class=\"linenos\">3116</span><span class=\"w\">    </span><span class=\"n\">gplp8Temp2</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3117\" name=\"l-3117\"></a><span class=\"linenos\">3117</span><span class=\"w\">    </span><span class=\"n\">gplp8Temp3</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3118\" name=\"l-3118\"></a><span class=\"linenos\">3118</span><span class=\"w\">    </span><span class=\"n\">gplp8Temp4</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3119\" name=\"l-3119\"></a><span class=\"linenos\">3119</span><span class=\"w\">    </span><span class=\"n\">gplp8Temp5</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3120\" name=\"l-3120\"></a><span class=\"linenos\">3120</span><span class=\"w\">    </span><span class=\"n\">gplp8Temp6</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3121\" name=\"l-3121\"></a><span class=\"linenos\">3121</span><span class=\"w\">    </span><span class=\"n\">gplp8Temp7</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3122\" name=\"l-3122\"></a><span class=\"linenos\">3122</span><span class=\"w\">    </span><span class=\"n\">gplp8Temp8</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3123\" name=\"l-3123\"></a><span class=\"linenos\">3123</span><span class=\"w\">    </span><span class=\"n\">gplp8Temp9</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3124\" name=\"l-3124\"></a><span class=\"linenos\">3124</span><span class=\"w\">    </span><span class=\"n\">gplp8Temp10</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3125\" name=\"l-3125\"></a><span class=\"linenos\">3125</span><span class=\"w\">    </span><span class=\"n\">gplp8Temp11</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3126\" name=\"l-3126\"></a><span class=\"linenos\">3126</span><span class=\"w\">    </span><span class=\"n\">gplp8Temp12</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3127\" name=\"l-3127\"></a><span class=\"linenos\">3127</span><span class=\"w\">    </span><span class=\"n\">gplp8Temp13</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3128\" name=\"l-3128\"></a><span class=\"linenos\">3128</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-3129\" name=\"l-3129\"></a><span class=\"linenos\">3129</span><span class=\"cp\">#if defined(BUILD_SENSOR_IN_SITU_RDO)</span></div>\n<div class=\"line\"><a id=\"l-3130\" name=\"l-3130\"></a><span class=\"linenos\">3130</span><span class=\"w\">    </span><span class=\"n\">rdoTemp</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3131\" name=\"l-3131\"></a><span class=\"linenos\">3131</span><span class=\"w\">    </span><span class=\"n\">rdoDOpct</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3132\" name=\"l-3132\"></a><span class=\"linenos\">3132</span><span class=\"w\">    </span><span class=\"n\">rdoDOmgL</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3133\" name=\"l-3133\"></a><span class=\"linenos\">3133</span><span class=\"w\">    </span><span class=\"n\">rdoO2pp</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3134\" name=\"l-3134\"></a><span class=\"linenos\">3134</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-3135\" name=\"l-3135\"></a><span class=\"linenos\">3135</span><span class=\"cp\">#if defined(BUILD_SENSOR_IN_SITU_TROLL_SDI12A)</span></div>\n<div class=\"line\"><a id=\"l-3136\" name=\"l-3136\"></a><span class=\"linenos\">3136</span><span class=\"w\">    </span><span class=\"n\">trollPressure</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3137\" name=\"l-3137\"></a><span class=\"linenos\">3137</span><span class=\"w\">    </span><span class=\"n\">trollTemp</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3138\" name=\"l-3138\"></a><span class=\"linenos\">3138</span><span class=\"w\">    </span><span class=\"n\">trollDepth</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3139\" name=\"l-3139\"></a><span class=\"linenos\">3139</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-3140\" name=\"l-3140\"></a><span class=\"linenos\">3140</span><span class=\"cp\">#if defined(BUILD_SENSOR_KELLER_ACCULEVEL)</span></div>\n<div class=\"line\"><a id=\"l-3141\" name=\"l-3141\"></a><span class=\"linenos\">3141</span><span class=\"w\">    </span><span class=\"n\">acculevPress</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3142\" name=\"l-3142\"></a><span class=\"linenos\">3142</span><span class=\"w\">    </span><span class=\"n\">acculevTemp</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3143\" name=\"l-3143\"></a><span class=\"linenos\">3143</span><span class=\"w\">    </span><span class=\"n\">acculevHeight</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3144\" name=\"l-3144\"></a><span class=\"linenos\">3144</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-3145\" name=\"l-3145\"></a><span class=\"linenos\">3145</span><span class=\"cp\">#if defined(BUILD_SENSOR_KELLER_NANOLEVEL)</span></div>\n<div class=\"line\"><a id=\"l-3146\" name=\"l-3146\"></a><span class=\"linenos\">3146</span><span class=\"w\">    </span><span class=\"n\">nanolevPress</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3147\" name=\"l-3147\"></a><span class=\"linenos\">3147</span><span class=\"w\">    </span><span class=\"n\">nanolevTemp</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3148\" name=\"l-3148\"></a><span class=\"linenos\">3148</span><span class=\"w\">    </span><span class=\"n\">nanolevHeight</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3149\" name=\"l-3149\"></a><span class=\"linenos\">3149</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-3150\" name=\"l-3150\"></a><span class=\"linenos\">3150</span><span class=\"cp\">#if defined(BUILD_SENSOR_MAX_BOTIX_SONAR)</span></div>\n<div class=\"line\"><a id=\"l-3151\" name=\"l-3151\"></a><span class=\"linenos\">3151</span><span class=\"w\">    </span><span class=\"n\">sonar1Range</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3152\" name=\"l-3152\"></a><span class=\"linenos\">3152</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-3153\" name=\"l-3153\"></a><span class=\"linenos\">3153</span><span class=\"cp\">#if defined(BUILD_SENSOR_MAXIM_DS18)</span></div>\n<div class=\"line\"><a id=\"l-3154\" name=\"l-3154\"></a><span class=\"linenos\">3154</span><span class=\"w\">    </span><span class=\"n\">ds18Temp</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3155\" name=\"l-3155\"></a><span class=\"linenos\">3155</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-3156\" name=\"l-3156\"></a><span class=\"linenos\">3156</span><span class=\"cp\">#if defined(BUILD_SENSOR_MEA_SPEC_MS5803)</span></div>\n<div class=\"line\"><a id=\"l-3157\" name=\"l-3157\"></a><span class=\"linenos\">3157</span><span class=\"w\">    </span><span class=\"n\">ms5803Temp</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3158\" name=\"l-3158\"></a><span class=\"linenos\">3158</span><span class=\"w\">    </span><span class=\"n\">ms5803Press</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3159\" name=\"l-3159\"></a><span class=\"linenos\">3159</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-3160\" name=\"l-3160\"></a><span class=\"linenos\">3160</span><span class=\"cp\">#if defined(BUILD_SENSOR_DECAGON_5TM)</span></div>\n<div class=\"line\"><a id=\"l-3161\" name=\"l-3161\"></a><span class=\"linenos\">3161</span><span class=\"w\">    </span><span class=\"n\">fivetmEa</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3162\" name=\"l-3162\"></a><span class=\"linenos\">3162</span><span class=\"w\">    </span><span class=\"n\">fivetmVWC</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3163\" name=\"l-3163\"></a><span class=\"linenos\">3163</span><span class=\"w\">    </span><span class=\"n\">fivetmTemp</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3164\" name=\"l-3164\"></a><span class=\"linenos\">3164</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-3165\" name=\"l-3165\"></a><span class=\"linenos\">3165</span><span class=\"cp\">#if defined(BUILD_SENSOR_METER_HYDROS21)</span></div>\n<div class=\"line\"><a id=\"l-3166\" name=\"l-3166\"></a><span class=\"linenos\">3166</span><span class=\"w\">    </span><span class=\"n\">hydros21Cond</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3167\" name=\"l-3167\"></a><span class=\"linenos\">3167</span><span class=\"w\">    </span><span class=\"n\">hydros21Temp</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3168\" name=\"l-3168\"></a><span class=\"linenos\">3168</span><span class=\"w\">    </span><span class=\"n\">hydros21Depth</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3169\" name=\"l-3169\"></a><span class=\"linenos\">3169</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-3170\" name=\"l-3170\"></a><span class=\"linenos\">3170</span><span class=\"cp\">#if defined(BUILD_SENSOR_METER_TEROS11)</span></div>\n<div class=\"line\"><a id=\"l-3171\" name=\"l-3171\"></a><span class=\"linenos\">3171</span><span class=\"w\">    </span><span class=\"n\">teros11Ea</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3172\" name=\"l-3172\"></a><span class=\"linenos\">3172</span><span class=\"w\">    </span><span class=\"n\">teros11Temp</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3173\" name=\"l-3173\"></a><span class=\"linenos\">3173</span><span class=\"w\">    </span><span class=\"n\">teros11VWC</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3174\" name=\"l-3174\"></a><span class=\"linenos\">3174</span><span class=\"w\">    </span><span class=\"n\">teros11Count</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3175\" name=\"l-3175\"></a><span class=\"linenos\">3175</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-3176\" name=\"l-3176\"></a><span class=\"linenos\">3176</span><span class=\"cp\">#if defined(BUILD_SENSOR_PALEO_TERRA_REDOX)</span></div>\n<div class=\"line\"><a id=\"l-3177\" name=\"l-3177\"></a><span class=\"linenos\">3177</span><span class=\"w\">    </span><span class=\"n\">ptVolt</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3178\" name=\"l-3178\"></a><span class=\"linenos\">3178</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-3179\" name=\"l-3179\"></a><span class=\"linenos\">3179</span><span class=\"cp\">#if defined(BUILD_SENSOR_RAIN_COUNTER_I2C)</span></div>\n<div class=\"line\"><a id=\"l-3180\" name=\"l-3180\"></a><span class=\"linenos\">3180</span><span class=\"w\">    </span><span class=\"n\">tbi2cTips</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3181\" name=\"l-3181\"></a><span class=\"linenos\">3181</span><span class=\"w\">    </span><span class=\"n\">tbi2cDepth</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3182\" name=\"l-3182\"></a><span class=\"linenos\">3182</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-3183\" name=\"l-3183\"></a><span class=\"linenos\">3183</span><span class=\"cp\">#if defined(BUILD_SENSOR_SENSIRION_SHT4X)</span></div>\n<div class=\"line\"><a id=\"l-3184\" name=\"l-3184\"></a><span class=\"linenos\">3184</span><span class=\"w\">    </span><span class=\"n\">sht4xHumid</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3185\" name=\"l-3185\"></a><span class=\"linenos\">3185</span><span class=\"w\">    </span><span class=\"n\">sht4xTemp</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3186\" name=\"l-3186\"></a><span class=\"linenos\">3186</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-3187\" name=\"l-3187\"></a><span class=\"linenos\">3187</span><span class=\"cp\">#if defined(BUILD_SENSOR_TALLY_COUNTER_I2C)</span></div>\n<div class=\"line\"><a id=\"l-3188\" name=\"l-3188\"></a><span class=\"linenos\">3188</span><span class=\"w\">    </span><span class=\"n\">tallyEvents</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3189\" name=\"l-3189\"></a><span class=\"linenos\">3189</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-3190\" name=\"l-3190\"></a><span class=\"linenos\">3190</span><span class=\"cp\">#if defined(BUILD_SENSOR_TI_INA219)</span></div>\n<div class=\"line\"><a id=\"l-3191\" name=\"l-3191\"></a><span class=\"linenos\">3191</span><span class=\"w\">    </span><span class=\"n\">inaVolt</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3192\" name=\"l-3192\"></a><span class=\"linenos\">3192</span><span class=\"w\">    </span><span class=\"n\">inaCurrent</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3193\" name=\"l-3193\"></a><span class=\"linenos\">3193</span><span class=\"w\">    </span><span class=\"n\">inaPower</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3194\" name=\"l-3194\"></a><span class=\"linenos\">3194</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-3195\" name=\"l-3195\"></a><span class=\"linenos\">3195</span><span class=\"cp\">#if defined(BUILD_SENSOR_TURNER_CYCLOPS)</span></div>\n<div class=\"line\"><a id=\"l-3196\" name=\"l-3196\"></a><span class=\"linenos\">3196</span><span class=\"w\">    </span><span class=\"n\">cyclopsVoltage</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3197\" name=\"l-3197\"></a><span class=\"linenos\">3197</span><span class=\"w\">    </span><span class=\"n\">cyclopsChloro</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3198\" name=\"l-3198\"></a><span class=\"linenos\">3198</span><span class=\"w\">    </span><span class=\"n\">cyclopsRWT</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3199\" name=\"l-3199\"></a><span class=\"linenos\">3199</span><span class=\"w\">    </span><span class=\"n\">cyclopsFluoroscein</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3200\" name=\"l-3200\"></a><span class=\"linenos\">3200</span><span class=\"w\">    </span><span class=\"n\">cyclopsPhycocyanin</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3201\" name=\"l-3201\"></a><span class=\"linenos\">3201</span><span class=\"w\">    </span><span class=\"n\">cyclopsPhycoerythrin</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3202\" name=\"l-3202\"></a><span class=\"linenos\">3202</span><span class=\"w\">    </span><span class=\"n\">cyclopsCDOM</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3203\" name=\"l-3203\"></a><span class=\"linenos\">3203</span><span class=\"w\">    </span><span class=\"n\">cyclopsCrudeOil</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3204\" name=\"l-3204\"></a><span class=\"linenos\">3204</span><span class=\"w\">    </span><span class=\"n\">cyclopsBrighteners</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3205\" name=\"l-3205\"></a><span class=\"linenos\">3205</span><span class=\"w\">    </span><span class=\"n\">cyclopsTurbidity</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3206\" name=\"l-3206\"></a><span class=\"linenos\">3206</span><span class=\"w\">    </span><span class=\"n\">cyclopsPTSA</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3207\" name=\"l-3207\"></a><span class=\"linenos\">3207</span><span class=\"w\">    </span><span class=\"n\">cyclopsBTEX</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3208\" name=\"l-3208\"></a><span class=\"linenos\">3208</span><span class=\"w\">    </span><span class=\"n\">cyclopsTryptophan</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3209\" name=\"l-3209\"></a><span class=\"linenos\">3209</span><span class=\"w\">    </span><span class=\"n\">cyclopsRedChloro</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3210\" name=\"l-3210\"></a><span class=\"linenos\">3210</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-3211\" name=\"l-3211\"></a><span class=\"linenos\">3211</span><span class=\"cp\">#if defined(BUILD_SENSOR_TURNER_TURBIDITY_PLUS)</span></div>\n<div class=\"line\"><a id=\"l-3212\" name=\"l-3212\"></a><span class=\"linenos\">3212</span><span class=\"w\">    </span><span class=\"n\">turbidityPlusVoltage</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3213\" name=\"l-3213\"></a><span class=\"linenos\">3213</span><span class=\"w\">    </span><span class=\"n\">turbidityPlusTurbidity</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3214\" name=\"l-3214\"></a><span class=\"linenos\">3214</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-3215\" name=\"l-3215\"></a><span class=\"linenos\">3215</span><span class=\"cp\">#if defined(BUILD_SENSOR_ANALOG_ELEC_CONDUCTIVITY)</span></div>\n<div class=\"line\"><a id=\"l-3216\" name=\"l-3216\"></a><span class=\"linenos\">3216</span><span class=\"w\">    </span><span class=\"n\">analogEc_cond</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3217\" name=\"l-3217\"></a><span class=\"linenos\">3217</span><span class=\"w\">    </span><span class=\"n\">analogEc_spcond</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3218\" name=\"l-3218\"></a><span class=\"linenos\">3218</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-3219\" name=\"l-3219\"></a><span class=\"linenos\">3219</span><span class=\"cp\">#if defined(BUILD_SENSOR_VEGA_PULS21)</span></div>\n<div class=\"line\"><a id=\"l-3220\" name=\"l-3220\"></a><span class=\"linenos\">3220</span><span class=\"w\">    </span><span class=\"n\">VegaPulsStage</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3221\" name=\"l-3221\"></a><span class=\"linenos\">3221</span><span class=\"w\">    </span><span class=\"n\">VegaPulsDistance</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3222\" name=\"l-3222\"></a><span class=\"linenos\">3222</span><span class=\"w\">    </span><span class=\"n\">VegaPulsTemp</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3223\" name=\"l-3223\"></a><span class=\"linenos\">3223</span><span class=\"w\">    </span><span class=\"n\">VegaPulsRelia</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3224\" name=\"l-3224\"></a><span class=\"linenos\">3224</span><span class=\"w\">    </span><span class=\"n\">VegaPulsError</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3225\" name=\"l-3225\"></a><span class=\"linenos\">3225</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-3226\" name=\"l-3226\"></a><span class=\"linenos\">3226</span><span class=\"cp\">#if defined(BUILD_SENSOR_YOSEMITECH_Y504)</span></div>\n<div class=\"line\"><a id=\"l-3227\" name=\"l-3227\"></a><span class=\"linenos\">3227</span><span class=\"w\">    </span><span class=\"n\">y504DOpct</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3228\" name=\"l-3228\"></a><span class=\"linenos\">3228</span><span class=\"w\">    </span><span class=\"n\">y504DOmgL</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3229\" name=\"l-3229\"></a><span class=\"linenos\">3229</span><span class=\"w\">    </span><span class=\"n\">y504Temp</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3230\" name=\"l-3230\"></a><span class=\"linenos\">3230</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-3231\" name=\"l-3231\"></a><span class=\"linenos\">3231</span><span class=\"cp\">#if defined(BUILD_SENSOR_YOSEMITECH_Y510)</span></div>\n<div class=\"line\"><a id=\"l-3232\" name=\"l-3232\"></a><span class=\"linenos\">3232</span><span class=\"w\">    </span><span class=\"n\">y510Turb</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3233\" name=\"l-3233\"></a><span class=\"linenos\">3233</span><span class=\"w\">    </span><span class=\"n\">y510Temp</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3234\" name=\"l-3234\"></a><span class=\"linenos\">3234</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-3235\" name=\"l-3235\"></a><span class=\"linenos\">3235</span><span class=\"cp\">#if defined(BUILD_SENSOR_YOSEMITECH_Y511)</span></div>\n<div class=\"line\"><a id=\"l-3236\" name=\"l-3236\"></a><span class=\"linenos\">3236</span><span class=\"w\">    </span><span class=\"n\">y511Turb</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3237\" name=\"l-3237\"></a><span class=\"linenos\">3237</span><span class=\"w\">    </span><span class=\"n\">y511Temp</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3238\" name=\"l-3238\"></a><span class=\"linenos\">3238</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-3239\" name=\"l-3239\"></a><span class=\"linenos\">3239</span><span class=\"cp\">#if defined(BUILD_SENSOR_YOSEMITECH_Y513)</span></div>\n<div class=\"line\"><a id=\"l-3240\" name=\"l-3240\"></a><span class=\"linenos\">3240</span><span class=\"w\">    </span><span class=\"n\">y513BGA</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3241\" name=\"l-3241\"></a><span class=\"linenos\">3241</span><span class=\"w\">    </span><span class=\"n\">y513Temp</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3242\" name=\"l-3242\"></a><span class=\"linenos\">3242</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-3243\" name=\"l-3243\"></a><span class=\"linenos\">3243</span><span class=\"cp\">#if defined(BUILD_SENSOR_YOSEMITECH_Y514)</span></div>\n<div class=\"line\"><a id=\"l-3244\" name=\"l-3244\"></a><span class=\"linenos\">3244</span><span class=\"w\">    </span><span class=\"n\">y514Chloro</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3245\" name=\"l-3245\"></a><span class=\"linenos\">3245</span><span class=\"w\">    </span><span class=\"n\">y514Temp</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3246\" name=\"l-3246\"></a><span class=\"linenos\">3246</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-3247\" name=\"l-3247\"></a><span class=\"linenos\">3247</span><span class=\"cp\">#if defined(BUILD_SENSOR_YOSEMITECH_Y520)</span></div>\n<div class=\"line\"><a id=\"l-3248\" name=\"l-3248\"></a><span class=\"linenos\">3248</span><span class=\"w\">    </span><span class=\"n\">y520Cond</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3249\" name=\"l-3249\"></a><span class=\"linenos\">3249</span><span class=\"w\">    </span><span class=\"n\">y520Temp</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3250\" name=\"l-3250\"></a><span class=\"linenos\">3250</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-3251\" name=\"l-3251\"></a><span class=\"linenos\">3251</span><span class=\"cp\">#if defined(BUILD_SENSOR_YOSEMITECH_Y532)</span></div>\n<div class=\"line\"><a id=\"l-3252\" name=\"l-3252\"></a><span class=\"linenos\">3252</span><span class=\"w\">    </span><span class=\"n\">y532Voltage</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3253\" name=\"l-3253\"></a><span class=\"linenos\">3253</span><span class=\"w\">    </span><span class=\"n\">y532pH</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3254\" name=\"l-3254\"></a><span class=\"linenos\">3254</span><span class=\"w\">    </span><span class=\"n\">y532Temp</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3255\" name=\"l-3255\"></a><span class=\"linenos\">3255</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-3256\" name=\"l-3256\"></a><span class=\"linenos\">3256</span><span class=\"cp\">#if defined(BUILD_SENSOR_YOSEMITECH_Y533)</span></div>\n<div class=\"line\"><a id=\"l-3257\" name=\"l-3257\"></a><span class=\"linenos\">3257</span><span class=\"w\">    </span><span class=\"n\">y533ORP</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3258\" name=\"l-3258\"></a><span class=\"linenos\">3258</span><span class=\"w\">    </span><span class=\"n\">y533Temp</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3259\" name=\"l-3259\"></a><span class=\"linenos\">3259</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-3260\" name=\"l-3260\"></a><span class=\"linenos\">3260</span><span class=\"cp\">#if defined(BUILD_SENSOR_YOSEMITECH_Y551)</span></div>\n<div class=\"line\"><a id=\"l-3261\" name=\"l-3261\"></a><span class=\"linenos\">3261</span><span class=\"w\">    </span><span class=\"n\">y551COD</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3262\" name=\"l-3262\"></a><span class=\"linenos\">3262</span><span class=\"w\">    </span><span class=\"n\">y551Turbid</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3263\" name=\"l-3263\"></a><span class=\"linenos\">3263</span><span class=\"w\">    </span><span class=\"n\">y551Temp</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3264\" name=\"l-3264\"></a><span class=\"linenos\">3264</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-3265\" name=\"l-3265\"></a><span class=\"linenos\">3265</span><span class=\"cp\">#if defined(BUILD_SENSOR_YOSEMITECH_Y560)</span></div>\n<div class=\"line\"><a id=\"l-3266\" name=\"l-3266\"></a><span class=\"linenos\">3266</span><span class=\"w\">    </span><span class=\"n\">y560NH4_N</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3267\" name=\"l-3267\"></a><span class=\"linenos\">3267</span><span class=\"w\">    </span><span class=\"n\">y560pH</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3268\" name=\"l-3268\"></a><span class=\"linenos\">3268</span><span class=\"w\">    </span><span class=\"n\">y560Temp</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3269\" name=\"l-3269\"></a><span class=\"linenos\">3269</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-3270\" name=\"l-3270\"></a><span class=\"linenos\">3270</span><span class=\"cp\">#if defined(BUILD_SENSOR_YOSEMITECH_Y700)</span></div>\n<div class=\"line\"><a id=\"l-3271\" name=\"l-3271\"></a><span class=\"linenos\">3271</span><span class=\"w\">    </span><span class=\"n\">y700Pres</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3272\" name=\"l-3272\"></a><span class=\"linenos\">3272</span><span class=\"w\">    </span><span class=\"n\">y700Temp</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3273\" name=\"l-3273\"></a><span class=\"linenos\">3273</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-3274\" name=\"l-3274\"></a><span class=\"linenos\">3274</span><span class=\"cp\">#if defined(BUILD_SENSOR_YOSEMITECH_Y4000)</span></div>\n<div class=\"line\"><a id=\"l-3275\" name=\"l-3275\"></a><span class=\"linenos\">3275</span><span class=\"w\">    </span><span class=\"n\">y4000DO</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3276\" name=\"l-3276\"></a><span class=\"linenos\">3276</span><span class=\"w\">    </span><span class=\"n\">y4000Turb</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3277\" name=\"l-3277\"></a><span class=\"linenos\">3277</span><span class=\"w\">    </span><span class=\"n\">y4000Cond</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3278\" name=\"l-3278\"></a><span class=\"linenos\">3278</span><span class=\"w\">    </span><span class=\"n\">y4000pH</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3279\" name=\"l-3279\"></a><span class=\"linenos\">3279</span><span class=\"w\">    </span><span class=\"n\">y4000Temp</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3280\" name=\"l-3280\"></a><span class=\"linenos\">3280</span><span class=\"w\">    </span><span class=\"n\">y4000ORP</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3281\" name=\"l-3281\"></a><span class=\"linenos\">3281</span><span class=\"w\">    </span><span class=\"n\">y4000Chloro</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3282\" name=\"l-3282\"></a><span class=\"linenos\">3282</span><span class=\"w\">    </span><span class=\"n\">y4000BGA</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3283\" name=\"l-3283\"></a><span class=\"linenos\">3283</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-3284\" name=\"l-3284\"></a><span class=\"linenos\">3284</span><span class=\"cp\">#if defined(BUILD_SENSOR_ZEBRA_TECH_D_OPTO)</span></div>\n<div class=\"line\"><a id=\"l-3285\" name=\"l-3285\"></a><span class=\"linenos\">3285</span><span class=\"w\">    </span><span class=\"n\">dOptoDOpct</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3286\" name=\"l-3286\"></a><span class=\"linenos\">3286</span><span class=\"w\">    </span><span class=\"n\">dOptoDOmgL</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3287\" name=\"l-3287\"></a><span class=\"linenos\">3287</span><span class=\"w\">    </span><span class=\"n\">dOptoTemp</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3288\" name=\"l-3288\"></a><span class=\"linenos\">3288</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-3289\" name=\"l-3289\"></a><span class=\"linenos\">3289</span><span class=\"cp\">#if !defined(BUILD_MODEM_NO_MODEM) &amp;&amp; defined(BUILD_HAS_MODEM)</span></div>\n<div class=\"line\"><a id=\"l-3290\" name=\"l-3290\"></a><span class=\"linenos\">3290</span><span class=\"w\">    </span><span class=\"n\">modemRSSI</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3291\" name=\"l-3291\"></a><span class=\"linenos\">3291</span><span class=\"w\">    </span><span class=\"n\">modemSignalPct</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3292\" name=\"l-3292\"></a><span class=\"linenos\">3292</span><span class=\"cp\">#if defined(TINY_GSM_MODEM_HAS_BATTERY)</span></div>\n<div class=\"line\"><a id=\"l-3293\" name=\"l-3293\"></a><span class=\"linenos\">3293</span><span class=\"w\">    </span><span class=\"n\">modemBatteryState</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3294\" name=\"l-3294\"></a><span class=\"linenos\">3294</span><span class=\"w\">    </span><span class=\"n\">modemBatteryPct</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3295\" name=\"l-3295\"></a><span class=\"linenos\">3295</span><span class=\"w\">    </span><span class=\"n\">modemBatteryVoltage</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3296\" name=\"l-3296\"></a><span class=\"linenos\">3296</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-3297\" name=\"l-3297\"></a><span class=\"linenos\">3297</span><span class=\"cp\">#if defined(TINY_GSM_MODEM_HAS_TEMPERATURE)</span></div>\n<div class=\"line\"><a id=\"l-3298\" name=\"l-3298\"></a><span class=\"linenos\">3298</span><span class=\"w\">    </span><span class=\"n\">modemTemperature</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3299\" name=\"l-3299\"></a><span class=\"linenos\">3299</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-3300\" name=\"l-3300\"></a><span class=\"linenos\">3300</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-3301\" name=\"l-3301\"></a><span class=\"linenos\">3301</span><span class=\"w\">    </span><span class=\"n\">mcuBoardSampNo</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3302\" name=\"l-3302\"></a><span class=\"linenos\">3302</span><span class=\"cp\">#if !defined(__SAMD51__)</span></div>\n<div class=\"line\"><a id=\"l-3303\" name=\"l-3303\"></a><span class=\"linenos\">3303</span><span class=\"w\">    </span><span class=\"n\">mcuBoardAvailableRAM</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3304\" name=\"l-3304\"></a><span class=\"linenos\">3304</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-3305\" name=\"l-3305\"></a><span class=\"linenos\">3305</span><span class=\"w\">    </span><span class=\"n\">mcuBoardBatt</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3306\" name=\"l-3306\"></a><span class=\"linenos\">3306</span><span class=\"w\">    </span><span class=\"n\">mcuBoardReset</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3307\" name=\"l-3307\"></a><span class=\"linenos\">3307</span><span class=\"w\">    </span><span class=\"n\">calculatedVar</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3308\" name=\"l-3308\"></a><span class=\"linenos\">3308</span><span class=\"p\">};</span></div>\n<div class=\"line\"><a id=\"l-3309\" name=\"l-3309\"></a><span class=\"linenos\">3309</span><span class=\"c1\">// Count up the number of pointers in the array</span></div>\n<div class=\"line\"><a id=\"l-3310\" name=\"l-3310\"></a><span class=\"linenos\">3310</span><span class=\"kr\">int</span><span class=\"w\"> </span><span class=\"n\">variableCount</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"kr\">sizeof</span><span class=\"p\">(</span><span class=\"n\">variableList</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"w\"> </span><span class=\"kr\">sizeof</span><span class=\"p\">(</span><span class=\"n\">variableList</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">]);</span></div>\n<div class=\"line\"><a id=\"l-3311\" name=\"l-3311\"></a><span class=\"linenos\">3311</span><span class=\"c1\">// Create the VariableArray object</span></div>\n<div class=\"line\"><a id=\"l-3312\" name=\"l-3312\"></a><span class=\"linenos\">3312</span><span class=\"n\">VariableArray</span><span class=\"w\"> </span><span class=\"nf\">varArray</span><span class=\"p\">(</span><span class=\"n\">variableCount</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">variableList</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-3313\" name=\"l-3313\"></a><span class=\"linenos\">3313</span><span class=\"cm\">/** End [variables_pre_named] */</span></div>\n<div class=\"line\"><a id=\"l-3314\" name=\"l-3314\"></a><span class=\"linenos\">3314</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-3315\" name=\"l-3315\"></a><span class=\"linenos\">3315</span></div>\n<div class=\"line\"><a id=\"l-3316\" name=\"l-3316\"></a><span class=\"linenos\">3316</span></div>\n<div class=\"line\"><a id=\"l-3317\" name=\"l-3317\"></a><span class=\"linenos\">3317</span><span class=\"cp\">#if defined(BUILD_PUB_ENVIRO_DIY_PUBLISHER) &amp;&amp; \\</span></div>\n<div class=\"line\"><a id=\"l-3318\" name=\"l-3318\"></a><span class=\"linenos\">3318</span><span class=\"cp\">    (!defined(BUILD_MODEM_NO_MODEM) &amp;&amp; defined(BUILD_HAS_MODEM))</span></div>\n<div class=\"line\"><a id=\"l-3319\" name=\"l-3319\"></a><span class=\"linenos\">3319</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-3320\" name=\"l-3320\"></a><span class=\"linenos\">3320</span><span class=\"c1\">//  A Publisher to Monitor My Watershed / EnviroDIY Data Sharing Portal</span></div>\n<div class=\"line\"><a id=\"l-3321\" name=\"l-3321\"></a><span class=\"linenos\">3321</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-3322\" name=\"l-3322\"></a><span class=\"linenos\">3322</span><span class=\"cm\">/** Start [enviro_diy_publisher] */</span></div>\n<div class=\"line\"><a id=\"l-3323\" name=\"l-3323\"></a><span class=\"linenos\">3323</span><span class=\"c1\">// Device registration and sampling feature information can be obtained after</span></div>\n<div class=\"line\"><a id=\"l-3324\" name=\"l-3324\"></a><span class=\"linenos\">3324</span><span class=\"c1\">// registration at https://monitormywatershed.org or https://data.envirodiy.org</span></div>\n<div class=\"line\"><a id=\"l-3325\" name=\"l-3325\"></a><span class=\"linenos\">3325</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">registrationToken</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-3326\" name=\"l-3326\"></a><span class=\"linenos\">3326</span><span class=\"w\">    </span><span class=\"s\">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// Device registration token</span></div>\n<div class=\"line\"><a id=\"l-3327\" name=\"l-3327\"></a><span class=\"linenos\">3327</span><span class=\"c1\">// NOTE: Because we already set the sampling feature with the logger</span></div>\n<div class=\"line\"><a id=\"l-3328\" name=\"l-3328\"></a><span class=\"linenos\">3328</span><span class=\"c1\">// constructor, don&#39;t do it here.</span></div>\n<div class=\"line\"><a id=\"l-3329\" name=\"l-3329\"></a><span class=\"linenos\">3329</span><span class=\"c1\">// const char* samplingFeature = &quot;12345678-abcd-1234-ef00-1234567890ab&quot;;  //</span></div>\n<div class=\"line\"><a id=\"l-3330\" name=\"l-3330\"></a><span class=\"linenos\">3330</span><span class=\"c1\">// Sampling feature UUID</span></div>\n<div class=\"line\"><a id=\"l-3331\" name=\"l-3331\"></a><span class=\"linenos\">3331</span></div>\n<div class=\"line\"><a id=\"l-3332\" name=\"l-3332\"></a><span class=\"linenos\">3332</span><span class=\"c1\">// Create a data publisher for the Monitor My Watershed/EnviroDIY POST endpoint</span></div>\n<div class=\"line\"><a id=\"l-3333\" name=\"l-3333\"></a><span class=\"linenos\">3333</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;publishers/EnviroDIYPublisher.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-3334\" name=\"l-3334\"></a><span class=\"linenos\">3334</span><span class=\"n\">EnviroDIYPublisher</span><span class=\"w\"> </span><span class=\"nf\">EnviroDIYPost</span><span class=\"p\">(</span><span class=\"n\">dataLogger</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">registrationToken</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-3335\" name=\"l-3335\"></a><span class=\"linenos\">3335</span><span class=\"cm\">/** End [enviro_diy_publisher] */</span></div>\n<div class=\"line\"><a id=\"l-3336\" name=\"l-3336\"></a><span class=\"linenos\">3336</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-3337\" name=\"l-3337\"></a><span class=\"linenos\">3337</span></div>\n<div class=\"line\"><a id=\"l-3338\" name=\"l-3338\"></a><span class=\"linenos\">3338</span></div>\n<div class=\"line\"><a id=\"l-3339\" name=\"l-3339\"></a><span class=\"linenos\">3339</span><span class=\"cp\">#if defined(BUILD_PUB_DREAM_HOST_PUBLISHER) &amp;&amp; \\</span></div>\n<div class=\"line\"><a id=\"l-3340\" name=\"l-3340\"></a><span class=\"linenos\">3340</span><span class=\"cp\">    (!defined(BUILD_MODEM_NO_MODEM) &amp;&amp; defined(BUILD_HAS_MODEM))</span></div>\n<div class=\"line\"><a id=\"l-3341\" name=\"l-3341\"></a><span class=\"linenos\">3341</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-3342\" name=\"l-3342\"></a><span class=\"linenos\">3342</span><span class=\"c1\">//  A Publisher to DreamHost</span></div>\n<div class=\"line\"><a id=\"l-3343\" name=\"l-3343\"></a><span class=\"linenos\">3343</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-3344\" name=\"l-3344\"></a><span class=\"linenos\">3344</span><span class=\"cm\">/** Start [dream_host_publisher] */</span></div>\n<div class=\"line\"><a id=\"l-3345\" name=\"l-3345\"></a><span class=\"linenos\">3345</span><span class=\"c1\">// NOTE:  This is an outdated data collection tool used by the Stroud Center.</span></div>\n<div class=\"line\"><a id=\"l-3346\" name=\"l-3346\"></a><span class=\"linenos\">3346</span><span class=\"c1\">// It very, very unlikely that you will use this.</span></div>\n<div class=\"line\"><a id=\"l-3347\" name=\"l-3347\"></a><span class=\"linenos\">3347</span></div>\n<div class=\"line\"><a id=\"l-3348\" name=\"l-3348\"></a><span class=\"linenos\">3348</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">DreamHostPortalRX</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s\">&quot;xxxx&quot;</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-3349\" name=\"l-3349\"></a><span class=\"linenos\">3349</span></div>\n<div class=\"line\"><a id=\"l-3350\" name=\"l-3350\"></a><span class=\"linenos\">3350</span><span class=\"c1\">// Create a data publisher to DreamHost</span></div>\n<div class=\"line\"><a id=\"l-3351\" name=\"l-3351\"></a><span class=\"linenos\">3351</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;publishers/DreamHostPublisher.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-3352\" name=\"l-3352\"></a><span class=\"linenos\">3352</span><span class=\"n\">DreamHostPublisher</span><span class=\"w\"> </span><span class=\"nf\">DreamHostGET</span><span class=\"p\">(</span><span class=\"n\">dataLogger</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">DreamHostPortalRX</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-3353\" name=\"l-3353\"></a><span class=\"linenos\">3353</span><span class=\"cm\">/** End [dream_host_publisher] */</span></div>\n<div class=\"line\"><a id=\"l-3354\" name=\"l-3354\"></a><span class=\"linenos\">3354</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-3355\" name=\"l-3355\"></a><span class=\"linenos\">3355</span></div>\n<div class=\"line\"><a id=\"l-3356\" name=\"l-3356\"></a><span class=\"linenos\">3356</span></div>\n<div class=\"line\"><a id=\"l-3357\" name=\"l-3357\"></a><span class=\"linenos\">3357</span><span class=\"cp\">#if defined(BUILD_PUB_THING_SPEAK_PUBLISHER) &amp;&amp; \\</span></div>\n<div class=\"line\"><a id=\"l-3358\" name=\"l-3358\"></a><span class=\"linenos\">3358</span><span class=\"cp\">    (!defined(BUILD_MODEM_NO_MODEM) &amp;&amp; defined(BUILD_HAS_MODEM))</span></div>\n<div class=\"line\"><a id=\"l-3359\" name=\"l-3359\"></a><span class=\"linenos\">3359</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-3360\" name=\"l-3360\"></a><span class=\"linenos\">3360</span><span class=\"c1\">//  ThingSpeak Data Publisher</span></div>\n<div class=\"line\"><a id=\"l-3361\" name=\"l-3361\"></a><span class=\"linenos\">3361</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-3362\" name=\"l-3362\"></a><span class=\"linenos\">3362</span><span class=\"cm\">/** Start [thing_speak_publisher] */</span></div>\n<div class=\"line\"><a id=\"l-3363\" name=\"l-3363\"></a><span class=\"linenos\">3363</span><span class=\"c1\">// Create a channel with fields on ThingSpeak in advance.</span></div>\n<div class=\"line\"><a id=\"l-3364\" name=\"l-3364\"></a><span class=\"linenos\">3364</span><span class=\"c1\">// The fields will be sent in exactly the order they are in the variable array.</span></div>\n<div class=\"line\"><a id=\"l-3365\" name=\"l-3365\"></a><span class=\"linenos\">3365</span><span class=\"c1\">// Any custom name or identifier given to the field on ThingSpeak is irrelevant.</span></div>\n<div class=\"line\"><a id=\"l-3366\" name=\"l-3366\"></a><span class=\"linenos\">3366</span><span class=\"c1\">// No more than 8 fields of data can go to any one channel.  Any fields beyond</span></div>\n<div class=\"line\"><a id=\"l-3367\" name=\"l-3367\"></a><span class=\"linenos\">3367</span><span class=\"c1\">// the eighth in the array will be ignored.</span></div>\n<div class=\"line\"><a id=\"l-3368\" name=\"l-3368\"></a><span class=\"linenos\">3368</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">thingSpeakClientName</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-3369\" name=\"l-3369\"></a><span class=\"linenos\">3369</span><span class=\"w\">    </span><span class=\"s\">&quot;XXXXXXXXXXXXXXXX&quot;</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// The client name for your MQTT device</span></div>\n<div class=\"line\"><a id=\"l-3370\" name=\"l-3370\"></a><span class=\"linenos\">3370</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">thingSpeakMQTTUser</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-3371\" name=\"l-3371\"></a><span class=\"linenos\">3371</span><span class=\"w\">    </span><span class=\"s\">&quot;XXXXXXXXXXXXXXXX&quot;</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// The user name for your MQTT device.</span></div>\n<div class=\"line\"><a id=\"l-3372\" name=\"l-3372\"></a><span class=\"linenos\">3372</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">thingSpeakMQTTPassword</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-3373\" name=\"l-3373\"></a><span class=\"linenos\">3373</span><span class=\"w\">    </span><span class=\"s\">&quot;XXXXXXXXXXXXXXXX&quot;</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// The password for your MQTT device</span></div>\n<div class=\"line\"><a id=\"l-3374\" name=\"l-3374\"></a><span class=\"linenos\">3374</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">thingSpeakChannelID</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-3375\" name=\"l-3375\"></a><span class=\"linenos\">3375</span><span class=\"w\">    </span><span class=\"s\">&quot;######&quot;</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// The numeric channel id for your channel</span></div>\n<div class=\"line\"><a id=\"l-3376\" name=\"l-3376\"></a><span class=\"linenos\">3376</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">thingSpeakAPIKey</span><span class=\"w\"> </span><span class=\"o\">=</span></div>\n<div class=\"line\"><a id=\"l-3377\" name=\"l-3377\"></a><span class=\"linenos\">3377</span><span class=\"w\">    </span><span class=\"s\">&quot;XXXXXXXXXXXXXXXX&quot;</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// The ThingSpeak user REST API key</span></div>\n<div class=\"line\"><a id=\"l-3378\" name=\"l-3378\"></a><span class=\"linenos\">3378</span></div>\n<div class=\"line\"><a id=\"l-3379\" name=\"l-3379\"></a><span class=\"linenos\">3379</span><span class=\"c1\">// Create a data publisher for ThingSpeak</span></div>\n<div class=\"line\"><a id=\"l-3380\" name=\"l-3380\"></a><span class=\"linenos\">3380</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;publishers/ThingSpeakPublisher.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-3381\" name=\"l-3381\"></a><span class=\"linenos\">3381</span><span class=\"n\">ThingSpeakPublisher</span><span class=\"w\"> </span><span class=\"nf\">TsMqtt</span><span class=\"p\">(</span><span class=\"n\">dataLogger</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">thingSpeakClientName</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">thingSpeakMQTTUser</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3382\" name=\"l-3382\"></a><span class=\"linenos\">3382</span><span class=\"w\">                           </span><span class=\"n\">thingSpeakMQTTPassword</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">thingSpeakChannelID</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-3383\" name=\"l-3383\"></a><span class=\"linenos\">3383</span><span class=\"cm\">/** End [thing_speak_publisher] */</span></div>\n<div class=\"line\"><a id=\"l-3384\" name=\"l-3384\"></a><span class=\"linenos\">3384</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-3385\" name=\"l-3385\"></a><span class=\"linenos\">3385</span></div>\n<div class=\"line\"><a id=\"l-3386\" name=\"l-3386\"></a><span class=\"linenos\">3386</span></div>\n<div class=\"line\"><a id=\"l-3387\" name=\"l-3387\"></a><span class=\"linenos\">3387</span><span class=\"cp\">#if defined(BUILD_PUB_UBIDOTS_PUBLISHER) &amp;&amp; \\</span></div>\n<div class=\"line\"><a id=\"l-3388\" name=\"l-3388\"></a><span class=\"linenos\">3388</span><span class=\"cp\">    (!defined(BUILD_MODEM_NO_MODEM) &amp;&amp; defined(BUILD_HAS_MODEM))</span></div>\n<div class=\"line\"><a id=\"l-3389\" name=\"l-3389\"></a><span class=\"linenos\">3389</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-3390\" name=\"l-3390\"></a><span class=\"linenos\">3390</span><span class=\"c1\">//  Ubidots Data Publisher</span></div>\n<div class=\"line\"><a id=\"l-3391\" name=\"l-3391\"></a><span class=\"linenos\">3391</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-3392\" name=\"l-3392\"></a><span class=\"linenos\">3392</span><span class=\"cm\">/** Start [ubidots_publisher] */</span></div>\n<div class=\"line\"><a id=\"l-3393\" name=\"l-3393\"></a><span class=\"linenos\">3393</span><span class=\"c1\">// The authentication token from Ubidots, either the Organization&#39;s Integration</span></div>\n<div class=\"line\"><a id=\"l-3394\" name=\"l-3394\"></a><span class=\"linenos\">3394</span><span class=\"c1\">// Token (under Users &gt; Organization menu,visible by Admin only) OR the STEM</span></div>\n<div class=\"line\"><a id=\"l-3395\" name=\"l-3395\"></a><span class=\"linenos\">3395</span><span class=\"c1\">// User&#39;s Device Token (under the specific device&#39;s setup panel).</span></div>\n<div class=\"line\"><a id=\"l-3396\" name=\"l-3396\"></a><span class=\"linenos\">3396</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">ubidotsToken</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s\">&quot;XXXXXXXXXXXXXXXX&quot;</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-3397\" name=\"l-3397\"></a><span class=\"linenos\">3397</span><span class=\"c1\">// The device API Label from Ubidots, derived from the user-specified device</span></div>\n<div class=\"line\"><a id=\"l-3398\" name=\"l-3398\"></a><span class=\"linenos\">3398</span><span class=\"c1\">// name.</span></div>\n<div class=\"line\"><a id=\"l-3399\" name=\"l-3399\"></a><span class=\"linenos\">3399</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">ubidotsDeviceID</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s\">&quot;######&quot;</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-3400\" name=\"l-3400\"></a><span class=\"linenos\">3400</span></div>\n<div class=\"line\"><a id=\"l-3401\" name=\"l-3401\"></a><span class=\"linenos\">3401</span><span class=\"c1\">// Create a data publisher for Ubidots</span></div>\n<div class=\"line\"><a id=\"l-3402\" name=\"l-3402\"></a><span class=\"linenos\">3402</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;publishers/UbidotsPublisher.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-3403\" name=\"l-3403\"></a><span class=\"linenos\">3403</span><span class=\"n\">UbidotsPublisher</span><span class=\"w\"> </span><span class=\"nf\">ubidots</span><span class=\"p\">(</span><span class=\"n\">dataLogger</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">ubidotsToken</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">ubidotsDeviceID</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-3404\" name=\"l-3404\"></a><span class=\"linenos\">3404</span><span class=\"cm\">/** End [ubidots_publisher] */</span></div>\n<div class=\"line\"><a id=\"l-3405\" name=\"l-3405\"></a><span class=\"linenos\">3405</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-3406\" name=\"l-3406\"></a><span class=\"linenos\">3406</span></div>\n<div class=\"line\"><a id=\"l-3407\" name=\"l-3407\"></a><span class=\"linenos\">3407</span></div>\n<div class=\"line\"><a id=\"l-3408\" name=\"l-3408\"></a><span class=\"linenos\">3408</span><span class=\"cp\">#if defined(BUILD_PUB_S3_PRESIGNED_PUBLISHER) &amp;&amp; \\</span></div>\n<div class=\"line\"><a id=\"l-3409\" name=\"l-3409\"></a><span class=\"linenos\">3409</span><span class=\"cp\">    (!defined(BUILD_MODEM_NO_MODEM) &amp;&amp; defined(BUILD_HAS_MODEM))</span></div>\n<div class=\"line\"><a id=\"l-3410\" name=\"l-3410\"></a><span class=\"linenos\">3410</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-3411\" name=\"l-3411\"></a><span class=\"linenos\">3411</span><span class=\"c1\">//  AWS S3 Pre-signed URL Publisher</span></div>\n<div class=\"line\"><a id=\"l-3412\" name=\"l-3412\"></a><span class=\"linenos\">3412</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-3413\" name=\"l-3413\"></a><span class=\"linenos\">3413</span><span class=\"cm\">/** Start [s3_presigned_publisher] */</span></div>\n<div class=\"line\"><a id=\"l-3414\" name=\"l-3414\"></a><span class=\"linenos\">3414</span><span class=\"cp\">#ifdef BUILD_MODEM_ESPRESSIF_ESP32</span></div>\n<div class=\"line\"><a id=\"l-3415\" name=\"l-3415\"></a><span class=\"linenos\">3415</span><span class=\"c1\">// For Espressif modules, only two certificate sets are supported and the</span></div>\n<div class=\"line\"><a id=\"l-3416\" name=\"l-3416\"></a><span class=\"linenos\">3416</span><span class=\"c1\">// certificates must be named &quot;client_ca.{0|1}&quot;, &quot;client_cert.{0|1}&quot;, or</span></div>\n<div class=\"line\"><a id=\"l-3417\" name=\"l-3417\"></a><span class=\"linenos\">3417</span><span class=\"c1\">// &quot;client_key.{0|1}&quot;</span></div>\n<div class=\"line\"><a id=\"l-3418\" name=\"l-3418\"></a><span class=\"linenos\">3418</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">caCertName</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s\">&quot;client_ca.0&quot;</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-3419\" name=\"l-3419\"></a><span class=\"linenos\">3419</span><span class=\"cp\">#else</span></div>\n<div class=\"line\"><a id=\"l-3420\" name=\"l-3420\"></a><span class=\"linenos\">3420</span><span class=\"c1\">// The name of your certificate authority certificate file</span></div>\n<div class=\"line\"><a id=\"l-3421\" name=\"l-3421\"></a><span class=\"linenos\">3421</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">caCertName</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s\">&quot;AmazonRootCA1.pem&quot;</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-3422\" name=\"l-3422\"></a><span class=\"linenos\">3422</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-3423\" name=\"l-3423\"></a><span class=\"linenos\">3423</span></div>\n<div class=\"line\"><a id=\"l-3424\" name=\"l-3424\"></a><span class=\"linenos\">3424</span><span class=\"c1\">// The S3 host (need for region specific requests)</span></div>\n<div class=\"line\"><a id=\"l-3425\" name=\"l-3425\"></a><span class=\"linenos\">3425</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">s3Host</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s\">&quot;s3.YOUR-REGION.amazonaws.com&quot;</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-3426\" name=\"l-3426\"></a><span class=\"linenos\">3426</span><span class=\"c1\">// Expand the expected S3 publish topic into a buffer</span></div>\n<div class=\"line\"><a id=\"l-3427\" name=\"l-3427\"></a><span class=\"linenos\">3427</span><span class=\"kr\">String</span><span class=\"w\"> </span><span class=\"n\">s3URLPubTopic</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s\">&quot;$aws/rules/GetUploadURL/&quot;</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"kr\">String</span><span class=\"p\">(</span><span class=\"n\">LoggerID</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-3428\" name=\"l-3428\"></a><span class=\"linenos\">3428</span><span class=\"c1\">// Expand the expected S3 subscribe topic into a buffer</span></div>\n<div class=\"line\"><a id=\"l-3429\" name=\"l-3429\"></a><span class=\"linenos\">3429</span><span class=\"kr\">String</span><span class=\"w\"> </span><span class=\"n\">s3URLSubTopic</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"kr\">String</span><span class=\"p\">(</span><span class=\"n\">LoggerID</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"s\">&quot;/upload_url&quot;</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-3430\" name=\"l-3430\"></a><span class=\"linenos\">3430</span><span class=\"c1\">// A function for the IoT core publisher to call to get the message content for</span></div>\n<div class=\"line\"><a id=\"l-3431\" name=\"l-3431\"></a><span class=\"linenos\">3431</span><span class=\"c1\">// a new URL request</span></div>\n<div class=\"line\"><a id=\"l-3432\" name=\"l-3432\"></a><span class=\"linenos\">3432</span><span class=\"cp\">#if defined(BUILD_SENSOR_GEOLUX_HYDRO_CAM)</span></div>\n<div class=\"line\"><a id=\"l-3433\" name=\"l-3433\"></a><span class=\"linenos\">3433</span><span class=\"kr\">String</span><span class=\"w\"> </span><span class=\"nf\">s3URLMsgGetter</span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"p\">{</span></div>\n<div class=\"line\"><a id=\"l-3434\" name=\"l-3434\"></a><span class=\"linenos\">3434</span><span class=\"w\">    </span><span class=\"k\">return</span><span class=\"w\"> </span><span class=\"kr\">String</span><span class=\"p\">(</span><span class=\"s\">&quot;{</span><span class=\"se\">\\&quot;</span><span class=\"s\">file</span><span class=\"se\">\\&quot;</span><span class=\"s\">: </span><span class=\"se\">\\&quot;</span><span class=\"s\">&quot;</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"n\">hydrocam</span><span class=\"p\">.</span><span class=\"n\">getLastSavedImageName</span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"o\">+</span></div>\n<div class=\"line\"><a id=\"l-3435\" name=\"l-3435\"></a><span class=\"linenos\">3435</span><span class=\"w\">        </span><span class=\"kr\">String</span><span class=\"p\">(</span><span class=\"s\">&quot;</span><span class=\"se\">\\&quot;</span><span class=\"s\">}&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-3436\" name=\"l-3436\"></a><span class=\"linenos\">3436</span><span class=\"p\">}</span></div>\n<div class=\"line\"><a id=\"l-3437\" name=\"l-3437\"></a><span class=\"linenos\">3437</span><span class=\"cp\">#else</span></div>\n<div class=\"line\"><a id=\"l-3438\" name=\"l-3438\"></a><span class=\"linenos\">3438</span><span class=\"kr\">String</span><span class=\"w\"> </span><span class=\"nf\">s3URLMsgGetter</span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"p\">{</span></div>\n<div class=\"line\"><a id=\"l-3439\" name=\"l-3439\"></a><span class=\"linenos\">3439</span><span class=\"w\">    </span><span class=\"k\">return</span><span class=\"w\"> </span><span class=\"kr\">String</span><span class=\"p\">(</span><span class=\"s\">&quot;{</span><span class=\"se\">\\&quot;</span><span class=\"s\">file</span><span class=\"se\">\\&quot;</span><span class=\"s\">: </span><span class=\"se\">\\&quot;</span><span class=\"s\">image.jpg</span><span class=\"se\">\\&quot;</span><span class=\"s\">}&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-3440\" name=\"l-3440\"></a><span class=\"linenos\">3440</span><span class=\"p\">}</span></div>\n<div class=\"line\"><a id=\"l-3441\" name=\"l-3441\"></a><span class=\"linenos\">3441</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-3442\" name=\"l-3442\"></a><span class=\"linenos\">3442</span></div>\n<div class=\"line\"><a id=\"l-3443\" name=\"l-3443\"></a><span class=\"linenos\">3443</span><span class=\"c1\">// Create a data publisher for AWS IoT Core</span></div>\n<div class=\"line\"><a id=\"l-3444\" name=\"l-3444\"></a><span class=\"linenos\">3444</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;publishers/S3PresignedPublisher.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-3445\" name=\"l-3445\"></a><span class=\"linenos\">3445</span><span class=\"n\">S3PresignedPublisher</span><span class=\"w\"> </span><span class=\"n\">s3pub</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-3446\" name=\"l-3446\"></a><span class=\"linenos\">3446</span><span class=\"cm\">/** End [s3_presigned_publisher] */</span></div>\n<div class=\"line\"><a id=\"l-3447\" name=\"l-3447\"></a><span class=\"linenos\">3447</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-3448\" name=\"l-3448\"></a><span class=\"linenos\">3448</span></div>\n<div class=\"line\"><a id=\"l-3449\" name=\"l-3449\"></a><span class=\"linenos\">3449</span></div>\n<div class=\"line\"><a id=\"l-3450\" name=\"l-3450\"></a><span class=\"linenos\">3450</span><span class=\"cp\">#if defined(BUILD_PUB_AWS_IO_T_PUBLISHER) &amp;&amp; \\</span></div>\n<div class=\"line\"><a id=\"l-3451\" name=\"l-3451\"></a><span class=\"linenos\">3451</span><span class=\"cp\">    (!defined(BUILD_MODEM_NO_MODEM) &amp;&amp; defined(BUILD_HAS_MODEM))</span></div>\n<div class=\"line\"><a id=\"l-3452\" name=\"l-3452\"></a><span class=\"linenos\">3452</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-3453\" name=\"l-3453\"></a><span class=\"linenos\">3453</span><span class=\"c1\">//  AWS IoT Core MQTT Publisher</span></div>\n<div class=\"line\"><a id=\"l-3454\" name=\"l-3454\"></a><span class=\"linenos\">3454</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-3455\" name=\"l-3455\"></a><span class=\"linenos\">3455</span><span class=\"cm\">/** Start [aws_io_t_publisher] */</span></div>\n<div class=\"line\"><a id=\"l-3456\" name=\"l-3456\"></a><span class=\"linenos\">3456</span><span class=\"c1\">// The endpoint for your AWS IoT instance</span></div>\n<div class=\"line\"><a id=\"l-3457\" name=\"l-3457\"></a><span class=\"linenos\">3457</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">awsIoTEndpoint</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s\">&quot;xxx-ats.iot.xxx.amazonaws.com&quot;</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-3458\" name=\"l-3458\"></a><span class=\"linenos\">3458</span><span class=\"c1\">// Sampling feature UUID, this will be the sub-topic for your data</span></div>\n<div class=\"line\"><a id=\"l-3459\" name=\"l-3459\"></a><span class=\"linenos\">3459</span><span class=\"c1\">// NOTE: Because we already set the sampling feature with the logger</span></div>\n<div class=\"line\"><a id=\"l-3460\" name=\"l-3460\"></a><span class=\"linenos\">3460</span><span class=\"c1\">// constructor, don&#39;t do it here.</span></div>\n<div class=\"line\"><a id=\"l-3461\" name=\"l-3461\"></a><span class=\"linenos\">3461</span><span class=\"c1\">// const char* samplingFeature = &quot;12345678-abcd-1234-ef00-1234567890ab&quot;;</span></div>\n<div class=\"line\"><a id=\"l-3462\" name=\"l-3462\"></a><span class=\"linenos\">3462</span><span class=\"cp\">#ifdef BUILD_MODEM_ESPRESSIF_ESP32</span></div>\n<div class=\"line\"><a id=\"l-3463\" name=\"l-3463\"></a><span class=\"linenos\">3463</span><span class=\"c1\">// For Espressif modules, only two certificate sets are supported and the</span></div>\n<div class=\"line\"><a id=\"l-3464\" name=\"l-3464\"></a><span class=\"linenos\">3464</span><span class=\"c1\">// certificates must be named &quot;client_ca.{0|1}&quot;, &quot;client_cert.{0|1}&quot;, or</span></div>\n<div class=\"line\"><a id=\"l-3465\" name=\"l-3465\"></a><span class=\"linenos\">3465</span><span class=\"c1\">// &quot;client_key.{0|1}&quot;</span></div>\n<div class=\"line\"><a id=\"l-3466\" name=\"l-3466\"></a><span class=\"linenos\">3466</span><span class=\"cp\">#if !defined(BUILD_PUB_S3_PRESIGNED_PUBLISHER)</span></div>\n<div class=\"line\"><a id=\"l-3467\" name=\"l-3467\"></a><span class=\"linenos\">3467</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">caCertName</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s\">&quot;client_ca.0&quot;</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-3468\" name=\"l-3468\"></a><span class=\"linenos\">3468</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-3469\" name=\"l-3469\"></a><span class=\"linenos\">3469</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">clientCertName</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s\">&quot;client_cert.0&quot;</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-3470\" name=\"l-3470\"></a><span class=\"linenos\">3470</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">clientKeyName</span><span class=\"w\">  </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s\">&quot;client_key.0&quot;</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-3471\" name=\"l-3471\"></a><span class=\"linenos\">3471</span><span class=\"cp\">#else</span></div>\n<div class=\"line\"><a id=\"l-3472\" name=\"l-3472\"></a><span class=\"linenos\">3472</span><span class=\"cp\">#if !defined(BUILD_PUB_S3_PRESIGNED_PUBLISHER)</span></div>\n<div class=\"line\"><a id=\"l-3473\" name=\"l-3473\"></a><span class=\"linenos\">3473</span><span class=\"c1\">// The name of your certificate authority certificate file</span></div>\n<div class=\"line\"><a id=\"l-3474\" name=\"l-3474\"></a><span class=\"linenos\">3474</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">caCertName</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s\">&quot;AmazonRootCA1.pem&quot;</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-3475\" name=\"l-3475\"></a><span class=\"linenos\">3475</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-3476\" name=\"l-3476\"></a><span class=\"linenos\">3476</span><span class=\"c1\">// The name of your client certificate file</span></div>\n<div class=\"line\"><a id=\"l-3477\" name=\"l-3477\"></a><span class=\"linenos\">3477</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">clientCertName</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s\">&quot;thing-certificate.pem.crt&quot;</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-3478\" name=\"l-3478\"></a><span class=\"linenos\">3478</span><span class=\"c1\">// The name of your client private key file</span></div>\n<div class=\"line\"><a id=\"l-3479\" name=\"l-3479\"></a><span class=\"linenos\">3479</span><span class=\"kr\">const</span><span class=\"w\"> </span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">clientKeyName</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s\">&quot;thing-private.pem.key&quot;</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-3480\" name=\"l-3480\"></a><span class=\"linenos\">3480</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-3481\" name=\"l-3481\"></a><span class=\"linenos\">3481</span></div>\n<div class=\"line\"><a id=\"l-3482\" name=\"l-3482\"></a><span class=\"linenos\">3482</span><span class=\"c1\">// Create a data publisher for AWS IoT Core</span></div>\n<div class=\"line\"><a id=\"l-3483\" name=\"l-3483\"></a><span class=\"linenos\">3483</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;publishers/AWS_IoT_Publisher.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-3484\" name=\"l-3484\"></a><span class=\"linenos\">3484</span><span class=\"n\">AWS_IoT_Publisher</span><span class=\"w\"> </span><span class=\"nf\">awsIoTPub</span><span class=\"p\">(</span><span class=\"n\">dataLogger</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">awsIoTEndpoint</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">caCertName</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3485\" name=\"l-3485\"></a><span class=\"linenos\">3485</span><span class=\"w\">                            </span><span class=\"n\">clientCertName</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">clientKeyName</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-3486\" name=\"l-3486\"></a><span class=\"linenos\">3486</span></div>\n<div class=\"line\"><a id=\"l-3487\" name=\"l-3487\"></a><span class=\"linenos\">3487</span><span class=\"cp\">#if defined(BUILD_PUB_S3_PRESIGNED_PUBLISHER)</span></div>\n<div class=\"line\"><a id=\"l-3488\" name=\"l-3488\"></a><span class=\"linenos\">3488</span><span class=\"c1\">// Callback function</span></div>\n<div class=\"line\"><a id=\"l-3489\" name=\"l-3489\"></a><span class=\"linenos\">3489</span><span class=\"kr\">void</span><span class=\"w\"> </span><span class=\"nf\">IoTCallback</span><span class=\"p\">(</span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">topic</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"kr\">byte</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">payload</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"kr\">unsigned</span><span class=\"w\"> </span><span class=\"kr\">int</span><span class=\"w\"> </span><span class=\"n\">length</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">{</span></div>\n<div class=\"line\"><a id=\"l-3490\" name=\"l-3490\"></a><span class=\"linenos\">3490</span><span class=\"w\">    </span><span class=\"n\">PRINTOUT</span><span class=\"p\">(</span><span class=\"n\">F</span><span class=\"p\">(</span><span class=\"s\">&quot;Got message of length&quot;</span><span class=\"p\">),</span><span class=\"w\"> </span><span class=\"n\">length</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">F</span><span class=\"p\">(</span><span class=\"s\">&quot;on topic&quot;</span><span class=\"p\">),</span><span class=\"w\"> </span><span class=\"n\">topic</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-3491\" name=\"l-3491\"></a><span class=\"linenos\">3491</span><span class=\"w\">    </span><span class=\"c1\">// the topic is a char and guaranteed to be null-terminated, so we can</span></div>\n<div class=\"line\"><a id=\"l-3492\" name=\"l-3492\"></a><span class=\"linenos\">3492</span><span class=\"w\">    </span><span class=\"c1\">// directly convert to a String</span></div>\n<div class=\"line\"><a id=\"l-3493\" name=\"l-3493\"></a><span class=\"linenos\">3493</span><span class=\"w\">    </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"kr\">String</span><span class=\"p\">(</span><span class=\"n\">topic</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"o\">==</span><span class=\"w\"> </span><span class=\"n\">s3URLSubTopic</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">{</span></div>\n<div class=\"line\"><a id=\"l-3494\" name=\"l-3494\"></a><span class=\"linenos\">3494</span><span class=\"w\">        </span><span class=\"n\">PRINTOUT</span><span class=\"p\">(</span><span class=\"n\">F</span><span class=\"p\">(</span><span class=\"s\">&quot;Received data on pre-signed URL topic from AWS IoT Core&quot;</span><span class=\"p\">));</span></div>\n<div class=\"line\"><a id=\"l-3495\" name=\"l-3495\"></a><span class=\"linenos\">3495</span><span class=\"w\">        </span><span class=\"c1\">// Allocate the correct amount of memory for the payload copy</span></div>\n<div class=\"line\"><a id=\"l-3496\" name=\"l-3496\"></a><span class=\"linenos\">3496</span><span class=\"w\">        </span><span class=\"c1\">// We CANNOT directly convert it to a string because it&#39;s not guaranteed</span></div>\n<div class=\"line\"><a id=\"l-3497\" name=\"l-3497\"></a><span class=\"linenos\">3497</span><span class=\"w\">        </span><span class=\"c1\">// to be null-terminated</span></div>\n<div class=\"line\"><a id=\"l-3498\" name=\"l-3498\"></a><span class=\"linenos\">3498</span><span class=\"w\">        </span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">rx_url</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"kr\">char</span><span class=\"o\">*</span><span class=\"p\">)</span><span class=\"n\">malloc</span><span class=\"p\">(</span><span class=\"n\">length</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-3499\" name=\"l-3499\"></a><span class=\"linenos\">3499</span><span class=\"w\">        </span><span class=\"c1\">// Copy the payload to the new buffer</span></div>\n<div class=\"line\"><a id=\"l-3500\" name=\"l-3500\"></a><span class=\"linenos\">3500</span><span class=\"w\">        </span><span class=\"n\">memcpy</span><span class=\"p\">(</span><span class=\"n\">rx_url</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">payload</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">length</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-3501\" name=\"l-3501\"></a><span class=\"linenos\">3501</span><span class=\"w\">        </span><span class=\"c1\">// Null terminate the string</span></div>\n<div class=\"line\"><a id=\"l-3502\" name=\"l-3502\"></a><span class=\"linenos\">3502</span><span class=\"w\">        </span><span class=\"n\">memset</span><span class=\"p\">(</span><span class=\"n\">rx_url</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"n\">length</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"sc\">&#39;\\0&#39;</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-3503\" name=\"l-3503\"></a><span class=\"linenos\">3503</span><span class=\"w\">        </span><span class=\"n\">PRINTOUT</span><span class=\"p\">(</span><span class=\"n\">F</span><span class=\"p\">(</span><span class=\"s\">&quot;Setting S3 URL to:&quot;</span><span class=\"p\">),</span><span class=\"w\"> </span><span class=\"n\">rx_url</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-3504\" name=\"l-3504\"></a><span class=\"linenos\">3504</span><span class=\"w\">        </span><span class=\"n\">s3pub</span><span class=\"p\">.</span><span class=\"n\">setPreSignedURL</span><span class=\"p\">(</span><span class=\"kr\">String</span><span class=\"p\">(</span><span class=\"n\">rx_url</span><span class=\"p\">));</span></div>\n<div class=\"line\"><a id=\"l-3505\" name=\"l-3505\"></a><span class=\"linenos\">3505</span><span class=\"w\">        </span><span class=\"c1\">// Free the memory now that the URL has been copied into a new String</span></div>\n<div class=\"line\"><a id=\"l-3506\" name=\"l-3506\"></a><span class=\"linenos\">3506</span><span class=\"w\">        </span><span class=\"n\">free</span><span class=\"p\">(</span><span class=\"n\">rx_url</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-3507\" name=\"l-3507\"></a><span class=\"linenos\">3507</span><span class=\"w\">        </span><span class=\"c1\">// let the publisher know we got what we expected and it can stop</span></div>\n<div class=\"line\"><a id=\"l-3508\" name=\"l-3508\"></a><span class=\"linenos\">3508</span><span class=\"w\">        </span><span class=\"c1\">// waiting</span></div>\n<div class=\"line\"><a id=\"l-3509\" name=\"l-3509\"></a><span class=\"linenos\">3509</span><span class=\"w\">        </span><span class=\"n\">awsIoTPub</span><span class=\"p\">.</span><span class=\"n\">closeConnection</span><span class=\"p\">();</span></div>\n<div class=\"line\"><a id=\"l-3510\" name=\"l-3510\"></a><span class=\"linenos\">3510</span><span class=\"w\">    </span><span class=\"p\">}</span></div>\n<div class=\"line\"><a id=\"l-3511\" name=\"l-3511\"></a><span class=\"linenos\">3511</span><span class=\"p\">}</span></div>\n<div class=\"line\"><a id=\"l-3512\" name=\"l-3512\"></a><span class=\"linenos\">3512</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-3513\" name=\"l-3513\"></a><span class=\"linenos\">3513</span><span class=\"cm\">/** End [aws_io_t_publisher] */</span></div>\n<div class=\"line\"><a id=\"l-3514\" name=\"l-3514\"></a><span class=\"linenos\">3514</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-3515\" name=\"l-3515\"></a><span class=\"linenos\">3515</span></div>\n<div class=\"line\"><a id=\"l-3516\" name=\"l-3516\"></a><span class=\"linenos\">3516</span></div>\n<div class=\"line\"><a id=\"l-3517\" name=\"l-3517\"></a><span class=\"linenos\">3517</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-3518\" name=\"l-3518\"></a><span class=\"linenos\">3518</span><span class=\"c1\">//  Working Functions</span></div>\n<div class=\"line\"><a id=\"l-3519\" name=\"l-3519\"></a><span class=\"linenos\">3519</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-3520\" name=\"l-3520\"></a><span class=\"linenos\">3520</span><span class=\"cm\">/** Start [working_functions] */</span></div>\n<div class=\"line\"><a id=\"l-3521\" name=\"l-3521\"></a><span class=\"linenos\">3521</span></div>\n<div class=\"line\"><a id=\"l-3522\" name=\"l-3522\"></a><span class=\"linenos\">3522</span><span class=\"cp\">#if defined(PIN_NEOPIXEL)</span></div>\n<div class=\"line\"><a id=\"l-3523\" name=\"l-3523\"></a><span class=\"linenos\">3523</span><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;Adafruit_NeoPixel.h&gt;</span></div>\n<div class=\"line\"><a id=\"l-3524\" name=\"l-3524\"></a><span class=\"linenos\">3524</span><span class=\"c1\">// Declare our NeoPixel strip object:</span></div>\n<div class=\"line\"><a id=\"l-3525\" name=\"l-3525\"></a><span class=\"linenos\">3525</span><span class=\"n\">Adafruit_NeoPixel</span><span class=\"w\"> </span><span class=\"nf\">pixels</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">PIN_NEOPIXEL</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-3526\" name=\"l-3526\"></a><span class=\"linenos\">3526</span><span class=\"c1\">// Flashes the LED&#39;s on the primary board</span></div>\n<div class=\"line\"><a id=\"l-3527\" name=\"l-3527\"></a><span class=\"linenos\">3527</span><span class=\"kr\">void</span><span class=\"w\"> </span><span class=\"nf\">greenRedFlash</span><span class=\"p\">(</span><span class=\"kr\">uint8_t</span><span class=\"w\"> </span><span class=\"n\">numFlash</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">4</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"kr\">uint8_t</span><span class=\"w\"> </span><span class=\"n\">rate</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">75</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">{</span></div>\n<div class=\"line\"><a id=\"l-3528\" name=\"l-3528\"></a><span class=\"linenos\">3528</span><span class=\"cp\">#if defined(PIN_NEOPIXEL_POWER)</span></div>\n<div class=\"line\"><a id=\"l-3529\" name=\"l-3529\"></a><span class=\"linenos\">3529</span><span class=\"w\">    </span><span class=\"nf\">pinMode</span><span class=\"p\">(</span><span class=\"n\">PIN_NEOPIXEL_POWER</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"kr\">OUTPUT</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-3530\" name=\"l-3530\"></a><span class=\"linenos\">3530</span><span class=\"w\">    </span><span class=\"nf\">digitalWrite</span><span class=\"p\">(</span><span class=\"n\">PIN_NEOPIXEL_POWER</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"kr\">HIGH</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-3531\" name=\"l-3531\"></a><span class=\"linenos\">3531</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-3532\" name=\"l-3532\"></a><span class=\"linenos\">3532</span><span class=\"w\">    </span><span class=\"k\">for</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"kr\">uint8_t</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"p\">;</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"w\"> </span><span class=\"n\">numFlash</span><span class=\"p\">;</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"o\">++</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">{</span></div>\n<div class=\"line\"><a id=\"l-3533\" name=\"l-3533\"></a><span class=\"linenos\">3533</span><span class=\"w\">        </span><span class=\"n\">pixels</span><span class=\"p\">.</span><span class=\"n\">setPixelColor</span><span class=\"p\">(</span><span class=\"n\">i</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">pixels</span><span class=\"p\">.</span><span class=\"n\">Color</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mi\">255</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"p\">));</span><span class=\"w\">  </span><span class=\"c1\">// set to green</span></div>\n<div class=\"line\"><a id=\"l-3534\" name=\"l-3534\"></a><span class=\"linenos\">3534</span><span class=\"w\">        </span><span class=\"n\">pixels</span><span class=\"p\">.</span><span class=\"n\">show</span><span class=\"p\">();</span><span class=\"w\">  </span><span class=\"c1\">// Send the updated pixel colors to the hardware.</span></div>\n<div class=\"line\"><a id=\"l-3535\" name=\"l-3535\"></a><span class=\"linenos\">3535</span><span class=\"w\">        </span><span class=\"nf\">delay</span><span class=\"p\">(</span><span class=\"n\">rate</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-3536\" name=\"l-3536\"></a><span class=\"linenos\">3536</span><span class=\"w\">        </span><span class=\"n\">pixels</span><span class=\"p\">.</span><span class=\"n\">setPixelColor</span><span class=\"p\">(</span><span class=\"n\">i</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">pixels</span><span class=\"p\">.</span><span class=\"n\">Color</span><span class=\"p\">(</span><span class=\"mi\">255</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"p\">));</span><span class=\"w\">  </span><span class=\"c1\">// set to red</span></div>\n<div class=\"line\"><a id=\"l-3537\" name=\"l-3537\"></a><span class=\"linenos\">3537</span><span class=\"w\">        </span><span class=\"n\">pixels</span><span class=\"p\">.</span><span class=\"n\">show</span><span class=\"p\">();</span><span class=\"w\">  </span><span class=\"c1\">// Send the updated pixel colors to the hardware.</span></div>\n<div class=\"line\"><a id=\"l-3538\" name=\"l-3538\"></a><span class=\"linenos\">3538</span><span class=\"w\">        </span><span class=\"nf\">delay</span><span class=\"p\">(</span><span class=\"n\">rate</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-3539\" name=\"l-3539\"></a><span class=\"linenos\">3539</span><span class=\"w\">    </span><span class=\"p\">}</span></div>\n<div class=\"line\"><a id=\"l-3540\" name=\"l-3540\"></a><span class=\"linenos\">3540</span><span class=\"w\">    </span><span class=\"n\">pixels</span><span class=\"p\">.</span><span class=\"nf\">clear</span><span class=\"p\">();</span><span class=\"w\">  </span><span class=\"c1\">// Set all pixel colors to &#39;off&#39;</span></div>\n<div class=\"line\"><a id=\"l-3541\" name=\"l-3541\"></a><span class=\"linenos\">3541</span><span class=\"cp\">#if defined(PIN_NEOPIXEL_POWER)</span></div>\n<div class=\"line\"><a id=\"l-3542\" name=\"l-3542\"></a><span class=\"linenos\">3542</span><span class=\"w\">    </span><span class=\"nf\">digitalWrite</span><span class=\"p\">(</span><span class=\"n\">PIN_NEOPIXEL_POWER</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"kr\">LOW</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-3543\" name=\"l-3543\"></a><span class=\"linenos\">3543</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-3544\" name=\"l-3544\"></a><span class=\"linenos\">3544</span><span class=\"p\">}</span></div>\n<div class=\"line\"><a id=\"l-3545\" name=\"l-3545\"></a><span class=\"linenos\">3545</span><span class=\"cp\">#else</span></div>\n<div class=\"line\"><a id=\"l-3546\" name=\"l-3546\"></a><span class=\"linenos\">3546</span><span class=\"c1\">// Flashes the LED&#39;s on the primary board</span></div>\n<div class=\"line\"><a id=\"l-3547\" name=\"l-3547\"></a><span class=\"linenos\">3547</span><span class=\"kr\">void</span><span class=\"w\"> </span><span class=\"nf\">greenRedFlash</span><span class=\"p\">(</span><span class=\"kr\">uint8_t</span><span class=\"w\"> </span><span class=\"n\">numFlash</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">4</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"kr\">uint8_t</span><span class=\"w\"> </span><span class=\"n\">rate</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">75</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">{</span></div>\n<div class=\"line\"><a id=\"l-3548\" name=\"l-3548\"></a><span class=\"linenos\">3548</span><span class=\"w\">    </span><span class=\"c1\">// Set up pins for the LED&#39;s</span></div>\n<div class=\"line\"><a id=\"l-3549\" name=\"l-3549\"></a><span class=\"linenos\">3549</span><span class=\"w\">    </span><span class=\"nf\">pinMode</span><span class=\"p\">(</span><span class=\"n\">greenLED</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"kr\">OUTPUT</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-3550\" name=\"l-3550\"></a><span class=\"linenos\">3550</span><span class=\"w\">    </span><span class=\"nf\">digitalWrite</span><span class=\"p\">(</span><span class=\"n\">greenLED</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"kr\">LOW</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-3551\" name=\"l-3551\"></a><span class=\"linenos\">3551</span><span class=\"w\">    </span><span class=\"nf\">pinMode</span><span class=\"p\">(</span><span class=\"n\">redLED</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"kr\">OUTPUT</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-3552\" name=\"l-3552\"></a><span class=\"linenos\">3552</span><span class=\"w\">    </span><span class=\"nf\">digitalWrite</span><span class=\"p\">(</span><span class=\"n\">redLED</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"kr\">LOW</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-3553\" name=\"l-3553\"></a><span class=\"linenos\">3553</span><span class=\"w\">    </span><span class=\"c1\">// Flash the lights</span></div>\n<div class=\"line\"><a id=\"l-3554\" name=\"l-3554\"></a><span class=\"linenos\">3554</span><span class=\"w\">    </span><span class=\"k\">for</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"kr\">uint8_t</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"p\">;</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"w\"> </span><span class=\"n\">numFlash</span><span class=\"p\">;</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"o\">++</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">{</span></div>\n<div class=\"line\"><a id=\"l-3555\" name=\"l-3555\"></a><span class=\"linenos\">3555</span><span class=\"w\">        </span><span class=\"nf\">digitalWrite</span><span class=\"p\">(</span><span class=\"n\">greenLED</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"kr\">HIGH</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-3556\" name=\"l-3556\"></a><span class=\"linenos\">3556</span><span class=\"w\">        </span><span class=\"nf\">digitalWrite</span><span class=\"p\">(</span><span class=\"n\">redLED</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"kr\">LOW</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-3557\" name=\"l-3557\"></a><span class=\"linenos\">3557</span><span class=\"w\">        </span><span class=\"nf\">delay</span><span class=\"p\">(</span><span class=\"n\">rate</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-3558\" name=\"l-3558\"></a><span class=\"linenos\">3558</span><span class=\"w\">        </span><span class=\"nf\">digitalWrite</span><span class=\"p\">(</span><span class=\"n\">greenLED</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"kr\">LOW</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-3559\" name=\"l-3559\"></a><span class=\"linenos\">3559</span><span class=\"w\">        </span><span class=\"nf\">digitalWrite</span><span class=\"p\">(</span><span class=\"n\">redLED</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"kr\">HIGH</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-3560\" name=\"l-3560\"></a><span class=\"linenos\">3560</span><span class=\"w\">        </span><span class=\"nf\">delay</span><span class=\"p\">(</span><span class=\"n\">rate</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-3561\" name=\"l-3561\"></a><span class=\"linenos\">3561</span><span class=\"w\">    </span><span class=\"p\">}</span></div>\n<div class=\"line\"><a id=\"l-3562\" name=\"l-3562\"></a><span class=\"linenos\">3562</span><span class=\"w\">    </span><span class=\"nf\">digitalWrite</span><span class=\"p\">(</span><span class=\"n\">redLED</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"kr\">LOW</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-3563\" name=\"l-3563\"></a><span class=\"linenos\">3563</span><span class=\"p\">}</span></div>\n<div class=\"line\"><a id=\"l-3564\" name=\"l-3564\"></a><span class=\"linenos\">3564</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-3565\" name=\"l-3565\"></a><span class=\"linenos\">3565</span></div>\n<div class=\"line\"><a id=\"l-3566\" name=\"l-3566\"></a><span class=\"linenos\">3566</span><span class=\"c1\">// Uses the processor sensor object to read the battery voltage</span></div>\n<div class=\"line\"><a id=\"l-3567\" name=\"l-3567\"></a><span class=\"linenos\">3567</span><span class=\"c1\">// NOTE: This will actually return the battery level from the previous update!</span></div>\n<div class=\"line\"><a id=\"l-3568\" name=\"l-3568\"></a><span class=\"linenos\">3568</span><span class=\"kr\">float</span><span class=\"w\"> </span><span class=\"nf\">getBatteryVoltage</span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"p\">{</span></div>\n<div class=\"line\"><a id=\"l-3569\" name=\"l-3569\"></a><span class=\"linenos\">3569</span><span class=\"w\">    </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">mcuBoard</span><span class=\"p\">.</span><span class=\"n\">sensorValues</span><span class=\"p\">[</span><span class=\"n\">PROCESSOR_BATTERY_VAR_NUM</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"o\">==</span><span class=\"w\"> </span><span class=\"mi\">-9999</span><span class=\"w\"> </span><span class=\"o\">||</span></div>\n<div class=\"line\"><a id=\"l-3570\" name=\"l-3570\"></a><span class=\"linenos\">3570</span><span class=\"w\">        </span><span class=\"n\">mcuBoard</span><span class=\"p\">.</span><span class=\"n\">sensorValues</span><span class=\"p\">[</span><span class=\"n\">PROCESSOR_BATTERY_VAR_NUM</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"o\">==</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">{</span></div>\n<div class=\"line\"><a id=\"l-3571\" name=\"l-3571\"></a><span class=\"linenos\">3571</span><span class=\"w\">        </span><span class=\"n\">mcuBoard</span><span class=\"p\">.</span><span class=\"n\">update</span><span class=\"p\">();</span></div>\n<div class=\"line\"><a id=\"l-3572\" name=\"l-3572\"></a><span class=\"linenos\">3572</span><span class=\"w\">    </span><span class=\"p\">}</span></div>\n<div class=\"line\"><a id=\"l-3573\" name=\"l-3573\"></a><span class=\"linenos\">3573</span><span class=\"w\">    </span><span class=\"k\">return</span><span class=\"w\"> </span><span class=\"n\">mcuBoard</span><span class=\"p\">.</span><span class=\"n\">sensorValues</span><span class=\"p\">[</span><span class=\"n\">PROCESSOR_BATTERY_VAR_NUM</span><span class=\"p\">];</span></div>\n<div class=\"line\"><a id=\"l-3574\" name=\"l-3574\"></a><span class=\"linenos\">3574</span><span class=\"p\">}</span></div>\n<div class=\"line\"><a id=\"l-3575\" name=\"l-3575\"></a><span class=\"linenos\">3575</span><span class=\"cm\">/** End [working_functions] */</span></div>\n<div class=\"line\"><a id=\"l-3576\" name=\"l-3576\"></a><span class=\"linenos\">3576</span></div>\n<div class=\"line\"><a id=\"l-3577\" name=\"l-3577\"></a><span class=\"linenos\">3577</span></div>\n<div class=\"line\"><a id=\"l-3578\" name=\"l-3578\"></a><span class=\"linenos\">3578</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-3579\" name=\"l-3579\"></a><span class=\"linenos\">3579</span><span class=\"c1\">//  Arduino Setup Function</span></div>\n<div class=\"line\"><a id=\"l-3580\" name=\"l-3580\"></a><span class=\"linenos\">3580</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-3581\" name=\"l-3581\"></a><span class=\"linenos\">3581</span><span class=\"kr\">void</span><span class=\"w\"> </span><span class=\"nb\">setup</span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"p\">{</span></div>\n<div class=\"line\"><a id=\"l-3582\" name=\"l-3582\"></a><span class=\"linenos\">3582</span><span class=\"w\">    </span><span class=\"cm\">/** Start [setup_flashing_led] */</span></div>\n<div class=\"line\"><a id=\"l-3583\" name=\"l-3583\"></a><span class=\"linenos\">3583</span><span class=\"w\">    </span><span class=\"c1\">// Blink the LEDs to show the board is on and starting up</span></div>\n<div class=\"line\"><a id=\"l-3584\" name=\"l-3584\"></a><span class=\"linenos\">3584</span><span class=\"w\">    </span><span class=\"n\">greenRedFlash</span><span class=\"p\">(</span><span class=\"mi\">3</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mi\">35</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-3585\" name=\"l-3585\"></a><span class=\"linenos\">3585</span><span class=\"w\">    </span><span class=\"cm\">/** End [setup_flashing_led] */</span></div>\n<div class=\"line\"><a id=\"l-3586\" name=\"l-3586\"></a><span class=\"linenos\">3586</span></div>\n<div class=\"line\"><a id=\"l-3587\" name=\"l-3587\"></a><span class=\"linenos\">3587</span><span class=\"cm\">/** Start [setup_wait] */</span></div>\n<div class=\"line\"><a id=\"l-3588\" name=\"l-3588\"></a><span class=\"linenos\">3588</span><span class=\"c1\">// Wait for USB connection to be established by PC</span></div>\n<div class=\"line\"><a id=\"l-3589\" name=\"l-3589\"></a><span class=\"linenos\">3589</span><span class=\"c1\">// NOTE:  Only use this when debugging - if not connected to a PC, this adds an</span></div>\n<div class=\"line\"><a id=\"l-3590\" name=\"l-3590\"></a><span class=\"linenos\">3590</span><span class=\"c1\">// unnecessary startup delay</span></div>\n<div class=\"line\"><a id=\"l-3591\" name=\"l-3591\"></a><span class=\"linenos\">3591</span><span class=\"cp\">#if defined(SERIAL_PORT_USBVIRTUAL)</span></div>\n<div class=\"line\"><a id=\"l-3592\" name=\"l-3592\"></a><span class=\"linenos\">3592</span><span class=\"w\">    </span><span class=\"k\">while</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"o\">!</span><span class=\"n\">SERIAL_PORT_USBVIRTUAL</span><span class=\"w\"> </span><span class=\"o\">&amp;&amp;</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nf\">millis</span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"w\"> </span><span class=\"mf\">10000L</span><span class=\"p\">))</span><span class=\"w\"> </span><span class=\"p\">{</span></div>\n<div class=\"line\"><a id=\"l-3593\" name=\"l-3593\"></a><span class=\"linenos\">3593</span><span class=\"w\">        </span><span class=\"c1\">// wait</span></div>\n<div class=\"line\"><a id=\"l-3594\" name=\"l-3594\"></a><span class=\"linenos\">3594</span><span class=\"w\">    </span><span class=\"p\">}</span></div>\n<div class=\"line\"><a id=\"l-3595\" name=\"l-3595\"></a><span class=\"linenos\">3595</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-3596\" name=\"l-3596\"></a><span class=\"linenos\">3596</span><span class=\"w\">    </span><span class=\"cm\">/** End [setup_wait] */</span></div>\n<div class=\"line\"><a id=\"l-3597\" name=\"l-3597\"></a><span class=\"linenos\">3597</span></div>\n<div class=\"line\"><a id=\"l-3598\" name=\"l-3598\"></a><span class=\"linenos\">3598</span><span class=\"w\">    </span><span class=\"cm\">/** Start [setup_prints] */</span></div>\n<div class=\"line\"><a id=\"l-3599\" name=\"l-3599\"></a><span class=\"linenos\">3599</span><span class=\"w\">    </span><span class=\"c1\">// Start the primary serial connection</span></div>\n<div class=\"line\"><a id=\"l-3600\" name=\"l-3600\"></a><span class=\"linenos\">3600</span><span class=\"w\">    </span><span class=\"nf\">Serial</span><span class=\"p\">.</span><span class=\"nf\">begin</span><span class=\"p\">(</span><span class=\"n\">serialBaud</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-3601\" name=\"l-3601\"></a><span class=\"linenos\">3601</span><span class=\"cp\">#if defined(MS_2ND_OUTPUT)</span></div>\n<div class=\"line\"><a id=\"l-3602\" name=\"l-3602\"></a><span class=\"linenos\">3602</span><span class=\"w\">    </span><span class=\"n\">MS_2ND_OUTPUT</span><span class=\"p\">.</span><span class=\"nf\">begin</span><span class=\"p\">(</span><span class=\"n\">serialBaud</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-3603\" name=\"l-3603\"></a><span class=\"linenos\">3603</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-3604\" name=\"l-3604\"></a><span class=\"linenos\">3604</span><span class=\"w\">    </span><span class=\"n\">greenRedFlash</span><span class=\"p\">(</span><span class=\"mi\">5</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mi\">50</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-3605\" name=\"l-3605\"></a><span class=\"linenos\">3605</span></div>\n<div class=\"line\"><a id=\"l-3606\" name=\"l-3606\"></a><span class=\"linenos\">3606</span><span class=\"w\">    </span><span class=\"c1\">// Print a start-up note to the first serial port</span></div>\n<div class=\"line\"><a id=\"l-3607\" name=\"l-3607\"></a><span class=\"linenos\">3607</span><span class=\"w\">    </span><span class=\"n\">PRINTOUT</span><span class=\"p\">(</span><span class=\"s\">&quot;</span><span class=\"se\">\\n\\n\\n</span><span class=\"s\">=============================&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-3608\" name=\"l-3608\"></a><span class=\"linenos\">3608</span><span class=\"w\">    </span><span class=\"n\">PRINTOUT</span><span class=\"p\">(</span><span class=\"s\">&quot;=============================&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-3609\" name=\"l-3609\"></a><span class=\"linenos\">3609</span><span class=\"w\">    </span><span class=\"n\">PRINTOUT</span><span class=\"p\">(</span><span class=\"s\">&quot;=============================&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-3610\" name=\"l-3610\"></a><span class=\"linenos\">3610</span><span class=\"w\">    </span><span class=\"n\">PRINTOUT</span><span class=\"p\">(</span><span class=\"n\">F</span><span class=\"p\">(</span><span class=\"s\">&quot;</span><span class=\"se\">\\n\\n</span><span class=\"s\">Now running&quot;</span><span class=\"p\">),</span><span class=\"w\"> </span><span class=\"n\">sketchName</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">F</span><span class=\"p\">(</span><span class=\"s\">&quot;on Logger&quot;</span><span class=\"p\">),</span><span class=\"w\"> </span><span class=\"n\">LoggerID</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"sc\">&#39;\\n&#39;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-3611\" name=\"l-3611\"></a><span class=\"linenos\">3611</span></div>\n<div class=\"line\"><a id=\"l-3612\" name=\"l-3612\"></a><span class=\"linenos\">3612</span><span class=\"w\">    </span><span class=\"n\">PRINTOUT</span><span class=\"p\">(</span><span class=\"n\">F</span><span class=\"p\">(</span><span class=\"s\">&quot;Using ModularSensors Library version&quot;</span><span class=\"p\">),</span></div>\n<div class=\"line\"><a id=\"l-3613\" name=\"l-3613\"></a><span class=\"linenos\">3613</span><span class=\"w\">             </span><span class=\"n\">MODULAR_SENSORS_VERSION</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-3614\" name=\"l-3614\"></a><span class=\"linenos\">3614</span><span class=\"cp\">#if !defined(BUILD_MODEM_NO_MODEM) &amp;&amp; defined(BUILD_HAS_MODEM)</span></div>\n<div class=\"line\"><a id=\"l-3615\" name=\"l-3615\"></a><span class=\"linenos\">3615</span><span class=\"w\">    </span><span class=\"n\">PRINTOUT</span><span class=\"p\">(</span><span class=\"n\">F</span><span class=\"p\">(</span><span class=\"s\">&quot;TinyGSM Library version&quot;</span><span class=\"p\">),</span><span class=\"w\"> </span><span class=\"n\">TINYGSM_VERSION</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"sc\">&#39;\\n&#39;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-3616\" name=\"l-3616\"></a><span class=\"linenos\">3616</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-3617\" name=\"l-3617\"></a><span class=\"linenos\">3617</span><span class=\"w\">    </span><span class=\"n\">PRINTOUT</span><span class=\"p\">(</span><span class=\"n\">F</span><span class=\"p\">(</span><span class=\"s\">&quot;Processor:&quot;</span><span class=\"p\">),</span><span class=\"w\"> </span><span class=\"n\">mcuBoard</span><span class=\"p\">.</span><span class=\"n\">getSensorLocation</span><span class=\"p\">());</span></div>\n<div class=\"line\"><a id=\"l-3618\" name=\"l-3618\"></a><span class=\"linenos\">3618</span><span class=\"w\">    </span><span class=\"n\">PRINTOUT</span><span class=\"p\">(</span><span class=\"n\">F</span><span class=\"p\">(</span><span class=\"s\">&quot;The most recent reset cause was&quot;</span><span class=\"p\">),</span><span class=\"w\"> </span><span class=\"n\">mcuBoard</span><span class=\"p\">.</span><span class=\"n\">getLastResetCode</span><span class=\"p\">(),</span></div>\n<div class=\"line\"><a id=\"l-3619\" name=\"l-3619\"></a><span class=\"linenos\">3619</span><span class=\"w\">             </span><span class=\"sc\">&#39;(&#39;</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">mcuBoard</span><span class=\"p\">.</span><span class=\"n\">getLastResetCause</span><span class=\"p\">(),</span><span class=\"w\"> </span><span class=\"s\">&quot;)</span><span class=\"se\">\\n</span><span class=\"s\">&quot;</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-3620\" name=\"l-3620\"></a><span class=\"linenos\">3620</span><span class=\"w\">    </span><span class=\"cm\">/** End [setup_prints] */</span></div>\n<div class=\"line\"><a id=\"l-3621\" name=\"l-3621\"></a><span class=\"linenos\">3621</span></div>\n<div class=\"line\"><a id=\"l-3622\" name=\"l-3622\"></a><span class=\"linenos\">3622</span><span class=\"cm\">/** Start [setup_softserial] */</span></div>\n<div class=\"line\"><a id=\"l-3623\" name=\"l-3623\"></a><span class=\"linenos\">3623</span><span class=\"c1\">// Allow interrupts for software serial</span></div>\n<div class=\"line\"><a id=\"l-3624\" name=\"l-3624\"></a><span class=\"linenos\">3624</span><span class=\"cp\">#if defined(BUILD_TEST_SOFTSERIAL)</span></div>\n<div class=\"line\"><a id=\"l-3625\" name=\"l-3625\"></a><span class=\"linenos\">3625</span><span class=\"w\">    </span><span class=\"n\">PRINTOUT</span><span class=\"p\">(</span><span class=\"n\">F</span><span class=\"p\">(</span><span class=\"s\">&quot;Enabling interrupts for SoftwareSerial&quot;</span><span class=\"p\">));</span></div>\n<div class=\"line\"><a id=\"l-3626\" name=\"l-3626\"></a><span class=\"linenos\">3626</span><span class=\"w\">    </span><span class=\"n\">enableInterrupt</span><span class=\"p\">(</span><span class=\"n\">softSerialRx</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">SoftwareSerial_ExtInts</span><span class=\"o\">::</span><span class=\"n\">handle_interrupt</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3627\" name=\"l-3627\"></a><span class=\"linenos\">3627</span><span class=\"w\">                    </span><span class=\"n\">CHANGE</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-3628\" name=\"l-3628\"></a><span class=\"linenos\">3628</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-3629\" name=\"l-3629\"></a><span class=\"linenos\">3629</span><span class=\"cp\">#if defined(BUILD_TEST_NEOSWSERIAL)</span></div>\n<div class=\"line\"><a id=\"l-3630\" name=\"l-3630\"></a><span class=\"linenos\">3630</span><span class=\"w\">    </span><span class=\"n\">PRINTOUT</span><span class=\"p\">(</span><span class=\"n\">F</span><span class=\"p\">(</span><span class=\"s\">&quot;Enabling interrupts for NeoSoftSerial&quot;</span><span class=\"p\">));</span></div>\n<div class=\"line\"><a id=\"l-3631\" name=\"l-3631\"></a><span class=\"linenos\">3631</span><span class=\"w\">    </span><span class=\"n\">enableInterrupt</span><span class=\"p\">(</span><span class=\"n\">neoSSerial1Rx</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">neoSSerial1ISR</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">CHANGE</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-3632\" name=\"l-3632\"></a><span class=\"linenos\">3632</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-3633\" name=\"l-3633\"></a><span class=\"linenos\">3633</span><span class=\"cm\">/** End [setup_softserial] */</span></div>\n<div class=\"line\"><a id=\"l-3634\" name=\"l-3634\"></a><span class=\"linenos\">3634</span></div>\n<div class=\"line\"><a id=\"l-3635\" name=\"l-3635\"></a><span class=\"linenos\">3635</span><span class=\"cm\">/** Start [setup_serial_begins] */</span></div>\n<div class=\"line\"><a id=\"l-3636\" name=\"l-3636\"></a><span class=\"linenos\">3636</span><span class=\"c1\">// Start the serial connection with the modem</span></div>\n<div class=\"line\"><a id=\"l-3637\" name=\"l-3637\"></a><span class=\"linenos\">3637</span><span class=\"cp\">#if !defined(BUILD_MODEM_NO_MODEM) &amp;&amp; defined(BUILD_HAS_MODEM)</span></div>\n<div class=\"line\"><a id=\"l-3638\" name=\"l-3638\"></a><span class=\"linenos\">3638</span><span class=\"w\">    </span><span class=\"n\">PRINTOUT</span><span class=\"p\">(</span><span class=\"n\">F</span><span class=\"p\">(</span><span class=\"s\">&quot;Starting modem connection on&quot;</span><span class=\"p\">),</span><span class=\"w\"> </span><span class=\"n\">STR</span><span class=\"p\">(</span><span class=\"n\">modemSerial</span><span class=\"p\">),</span><span class=\"w\"> </span><span class=\"n\">F</span><span class=\"p\">(</span><span class=\"s\">&quot;at&quot;</span><span class=\"p\">),</span></div>\n<div class=\"line\"><a id=\"l-3639\" name=\"l-3639\"></a><span class=\"linenos\">3639</span><span class=\"w\">             </span><span class=\"n\">modemBaud</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">F</span><span class=\"p\">(</span><span class=\"s\">&quot; baud&quot;</span><span class=\"p\">));</span></div>\n<div class=\"line\"><a id=\"l-3640\" name=\"l-3640\"></a><span class=\"linenos\">3640</span><span class=\"w\">    </span><span class=\"n\">modemSerial</span><span class=\"p\">.</span><span class=\"nf\">begin</span><span class=\"p\">(</span><span class=\"n\">modemBaud</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-3641\" name=\"l-3641\"></a><span class=\"linenos\">3641</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-3642\" name=\"l-3642\"></a><span class=\"linenos\">3642</span></div>\n<div class=\"line\"><a id=\"l-3643\" name=\"l-3643\"></a><span class=\"linenos\">3643</span><span class=\"cp\">#if defined(BUILD_MODBUS_SENSOR)</span></div>\n<div class=\"line\"><a id=\"l-3644\" name=\"l-3644\"></a><span class=\"linenos\">3644</span><span class=\"w\">    </span><span class=\"c1\">// Start the stream for the modbus sensors;</span></div>\n<div class=\"line\"><a id=\"l-3645\" name=\"l-3645\"></a><span class=\"linenos\">3645</span><span class=\"w\">    </span><span class=\"c1\">// modbusSerial.begin(57600);  // 57600 is the default for ANB pH sensors</span></div>\n<div class=\"line\"><a id=\"l-3646\" name=\"l-3646\"></a><span class=\"linenos\">3646</span><span class=\"w\">    </span><span class=\"n\">modbusSerial</span><span class=\"p\">.</span><span class=\"nf\">begin</span><span class=\"p\">(</span><span class=\"mi\">9600</span><span class=\"p\">);</span><span class=\"w\">  </span><span class=\"c1\">// All other modbus sensors use 9600 baud</span></div>\n<div class=\"line\"><a id=\"l-3647\" name=\"l-3647\"></a><span class=\"linenos\">3647</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-3648\" name=\"l-3648\"></a><span class=\"linenos\">3648</span></div>\n<div class=\"line\"><a id=\"l-3649\" name=\"l-3649\"></a><span class=\"linenos\">3649</span><span class=\"cp\">#if defined(BUILD_SENSOR_MAX_BOTIX_SONAR)</span></div>\n<div class=\"line\"><a id=\"l-3650\" name=\"l-3650\"></a><span class=\"linenos\">3650</span><span class=\"w\">    </span><span class=\"c1\">// Start the stream for the sonar; it will always be at 9600 baud</span></div>\n<div class=\"line\"><a id=\"l-3651\" name=\"l-3651\"></a><span class=\"linenos\">3651</span><span class=\"w\">    </span><span class=\"n\">sonarSerial</span><span class=\"p\">.</span><span class=\"nf\">begin</span><span class=\"p\">(</span><span class=\"mi\">9600</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-3652\" name=\"l-3652\"></a><span class=\"linenos\">3652</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-3653\" name=\"l-3653\"></a><span class=\"linenos\">3653</span></div>\n<div class=\"line\"><a id=\"l-3654\" name=\"l-3654\"></a><span class=\"linenos\">3654</span><span class=\"cp\">#if defined(BUILD_SENSOR_GEOLUX_HYDRO_CAM)</span></div>\n<div class=\"line\"><a id=\"l-3655\" name=\"l-3655\"></a><span class=\"linenos\">3655</span><span class=\"w\">    </span><span class=\"c1\">// Start the stream for the camera; it will always be at 115200 baud</span></div>\n<div class=\"line\"><a id=\"l-3656\" name=\"l-3656\"></a><span class=\"linenos\">3656</span><span class=\"w\">    </span><span class=\"n\">cameraSerial</span><span class=\"p\">.</span><span class=\"nf\">begin</span><span class=\"p\">(</span><span class=\"mi\">115200</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-3657\" name=\"l-3657\"></a><span class=\"linenos\">3657</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-3658\" name=\"l-3658\"></a><span class=\"linenos\">3658</span><span class=\"cm\">/** End [setup_serial_begins] */</span></div>\n<div class=\"line\"><a id=\"l-3659\" name=\"l-3659\"></a><span class=\"linenos\">3659</span></div>\n<div class=\"line\"><a id=\"l-3660\" name=\"l-3660\"></a><span class=\"linenos\">3660</span><span class=\"c1\">// Assign pins SERCOM functionality for SAMD boards</span></div>\n<div class=\"line\"><a id=\"l-3661\" name=\"l-3661\"></a><span class=\"linenos\">3661</span><span class=\"c1\">// NOTE:  This must happen *after* the various serial.begin statements</span></div>\n<div class=\"line\"><a id=\"l-3662\" name=\"l-3662\"></a><span class=\"linenos\">3662</span><span class=\"cm\">/** Start [setup_samd_pins] */</span></div>\n<div class=\"line\"><a id=\"l-3663\" name=\"l-3663\"></a><span class=\"linenos\">3663</span><span class=\"cp\">#if defined(ARDUINO_SAMD_FEATHER_M0)</span></div>\n<div class=\"line\"><a id=\"l-3664\" name=\"l-3664\"></a><span class=\"linenos\">3664</span><span class=\"w\">    </span><span class=\"n\">PRINTOUT</span><span class=\"p\">(</span><span class=\"n\">F</span><span class=\"p\">(</span><span class=\"s\">&quot;Setting SAMD21 SERCOM pin peripherals&quot;</span><span class=\"p\">));</span></div>\n<div class=\"line\"><a id=\"l-3665\" name=\"l-3665\"></a><span class=\"linenos\">3665</span><span class=\"w\">    </span><span class=\"c1\">// Serial2</span></div>\n<div class=\"line\"><a id=\"l-3666\" name=\"l-3666\"></a><span class=\"linenos\">3666</span><span class=\"w\">    </span><span class=\"n\">pinPeripheral</span><span class=\"p\">(</span><span class=\"mi\">10</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">PIO_SERCOM</span><span class=\"p\">);</span><span class=\"w\">  </span><span class=\"c1\">// Serial2 Tx/Dout = SERCOM1 Pad #2</span></div>\n<div class=\"line\"><a id=\"l-3667\" name=\"l-3667\"></a><span class=\"linenos\">3667</span><span class=\"w\">    </span><span class=\"n\">pinPeripheral</span><span class=\"p\">(</span><span class=\"mi\">11</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">PIO_SERCOM</span><span class=\"p\">);</span><span class=\"w\">  </span><span class=\"c1\">// Serial2 Rx/Din = SERCOM1 Pad #0</span></div>\n<div class=\"line\"><a id=\"l-3668\" name=\"l-3668\"></a><span class=\"linenos\">3668</span><span class=\"w\">    </span><span class=\"c1\">// Serial 3</span></div>\n<div class=\"line\"><a id=\"l-3669\" name=\"l-3669\"></a><span class=\"linenos\">3669</span><span class=\"w\">    </span><span class=\"n\">pinPeripheral</span><span class=\"p\">(</span><span class=\"mi\">2</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">PIO_SERCOM</span><span class=\"p\">);</span><span class=\"w\">  </span><span class=\"c1\">// Serial3 Tx/Dout = SERCOM2 Pad #2</span></div>\n<div class=\"line\"><a id=\"l-3670\" name=\"l-3670\"></a><span class=\"linenos\">3670</span><span class=\"w\">    </span><span class=\"n\">pinPeripheral</span><span class=\"p\">(</span><span class=\"mi\">5</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">PIO_SERCOM</span><span class=\"p\">);</span><span class=\"w\">  </span><span class=\"c1\">// Serial3 Rx/Din = SERCOM2 Pad #3</span></div>\n<div class=\"line\"><a id=\"l-3671\" name=\"l-3671\"></a><span class=\"linenos\">3671</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-3672\" name=\"l-3672\"></a><span class=\"linenos\">3672</span><span class=\"w\">    </span><span class=\"cm\">/** End [setup_samd_pins] */</span></div>\n<div class=\"line\"><a id=\"l-3673\" name=\"l-3673\"></a><span class=\"linenos\">3673</span></div>\n<div class=\"line\"><a id=\"l-3674\" name=\"l-3674\"></a><span class=\"linenos\">3674</span><span class=\"w\">    </span><span class=\"c1\">// Start the SPI library</span></div>\n<div class=\"line\"><a id=\"l-3675\" name=\"l-3675\"></a><span class=\"linenos\">3675</span><span class=\"w\">    </span><span class=\"n\">PRINTOUT</span><span class=\"p\">(</span><span class=\"n\">F</span><span class=\"p\">(</span><span class=\"s\">&quot;Starting SPI&quot;</span><span class=\"p\">));</span></div>\n<div class=\"line\"><a id=\"l-3676\" name=\"l-3676\"></a><span class=\"linenos\">3676</span><span class=\"w\">    </span><span class=\"nf\">SPI</span><span class=\"p\">.</span><span class=\"nf\">begin</span><span class=\"p\">();</span></div>\n<div class=\"line\"><a id=\"l-3677\" name=\"l-3677\"></a><span class=\"linenos\">3677</span></div>\n<div class=\"line\"><a id=\"l-3678\" name=\"l-3678\"></a><span class=\"linenos\">3678</span><span class=\"cp\">#if defined(EXTERNAL_FLASH_DEVICES)</span></div>\n<div class=\"line\"><a id=\"l-3679\" name=\"l-3679\"></a><span class=\"linenos\">3679</span><span class=\"w\">    </span><span class=\"n\">PRINTOUT</span><span class=\"p\">(</span><span class=\"n\">F</span><span class=\"p\">(</span><span class=\"s\">&quot;Setting onboard flash pin modes&quot;</span><span class=\"p\">));</span></div>\n<div class=\"line\"><a id=\"l-3680\" name=\"l-3680\"></a><span class=\"linenos\">3680</span><span class=\"w\">    </span><span class=\"nf\">pinMode</span><span class=\"p\">(</span><span class=\"n\">flashSSPin</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3681\" name=\"l-3681\"></a><span class=\"linenos\">3681</span><span class=\"w\">            </span><span class=\"kr\">OUTPUT</span><span class=\"p\">);</span><span class=\"w\">  </span><span class=\"c1\">// for proper operation of the onboard flash memory</span></div>\n<div class=\"line\"><a id=\"l-3682\" name=\"l-3682\"></a><span class=\"linenos\">3682</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-3683\" name=\"l-3683\"></a><span class=\"linenos\">3683</span></div>\n<div class=\"line\"><a id=\"l-3684\" name=\"l-3684\"></a><span class=\"linenos\">3684</span><span class=\"w\">    </span><span class=\"n\">PRINTOUT</span><span class=\"p\">(</span><span class=\"n\">F</span><span class=\"p\">(</span><span class=\"s\">&quot;Starting I2C (Wire)&quot;</span><span class=\"p\">));</span></div>\n<div class=\"line\"><a id=\"l-3685\" name=\"l-3685\"></a><span class=\"linenos\">3685</span><span class=\"w\">    </span><span class=\"nf\">Wire</span><span class=\"p\">.</span><span class=\"nf\">begin</span><span class=\"p\">();</span></div>\n<div class=\"line\"><a id=\"l-3686\" name=\"l-3686\"></a><span class=\"linenos\">3686</span></div>\n<div class=\"line\"><a id=\"l-3687\" name=\"l-3687\"></a><span class=\"linenos\">3687</span><span class=\"w\">    </span><span class=\"cm\">/** Start [setup_logger] */</span></div>\n<div class=\"line\"><a id=\"l-3688\" name=\"l-3688\"></a><span class=\"linenos\">3688</span></div>\n<div class=\"line\"><a id=\"l-3689\" name=\"l-3689\"></a><span class=\"linenos\">3689</span><span class=\"w\">    </span><span class=\"c1\">// set the logger ID</span></div>\n<div class=\"line\"><a id=\"l-3690\" name=\"l-3690\"></a><span class=\"linenos\">3690</span><span class=\"w\">    </span><span class=\"n\">PRINTOUT</span><span class=\"p\">(</span><span class=\"n\">F</span><span class=\"p\">(</span><span class=\"s\">&quot;Setting logger id to&quot;</span><span class=\"p\">),</span><span class=\"w\"> </span><span class=\"n\">LoggerID</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-3691\" name=\"l-3691\"></a><span class=\"linenos\">3691</span><span class=\"w\">    </span><span class=\"n\">dataLogger</span><span class=\"p\">.</span><span class=\"n\">setLoggerID</span><span class=\"p\">(</span><span class=\"n\">LoggerID</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-3692\" name=\"l-3692\"></a><span class=\"linenos\">3692</span><span class=\"w\">    </span><span class=\"n\">PRINTOUT</span><span class=\"p\">(</span><span class=\"n\">F</span><span class=\"p\">(</span><span class=\"s\">&quot;Setting the sampling feature UUID to&quot;</span><span class=\"p\">),</span><span class=\"w\"> </span><span class=\"n\">LoggerID</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-3693\" name=\"l-3693\"></a><span class=\"linenos\">3693</span><span class=\"w\">    </span><span class=\"n\">dataLogger</span><span class=\"p\">.</span><span class=\"n\">setSamplingFeatureUUID</span><span class=\"p\">(</span><span class=\"n\">samplingFeature</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-3694\" name=\"l-3694\"></a><span class=\"linenos\">3694</span><span class=\"w\">    </span><span class=\"c1\">// set the logging interval</span></div>\n<div class=\"line\"><a id=\"l-3695\" name=\"l-3695\"></a><span class=\"linenos\">3695</span><span class=\"w\">    </span><span class=\"n\">PRINTOUT</span><span class=\"p\">(</span><span class=\"n\">F</span><span class=\"p\">(</span><span class=\"s\">&quot;Setting logging interval to&quot;</span><span class=\"p\">),</span><span class=\"w\"> </span><span class=\"n\">loggingInterval</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">F</span><span class=\"p\">(</span><span class=\"s\">&quot;minutes&quot;</span><span class=\"p\">));</span></div>\n<div class=\"line\"><a id=\"l-3696\" name=\"l-3696\"></a><span class=\"linenos\">3696</span><span class=\"w\">    </span><span class=\"n\">dataLogger</span><span class=\"p\">.</span><span class=\"n\">setLoggingInterval</span><span class=\"p\">(</span><span class=\"n\">loggingInterval</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-3697\" name=\"l-3697\"></a><span class=\"linenos\">3697</span><span class=\"w\">    </span><span class=\"n\">PRINTOUT</span><span class=\"p\">(</span><span class=\"n\">F</span><span class=\"p\">(</span><span class=\"s\">&quot;Setting number of initial 1 minute intervals to 10&quot;</span><span class=\"p\">));</span></div>\n<div class=\"line\"><a id=\"l-3698\" name=\"l-3698\"></a><span class=\"linenos\">3698</span><span class=\"w\">    </span><span class=\"n\">dataLogger</span><span class=\"p\">.</span><span class=\"n\">setinitialShortIntervals</span><span class=\"p\">(</span><span class=\"mi\">10</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-3699\" name=\"l-3699\"></a><span class=\"linenos\">3699</span><span class=\"w\">    </span><span class=\"c1\">// Attach the variable array to the logger</span></div>\n<div class=\"line\"><a id=\"l-3700\" name=\"l-3700\"></a><span class=\"linenos\">3700</span><span class=\"w\">    </span><span class=\"n\">PRINTOUT</span><span class=\"p\">(</span><span class=\"n\">F</span><span class=\"p\">(</span><span class=\"s\">&quot;Attaching the variable array&quot;</span><span class=\"p\">));</span></div>\n<div class=\"line\"><a id=\"l-3701\" name=\"l-3701\"></a><span class=\"linenos\">3701</span><span class=\"w\">    </span><span class=\"n\">dataLogger</span><span class=\"p\">.</span><span class=\"n\">setVariableArray</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">varArray</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-3702\" name=\"l-3702\"></a><span class=\"linenos\">3702</span><span class=\"w\">    </span><span class=\"c1\">// set logger pins</span></div>\n<div class=\"line\"><a id=\"l-3703\" name=\"l-3703\"></a><span class=\"linenos\">3703</span><span class=\"w\">    </span><span class=\"n\">PRINTOUT</span><span class=\"p\">(</span><span class=\"n\">F</span><span class=\"p\">(</span><span class=\"s\">&quot;Setting logger pins&quot;</span><span class=\"p\">));</span></div>\n<div class=\"line\"><a id=\"l-3704\" name=\"l-3704\"></a><span class=\"linenos\">3704</span><span class=\"w\">    </span><span class=\"n\">dataLogger</span><span class=\"p\">.</span><span class=\"n\">setLoggerPins</span><span class=\"p\">(</span><span class=\"n\">wakePin</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">sdCardSSPin</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">sdCardPwrPin</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">buttonPin</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3705\" name=\"l-3705\"></a><span class=\"linenos\">3705</span><span class=\"w\">                             </span><span class=\"n\">greenLED</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">wakePinMode</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">buttonPinMode</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-3706\" name=\"l-3706\"></a><span class=\"linenos\">3706</span></div>\n<div class=\"line\"><a id=\"l-3707\" name=\"l-3707\"></a><span class=\"linenos\">3707</span><span class=\"w\">    </span><span class=\"c1\">// Set the timezones for the logger/data and the RTC</span></div>\n<div class=\"line\"><a id=\"l-3708\" name=\"l-3708\"></a><span class=\"linenos\">3708</span><span class=\"w\">    </span><span class=\"c1\">// Logging in the given time zone</span></div>\n<div class=\"line\"><a id=\"l-3709\" name=\"l-3709\"></a><span class=\"linenos\">3709</span><span class=\"w\">    </span><span class=\"n\">PRINTOUT</span><span class=\"p\">(</span><span class=\"n\">F</span><span class=\"p\">(</span><span class=\"s\">&quot;Setting logger time zone&quot;</span><span class=\"p\">));</span></div>\n<div class=\"line\"><a id=\"l-3710\" name=\"l-3710\"></a><span class=\"linenos\">3710</span><span class=\"w\">    </span><span class=\"n\">Logger</span><span class=\"o\">::</span><span class=\"n\">setLoggerTimeZone</span><span class=\"p\">(</span><span class=\"n\">timeZone</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-3711\" name=\"l-3711\"></a><span class=\"linenos\">3711</span><span class=\"w\">    </span><span class=\"c1\">// It is STRONGLY RECOMMENDED that you set the RTC to be in UTC (UTC+0)</span></div>\n<div class=\"line\"><a id=\"l-3712\" name=\"l-3712\"></a><span class=\"linenos\">3712</span><span class=\"w\">    </span><span class=\"n\">PRINTOUT</span><span class=\"p\">(</span><span class=\"n\">F</span><span class=\"p\">(</span><span class=\"s\">&quot;Setting RTC time zone&quot;</span><span class=\"p\">));</span></div>\n<div class=\"line\"><a id=\"l-3713\" name=\"l-3713\"></a><span class=\"linenos\">3713</span><span class=\"w\">    </span><span class=\"n\">loggerClock</span><span class=\"o\">::</span><span class=\"n\">setRTCOffset</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-3714\" name=\"l-3714\"></a><span class=\"linenos\">3714</span></div>\n<div class=\"line\"><a id=\"l-3715\" name=\"l-3715\"></a><span class=\"linenos\">3715</span><span class=\"cp\">#if !defined(BUILD_MODEM_NO_MODEM) &amp;&amp; defined(BUILD_HAS_MODEM)</span></div>\n<div class=\"line\"><a id=\"l-3716\" name=\"l-3716\"></a><span class=\"linenos\">3716</span><span class=\"w\">    </span><span class=\"c1\">// Attach the modem and information pins to the logger</span></div>\n<div class=\"line\"><a id=\"l-3717\" name=\"l-3717\"></a><span class=\"linenos\">3717</span><span class=\"w\">    </span><span class=\"n\">PRINTOUT</span><span class=\"p\">(</span><span class=\"n\">F</span><span class=\"p\">(</span><span class=\"s\">&quot;Attaching the modem&quot;</span><span class=\"p\">));</span></div>\n<div class=\"line\"><a id=\"l-3718\" name=\"l-3718\"></a><span class=\"linenos\">3718</span><span class=\"w\">    </span><span class=\"n\">dataLogger</span><span class=\"p\">.</span><span class=\"n\">attachModem</span><span class=\"p\">(</span><span class=\"n\">modem</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-3719\" name=\"l-3719\"></a><span class=\"linenos\">3719</span><span class=\"w\">    </span><span class=\"n\">PRINTOUT</span><span class=\"p\">(</span><span class=\"n\">F</span><span class=\"p\">(</span><span class=\"s\">&quot;Setting modem LEDs&quot;</span><span class=\"p\">));</span></div>\n<div class=\"line\"><a id=\"l-3720\" name=\"l-3720\"></a><span class=\"linenos\">3720</span><span class=\"w\">    </span><span class=\"n\">modem</span><span class=\"p\">.</span><span class=\"n\">setModemLED</span><span class=\"p\">(</span><span class=\"n\">modemLEDPin</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-3721\" name=\"l-3721\"></a><span class=\"linenos\">3721</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-3722\" name=\"l-3722\"></a><span class=\"linenos\">3722</span></div>\n<div class=\"line\"><a id=\"l-3723\" name=\"l-3723\"></a><span class=\"linenos\">3723</span><span class=\"cp\">#if defined(BUILD_PUB_THING_SPEAK_PUBLISHER) &amp;&amp; \\</span></div>\n<div class=\"line\"><a id=\"l-3724\" name=\"l-3724\"></a><span class=\"linenos\">3724</span><span class=\"cp\">    (!defined(BUILD_MODEM_NO_MODEM) &amp;&amp; defined(BUILD_HAS_MODEM))</span></div>\n<div class=\"line\"><a id=\"l-3725\" name=\"l-3725\"></a><span class=\"linenos\">3725</span><span class=\"w\">    </span><span class=\"c1\">// Set the ThingSpeak MQTT client name</span></div>\n<div class=\"line\"><a id=\"l-3726\" name=\"l-3726\"></a><span class=\"linenos\">3726</span><span class=\"w\">    </span><span class=\"n\">TsMqtt</span><span class=\"p\">.</span><span class=\"n\">setRESTAPIKey</span><span class=\"p\">(</span><span class=\"n\">thingSpeakAPIKey</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-3727\" name=\"l-3727\"></a><span class=\"linenos\">3727</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-3728\" name=\"l-3728\"></a><span class=\"linenos\">3728</span></div>\n<div class=\"line\"><a id=\"l-3729\" name=\"l-3729\"></a><span class=\"linenos\">3729</span><span class=\"cp\">#if defined(BUILD_PUB_S3_PRESIGNED_PUBLISHER)</span></div>\n<div class=\"line\"><a id=\"l-3730\" name=\"l-3730\"></a><span class=\"linenos\">3730</span><span class=\"w\">    </span><span class=\"c1\">// Set the S3 host and certificate authority name</span></div>\n<div class=\"line\"><a id=\"l-3731\" name=\"l-3731\"></a><span class=\"linenos\">3731</span><span class=\"w\">    </span><span class=\"n\">s3pub</span><span class=\"p\">.</span><span class=\"n\">setHost</span><span class=\"p\">(</span><span class=\"n\">s3Host</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-3732\" name=\"l-3732\"></a><span class=\"linenos\">3732</span><span class=\"w\">    </span><span class=\"n\">s3pub</span><span class=\"p\">.</span><span class=\"n\">setCACertName</span><span class=\"p\">(</span><span class=\"n\">caCertName</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-3733\" name=\"l-3733\"></a><span class=\"linenos\">3733</span><span class=\"w\">    </span><span class=\"c1\">// Attach to the logger</span></div>\n<div class=\"line\"><a id=\"l-3734\" name=\"l-3734\"></a><span class=\"linenos\">3734</span><span class=\"w\">    </span><span class=\"n\">s3pub</span><span class=\"p\">.</span><span class=\"n\">attachToLogger</span><span class=\"p\">(</span><span class=\"n\">dataLogger</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-3735\" name=\"l-3735\"></a><span class=\"linenos\">3735</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-3736\" name=\"l-3736\"></a><span class=\"linenos\">3736</span></div>\n<div class=\"line\"><a id=\"l-3737\" name=\"l-3737\"></a><span class=\"linenos\">3737</span><span class=\"cp\">#if defined(BUILD_PUB_AWS_IO_T_PUBLISHER) &amp;&amp;     \\</span></div>\n<div class=\"line\"><a id=\"l-3738\" name=\"l-3738\"></a><span class=\"linenos\">3738</span><span class=\"cp\">    defined(BUILD_PUB_S3_PRESIGNED_PUBLISHER) &amp;&amp; \\</span></div>\n<div class=\"line\"><a id=\"l-3739\" name=\"l-3739\"></a><span class=\"linenos\">3739</span><span class=\"cp\">    (!defined(BUILD_MODEM_NO_MODEM) &amp;&amp; defined(BUILD_HAS_MODEM))</span></div>\n<div class=\"line\"><a id=\"l-3740\" name=\"l-3740\"></a><span class=\"linenos\">3740</span><span class=\"w\">    </span><span class=\"c1\">// Set the callback function for the AWS IoT Core MQTT connection</span></div>\n<div class=\"line\"><a id=\"l-3741\" name=\"l-3741\"></a><span class=\"linenos\">3741</span><span class=\"w\">    </span><span class=\"n\">awsIoTPub</span><span class=\"p\">.</span><span class=\"n\">setCallback</span><span class=\"p\">(</span><span class=\"n\">IoTCallback</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-3742\" name=\"l-3742\"></a><span class=\"linenos\">3742</span><span class=\"w\">    </span><span class=\"n\">awsIoTPub</span><span class=\"p\">.</span><span class=\"n\">addSubTopic</span><span class=\"p\">(</span><span class=\"n\">s3URLSubTopic</span><span class=\"p\">.</span><span class=\"n\">c_str</span><span class=\"p\">());</span></div>\n<div class=\"line\"><a id=\"l-3743\" name=\"l-3743\"></a><span class=\"linenos\">3743</span><span class=\"w\">    </span><span class=\"n\">awsIoTPub</span><span class=\"p\">.</span><span class=\"n\">addPublishRequest</span><span class=\"p\">(</span><span class=\"n\">s3URLPubTopic</span><span class=\"p\">.</span><span class=\"n\">c_str</span><span class=\"p\">(),</span><span class=\"w\"> </span><span class=\"n\">s3URLMsgGetter</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-3744\" name=\"l-3744\"></a><span class=\"linenos\">3744</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-3745\" name=\"l-3745\"></a><span class=\"linenos\">3745</span></div>\n<div class=\"line\"><a id=\"l-3746\" name=\"l-3746\"></a><span class=\"linenos\">3746</span><span class=\"w\">    </span><span class=\"c1\">// Begin the logger</span></div>\n<div class=\"line\"><a id=\"l-3747\" name=\"l-3747\"></a><span class=\"linenos\">3747</span><span class=\"w\">    </span><span class=\"n\">PRINTOUT</span><span class=\"p\">(</span><span class=\"n\">F</span><span class=\"p\">(</span><span class=\"s\">&quot;Beginning the logger&quot;</span><span class=\"p\">));</span></div>\n<div class=\"line\"><a id=\"l-3748\" name=\"l-3748\"></a><span class=\"linenos\">3748</span><span class=\"w\">    </span><span class=\"n\">dataLogger</span><span class=\"p\">.</span><span class=\"nf\">begin</span><span class=\"p\">();</span></div>\n<div class=\"line\"><a id=\"l-3749\" name=\"l-3749\"></a><span class=\"linenos\">3749</span><span class=\"w\">    </span><span class=\"cm\">/** End [setup_logger] */</span></div>\n<div class=\"line\"><a id=\"l-3750\" name=\"l-3750\"></a><span class=\"linenos\">3750</span></div>\n<div class=\"line\"><a id=\"l-3751\" name=\"l-3751\"></a><span class=\"linenos\">3751</span><span class=\"w\">    </span><span class=\"cm\">/** Start [setup_sensors] */</span></div>\n<div class=\"line\"><a id=\"l-3752\" name=\"l-3752\"></a><span class=\"linenos\">3752</span><span class=\"w\">    </span><span class=\"c1\">// Note:  Please change these battery voltages to match your battery</span></div>\n<div class=\"line\"><a id=\"l-3753\" name=\"l-3753\"></a><span class=\"linenos\">3753</span><span class=\"w\">    </span><span class=\"c1\">// Set up the sensors, except at lowest battery level</span></div>\n<div class=\"line\"><a id=\"l-3754\" name=\"l-3754\"></a><span class=\"linenos\">3754</span><span class=\"w\">    </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">getBatteryVoltage</span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"mf\">3.4</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">{</span></div>\n<div class=\"line\"><a id=\"l-3755\" name=\"l-3755\"></a><span class=\"linenos\">3755</span><span class=\"w\">        </span><span class=\"n\">PRINTOUT</span><span class=\"p\">(</span><span class=\"n\">F</span><span class=\"p\">(</span><span class=\"s\">&quot;Setting up sensors...&quot;</span><span class=\"p\">));</span></div>\n<div class=\"line\"><a id=\"l-3756\" name=\"l-3756\"></a><span class=\"linenos\">3756</span><span class=\"w\">        </span><span class=\"n\">varArray</span><span class=\"p\">.</span><span class=\"n\">sensorsPowerUp</span><span class=\"p\">();</span><span class=\"w\">  </span><span class=\"c1\">// only needed if you have sensors that need</span></div>\n<div class=\"line\"><a id=\"l-3757\" name=\"l-3757\"></a><span class=\"linenos\">3757</span><span class=\"w\">                                    </span><span class=\"c1\">// power for setups</span></div>\n<div class=\"line\"><a id=\"l-3758\" name=\"l-3758\"></a><span class=\"linenos\">3758</span><span class=\"w\">        </span><span class=\"n\">varArray</span><span class=\"p\">.</span><span class=\"n\">setupSensors</span><span class=\"p\">();</span></div>\n<div class=\"line\"><a id=\"l-3759\" name=\"l-3759\"></a><span class=\"linenos\">3759</span><span class=\"w\">        </span><span class=\"n\">varArray</span><span class=\"p\">.</span><span class=\"n\">sensorsPowerDown</span><span class=\"p\">();</span><span class=\"w\">  </span><span class=\"c1\">// only needed if you have sensors that</span></div>\n<div class=\"line\"><a id=\"l-3760\" name=\"l-3760\"></a><span class=\"linenos\">3760</span><span class=\"w\">                                      </span><span class=\"c1\">// need power for setups</span></div>\n<div class=\"line\"><a id=\"l-3761\" name=\"l-3761\"></a><span class=\"linenos\">3761</span><span class=\"w\">    </span><span class=\"p\">}</span></div>\n<div class=\"line\"><a id=\"l-3762\" name=\"l-3762\"></a><span class=\"linenos\">3762</span><span class=\"w\">    </span><span class=\"cm\">/** End [setup_sensors] */</span></div>\n<div class=\"line\"><a id=\"l-3763\" name=\"l-3763\"></a><span class=\"linenos\">3763</span></div>\n<div class=\"line\"><a id=\"l-3764\" name=\"l-3764\"></a><span class=\"linenos\">3764</span><span class=\"cp\">#if (defined BUILD_MODEM_ESPRESSIF_ESP8266 || \\</span></div>\n<div class=\"line\"><a id=\"l-3765\" name=\"l-3765\"></a><span class=\"linenos\">3765</span><span class=\"cp\">     defined BUILD_MODEM_ESPRESSIF_ESP32)</span></div>\n<div class=\"line\"><a id=\"l-3766\" name=\"l-3766\"></a><span class=\"linenos\">3766</span><span class=\"w\">    </span><span class=\"cm\">/** Start [setup_esp] */</span></div>\n<div class=\"line\"><a id=\"l-3767\" name=\"l-3767\"></a><span class=\"linenos\">3767</span><span class=\"w\">    </span><span class=\"n\">PRINTOUT</span><span class=\"p\">(</span><span class=\"n\">F</span><span class=\"p\">(</span><span class=\"s\">&quot;Waking the modem..&quot;</span><span class=\"p\">));</span></div>\n<div class=\"line\"><a id=\"l-3768\" name=\"l-3768\"></a><span class=\"linenos\">3768</span><span class=\"w\">    </span><span class=\"n\">PRINTOUT</span><span class=\"p\">(</span><span class=\"n\">F</span><span class=\"p\">(</span><span class=\"s\">&quot;Attempting to begin modem communication at&quot;</span><span class=\"p\">),</span><span class=\"w\"> </span><span class=\"n\">modemBaud</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3769\" name=\"l-3769\"></a><span class=\"linenos\">3769</span><span class=\"w\">             </span><span class=\"n\">F</span><span class=\"p\">(</span><span class=\"s\">&quot;baud.  This will fail if the baud is mismatched..&quot;</span><span class=\"p\">));</span></div>\n<div class=\"line\"><a id=\"l-3770\" name=\"l-3770\"></a><span class=\"linenos\">3770</span><span class=\"w\">    </span><span class=\"n\">modemSerial</span><span class=\"p\">.</span><span class=\"nf\">begin</span><span class=\"p\">(</span><span class=\"n\">modemBaud</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-3771\" name=\"l-3771\"></a><span class=\"linenos\">3771</span><span class=\"w\">    </span><span class=\"n\">modem</span><span class=\"p\">.</span><span class=\"n\">modemWake</span><span class=\"p\">();</span><span class=\"w\">  </span><span class=\"c1\">// NOTE:  This will also set up the modem</span></div>\n<div class=\"line\"><a id=\"l-3772\" name=\"l-3772\"></a><span class=\"linenos\">3772</span><span class=\"w\">    </span><span class=\"c1\">// WARNING: PLEASE REMOVE AUTOBAUDING FOR PRODUCTION CODE!</span></div>\n<div class=\"line\"><a id=\"l-3773\" name=\"l-3773\"></a><span class=\"linenos\">3773</span><span class=\"w\">    </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"o\">!</span><span class=\"n\">modem</span><span class=\"p\">.</span><span class=\"n\">gsmModem</span><span class=\"p\">.</span><span class=\"n\">testAT</span><span class=\"p\">())</span><span class=\"w\"> </span><span class=\"p\">{</span></div>\n<div class=\"line\"><a id=\"l-3774\" name=\"l-3774\"></a><span class=\"linenos\">3774</span><span class=\"w\">        </span><span class=\"n\">PRINTOUT</span><span class=\"p\">(</span><span class=\"n\">F</span><span class=\"p\">(</span><span class=\"s\">&quot;Attempting autobauding..&quot;</span><span class=\"p\">));</span></div>\n<div class=\"line\"><a id=\"l-3775\" name=\"l-3775\"></a><span class=\"linenos\">3775</span><span class=\"w\">        </span><span class=\"kr\">uint32_t</span><span class=\"w\"> </span><span class=\"n\">foundBaud</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">TinyGsmAutoBaud</span><span class=\"p\">(</span><span class=\"n\">modemSerial</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-3776\" name=\"l-3776\"></a><span class=\"linenos\">3776</span><span class=\"w\">        </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">foundBaud</span><span class=\"w\"> </span><span class=\"o\">!=</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"o\">||</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">modemBaud</span><span class=\"w\"> </span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"mi\">57600</span><span class=\"w\"> </span><span class=\"o\">&amp;&amp;</span><span class=\"w\"> </span><span class=\"n\">F_CPU</span><span class=\"w\"> </span><span class=\"o\">==</span><span class=\"w\"> </span><span class=\"mf\">8000000L</span><span class=\"p\">))</span><span class=\"w\"> </span><span class=\"p\">{</span></div>\n<div class=\"line\"><a id=\"l-3777\" name=\"l-3777\"></a><span class=\"linenos\">3777</span><span class=\"w\">            </span><span class=\"n\">PRINTOUT</span><span class=\"p\">(</span><span class=\"n\">F</span><span class=\"p\">(</span><span class=\"s\">&quot;Got modem response at baud of&quot;</span><span class=\"p\">),</span><span class=\"w\"> </span><span class=\"n\">foundBaud</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3778\" name=\"l-3778\"></a><span class=\"linenos\">3778</span><span class=\"w\">                     </span><span class=\"n\">F</span><span class=\"p\">(</span><span class=\"s\">&quot;Firing an attempt to change the baud rate to&quot;</span><span class=\"p\">),</span></div>\n<div class=\"line\"><a id=\"l-3779\" name=\"l-3779\"></a><span class=\"linenos\">3779</span><span class=\"w\">                     </span><span class=\"n\">modemBaud</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-3780\" name=\"l-3780\"></a><span class=\"linenos\">3780</span><span class=\"w\">            </span><span class=\"n\">modem</span><span class=\"p\">.</span><span class=\"n\">gsmModem</span><span class=\"p\">.</span><span class=\"n\">sendAT</span><span class=\"p\">(</span><span class=\"n\">GF</span><span class=\"p\">(</span><span class=\"s\">&quot;+UART_DEF=&quot;</span><span class=\"p\">),</span><span class=\"w\"> </span><span class=\"n\">modemBaud</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">F</span><span class=\"p\">(</span><span class=\"s\">&quot;,8,1,0,0&quot;</span><span class=\"p\">));</span></div>\n<div class=\"line\"><a id=\"l-3781\" name=\"l-3781\"></a><span class=\"linenos\">3781</span><span class=\"w\">            </span><span class=\"n\">modem</span><span class=\"p\">.</span><span class=\"n\">gsmModem</span><span class=\"p\">.</span><span class=\"n\">waitResponse</span><span class=\"p\">();</span></div>\n<div class=\"line\"><a id=\"l-3782\" name=\"l-3782\"></a><span class=\"linenos\">3782</span><span class=\"w\">            </span><span class=\"n\">modemSerial</span><span class=\"p\">.</span><span class=\"nf\">end</span><span class=\"p\">();</span></div>\n<div class=\"line\"><a id=\"l-3783\" name=\"l-3783\"></a><span class=\"linenos\">3783</span><span class=\"w\">            </span><span class=\"n\">modemSerial</span><span class=\"p\">.</span><span class=\"nf\">begin</span><span class=\"p\">(</span><span class=\"n\">modemBaud</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-3784\" name=\"l-3784\"></a><span class=\"linenos\">3784</span><span class=\"w\">        </span><span class=\"p\">}</span></div>\n<div class=\"line\"><a id=\"l-3785\" name=\"l-3785\"></a><span class=\"linenos\">3785</span><span class=\"w\">    </span><span class=\"p\">}</span></div>\n<div class=\"line\"><a id=\"l-3786\" name=\"l-3786\"></a><span class=\"linenos\">3786</span><span class=\"cm\">/** End [setup_esp] */</span></div>\n<div class=\"line\"><a id=\"l-3787\" name=\"l-3787\"></a><span class=\"linenos\">3787</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-3788\" name=\"l-3788\"></a><span class=\"linenos\">3788</span></div>\n<div class=\"line\"><a id=\"l-3789\" name=\"l-3789\"></a><span class=\"linenos\">3789</span><span class=\"cp\">#if defined(BUILD_TEST_SKYWIRE)</span></div>\n<div class=\"line\"><a id=\"l-3790\" name=\"l-3790\"></a><span class=\"linenos\">3790</span><span class=\"w\">    </span><span class=\"cm\">/** Start [setup_skywire] */</span></div>\n<div class=\"line\"><a id=\"l-3791\" name=\"l-3791\"></a><span class=\"linenos\">3791</span><span class=\"w\">    </span><span class=\"n\">modem</span><span class=\"p\">.</span><span class=\"n\">setModemStatusLevel</span><span class=\"p\">(</span><span class=\"kr\">LOW</span><span class=\"p\">);</span><span class=\"w\">  </span><span class=\"c1\">// If using CTS, LOW</span></div>\n<div class=\"line\"><a id=\"l-3792\" name=\"l-3792\"></a><span class=\"linenos\">3792</span><span class=\"w\">    </span><span class=\"n\">modem</span><span class=\"p\">.</span><span class=\"n\">setModemWakeLevel</span><span class=\"p\">(</span><span class=\"kr\">HIGH</span><span class=\"p\">);</span><span class=\"w\">   </span><span class=\"c1\">// Skywire dev board inverts the signal</span></div>\n<div class=\"line\"><a id=\"l-3793\" name=\"l-3793\"></a><span class=\"linenos\">3793</span><span class=\"w\">    </span><span class=\"n\">modem</span><span class=\"p\">.</span><span class=\"n\">setModemResetLevel</span><span class=\"p\">(</span><span class=\"kr\">HIGH</span><span class=\"p\">);</span><span class=\"w\">  </span><span class=\"c1\">// Skywire dev board inverts the signal</span></div>\n<div class=\"line\"><a id=\"l-3794\" name=\"l-3794\"></a><span class=\"linenos\">3794</span><span class=\"w\">    </span><span class=\"cm\">/** End [setup_skywire] */</span></div>\n<div class=\"line\"><a id=\"l-3795\" name=\"l-3795\"></a><span class=\"linenos\">3795</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-3796\" name=\"l-3796\"></a><span class=\"linenos\">3796</span></div>\n<div class=\"line\"><a id=\"l-3797\" name=\"l-3797\"></a><span class=\"linenos\">3797</span><span class=\"cp\">#if defined(BUILD_MODEM_SIM_COM_SIM7080)</span></div>\n<div class=\"line\"><a id=\"l-3798\" name=\"l-3798\"></a><span class=\"linenos\">3798</span><span class=\"w\">    </span><span class=\"cm\">/** Start [setup_sim7080] */</span></div>\n<div class=\"line\"><a id=\"l-3799\" name=\"l-3799\"></a><span class=\"linenos\">3799</span><span class=\"w\">    </span><span class=\"n\">modem</span><span class=\"p\">.</span><span class=\"n\">setModemWakeLevel</span><span class=\"p\">(</span><span class=\"kr\">HIGH</span><span class=\"p\">);</span><span class=\"w\">   </span><span class=\"c1\">// ModuleFun Bee inverts the signal</span></div>\n<div class=\"line\"><a id=\"l-3800\" name=\"l-3800\"></a><span class=\"linenos\">3800</span><span class=\"w\">    </span><span class=\"n\">modem</span><span class=\"p\">.</span><span class=\"n\">setModemResetLevel</span><span class=\"p\">(</span><span class=\"kr\">HIGH</span><span class=\"p\">);</span><span class=\"w\">  </span><span class=\"c1\">// ModuleFun Bee inverts the signal</span></div>\n<div class=\"line\"><a id=\"l-3801\" name=\"l-3801\"></a><span class=\"linenos\">3801</span><span class=\"w\">    </span><span class=\"n\">PRINTOUT</span><span class=\"p\">(</span><span class=\"n\">F</span><span class=\"p\">(</span><span class=\"s\">&quot;Waking modem and setting Cellular Carrier Options...&quot;</span><span class=\"p\">));</span></div>\n<div class=\"line\"><a id=\"l-3802\" name=\"l-3802\"></a><span class=\"linenos\">3802</span><span class=\"w\">    </span><span class=\"n\">modem</span><span class=\"p\">.</span><span class=\"n\">modemWake</span><span class=\"p\">();</span><span class=\"w\">  </span><span class=\"c1\">// NOTE:  This will also set up the modem</span></div>\n<div class=\"line\"><a id=\"l-3803\" name=\"l-3803\"></a><span class=\"linenos\">3803</span><span class=\"w\">    </span><span class=\"c1\">// WARNING: PLEASE REMOVE AUTOBAUDING FOR PRODUCTION CODE!</span></div>\n<div class=\"line\"><a id=\"l-3804\" name=\"l-3804\"></a><span class=\"linenos\">3804</span><span class=\"w\">    </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"o\">!</span><span class=\"n\">modem</span><span class=\"p\">.</span><span class=\"n\">gsmModem</span><span class=\"p\">.</span><span class=\"n\">testAT</span><span class=\"p\">())</span><span class=\"w\"> </span><span class=\"p\">{</span></div>\n<div class=\"line\"><a id=\"l-3805\" name=\"l-3805\"></a><span class=\"linenos\">3805</span><span class=\"w\">        </span><span class=\"n\">PRINTOUT</span><span class=\"p\">(</span><span class=\"n\">F</span><span class=\"p\">(</span><span class=\"s\">&quot;Attempting autobauding..&quot;</span><span class=\"p\">));</span></div>\n<div class=\"line\"><a id=\"l-3806\" name=\"l-3806\"></a><span class=\"linenos\">3806</span><span class=\"w\">        </span><span class=\"kr\">uint32_t</span><span class=\"w\"> </span><span class=\"n\">foundBaud</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">TinyGsmAutoBaud</span><span class=\"p\">(</span><span class=\"n\">modemSerial</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-3807\" name=\"l-3807\"></a><span class=\"linenos\">3807</span><span class=\"w\">        </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">foundBaud</span><span class=\"w\"> </span><span class=\"o\">!=</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"o\">&amp;&amp;</span><span class=\"w\"> </span><span class=\"o\">!</span><span class=\"p\">(</span><span class=\"n\">F_CPU</span><span class=\"w\"> </span><span class=\"o\">&lt;=</span><span class=\"w\"> </span><span class=\"mf\">8000000L</span><span class=\"w\"> </span><span class=\"o\">&amp;&amp;</span><span class=\"w\"> </span><span class=\"n\">foundBaud</span><span class=\"w\"> </span><span class=\"o\">&gt;=</span><span class=\"w\"> </span><span class=\"mi\">115200</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"o\">&amp;&amp;</span></div>\n<div class=\"line\"><a id=\"l-3808\" name=\"l-3808\"></a><span class=\"linenos\">3808</span><span class=\"w\">            </span><span class=\"o\">!</span><span class=\"p\">(</span><span class=\"n\">F_CPU</span><span class=\"w\"> </span><span class=\"o\">&lt;=</span><span class=\"w\"> </span><span class=\"mf\">16000000L</span><span class=\"w\"> </span><span class=\"o\">&amp;&amp;</span><span class=\"w\"> </span><span class=\"n\">foundBaud</span><span class=\"w\"> </span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"mi\">115200</span><span class=\"p\">))</span><span class=\"w\"> </span><span class=\"p\">{</span></div>\n<div class=\"line\"><a id=\"l-3809\" name=\"l-3809\"></a><span class=\"linenos\">3809</span><span class=\"w\">            </span><span class=\"n\">PRINTOUT</span><span class=\"p\">(</span><span class=\"n\">F</span><span class=\"p\">(</span><span class=\"s\">&quot;Got modem response at baud of&quot;</span><span class=\"p\">),</span><span class=\"w\"> </span><span class=\"n\">foundBaud</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-3810\" name=\"l-3810\"></a><span class=\"linenos\">3810</span><span class=\"w\">                     </span><span class=\"n\">F</span><span class=\"p\">(</span><span class=\"s\">&quot;Firing an attempt to change the baud rate to&quot;</span><span class=\"p\">),</span></div>\n<div class=\"line\"><a id=\"l-3811\" name=\"l-3811\"></a><span class=\"linenos\">3811</span><span class=\"w\">                     </span><span class=\"n\">modemBaud</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-3812\" name=\"l-3812\"></a><span class=\"linenos\">3812</span><span class=\"w\">            </span><span class=\"n\">modem</span><span class=\"p\">.</span><span class=\"n\">gsmModem</span><span class=\"p\">.</span><span class=\"n\">setBaud</span><span class=\"p\">(</span></div>\n<div class=\"line\"><a id=\"l-3813\" name=\"l-3813\"></a><span class=\"linenos\">3813</span><span class=\"w\">                </span><span class=\"n\">modemBaud</span><span class=\"p\">);</span><span class=\"w\">  </span><span class=\"c1\">// Make sure we&#39;re *NOT* auto-bauding!</span></div>\n<div class=\"line\"><a id=\"l-3814\" name=\"l-3814\"></a><span class=\"linenos\">3814</span><span class=\"w\">            </span><span class=\"n\">modem</span><span class=\"p\">.</span><span class=\"n\">gsmModem</span><span class=\"p\">.</span><span class=\"n\">waitResponse</span><span class=\"p\">();</span></div>\n<div class=\"line\"><a id=\"l-3815\" name=\"l-3815\"></a><span class=\"linenos\">3815</span><span class=\"w\">            </span><span class=\"n\">modemSerial</span><span class=\"p\">.</span><span class=\"nf\">end</span><span class=\"p\">();</span></div>\n<div class=\"line\"><a id=\"l-3816\" name=\"l-3816\"></a><span class=\"linenos\">3816</span><span class=\"w\">            </span><span class=\"n\">modemSerial</span><span class=\"p\">.</span><span class=\"nf\">begin</span><span class=\"p\">(</span><span class=\"n\">modemBaud</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-3817\" name=\"l-3817\"></a><span class=\"linenos\">3817</span><span class=\"w\">        </span><span class=\"p\">}</span></div>\n<div class=\"line\"><a id=\"l-3818\" name=\"l-3818\"></a><span class=\"linenos\">3818</span><span class=\"w\">    </span><span class=\"p\">}</span></div>\n<div class=\"line\"><a id=\"l-3819\" name=\"l-3819\"></a><span class=\"linenos\">3819</span><span class=\"w\">    </span><span class=\"n\">modem</span><span class=\"p\">.</span><span class=\"n\">gsmModem</span><span class=\"p\">.</span><span class=\"n\">setBaud</span><span class=\"p\">(</span><span class=\"n\">modemBaud</span><span class=\"p\">);</span><span class=\"w\">   </span><span class=\"c1\">// Make sure we&#39;re *NOT* auto-bauding!</span></div>\n<div class=\"line\"><a id=\"l-3820\" name=\"l-3820\"></a><span class=\"linenos\">3820</span><span class=\"w\">    </span><span class=\"n\">modem</span><span class=\"p\">.</span><span class=\"n\">gsmModem</span><span class=\"p\">.</span><span class=\"n\">setNetworkMode</span><span class=\"p\">(</span><span class=\"mi\">38</span><span class=\"p\">);</span><span class=\"w\">   </span><span class=\"c1\">// set to LTE only</span></div>\n<div class=\"line\"><a id=\"l-3821\" name=\"l-3821\"></a><span class=\"linenos\">3821</span><span class=\"w\">                                         </span><span class=\"c1\">// 2 Automatic</span></div>\n<div class=\"line\"><a id=\"l-3822\" name=\"l-3822\"></a><span class=\"linenos\">3822</span><span class=\"w\">                                         </span><span class=\"c1\">// 13 GSM only</span></div>\n<div class=\"line\"><a id=\"l-3823\" name=\"l-3823\"></a><span class=\"linenos\">3823</span><span class=\"w\">                                         </span><span class=\"c1\">// 38 LTE only</span></div>\n<div class=\"line\"><a id=\"l-3824\" name=\"l-3824\"></a><span class=\"linenos\">3824</span><span class=\"w\">                                         </span><span class=\"c1\">// 51 GSM and LTE only</span></div>\n<div class=\"line\"><a id=\"l-3825\" name=\"l-3825\"></a><span class=\"linenos\">3825</span><span class=\"w\">    </span><span class=\"n\">modem</span><span class=\"p\">.</span><span class=\"n\">gsmModem</span><span class=\"p\">.</span><span class=\"n\">setPreferredMode</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">);</span><span class=\"w\">  </span><span class=\"c1\">// set to CAT-M</span></div>\n<div class=\"line\"><a id=\"l-3826\" name=\"l-3826\"></a><span class=\"linenos\">3826</span><span class=\"w\">                                         </span><span class=\"c1\">// 1 CAT-M</span></div>\n<div class=\"line\"><a id=\"l-3827\" name=\"l-3827\"></a><span class=\"linenos\">3827</span><span class=\"w\">                                         </span><span class=\"c1\">// 2 NB-IoT</span></div>\n<div class=\"line\"><a id=\"l-3828\" name=\"l-3828\"></a><span class=\"linenos\">3828</span><span class=\"w\">                                         </span><span class=\"c1\">// 3 CAT-M and NB-IoT</span></div>\n<div class=\"line\"><a id=\"l-3829\" name=\"l-3829\"></a><span class=\"linenos\">3829</span><span class=\"w\">    </span><span class=\"cm\">/** End [setup_sim7080] */</span></div>\n<div class=\"line\"><a id=\"l-3830\" name=\"l-3830\"></a><span class=\"linenos\">3830</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-3831\" name=\"l-3831\"></a><span class=\"linenos\">3831</span></div>\n<div class=\"line\"><a id=\"l-3832\" name=\"l-3832\"></a><span class=\"linenos\">3832</span><span class=\"cp\">#if defined(BUILD_MODEM_DIGI_XBEE_CELLULAR_TRANSPARENT)</span></div>\n<div class=\"line\"><a id=\"l-3833\" name=\"l-3833\"></a><span class=\"linenos\">3833</span><span class=\"w\">    </span><span class=\"cm\">/** Start [setup_xbeec_carrier] */</span></div>\n<div class=\"line\"><a id=\"l-3834\" name=\"l-3834\"></a><span class=\"linenos\">3834</span><span class=\"w\">    </span><span class=\"c1\">// Extra modem set-up</span></div>\n<div class=\"line\"><a id=\"l-3835\" name=\"l-3835\"></a><span class=\"linenos\">3835</span><span class=\"w\">    </span><span class=\"n\">PRINTOUT</span><span class=\"p\">(</span><span class=\"n\">F</span><span class=\"p\">(</span><span class=\"s\">&quot;Waking modem and setting Cellular Carrier Options...&quot;</span><span class=\"p\">));</span></div>\n<div class=\"line\"><a id=\"l-3836\" name=\"l-3836\"></a><span class=\"linenos\">3836</span><span class=\"w\">    </span><span class=\"n\">modem</span><span class=\"p\">.</span><span class=\"n\">modemWake</span><span class=\"p\">();</span><span class=\"w\">  </span><span class=\"c1\">// NOTE:  This will also set up the modem</span></div>\n<div class=\"line\"><a id=\"l-3837\" name=\"l-3837\"></a><span class=\"linenos\">3837</span><span class=\"w\">    </span><span class=\"c1\">// Go back to command mode to set carrier options</span></div>\n<div class=\"line\"><a id=\"l-3838\" name=\"l-3838\"></a><span class=\"linenos\">3838</span><span class=\"w\">    </span><span class=\"n\">modem</span><span class=\"p\">.</span><span class=\"n\">gsmModem</span><span class=\"p\">.</span><span class=\"n\">commandMode</span><span class=\"p\">();</span></div>\n<div class=\"line\"><a id=\"l-3839\" name=\"l-3839\"></a><span class=\"linenos\">3839</span><span class=\"w\">    </span><span class=\"c1\">// Carrier Profile - 0 = Automatic selection</span></div>\n<div class=\"line\"><a id=\"l-3840\" name=\"l-3840\"></a><span class=\"linenos\">3840</span><span class=\"w\">    </span><span class=\"c1\">//                 - 1 = No profile/SIM ICCID selected</span></div>\n<div class=\"line\"><a id=\"l-3841\" name=\"l-3841\"></a><span class=\"linenos\">3841</span><span class=\"w\">    </span><span class=\"c1\">//                 - 2 = AT&amp;T</span></div>\n<div class=\"line\"><a id=\"l-3842\" name=\"l-3842\"></a><span class=\"linenos\">3842</span><span class=\"w\">    </span><span class=\"c1\">//                 - 3 = Verizon</span></div>\n<div class=\"line\"><a id=\"l-3843\" name=\"l-3843\"></a><span class=\"linenos\">3843</span><span class=\"w\">    </span><span class=\"c1\">// NOTE:  To select T-Mobile, you must enter bypass mode!</span></div>\n<div class=\"line\"><a id=\"l-3844\" name=\"l-3844\"></a><span class=\"linenos\">3844</span><span class=\"w\">    </span><span class=\"n\">modem</span><span class=\"p\">.</span><span class=\"n\">gsmModem</span><span class=\"p\">.</span><span class=\"n\">sendAT</span><span class=\"p\">(</span><span class=\"n\">GF</span><span class=\"p\">(</span><span class=\"s\">&quot;CP&quot;</span><span class=\"p\">),</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-3845\" name=\"l-3845\"></a><span class=\"linenos\">3845</span><span class=\"w\">    </span><span class=\"n\">modem</span><span class=\"p\">.</span><span class=\"n\">gsmModem</span><span class=\"p\">.</span><span class=\"n\">waitResponse</span><span class=\"p\">();</span></div>\n<div class=\"line\"><a id=\"l-3846\" name=\"l-3846\"></a><span class=\"linenos\">3846</span><span class=\"w\">    </span><span class=\"c1\">// Cellular network technology - 0 = LTE-M with NB-IoT fallback</span></div>\n<div class=\"line\"><a id=\"l-3847\" name=\"l-3847\"></a><span class=\"linenos\">3847</span><span class=\"w\">    </span><span class=\"c1\">//                             - 1 = NB-IoT with LTE-M fallback</span></div>\n<div class=\"line\"><a id=\"l-3848\" name=\"l-3848\"></a><span class=\"linenos\">3848</span><span class=\"w\">    </span><span class=\"c1\">//                             - 2 = LTE-M only</span></div>\n<div class=\"line\"><a id=\"l-3849\" name=\"l-3849\"></a><span class=\"linenos\">3849</span><span class=\"w\">    </span><span class=\"c1\">//                             - 3 = NB-IoT only</span></div>\n<div class=\"line\"><a id=\"l-3850\" name=\"l-3850\"></a><span class=\"linenos\">3850</span><span class=\"w\">    </span><span class=\"c1\">// NOTE:  As of 2020 in the USA, AT&amp;T and Verizon only use LTE-M</span></div>\n<div class=\"line\"><a id=\"l-3851\" name=\"l-3851\"></a><span class=\"linenos\">3851</span><span class=\"w\">    </span><span class=\"c1\">// T-Mobile uses NB-IOT</span></div>\n<div class=\"line\"><a id=\"l-3852\" name=\"l-3852\"></a><span class=\"linenos\">3852</span><span class=\"w\">    </span><span class=\"n\">modem</span><span class=\"p\">.</span><span class=\"n\">gsmModem</span><span class=\"p\">.</span><span class=\"n\">sendAT</span><span class=\"p\">(</span><span class=\"n\">GF</span><span class=\"p\">(</span><span class=\"s\">&quot;N#&quot;</span><span class=\"p\">),</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-3853\" name=\"l-3853\"></a><span class=\"linenos\">3853</span><span class=\"w\">    </span><span class=\"n\">modem</span><span class=\"p\">.</span><span class=\"n\">gsmModem</span><span class=\"p\">.</span><span class=\"n\">waitResponse</span><span class=\"p\">();</span></div>\n<div class=\"line\"><a id=\"l-3854\" name=\"l-3854\"></a><span class=\"linenos\">3854</span><span class=\"w\">    </span><span class=\"c1\">// Write changes to flash and apply them</span></div>\n<div class=\"line\"><a id=\"l-3855\" name=\"l-3855\"></a><span class=\"linenos\">3855</span><span class=\"w\">    </span><span class=\"n\">PRINTOUT</span><span class=\"p\">(</span><span class=\"n\">F</span><span class=\"p\">(</span><span class=\"s\">&quot;Wait while applying changes...&quot;</span><span class=\"p\">));</span></div>\n<div class=\"line\"><a id=\"l-3856\" name=\"l-3856\"></a><span class=\"linenos\">3856</span><span class=\"w\">    </span><span class=\"c1\">// Write changes to flash</span></div>\n<div class=\"line\"><a id=\"l-3857\" name=\"l-3857\"></a><span class=\"linenos\">3857</span><span class=\"w\">    </span><span class=\"n\">modem</span><span class=\"p\">.</span><span class=\"n\">gsmModem</span><span class=\"p\">.</span><span class=\"n\">writeChanges</span><span class=\"p\">();</span></div>\n<div class=\"line\"><a id=\"l-3858\" name=\"l-3858\"></a><span class=\"linenos\">3858</span><span class=\"w\">    </span><span class=\"c1\">// Reset the cellular component to ensure network settings are changed</span></div>\n<div class=\"line\"><a id=\"l-3859\" name=\"l-3859\"></a><span class=\"linenos\">3859</span><span class=\"w\">    </span><span class=\"n\">modem</span><span class=\"p\">.</span><span class=\"n\">gsmModem</span><span class=\"p\">.</span><span class=\"n\">sendAT</span><span class=\"p\">(</span><span class=\"n\">GF</span><span class=\"p\">(</span><span class=\"s\">&quot;!R&quot;</span><span class=\"p\">));</span></div>\n<div class=\"line\"><a id=\"l-3860\" name=\"l-3860\"></a><span class=\"linenos\">3860</span><span class=\"w\">    </span><span class=\"n\">modem</span><span class=\"p\">.</span><span class=\"n\">gsmModem</span><span class=\"p\">.</span><span class=\"n\">waitResponse</span><span class=\"p\">(</span><span class=\"mf\">30000L</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-3861\" name=\"l-3861\"></a><span class=\"linenos\">3861</span><span class=\"w\">    </span><span class=\"c1\">// Force reset of the Digi component as well</span></div>\n<div class=\"line\"><a id=\"l-3862\" name=\"l-3862\"></a><span class=\"linenos\">3862</span><span class=\"w\">    </span><span class=\"c1\">// This effectively exits command mode</span></div>\n<div class=\"line\"><a id=\"l-3863\" name=\"l-3863\"></a><span class=\"linenos\">3863</span><span class=\"w\">    </span><span class=\"n\">modem</span><span class=\"p\">.</span><span class=\"n\">gsmModem</span><span class=\"p\">.</span><span class=\"n\">sendAT</span><span class=\"p\">(</span><span class=\"n\">GF</span><span class=\"p\">(</span><span class=\"s\">&quot;FR&quot;</span><span class=\"p\">));</span></div>\n<div class=\"line\"><a id=\"l-3864\" name=\"l-3864\"></a><span class=\"linenos\">3864</span><span class=\"w\">    </span><span class=\"n\">modem</span><span class=\"p\">.</span><span class=\"n\">gsmModem</span><span class=\"p\">.</span><span class=\"n\">waitResponse</span><span class=\"p\">(</span><span class=\"mf\">5000L</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-3865\" name=\"l-3865\"></a><span class=\"linenos\">3865</span><span class=\"cm\">/** End [setup_xbeec_carrier] */</span></div>\n<div class=\"line\"><a id=\"l-3866\" name=\"l-3866\"></a><span class=\"linenos\">3866</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-3867\" name=\"l-3867\"></a><span class=\"linenos\">3867</span></div>\n<div class=\"line\"><a id=\"l-3868\" name=\"l-3868\"></a><span class=\"linenos\">3868</span><span class=\"cp\">#if defined(BUILD_MODEM_DIGI_XBEE_LTE_BYPASS)</span></div>\n<div class=\"line\"><a id=\"l-3869\" name=\"l-3869\"></a><span class=\"linenos\">3869</span><span class=\"w\">    </span><span class=\"cm\">/** Start [setup_r4_carrier] */</span></div>\n<div class=\"line\"><a id=\"l-3870\" name=\"l-3870\"></a><span class=\"linenos\">3870</span><span class=\"w\">    </span><span class=\"c1\">// Extra modem set-up</span></div>\n<div class=\"line\"><a id=\"l-3871\" name=\"l-3871\"></a><span class=\"linenos\">3871</span><span class=\"w\">    </span><span class=\"n\">PRINTOUT</span><span class=\"p\">(</span><span class=\"n\">F</span><span class=\"p\">(</span><span class=\"s\">&quot;Waking modem and setting Cellular Carrier Options...&quot;</span><span class=\"p\">));</span></div>\n<div class=\"line\"><a id=\"l-3872\" name=\"l-3872\"></a><span class=\"linenos\">3872</span><span class=\"w\">    </span><span class=\"n\">modem</span><span class=\"p\">.</span><span class=\"n\">modemWake</span><span class=\"p\">();</span><span class=\"w\">  </span><span class=\"c1\">// NOTE:  This will also set up the modem</span></div>\n<div class=\"line\"><a id=\"l-3873\" name=\"l-3873\"></a><span class=\"linenos\">3873</span><span class=\"w\">    </span><span class=\"c1\">// Turn off the cellular radio while making network changes</span></div>\n<div class=\"line\"><a id=\"l-3874\" name=\"l-3874\"></a><span class=\"linenos\">3874</span><span class=\"w\">    </span><span class=\"n\">modem</span><span class=\"p\">.</span><span class=\"n\">gsmModem</span><span class=\"p\">.</span><span class=\"n\">sendAT</span><span class=\"p\">(</span><span class=\"n\">GF</span><span class=\"p\">(</span><span class=\"s\">&quot;+CFUN=0&quot;</span><span class=\"p\">));</span></div>\n<div class=\"line\"><a id=\"l-3875\" name=\"l-3875\"></a><span class=\"linenos\">3875</span><span class=\"w\">    </span><span class=\"n\">modem</span><span class=\"p\">.</span><span class=\"n\">gsmModem</span><span class=\"p\">.</span><span class=\"n\">waitResponse</span><span class=\"p\">();</span></div>\n<div class=\"line\"><a id=\"l-3876\" name=\"l-3876\"></a><span class=\"linenos\">3876</span><span class=\"w\">    </span><span class=\"c1\">// Mobile Network Operator Profile - 0 = SW default</span></div>\n<div class=\"line\"><a id=\"l-3877\" name=\"l-3877\"></a><span class=\"linenos\">3877</span><span class=\"w\">    </span><span class=\"c1\">//                                 - 1 = SIM ICCID selected</span></div>\n<div class=\"line\"><a id=\"l-3878\" name=\"l-3878\"></a><span class=\"linenos\">3878</span><span class=\"w\">    </span><span class=\"c1\">//                                 - 2: ATT</span></div>\n<div class=\"line\"><a id=\"l-3879\" name=\"l-3879\"></a><span class=\"linenos\">3879</span><span class=\"w\">    </span><span class=\"c1\">//                                 - 6: China Telecom</span></div>\n<div class=\"line\"><a id=\"l-3880\" name=\"l-3880\"></a><span class=\"linenos\">3880</span><span class=\"w\">    </span><span class=\"c1\">//                                 - 100: Standard Europe</span></div>\n<div class=\"line\"><a id=\"l-3881\" name=\"l-3881\"></a><span class=\"linenos\">3881</span><span class=\"w\">    </span><span class=\"c1\">//                                 - 4: Telstra</span></div>\n<div class=\"line\"><a id=\"l-3882\" name=\"l-3882\"></a><span class=\"linenos\">3882</span><span class=\"w\">    </span><span class=\"c1\">//                                 - 5: T-Mobile US</span></div>\n<div class=\"line\"><a id=\"l-3883\" name=\"l-3883\"></a><span class=\"linenos\">3883</span><span class=\"w\">    </span><span class=\"c1\">//                                 - 19: Vodafone</span></div>\n<div class=\"line\"><a id=\"l-3884\" name=\"l-3884\"></a><span class=\"linenos\">3884</span><span class=\"w\">    </span><span class=\"c1\">//                                 - 3: Verizon</span></div>\n<div class=\"line\"><a id=\"l-3885\" name=\"l-3885\"></a><span class=\"linenos\">3885</span><span class=\"w\">    </span><span class=\"c1\">//                                 - 31: Deutsche Telekom</span></div>\n<div class=\"line\"><a id=\"l-3886\" name=\"l-3886\"></a><span class=\"linenos\">3886</span><span class=\"w\">    </span><span class=\"n\">modem</span><span class=\"p\">.</span><span class=\"n\">gsmModem</span><span class=\"p\">.</span><span class=\"n\">sendAT</span><span class=\"p\">(</span><span class=\"n\">GF</span><span class=\"p\">(</span><span class=\"s\">&quot;+UMNOPROF=&quot;</span><span class=\"p\">),</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-3887\" name=\"l-3887\"></a><span class=\"linenos\">3887</span><span class=\"w\">    </span><span class=\"n\">modem</span><span class=\"p\">.</span><span class=\"n\">gsmModem</span><span class=\"p\">.</span><span class=\"n\">waitResponse</span><span class=\"p\">();</span></div>\n<div class=\"line\"><a id=\"l-3888\" name=\"l-3888\"></a><span class=\"linenos\">3888</span><span class=\"w\">    </span><span class=\"c1\">// Selected network technology - 7: LTE Cat.M1</span></div>\n<div class=\"line\"><a id=\"l-3889\" name=\"l-3889\"></a><span class=\"linenos\">3889</span><span class=\"w\">    </span><span class=\"c1\">//                             - 8: LTE Cat.NB1</span></div>\n<div class=\"line\"><a id=\"l-3890\" name=\"l-3890\"></a><span class=\"linenos\">3890</span><span class=\"w\">    </span><span class=\"c1\">// Fallback network technology - 7: LTE Cat.M1</span></div>\n<div class=\"line\"><a id=\"l-3891\" name=\"l-3891\"></a><span class=\"linenos\">3891</span><span class=\"w\">    </span><span class=\"c1\">//                              - 8: LTE Cat.NB1</span></div>\n<div class=\"line\"><a id=\"l-3892\" name=\"l-3892\"></a><span class=\"linenos\">3892</span><span class=\"w\">    </span><span class=\"c1\">// NOTE:  As of 2020 in the USA, AT&amp;T and Verizon only use LTE-M</span></div>\n<div class=\"line\"><a id=\"l-3893\" name=\"l-3893\"></a><span class=\"linenos\">3893</span><span class=\"w\">    </span><span class=\"c1\">// T-Mobile uses NB-IOT</span></div>\n<div class=\"line\"><a id=\"l-3894\" name=\"l-3894\"></a><span class=\"linenos\">3894</span><span class=\"w\">    </span><span class=\"n\">modem</span><span class=\"p\">.</span><span class=\"n\">gsmModem</span><span class=\"p\">.</span><span class=\"n\">sendAT</span><span class=\"p\">(</span><span class=\"n\">GF</span><span class=\"p\">(</span><span class=\"s\">&quot;+URAT=&quot;</span><span class=\"p\">),</span><span class=\"w\"> </span><span class=\"mi\">7</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"sc\">&#39;,&#39;</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mi\">8</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-3895\" name=\"l-3895\"></a><span class=\"linenos\">3895</span><span class=\"w\">    </span><span class=\"n\">modem</span><span class=\"p\">.</span><span class=\"n\">gsmModem</span><span class=\"p\">.</span><span class=\"n\">waitResponse</span><span class=\"p\">();</span></div>\n<div class=\"line\"><a id=\"l-3896\" name=\"l-3896\"></a><span class=\"linenos\">3896</span><span class=\"w\">    </span><span class=\"c1\">// Restart the module to apply changes</span></div>\n<div class=\"line\"><a id=\"l-3897\" name=\"l-3897\"></a><span class=\"linenos\">3897</span><span class=\"w\">    </span><span class=\"n\">modem</span><span class=\"p\">.</span><span class=\"n\">gsmModem</span><span class=\"p\">.</span><span class=\"n\">sendAT</span><span class=\"p\">(</span><span class=\"n\">GF</span><span class=\"p\">(</span><span class=\"s\">&quot;+CFUN=1,1&quot;</span><span class=\"p\">));</span></div>\n<div class=\"line\"><a id=\"l-3898\" name=\"l-3898\"></a><span class=\"linenos\">3898</span><span class=\"w\">    </span><span class=\"n\">modem</span><span class=\"p\">.</span><span class=\"n\">gsmModem</span><span class=\"p\">.</span><span class=\"n\">waitResponse</span><span class=\"p\">(</span><span class=\"mf\">10000L</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-3899\" name=\"l-3899\"></a><span class=\"linenos\">3899</span><span class=\"cm\">/** End [setup_r4_carrier] */</span></div>\n<div class=\"line\"><a id=\"l-3900\" name=\"l-3900\"></a><span class=\"linenos\">3900</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-3901\" name=\"l-3901\"></a><span class=\"linenos\">3901</span></div>\n<div class=\"line\"><a id=\"l-3902\" name=\"l-3902\"></a><span class=\"linenos\">3902</span><span class=\"w\">    </span><span class=\"cm\">/** Start [setup_clock] */</span></div>\n<div class=\"line\"><a id=\"l-3903\" name=\"l-3903\"></a><span class=\"linenos\">3903</span><span class=\"w\">    </span><span class=\"c1\">// Sync the clock if it isn&#39;t valid or we have battery to spare</span></div>\n<div class=\"line\"><a id=\"l-3904\" name=\"l-3904\"></a><span class=\"linenos\">3904</span><span class=\"w\">    </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">getBatteryVoltage</span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"mf\">3.55</span><span class=\"w\"> </span><span class=\"o\">||</span><span class=\"w\"> </span><span class=\"o\">!</span><span class=\"n\">loggerClock</span><span class=\"o\">::</span><span class=\"n\">isRTCSane</span><span class=\"p\">())</span><span class=\"w\"> </span><span class=\"p\">{</span></div>\n<div class=\"line\"><a id=\"l-3905\" name=\"l-3905\"></a><span class=\"linenos\">3905</span><span class=\"w\">        </span><span class=\"c1\">// Set up the modem, synchronize the RTC with NIST, and publish</span></div>\n<div class=\"line\"><a id=\"l-3906\" name=\"l-3906\"></a><span class=\"linenos\">3906</span><span class=\"w\">        </span><span class=\"c1\">// configuration information to publishers that support it.</span></div>\n<div class=\"line\"><a id=\"l-3907\" name=\"l-3907\"></a><span class=\"linenos\">3907</span><span class=\"w\">        </span><span class=\"n\">dataLogger</span><span class=\"p\">.</span><span class=\"n\">makeInitialConnections</span><span class=\"p\">();</span></div>\n<div class=\"line\"><a id=\"l-3908\" name=\"l-3908\"></a><span class=\"linenos\">3908</span><span class=\"w\">    </span><span class=\"p\">}</span></div>\n<div class=\"line\"><a id=\"l-3909\" name=\"l-3909\"></a><span class=\"linenos\">3909</span><span class=\"w\">    </span><span class=\"cm\">/** End [setup_clock] */</span></div>\n<div class=\"line\"><a id=\"l-3910\" name=\"l-3910\"></a><span class=\"linenos\">3910</span></div>\n<div class=\"line\"><a id=\"l-3911\" name=\"l-3911\"></a><span class=\"linenos\">3911</span><span class=\"w\">    </span><span class=\"cm\">/** Start [setup_file] */</span></div>\n<div class=\"line\"><a id=\"l-3912\" name=\"l-3912\"></a><span class=\"linenos\">3912</span><span class=\"w\">    </span><span class=\"c1\">// Create the log file, adding the default header to it</span></div>\n<div class=\"line\"><a id=\"l-3913\" name=\"l-3913\"></a><span class=\"linenos\">3913</span><span class=\"w\">    </span><span class=\"c1\">// Do this last so we have the best chance of getting the time correct and</span></div>\n<div class=\"line\"><a id=\"l-3914\" name=\"l-3914\"></a><span class=\"linenos\">3914</span><span class=\"w\">    </span><span class=\"c1\">// all sensor names correct.</span></div>\n<div class=\"line\"><a id=\"l-3915\" name=\"l-3915\"></a><span class=\"linenos\">3915</span><span class=\"w\">    </span><span class=\"c1\">// Writing to the SD card can be power intensive, so if we&#39;re skipping the</span></div>\n<div class=\"line\"><a id=\"l-3916\" name=\"l-3916\"></a><span class=\"linenos\">3916</span><span class=\"w\">    </span><span class=\"c1\">// sensor setup we&#39;ll skip this too.</span></div>\n<div class=\"line\"><a id=\"l-3917\" name=\"l-3917\"></a><span class=\"linenos\">3917</span><span class=\"w\">    </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">getBatteryVoltage</span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"mf\">3.4</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">{</span></div>\n<div class=\"line\"><a id=\"l-3918\" name=\"l-3918\"></a><span class=\"linenos\">3918</span><span class=\"w\">        </span><span class=\"n\">PRINTOUT</span><span class=\"p\">(</span><span class=\"n\">F</span><span class=\"p\">(</span><span class=\"s\">&quot;Setting up file on SD card&quot;</span><span class=\"p\">));</span></div>\n<div class=\"line\"><a id=\"l-3919\" name=\"l-3919\"></a><span class=\"linenos\">3919</span><span class=\"w\">        </span><span class=\"n\">dataLogger</span><span class=\"p\">.</span><span class=\"n\">turnOnSDcard</span><span class=\"p\">(</span><span class=\"kr\">true</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-3920\" name=\"l-3920\"></a><span class=\"linenos\">3920</span><span class=\"w\">        </span><span class=\"c1\">// true = wait for card to settle after power up</span></div>\n<div class=\"line\"><a id=\"l-3921\" name=\"l-3921\"></a><span class=\"linenos\">3921</span><span class=\"w\">        </span><span class=\"n\">dataLogger</span><span class=\"p\">.</span><span class=\"n\">createLogFile</span><span class=\"p\">(</span><span class=\"kr\">true</span><span class=\"p\">);</span><span class=\"w\">  </span><span class=\"c1\">// true = write a new header</span></div>\n<div class=\"line\"><a id=\"l-3922\" name=\"l-3922\"></a><span class=\"linenos\">3922</span><span class=\"w\">        </span><span class=\"n\">dataLogger</span><span class=\"p\">.</span><span class=\"n\">turnOffSDcard</span><span class=\"p\">(</span><span class=\"kr\">true</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-3923\" name=\"l-3923\"></a><span class=\"linenos\">3923</span><span class=\"w\">        </span><span class=\"c1\">// true = wait for internal housekeeping after write</span></div>\n<div class=\"line\"><a id=\"l-3924\" name=\"l-3924\"></a><span class=\"linenos\">3924</span><span class=\"w\">    </span><span class=\"p\">}</span></div>\n<div class=\"line\"><a id=\"l-3925\" name=\"l-3925\"></a><span class=\"linenos\">3925</span><span class=\"w\">    </span><span class=\"cm\">/** End [setup_file] */</span></div>\n<div class=\"line\"><a id=\"l-3926\" name=\"l-3926\"></a><span class=\"linenos\">3926</span></div>\n<div class=\"line\"><a id=\"l-3927\" name=\"l-3927\"></a><span class=\"linenos\">3927</span><span class=\"w\">    </span><span class=\"cm\">/** Start [setup_sleep] */</span></div>\n<div class=\"line\"><a id=\"l-3928\" name=\"l-3928\"></a><span class=\"linenos\">3928</span><span class=\"w\">    </span><span class=\"c1\">// Call the processor sleep</span></div>\n<div class=\"line\"><a id=\"l-3929\" name=\"l-3929\"></a><span class=\"linenos\">3929</span><span class=\"w\">    </span><span class=\"n\">PRINTOUT</span><span class=\"p\">(</span><span class=\"n\">F</span><span class=\"p\">(</span><span class=\"s\">&quot;Putting processor to sleep</span><span class=\"se\">\\n</span><span class=\"s\">&quot;</span><span class=\"p\">));</span></div>\n<div class=\"line\"><a id=\"l-3930\" name=\"l-3930\"></a><span class=\"linenos\">3930</span><span class=\"w\">    </span><span class=\"n\">dataLogger</span><span class=\"p\">.</span><span class=\"n\">systemSleep</span><span class=\"p\">();</span></div>\n<div class=\"line\"><a id=\"l-3931\" name=\"l-3931\"></a><span class=\"linenos\">3931</span><span class=\"w\">    </span><span class=\"cm\">/** End [setup_sleep] */</span></div>\n<div class=\"line\"><a id=\"l-3932\" name=\"l-3932\"></a><span class=\"linenos\">3932</span><span class=\"p\">}</span></div>\n<div class=\"line\"><a id=\"l-3933\" name=\"l-3933\"></a><span class=\"linenos\">3933</span></div>\n<div class=\"line\"><a id=\"l-3934\" name=\"l-3934\"></a><span class=\"linenos\">3934</span></div>\n<div class=\"line\"><a id=\"l-3935\" name=\"l-3935\"></a><span class=\"linenos\">3935</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-3936\" name=\"l-3936\"></a><span class=\"linenos\">3936</span><span class=\"c1\">//  Arduino Loop Function</span></div>\n<div class=\"line\"><a id=\"l-3937\" name=\"l-3937\"></a><span class=\"linenos\">3937</span><span class=\"c1\">// ==========================================================================</span></div>\n<div class=\"line\"><a id=\"l-3938\" name=\"l-3938\"></a><span class=\"linenos\">3938</span><span class=\"cp\">#ifndef BUILD_TEST_COMPLEX_LOOP</span></div>\n<div class=\"line\"><a id=\"l-3939\" name=\"l-3939\"></a><span class=\"linenos\">3939</span><span class=\"c1\">// Use this short loop for simple data logging and sending</span></div>\n<div class=\"line\"><a id=\"l-3940\" name=\"l-3940\"></a><span class=\"linenos\">3940</span><span class=\"cm\">/** Start [simple_loop] */</span></div>\n<div class=\"line\"><a id=\"l-3941\" name=\"l-3941\"></a><span class=\"linenos\">3941</span><span class=\"kr\">void</span><span class=\"w\"> </span><span class=\"nb\">loop</span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"p\">{</span></div>\n<div class=\"line\"><a id=\"l-3942\" name=\"l-3942\"></a><span class=\"linenos\">3942</span><span class=\"w\">    </span><span class=\"c1\">// Note:  Please change these battery voltages to match your battery</span></div>\n<div class=\"line\"><a id=\"l-3943\" name=\"l-3943\"></a><span class=\"linenos\">3943</span><span class=\"w\">    </span><span class=\"c1\">// At very low battery, just go back to sleep</span></div>\n<div class=\"line\"><a id=\"l-3944\" name=\"l-3944\"></a><span class=\"linenos\">3944</span><span class=\"w\">    </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">getBatteryVoltage</span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"w\"> </span><span class=\"mf\">3.4</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">{</span></div>\n<div class=\"line\"><a id=\"l-3945\" name=\"l-3945\"></a><span class=\"linenos\">3945</span><span class=\"w\">        </span><span class=\"n\">PRINTOUT</span><span class=\"p\">(</span><span class=\"n\">F</span><span class=\"p\">(</span><span class=\"s\">&quot;Battery too low, (&quot;</span><span class=\"p\">),</span></div>\n<div class=\"line\"><a id=\"l-3946\" name=\"l-3946\"></a><span class=\"linenos\">3946</span><span class=\"w\">                 </span><span class=\"n\">mcuBoard</span><span class=\"p\">.</span><span class=\"n\">sensorValues</span><span class=\"p\">[</span><span class=\"n\">PROCESSOR_BATTERY_VAR_NUM</span><span class=\"p\">],</span></div>\n<div class=\"line\"><a id=\"l-3947\" name=\"l-3947\"></a><span class=\"linenos\">3947</span><span class=\"w\">                 </span><span class=\"n\">F</span><span class=\"p\">(</span><span class=\"s\">&quot;V) going back to sleep.&quot;</span><span class=\"p\">));</span></div>\n<div class=\"line\"><a id=\"l-3948\" name=\"l-3948\"></a><span class=\"linenos\">3948</span><span class=\"w\">        </span><span class=\"n\">dataLogger</span><span class=\"p\">.</span><span class=\"n\">systemSleep</span><span class=\"p\">();</span></div>\n<div class=\"line\"><a id=\"l-3949\" name=\"l-3949\"></a><span class=\"linenos\">3949</span><span class=\"w\">    </span><span class=\"p\">}</span><span class=\"w\"> </span><span class=\"k\">else</span><span class=\"w\"> </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">getBatteryVoltage</span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"w\"> </span><span class=\"mf\">3.55</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">{</span></div>\n<div class=\"line\"><a id=\"l-3950\" name=\"l-3950\"></a><span class=\"linenos\">3950</span><span class=\"w\">        </span><span class=\"c1\">// At moderate voltage, log data but don&#39;t send it over the modem</span></div>\n<div class=\"line\"><a id=\"l-3951\" name=\"l-3951\"></a><span class=\"linenos\">3951</span><span class=\"w\">        </span><span class=\"n\">PRINTOUT</span><span class=\"p\">(</span><span class=\"n\">F</span><span class=\"p\">(</span><span class=\"s\">&quot;Battery at&quot;</span><span class=\"p\">),</span></div>\n<div class=\"line\"><a id=\"l-3952\" name=\"l-3952\"></a><span class=\"linenos\">3952</span><span class=\"w\">                 </span><span class=\"n\">mcuBoard</span><span class=\"p\">.</span><span class=\"n\">sensorValues</span><span class=\"p\">[</span><span class=\"n\">PROCESSOR_BATTERY_VAR_NUM</span><span class=\"p\">],</span></div>\n<div class=\"line\"><a id=\"l-3953\" name=\"l-3953\"></a><span class=\"linenos\">3953</span><span class=\"w\">                 </span><span class=\"n\">F</span><span class=\"p\">(</span><span class=\"s\">&quot;V; high enough to log, but will not publish!&quot;</span><span class=\"p\">));</span></div>\n<div class=\"line\"><a id=\"l-3954\" name=\"l-3954\"></a><span class=\"linenos\">3954</span><span class=\"w\">        </span><span class=\"n\">dataLogger</span><span class=\"p\">.</span><span class=\"n\">logData</span><span class=\"p\">();</span></div>\n<div class=\"line\"><a id=\"l-3955\" name=\"l-3955\"></a><span class=\"linenos\">3955</span><span class=\"w\">    </span><span class=\"p\">}</span><span class=\"w\"> </span><span class=\"k\">else</span><span class=\"w\"> </span><span class=\"p\">{</span></div>\n<div class=\"line\"><a id=\"l-3956\" name=\"l-3956\"></a><span class=\"linenos\">3956</span><span class=\"w\">        </span><span class=\"c1\">// If the battery is good, send the data to the world</span></div>\n<div class=\"line\"><a id=\"l-3957\" name=\"l-3957\"></a><span class=\"linenos\">3957</span><span class=\"w\">        </span><span class=\"n\">PRINTOUT</span><span class=\"p\">(</span><span class=\"n\">F</span><span class=\"p\">(</span><span class=\"s\">&quot;Battery at&quot;</span><span class=\"p\">),</span></div>\n<div class=\"line\"><a id=\"l-3958\" name=\"l-3958\"></a><span class=\"linenos\">3958</span><span class=\"w\">                 </span><span class=\"n\">mcuBoard</span><span class=\"p\">.</span><span class=\"n\">sensorValues</span><span class=\"p\">[</span><span class=\"n\">PROCESSOR_BATTERY_VAR_NUM</span><span class=\"p\">],</span></div>\n<div class=\"line\"><a id=\"l-3959\" name=\"l-3959\"></a><span class=\"linenos\">3959</span><span class=\"w\">                 </span><span class=\"n\">F</span><span class=\"p\">(</span><span class=\"s\">&quot;V; high enough to log and publish data&quot;</span><span class=\"p\">));</span></div>\n<div class=\"line\"><a id=\"l-3960\" name=\"l-3960\"></a><span class=\"linenos\">3960</span><span class=\"w\">        </span><span class=\"n\">dataLogger</span><span class=\"p\">.</span><span class=\"n\">logDataAndPublish</span><span class=\"p\">();</span></div>\n<div class=\"line\"><a id=\"l-3961\" name=\"l-3961\"></a><span class=\"linenos\">3961</span><span class=\"w\">    </span><span class=\"p\">}</span></div>\n<div class=\"line\"><a id=\"l-3962\" name=\"l-3962\"></a><span class=\"linenos\">3962</span><span class=\"p\">}</span></div>\n<div class=\"line\"><a id=\"l-3963\" name=\"l-3963\"></a><span class=\"linenos\">3963</span></div>\n<div class=\"line\"><a id=\"l-3964\" name=\"l-3964\"></a><span class=\"linenos\">3964</span><span class=\"cm\">/** End [simple_loop] */</span></div>\n<div class=\"line\"><a id=\"l-3965\" name=\"l-3965\"></a><span class=\"linenos\">3965</span></div>\n<div class=\"line\"><a id=\"l-3966\" name=\"l-3966\"></a><span class=\"linenos\">3966</span><span class=\"cp\">#else</span></div>\n<div class=\"line\"><a id=\"l-3967\" name=\"l-3967\"></a><span class=\"linenos\">3967</span><span class=\"cm\">/** Start [complex_loop] */</span></div>\n<div class=\"line\"><a id=\"l-3968\" name=\"l-3968\"></a><span class=\"linenos\">3968</span><span class=\"c1\">// Use this long loop when you want to do something special</span></div>\n<div class=\"line\"><a id=\"l-3969\" name=\"l-3969\"></a><span class=\"linenos\">3969</span><span class=\"c1\">// Because of the way alarms work on the RTC, it will wake the processor and</span></div>\n<div class=\"line\"><a id=\"l-3970\" name=\"l-3970\"></a><span class=\"linenos\">3970</span><span class=\"c1\">// start the loop every minute exactly on the minute.</span></div>\n<div class=\"line\"><a id=\"l-3971\" name=\"l-3971\"></a><span class=\"linenos\">3971</span><span class=\"c1\">// The processor may also be woken up by another interrupt or level change on a</span></div>\n<div class=\"line\"><a id=\"l-3972\" name=\"l-3972\"></a><span class=\"linenos\">3972</span><span class=\"c1\">// pin - from a button or some other input.</span></div>\n<div class=\"line\"><a id=\"l-3973\" name=\"l-3973\"></a><span class=\"linenos\">3973</span><span class=\"c1\">// The &quot;if&quot; statements in the loop determine what will happen - whether the</span></div>\n<div class=\"line\"><a id=\"l-3974\" name=\"l-3974\"></a><span class=\"linenos\">3974</span><span class=\"c1\">// sensors update, testing mode starts, or it goes back to sleep.</span></div>\n<div class=\"line\"><a id=\"l-3975\" name=\"l-3975\"></a><span class=\"linenos\">3975</span><span class=\"kr\">void</span><span class=\"w\"> </span><span class=\"nb\">loop</span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"p\">{</span></div>\n<div class=\"line\"><a id=\"l-3976\" name=\"l-3976\"></a><span class=\"linenos\">3976</span><span class=\"w\">    </span><span class=\"c1\">// Reset the watchdog</span></div>\n<div class=\"line\"><a id=\"l-3977\" name=\"l-3977\"></a><span class=\"linenos\">3977</span><span class=\"w\">    </span><span class=\"n\">extendedWatchDog</span><span class=\"o\">::</span><span class=\"n\">resetWatchDog</span><span class=\"p\">();</span></div>\n<div class=\"line\"><a id=\"l-3978\" name=\"l-3978\"></a><span class=\"linenos\">3978</span></div>\n<div class=\"line\"><a id=\"l-3979\" name=\"l-3979\"></a><span class=\"linenos\">3979</span><span class=\"w\">    </span><span class=\"c1\">// Assuming we were woken up by the clock, check if the current time is an</span></div>\n<div class=\"line\"><a id=\"l-3980\" name=\"l-3980\"></a><span class=\"linenos\">3980</span><span class=\"w\">    </span><span class=\"c1\">// even interval of the logging interval</span></div>\n<div class=\"line\"><a id=\"l-3981\" name=\"l-3981\"></a><span class=\"linenos\">3981</span><span class=\"w\">    </span><span class=\"c1\">// We&#39;re only doing anything at all if the battery is above 3.4V</span></div>\n<div class=\"line\"><a id=\"l-3982\" name=\"l-3982\"></a><span class=\"linenos\">3982</span><span class=\"w\">    </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">dataLogger</span><span class=\"p\">.</span><span class=\"n\">checkInterval</span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"o\">&amp;&amp;</span><span class=\"w\"> </span><span class=\"n\">getBatteryVoltage</span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"mf\">3.4</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">{</span></div>\n<div class=\"line\"><a id=\"l-3983\" name=\"l-3983\"></a><span class=\"linenos\">3983</span><span class=\"w\">        </span><span class=\"c1\">// Flag to notify that we&#39;re in already awake and logging a point</span></div>\n<div class=\"line\"><a id=\"l-3984\" name=\"l-3984\"></a><span class=\"linenos\">3984</span><span class=\"w\">        </span><span class=\"n\">Logger</span><span class=\"o\">::</span><span class=\"n\">isLoggingNow</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"kr\">true</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-3985\" name=\"l-3985\"></a><span class=\"linenos\">3985</span><span class=\"w\">        </span><span class=\"n\">extendedWatchDog</span><span class=\"o\">::</span><span class=\"n\">resetWatchDog</span><span class=\"p\">();</span></div>\n<div class=\"line\"><a id=\"l-3986\" name=\"l-3986\"></a><span class=\"linenos\">3986</span></div>\n<div class=\"line\"><a id=\"l-3987\" name=\"l-3987\"></a><span class=\"linenos\">3987</span><span class=\"w\">        </span><span class=\"c1\">// Print a line to show new reading</span></div>\n<div class=\"line\"><a id=\"l-3988\" name=\"l-3988\"></a><span class=\"linenos\">3988</span><span class=\"w\">        </span><span class=\"n\">PRINTOUT</span><span class=\"p\">(</span><span class=\"n\">F</span><span class=\"p\">(</span><span class=\"s\">&quot;------------------------------------------&quot;</span><span class=\"p\">));</span></div>\n<div class=\"line\"><a id=\"l-3989\" name=\"l-3989\"></a><span class=\"linenos\">3989</span><span class=\"w\">        </span><span class=\"c1\">// Turn on the LED to show we&#39;re taking a reading</span></div>\n<div class=\"line\"><a id=\"l-3990\" name=\"l-3990\"></a><span class=\"linenos\">3990</span><span class=\"w\">        </span><span class=\"n\">dataLogger</span><span class=\"p\">.</span><span class=\"n\">alertOn</span><span class=\"p\">();</span></div>\n<div class=\"line\"><a id=\"l-3991\" name=\"l-3991\"></a><span class=\"linenos\">3991</span><span class=\"w\">        </span><span class=\"c1\">// Power up the SD Card, but skip any waits after power up</span></div>\n<div class=\"line\"><a id=\"l-3992\" name=\"l-3992\"></a><span class=\"linenos\">3992</span><span class=\"w\">        </span><span class=\"n\">dataLogger</span><span class=\"p\">.</span><span class=\"n\">turnOnSDcard</span><span class=\"p\">(</span><span class=\"kr\">false</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-3993\" name=\"l-3993\"></a><span class=\"linenos\">3993</span><span class=\"w\">        </span><span class=\"n\">extendedWatchDog</span><span class=\"o\">::</span><span class=\"n\">resetWatchDog</span><span class=\"p\">();</span></div>\n<div class=\"line\"><a id=\"l-3994\" name=\"l-3994\"></a><span class=\"linenos\">3994</span></div>\n<div class=\"line\"><a id=\"l-3995\" name=\"l-3995\"></a><span class=\"linenos\">3995</span><span class=\"w\">        </span><span class=\"c1\">// Turn on the modem to let it start searching for the network</span></div>\n<div class=\"line\"><a id=\"l-3996\" name=\"l-3996\"></a><span class=\"linenos\">3996</span><span class=\"w\">        </span><span class=\"c1\">// Only turn the modem on if the battery at the last interval was high</span></div>\n<div class=\"line\"><a id=\"l-3997\" name=\"l-3997\"></a><span class=\"linenos\">3997</span><span class=\"w\">        </span><span class=\"c1\">// enough</span></div>\n<div class=\"line\"><a id=\"l-3998\" name=\"l-3998\"></a><span class=\"linenos\">3998</span><span class=\"w\">        </span><span class=\"c1\">// NOTE:  if the modemPowerUp function is not run before the</span></div>\n<div class=\"line\"><a id=\"l-3999\" name=\"l-3999\"></a><span class=\"linenos\">3999</span><span class=\"w\">        </span><span class=\"c1\">// completeUpdate</span></div>\n<div class=\"line\"><a id=\"l-4000\" name=\"l-4000\"></a><span class=\"linenos\">4000</span><span class=\"w\">        </span><span class=\"c1\">// function is run, the modem will not be powered and will not</span></div>\n<div class=\"line\"><a id=\"l-4001\" name=\"l-4001\"></a><span class=\"linenos\">4001</span><span class=\"w\">        </span><span class=\"c1\">// return a signal strength reading.</span></div>\n<div class=\"line\"><a id=\"l-4002\" name=\"l-4002\"></a><span class=\"linenos\">4002</span><span class=\"w\">        </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">getBatteryVoltage</span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"mf\">3.55</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"n\">modem</span><span class=\"p\">.</span><span class=\"n\">modemPowerUp</span><span class=\"p\">();</span></div>\n<div class=\"line\"><a id=\"l-4003\" name=\"l-4003\"></a><span class=\"linenos\">4003</span></div>\n<div class=\"line\"><a id=\"l-4004\" name=\"l-4004\"></a><span class=\"linenos\">4004</span><span class=\"cp\">#if defined(BUILD_TEST_ALTSOFTSERIAL)</span></div>\n<div class=\"line\"><a id=\"l-4005\" name=\"l-4005\"></a><span class=\"linenos\">4005</span><span class=\"w\">        </span><span class=\"c1\">// Start the stream for the modbus sensors, if your RS485 adapter bleeds</span></div>\n<div class=\"line\"><a id=\"l-4006\" name=\"l-4006\"></a><span class=\"linenos\">4006</span><span class=\"w\">        </span><span class=\"c1\">// current from data pins when powered off &amp; you stop modbus serial</span></div>\n<div class=\"line\"><a id=\"l-4007\" name=\"l-4007\"></a><span class=\"linenos\">4007</span><span class=\"w\">        </span><span class=\"c1\">// connection with digitalWrite(5, LOW), below.</span></div>\n<div class=\"line\"><a id=\"l-4008\" name=\"l-4008\"></a><span class=\"linenos\">4008</span><span class=\"w\">        </span><span class=\"c1\">// https://github.com/EnviroDIY/ModularSensors/issues/140#issuecomment-389380833</span></div>\n<div class=\"line\"><a id=\"l-4009\" name=\"l-4009\"></a><span class=\"linenos\">4009</span><span class=\"w\">        </span><span class=\"n\">altSoftSerial</span><span class=\"p\">.</span><span class=\"nf\">begin</span><span class=\"p\">(</span><span class=\"mi\">9600</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-4010\" name=\"l-4010\"></a><span class=\"linenos\">4010</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-4011\" name=\"l-4011\"></a><span class=\"linenos\">4011</span></div>\n<div class=\"line\"><a id=\"l-4012\" name=\"l-4012\"></a><span class=\"linenos\">4012</span><span class=\"w\">        </span><span class=\"c1\">// Do a complete update on the variable array.</span></div>\n<div class=\"line\"><a id=\"l-4013\" name=\"l-4013\"></a><span class=\"linenos\">4013</span><span class=\"w\">        </span><span class=\"c1\">// This this includes powering all of the sensors, getting updated</span></div>\n<div class=\"line\"><a id=\"l-4014\" name=\"l-4014\"></a><span class=\"linenos\">4014</span><span class=\"w\">        </span><span class=\"c1\">// values, and turing them back off.</span></div>\n<div class=\"line\"><a id=\"l-4015\" name=\"l-4015\"></a><span class=\"linenos\">4015</span><span class=\"w\">        </span><span class=\"c1\">// NOTE:  The wake function for each sensor should force sensor setup</span></div>\n<div class=\"line\"><a id=\"l-4016\" name=\"l-4016\"></a><span class=\"linenos\">4016</span><span class=\"w\">        </span><span class=\"c1\">// to run if the sensor was not previously set up.</span></div>\n<div class=\"line\"><a id=\"l-4017\" name=\"l-4017\"></a><span class=\"linenos\">4017</span><span class=\"w\">        </span><span class=\"n\">varArray</span><span class=\"p\">.</span><span class=\"n\">completeUpdate</span><span class=\"p\">();</span></div>\n<div class=\"line\"><a id=\"l-4018\" name=\"l-4018\"></a><span class=\"linenos\">4018</span></div>\n<div class=\"line\"><a id=\"l-4019\" name=\"l-4019\"></a><span class=\"linenos\">4019</span><span class=\"w\">        </span><span class=\"n\">extendedWatchDog</span><span class=\"o\">::</span><span class=\"n\">resetWatchDog</span><span class=\"p\">();</span></div>\n<div class=\"line\"><a id=\"l-4020\" name=\"l-4020\"></a><span class=\"linenos\">4020</span></div>\n<div class=\"line\"><a id=\"l-4021\" name=\"l-4021\"></a><span class=\"linenos\">4021</span><span class=\"cp\">#if defined(BUILD_TEST_ALTSOFTSERIAL)</span></div>\n<div class=\"line\"><a id=\"l-4022\" name=\"l-4022\"></a><span class=\"linenos\">4022</span><span class=\"w\">        </span><span class=\"c1\">// Reset modbus serial pins to LOW, if your RS485 adapter bleeds power</span></div>\n<div class=\"line\"><a id=\"l-4023\" name=\"l-4023\"></a><span class=\"linenos\">4023</span><span class=\"w\">        </span><span class=\"c1\">// on sleep, because Modbus Stop bit leaves these pins HIGH.</span></div>\n<div class=\"line\"><a id=\"l-4024\" name=\"l-4024\"></a><span class=\"linenos\">4024</span><span class=\"w\">        </span><span class=\"c1\">// https://github.com/EnviroDIY/ModularSensors/issues/140#issuecomment-389380833</span></div>\n<div class=\"line\"><a id=\"l-4025\" name=\"l-4025\"></a><span class=\"linenos\">4025</span><span class=\"w\">        </span><span class=\"nf\">digitalWrite</span><span class=\"p\">(</span><span class=\"mi\">5</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"kr\">LOW</span><span class=\"p\">);</span><span class=\"w\">  </span><span class=\"c1\">// Reset AltSoftSerial Tx pin to LOW</span></div>\n<div class=\"line\"><a id=\"l-4026\" name=\"l-4026\"></a><span class=\"linenos\">4026</span><span class=\"w\">        </span><span class=\"nf\">digitalWrite</span><span class=\"p\">(</span><span class=\"mi\">6</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"kr\">LOW</span><span class=\"p\">);</span><span class=\"w\">  </span><span class=\"c1\">// Reset AltSoftSerial Rx pin to LOW</span></div>\n<div class=\"line\"><a id=\"l-4027\" name=\"l-4027\"></a><span class=\"linenos\">4027</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-4028\" name=\"l-4028\"></a><span class=\"linenos\">4028</span></div>\n<div class=\"line\"><a id=\"l-4029\" name=\"l-4029\"></a><span class=\"linenos\">4029</span><span class=\"w\">        </span><span class=\"c1\">// Create a csv data record and save it to the log file</span></div>\n<div class=\"line\"><a id=\"l-4030\" name=\"l-4030\"></a><span class=\"linenos\">4030</span><span class=\"w\">        </span><span class=\"n\">dataLogger</span><span class=\"p\">.</span><span class=\"n\">logToSD</span><span class=\"p\">();</span></div>\n<div class=\"line\"><a id=\"l-4031\" name=\"l-4031\"></a><span class=\"linenos\">4031</span><span class=\"w\">        </span><span class=\"n\">extendedWatchDog</span><span class=\"o\">::</span><span class=\"n\">resetWatchDog</span><span class=\"p\">();</span></div>\n<div class=\"line\"><a id=\"l-4032\" name=\"l-4032\"></a><span class=\"linenos\">4032</span></div>\n<div class=\"line\"><a id=\"l-4033\" name=\"l-4033\"></a><span class=\"linenos\">4033</span><span class=\"w\">        </span><span class=\"c1\">// Connect to the network</span></div>\n<div class=\"line\"><a id=\"l-4034\" name=\"l-4034\"></a><span class=\"linenos\">4034</span><span class=\"w\">        </span><span class=\"c1\">// Again, we&#39;re only doing this if the battery is doing well</span></div>\n<div class=\"line\"><a id=\"l-4035\" name=\"l-4035\"></a><span class=\"linenos\">4035</span><span class=\"w\">        </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">getBatteryVoltage</span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"mf\">3.55</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">{</span></div>\n<div class=\"line\"><a id=\"l-4036\" name=\"l-4036\"></a><span class=\"linenos\">4036</span><span class=\"w\">            </span><span class=\"n\">extendedWatchDog</span><span class=\"o\">::</span><span class=\"n\">resetWatchDog</span><span class=\"p\">();</span></div>\n<div class=\"line\"><a id=\"l-4037\" name=\"l-4037\"></a><span class=\"linenos\">4037</span><span class=\"w\">            </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">modem</span><span class=\"p\">.</span><span class=\"n\">connectInternet</span><span class=\"p\">())</span><span class=\"w\"> </span><span class=\"p\">{</span></div>\n<div class=\"line\"><a id=\"l-4038\" name=\"l-4038\"></a><span class=\"linenos\">4038</span><span class=\"w\">                </span><span class=\"n\">extendedWatchDog</span><span class=\"o\">::</span><span class=\"n\">resetWatchDog</span><span class=\"p\">();</span></div>\n<div class=\"line\"><a id=\"l-4039\" name=\"l-4039\"></a><span class=\"linenos\">4039</span><span class=\"w\">                </span><span class=\"c1\">// Publish data to remotes</span></div>\n<div class=\"line\"><a id=\"l-4040\" name=\"l-4040\"></a><span class=\"linenos\">4040</span><span class=\"w\">                </span><span class=\"n\">PRINTOUT</span><span class=\"p\">(</span><span class=\"n\">F</span><span class=\"p\">(</span><span class=\"s\">&quot;Modem connected to internet.&quot;</span><span class=\"p\">));</span></div>\n<div class=\"line\"><a id=\"l-4041\" name=\"l-4041\"></a><span class=\"linenos\">4041</span><span class=\"w\">                </span><span class=\"n\">dataLogger</span><span class=\"p\">.</span><span class=\"n\">publishDataToRemotes</span><span class=\"p\">();</span></div>\n<div class=\"line\"><a id=\"l-4042\" name=\"l-4042\"></a><span class=\"linenos\">4042</span></div>\n<div class=\"line\"><a id=\"l-4043\" name=\"l-4043\"></a><span class=\"linenos\">4043</span><span class=\"w\">                </span><span class=\"c1\">// Sync the clock at noon</span></div>\n<div class=\"line\"><a id=\"l-4044\" name=\"l-4044\"></a><span class=\"linenos\">4044</span><span class=\"w\">                </span><span class=\"n\">extendedWatchDog</span><span class=\"o\">::</span><span class=\"n\">resetWatchDog</span><span class=\"p\">();</span></div>\n<div class=\"line\"><a id=\"l-4045\" name=\"l-4045\"></a><span class=\"linenos\">4045</span><span class=\"w\">                </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"p\">((</span><span class=\"n\">Logger</span><span class=\"o\">::</span><span class=\"n\">markedLocalUnixTime</span><span class=\"w\"> </span><span class=\"o\">!=</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"o\">&amp;&amp;</span></div>\n<div class=\"line\"><a id=\"l-4046\" name=\"l-4046\"></a><span class=\"linenos\">4046</span><span class=\"w\">                     </span><span class=\"n\">Logger</span><span class=\"o\">::</span><span class=\"n\">markedLocalUnixTime</span><span class=\"w\"> </span><span class=\"o\">%</span><span class=\"w\"> </span><span class=\"mi\">86400</span><span class=\"w\"> </span><span class=\"o\">==</span><span class=\"w\"> </span><span class=\"mi\">43200</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"o\">||</span></div>\n<div class=\"line\"><a id=\"l-4047\" name=\"l-4047\"></a><span class=\"linenos\">4047</span><span class=\"w\">                    </span><span class=\"o\">!</span><span class=\"n\">loggerClock</span><span class=\"o\">::</span><span class=\"n\">isRTCSane</span><span class=\"p\">())</span><span class=\"w\"> </span><span class=\"p\">{</span></div>\n<div class=\"line\"><a id=\"l-4048\" name=\"l-4048\"></a><span class=\"linenos\">4048</span><span class=\"w\">                    </span><span class=\"n\">PRINTOUT</span><span class=\"p\">(</span><span class=\"n\">F</span><span class=\"p\">(</span><span class=\"s\">&quot;Running a daily clock sync...&quot;</span><span class=\"p\">));</span></div>\n<div class=\"line\"><a id=\"l-4049\" name=\"l-4049\"></a><span class=\"linenos\">4049</span><span class=\"w\">                    </span><span class=\"n\">loggerClock</span><span class=\"o\">::</span><span class=\"n\">setRTClock</span><span class=\"p\">(</span><span class=\"n\">modem</span><span class=\"p\">.</span><span class=\"n\">getNISTTime</span><span class=\"p\">(),</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"p\">,</span></div>\n<div class=\"line\"><a id=\"l-4050\" name=\"l-4050\"></a><span class=\"linenos\">4050</span><span class=\"w\">                                            </span><span class=\"n\">epochStart</span><span class=\"o\">::</span><span class=\"n\">unix_epoch</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-4051\" name=\"l-4051\"></a><span class=\"linenos\">4051</span><span class=\"w\">                    </span><span class=\"n\">extendedWatchDog</span><span class=\"o\">::</span><span class=\"n\">resetWatchDog</span><span class=\"p\">();</span></div>\n<div class=\"line\"><a id=\"l-4052\" name=\"l-4052\"></a><span class=\"linenos\">4052</span><span class=\"w\">                    </span><span class=\"n\">modem</span><span class=\"p\">.</span><span class=\"n\">updateModemMetadata</span><span class=\"p\">();</span></div>\n<div class=\"line\"><a id=\"l-4053\" name=\"l-4053\"></a><span class=\"linenos\">4053</span><span class=\"w\">                    </span><span class=\"n\">extendedWatchDog</span><span class=\"o\">::</span><span class=\"n\">resetWatchDog</span><span class=\"p\">();</span></div>\n<div class=\"line\"><a id=\"l-4054\" name=\"l-4054\"></a><span class=\"linenos\">4054</span><span class=\"w\">                </span><span class=\"p\">}</span></div>\n<div class=\"line\"><a id=\"l-4055\" name=\"l-4055\"></a><span class=\"linenos\">4055</span></div>\n<div class=\"line\"><a id=\"l-4056\" name=\"l-4056\"></a><span class=\"linenos\">4056</span><span class=\"w\">                </span><span class=\"c1\">// Disconnect from the network</span></div>\n<div class=\"line\"><a id=\"l-4057\" name=\"l-4057\"></a><span class=\"linenos\">4057</span><span class=\"w\">                </span><span class=\"n\">modem</span><span class=\"p\">.</span><span class=\"n\">disconnectInternet</span><span class=\"p\">();</span></div>\n<div class=\"line\"><a id=\"l-4058\" name=\"l-4058\"></a><span class=\"linenos\">4058</span><span class=\"w\">                </span><span class=\"n\">extendedWatchDog</span><span class=\"o\">::</span><span class=\"n\">resetWatchDog</span><span class=\"p\">();</span></div>\n<div class=\"line\"><a id=\"l-4059\" name=\"l-4059\"></a><span class=\"linenos\">4059</span><span class=\"w\">            </span><span class=\"p\">}</span></div>\n<div class=\"line\"><a id=\"l-4060\" name=\"l-4060\"></a><span class=\"linenos\">4060</span><span class=\"w\">            </span><span class=\"c1\">// Turn the modem off</span></div>\n<div class=\"line\"><a id=\"l-4061\" name=\"l-4061\"></a><span class=\"linenos\">4061</span><span class=\"w\">            </span><span class=\"n\">modem</span><span class=\"p\">.</span><span class=\"n\">modemSleepPowerDown</span><span class=\"p\">();</span></div>\n<div class=\"line\"><a id=\"l-4062\" name=\"l-4062\"></a><span class=\"linenos\">4062</span><span class=\"w\">            </span><span class=\"n\">extendedWatchDog</span><span class=\"o\">::</span><span class=\"n\">resetWatchDog</span><span class=\"p\">();</span></div>\n<div class=\"line\"><a id=\"l-4063\" name=\"l-4063\"></a><span class=\"linenos\">4063</span><span class=\"w\">        </span><span class=\"p\">}</span></div>\n<div class=\"line\"><a id=\"l-4064\" name=\"l-4064\"></a><span class=\"linenos\">4064</span></div>\n<div class=\"line\"><a id=\"l-4065\" name=\"l-4065\"></a><span class=\"linenos\">4065</span><span class=\"w\">        </span><span class=\"c1\">// Cut power from the SD card - without additional housekeeping wait</span></div>\n<div class=\"line\"><a id=\"l-4066\" name=\"l-4066\"></a><span class=\"linenos\">4066</span><span class=\"w\">        </span><span class=\"n\">dataLogger</span><span class=\"p\">.</span><span class=\"n\">turnOffSDcard</span><span class=\"p\">(</span><span class=\"kr\">false</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-4067\" name=\"l-4067\"></a><span class=\"linenos\">4067</span><span class=\"w\">        </span><span class=\"n\">extendedWatchDog</span><span class=\"o\">::</span><span class=\"n\">resetWatchDog</span><span class=\"p\">();</span></div>\n<div class=\"line\"><a id=\"l-4068\" name=\"l-4068\"></a><span class=\"linenos\">4068</span><span class=\"w\">        </span><span class=\"c1\">// Turn off the LED</span></div>\n<div class=\"line\"><a id=\"l-4069\" name=\"l-4069\"></a><span class=\"linenos\">4069</span><span class=\"w\">        </span><span class=\"n\">dataLogger</span><span class=\"p\">.</span><span class=\"n\">alertOff</span><span class=\"p\">();</span></div>\n<div class=\"line\"><a id=\"l-4070\" name=\"l-4070\"></a><span class=\"linenos\">4070</span><span class=\"w\">        </span><span class=\"c1\">// Print a line to show reading ended</span></div>\n<div class=\"line\"><a id=\"l-4071\" name=\"l-4071\"></a><span class=\"linenos\">4071</span><span class=\"w\">        </span><span class=\"n\">PRINTOUT</span><span class=\"p\">(</span><span class=\"n\">F</span><span class=\"p\">(</span><span class=\"s\">&quot;------------------------------------------</span><span class=\"se\">\\n</span><span class=\"s\">&quot;</span><span class=\"p\">));</span></div>\n<div class=\"line\"><a id=\"l-4072\" name=\"l-4072\"></a><span class=\"linenos\">4072</span></div>\n<div class=\"line\"><a id=\"l-4073\" name=\"l-4073\"></a><span class=\"linenos\">4073</span><span class=\"w\">        </span><span class=\"c1\">// Unset flag</span></div>\n<div class=\"line\"><a id=\"l-4074\" name=\"l-4074\"></a><span class=\"linenos\">4074</span><span class=\"w\">        </span><span class=\"n\">Logger</span><span class=\"o\">::</span><span class=\"n\">isLoggingNow</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"kr\">false</span><span class=\"p\">;</span></div>\n<div class=\"line\"><a id=\"l-4075\" name=\"l-4075\"></a><span class=\"linenos\">4075</span><span class=\"w\">    </span><span class=\"p\">}</span></div>\n<div class=\"line\"><a id=\"l-4076\" name=\"l-4076\"></a><span class=\"linenos\">4076</span></div>\n<div class=\"line\"><a id=\"l-4077\" name=\"l-4077\"></a><span class=\"linenos\">4077</span><span class=\"w\">    </span><span class=\"c1\">// Check if it was instead the testing interrupt that woke us up</span></div>\n<div class=\"line\"><a id=\"l-4078\" name=\"l-4078\"></a><span class=\"linenos\">4078</span><span class=\"w\">    </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">Logger</span><span class=\"o\">::</span><span class=\"n\">startTesting</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">{</span></div>\n<div class=\"line\"><a id=\"l-4079\" name=\"l-4079\"></a><span class=\"linenos\">4079</span><span class=\"cp\">#if defined(BUILD_TEST_ALTSOFTSERIAL)</span></div>\n<div class=\"line\"><a id=\"l-4080\" name=\"l-4080\"></a><span class=\"linenos\">4080</span><span class=\"w\">        </span><span class=\"c1\">// Start the stream for the modbus sensors, if your RS485 adapter bleeds</span></div>\n<div class=\"line\"><a id=\"l-4081\" name=\"l-4081\"></a><span class=\"linenos\">4081</span><span class=\"w\">        </span><span class=\"c1\">// current from data pins when powered off &amp; you stop modbus serial</span></div>\n<div class=\"line\"><a id=\"l-4082\" name=\"l-4082\"></a><span class=\"linenos\">4082</span><span class=\"w\">        </span><span class=\"c1\">// connection with digitalWrite(5, LOW), below.</span></div>\n<div class=\"line\"><a id=\"l-4083\" name=\"l-4083\"></a><span class=\"linenos\">4083</span><span class=\"w\">        </span><span class=\"c1\">// https://github.com/EnviroDIY/ModularSensors/issues/140#issuecomment-389380833</span></div>\n<div class=\"line\"><a id=\"l-4084\" name=\"l-4084\"></a><span class=\"linenos\">4084</span><span class=\"w\">        </span><span class=\"n\">altSoftSerial</span><span class=\"p\">.</span><span class=\"nf\">begin</span><span class=\"p\">(</span><span class=\"mi\">9600</span><span class=\"p\">);</span></div>\n<div class=\"line\"><a id=\"l-4085\" name=\"l-4085\"></a><span class=\"linenos\">4085</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-4086\" name=\"l-4086\"></a><span class=\"linenos\">4086</span></div>\n<div class=\"line\"><a id=\"l-4087\" name=\"l-4087\"></a><span class=\"linenos\">4087</span><span class=\"w\">        </span><span class=\"n\">dataLogger</span><span class=\"p\">.</span><span class=\"n\">benchTestingMode</span><span class=\"p\">();</span></div>\n<div class=\"line\"><a id=\"l-4088\" name=\"l-4088\"></a><span class=\"linenos\">4088</span><span class=\"w\">    </span><span class=\"p\">}</span></div>\n<div class=\"line\"><a id=\"l-4089\" name=\"l-4089\"></a><span class=\"linenos\">4089</span></div>\n<div class=\"line\"><a id=\"l-4090\" name=\"l-4090\"></a><span class=\"linenos\">4090</span><span class=\"cp\">#if defined(BUILD_TEST_ALTSOFTSERIAL)</span></div>\n<div class=\"line\"><a id=\"l-4091\" name=\"l-4091\"></a><span class=\"linenos\">4091</span><span class=\"w\">    </span><span class=\"c1\">// Reset modbus serial pins to LOW, if your RS485 adapter bleeds power</span></div>\n<div class=\"line\"><a id=\"l-4092\" name=\"l-4092\"></a><span class=\"linenos\">4092</span><span class=\"w\">    </span><span class=\"c1\">// on sleep, because Modbus Stop bit leaves these pins HIGH.</span></div>\n<div class=\"line\"><a id=\"l-4093\" name=\"l-4093\"></a><span class=\"linenos\">4093</span><span class=\"w\">    </span><span class=\"c1\">// https://github.com/EnviroDIY/ModularSensors/issues/140#issuecomment-389380833</span></div>\n<div class=\"line\"><a id=\"l-4094\" name=\"l-4094\"></a><span class=\"linenos\">4094</span><span class=\"w\">    </span><span class=\"nf\">digitalWrite</span><span class=\"p\">(</span><span class=\"mi\">5</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"kr\">LOW</span><span class=\"p\">);</span><span class=\"w\">  </span><span class=\"c1\">// Reset AltSoftSerial Tx pin to LOW</span></div>\n<div class=\"line\"><a id=\"l-4095\" name=\"l-4095\"></a><span class=\"linenos\">4095</span><span class=\"w\">    </span><span class=\"nf\">digitalWrite</span><span class=\"p\">(</span><span class=\"mi\">6</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"kr\">LOW</span><span class=\"p\">);</span><span class=\"w\">  </span><span class=\"c1\">// Reset AltSoftSerial Rx pin to LOW</span></div>\n<div class=\"line\"><a id=\"l-4096\" name=\"l-4096\"></a><span class=\"linenos\">4096</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-4097\" name=\"l-4097\"></a><span class=\"linenos\">4097</span></div>\n<div class=\"line\"><a id=\"l-4098\" name=\"l-4098\"></a><span class=\"linenos\">4098</span><span class=\"w\">    </span><span class=\"c1\">// Call the processor sleep</span></div>\n<div class=\"line\"><a id=\"l-4099\" name=\"l-4099\"></a><span class=\"linenos\">4099</span><span class=\"w\">    </span><span class=\"n\">dataLogger</span><span class=\"p\">.</span><span class=\"n\">systemSleep</span><span class=\"p\">();</span></div>\n<div class=\"line\"><a id=\"l-4100\" name=\"l-4100\"></a><span class=\"linenos\">4100</span><span class=\"p\">}</span></div>\n<div class=\"line\"><a id=\"l-4101\" name=\"l-4101\"></a><span class=\"linenos\">4101</span><span class=\"cp\">#endif</span></div>\n<div class=\"line\"><a id=\"l-4102\" name=\"l-4102\"></a><span class=\"linenos\">4102</span><span class=\"cm\">/** End [complex_loop] */</span></div>\n<div class=\"line\"><a id=\"l-4103\" name=\"l-4103\"></a><span class=\"linenos\">4103</span></div>\n<div class=\"line\"><a id=\"l-4104\" name=\"l-4104\"></a><span class=\"linenos\">4104</span></div>\n<div class=\"line\"><a id=\"l-4105\" name=\"l-4105\"></a><span class=\"linenos\">4105</span><span class=\"c1\">// cspell: ignore EDBG XBCT XBLTEB XBWF SVZM BatterymV Atlasp oversample</span></div>\n<div class=\"line\"><a id=\"l-4106\" name=\"l-4106\"></a><span class=\"linenos\">4106</span><span class=\"c1\">// cspell: ignore asco2voltage atlasGrav Hayashi emas PMID temperatureCoef</span></div>\n<div class=\"line\"><a id=\"l-4107\" name=\"l-4107\"></a><span class=\"linenos\">4107</span><span class=\"c1\">// cspell: ignore ClariVUESDI12address RainVUESDI12address Turb CTDSDI</span></div>\n<div class=\"line\"><a id=\"l-4108\" name=\"l-4108\"></a><span class=\"linenos\">4108</span><span class=\"c1\">// cspell: ignore RDOSDI TROLLSDI acculev nanolev TMSDI ELEC fivetm tallyi</span></div>\n<div class=\"line\"><a id=\"l-4109\" name=\"l-4109\"></a><span class=\"linenos\">4109</span><span class=\"c1\">// cspell: ignore kmph TIINA Chloro Fluoroscein PTSA BTEX ECpwrPin anlg spcond</span></div>\n<div class=\"line\"><a id=\"l-4110\" name=\"l-4110\"></a><span class=\"linenos\">4110</span><span class=\"c1\">// cspell: ignore Relia NEOPIXEL RESTAPI autobauding xbeec</span></div>\n<div class=\"line\"><a id=\"l-4111\" name=\"l-4111\"></a><span class=\"linenos\">4111</span><span class=\"c1\">// cspell: ignore CFUN UMNOPROF URAT PHEC</span>\n</div></div></div></section>",
    "sections": [
      [
        "example_menu_walk",
        "Walking Through the Code",
        [
          [
            "menu_walk_defines_includes",
            "Defines and Includes",
            [
              [
                "menu_walk_defines",
                "Defines for the Arduino IDE",
                []
              ],
              [
                "menu_walk_includes",
                "Library Includes",
                []
              ]
            ]
          ],
          [
            "menu_walk_logger_and_modem_settings",
            "Logger Settings",
            [
              [
                "menu_walk_serial_ports",
                "Creating Extra Serial Ports",
                [
                  [
                    "menu_walk_avr_serial_ports",
                    "AVR Boards",
                    [
                      [
                        "menu_walk_altsoftserial",
                        "AltSoftSerial",
                        []
                      ],
                      [
                        "menu_walk_neoswserial",
                        "NeoSWSerial",
                        []
                      ],
                      [
                        "menu_walk_softwareserial",
                        "SoftwareSerial with External Interrupts",
                        []
                      ],
                      [
                        "menu_walk_softwarewire",
                        "Software I2C/Wire",
                        []
                      ]
                    ]
                  ],
                  [
                    "menu_walk_samd_serial_ports",
                    "SAMD Boards",
                    []
                  ]
                ]
              ],
              [
                "menu_walk_assign_ports_sw",
                "Assigning Serial Port Functionality",
                []
              ],
              [
                "menu_walk_logging_options",
                "Logging Options",
                []
              ]
            ]
          ],
          [
            "menu_walk_modem_settings",
            "WiFi/Cellular Modem Options",
            [
              [
                "menu_walk_digi_xbee_cellular_transparent",
                "Digi XBee Cellular - Transparent Mode",
                []
              ],
              [
                "menu_walk_digi_xbee_lte_bypass",
                "Digi XBee3 LTE-M - Bypass Mode",
                []
              ],
              [
                "menu_walk_digi_xbee_3g_bypass",
                "Digi XBee 3G - Bypass Mode",
                []
              ],
              [
                "menu_walk_digi_xbee_wifi",
                "Digi XBee S6B WiFi",
                []
              ],
              [
                "menu_walk_espressif_esp8266",
                "Espressif ESP8266",
                []
              ],
              [
                "menu_walk_espressif_esp32",
                "Espressif ESP32",
                []
              ],
              [
                "menu_walk_quectel_bg96",
                "Quectel BG96",
                []
              ],
              [
                "menu_walk_sequans_monarch",
                "Sequans Monarch",
                []
              ],
              [
                "menu_walk_sim_com_sim800",
                "SIMCom SIM800",
                []
              ],
              [
                "menu_walk_sim_com_sim7000",
                "SIMCom SIM7000",
                []
              ],
              [
                "menu_walk_sim_com_sim7080",
                "SIMCom SIM7080G (EnviroDIY LTE Bee])",
                []
              ],
              [
                "menu_walk_sodaq_2g_bee_r6",
                "Sodaq GPRSBee",
                []
              ],
              [
                "menu_walk_sodaq_ubee_r410m",
                "u-blox SARA R410M",
                []
              ],
              [
                "menu_walk_sodaq_ubee_u201",
                "u-blox SARA U201",
                []
              ],
              [
                "menu_walk_modem_variables",
                "Modem Measured Variables",
                []
              ]
            ]
          ],
          [
            "menu_walk_sensors_and_vars",
            "Sensors and Measured Variables",
            [
              [
                "menu_walk_processor_stats",
                "The processor as a sensor",
                []
              ],
              [
                "menu_walk_maxim_ds3231",
                "Maxim DS3231 RTC as a sensor",
                []
              ],
              [
                "menu_walk_alphasense_co2",
                "Alphasense CO2",
                []
              ],
              [
                "menu_walk_anb_ph",
                "ANB Sensors pH Sensor",
                []
              ],
              [
                "menu_walk_ao_song_am2315",
                "AOSong AM2315",
                []
              ],
              [
                "menu_walk_ao_song_dht",
                "AOSong DHT",
                []
              ],
              [
                "menu_walk_apogee_sq212",
                "Apogee SQ-212 Quantum Light Sensor",
                []
              ],
              [
                "menu_walk_atlas_scientific_sensors",
                "Atlas Scientific EZO Circuits",
                [
                  [
                    "menu_walk_atlas_scientific_co2",
                    "Atlas Scientific EZO-CO2 Embedded NDIR Carbon Dioxide Sensor",
                    []
                  ],
                  [
                    "menu_walk_atlas_scientific_do",
                    "Atlas Scientific EZO-DO Dissolved Oxygen Sensor",
                    []
                  ],
                  [
                    "menu_walk_atlas_scientific_orp",
                    "Atlas Scientific EZO-ORP Oxidation/Reduction Potential Sensor",
                    []
                  ],
                  [
                    "menu_walk_atlas_scientific_ph",
                    "Atlas Scientific EZO-pH Sensor",
                    []
                  ],
                  [
                    "menu_walk_atlas_scientific_rtd",
                    "Atlas Scientific EZO-RTD Temperature Sensor",
                    []
                  ],
                  [
                    "menu_walk_atlas_scientific_ec",
                    "Atlas Scientific EZO-EC Conductivity Sensor",
                    []
                  ]
                ]
              ],
              [
                "menu_walk_bosch_bme280",
                "Bosch BME280 Environmental Sensor",
                []
              ],
              [
                "menu_walk_bosch_bmp3xx",
                "Bosch BMP388 and BMP398 Pressure Sensors",
                [
                  [
                    "menu_walk_campbell_clari_vue10",
                    "Campbell ClariVUE SDI-12 Turbidity Sensor",
                    []
                  ]
                ]
              ],
              [
                "menu_walk_campbell_obs3",
                "Campbell OBS3+ Analog Turbidity Sensor",
                [
                  [
                    "menu_walk_campbell_rain_vue10",
                    "Campbell RainVUE SDI-12 Precipitation Sensor",
                    []
                  ],
                  [
                    "menu_walk_decagon_ctd",
                    "Decagon CTD-10 Conductivity, Temperature, and Depth Sensor",
                    []
                  ]
                ]
              ],
              [
                "menu_walk_decagon_es2",
                "Decagon ES2 Conductivity and Temperature Sensor",
                [
                  [
                    "menu_walk_everlight_alspt19",
                    "Everlight ALS-PT19 Ambient Light Sensor",
                    []
                  ]
                ]
              ],
              [
                "menu_walk_tiads1x15",
                "External Voltage via TI ADS1x15",
                []
              ],
              [
                "menu_walk_mpl115a2",
                "Freescale Semiconductor MPL115A2 Miniature I2C Digital Barometer",
                []
              ],
              [
                "menu_walk_geolux_hydro_cam",
                "Geolux HydroCam Camera",
                []
              ],
              [
                "menu_walk_gro_point_gplp8",
                "GroPoint Profile GPLP-8 Eight-Segment Soil Moisture and Temperature Profiling Probe",
                [
                  [
                    "menu_walk_in_situ_troll_sdi12a",
                    "In-Situ Aqua/Level TROLL Pressure, Temperature, and Depth Sensor",
                    []
                  ],
                  [
                    "menu_walk_in_situ_rdo",
                    "In-Situ RDO PRO-X Rugged Dissolved Oxygen Probe",
                    []
                  ]
                ]
              ],
              [
                "menu_walk_keller_sensors",
                "Keller RS485/Modbus Water Level Sensors",
                [
                  [
                    "menu_walk_keller_acculevel",
                    "Keller Acculevel High Accuracy Submersible Level Transmitter",
                    []
                  ],
                  [
                    "menu_walk_keller_nanolevel",
                    "Keller Nanolevel Level Transmitter",
                    []
                  ]
                ]
              ],
              [
                "menu_walk_max_botix_sonar",
                "Maxbotix HRXL Ultrasonic Range Finder",
                []
              ],
              [
                "menu_walk_maxim_ds18",
                "Maxim DS18 One Wire Temperature Sensor",
                []
              ],
              [
                "menu_walk_mea_spec_ms5803",
                "Measurement Specialties MS5803-14BA Pressure Sensor",
                []
              ],
              [
                "menu_walk_meter_sensors",
                "Meter SDI-12 Sensors",
                [
                  [
                    "menu_walk_decagon_5tm",
                    "Meter ECH2O Soil Moisture Sensor",
                    []
                  ],
                  [
                    "menu_walk_meter_hydros21",
                    "Meter Hydros 21 Conductivity, Temperature, and Depth Sensor",
                    []
                  ],
                  [
                    "menu_walk_meter_teros11",
                    "Meter Teros 11 Soil Moisture Sensor",
                    []
                  ]
                ]
              ],
              [
                "menu_walk_paleo_terra_redox",
                "PaleoTerra Redox Sensors",
                []
              ],
              [
                "menu_walk_rain_counter_i2c",
                "Trinket-Based Tipping Bucket Rain Gauge",
                []
              ]
            ]
          ]
        ]
      ],
      [
        "example_menu_pio_config",
        "PlatformIO Configuration",
        []
      ],
      [
        "example_menu_code",
        "The Complete Code",
        []
      ]
    ],
    "deprecated": null,
    "since": null,
    "example_navigation": null,
    "footer_navigation": null,
    "topics": [],
    "dirs": [],
    "files": [],
    "namespaces": [],
    "classes": [],
    "base_classes": [],
    "derived_classes": [],
    "enums": [],
    "typedefs": [],
    "funcs": [],
    "vars": [],
    "defines": [],
    "public_types": [],
    "public_static_funcs": [],
    "typeless_funcs": [],
    "public_funcs": [],
    "signals": [],
    "public_slots": [],
    "public_static_vars": [],
    "public_vars": [],
    "protected_types": [],
    "protected_static_funcs": [],
    "protected_funcs": [],
    "protected_slots": [],
    "protected_static_vars": [],
    "protected_vars": [],
    "private_funcs": [],
    "private_slots": [],
    "related": [],
    "friend_funcs": [],
    "groups": [],
    "has_enum_details": false,
    "has_typedef_details": false,
    "has_func_details": false,
    "has_var_details": false,
    "has_define_details": false,
    "breadcrumb": [
      [
        "ModularSensors",
        "index.html"
      ],
      [
        "Examples Using ModularSensors",
        "page_the_examples.html"
      ],
      [
        "Everything at Once - a la carte",
        "page_examples_menu.html"
      ],
      [
        "Example showing all possible functionality",
        "example_menu.html"
      ]
    ],
    "breadcrumbGroup": [
      [
        "Example showing all possible functionality",
        "example_menu.html"
      ]
    ]
  }
}