<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>ModularSensors &raquo; Examples Using ModularSensors &raquo; Everything at Once - a la carte &raquo; Example showing all possible functionality &raquo; menu_a_la_carte.ino example | ModularSensors</title>
  <link rel="stylesheet" href="m-EnviroDIY+documentation.compiled.css" />
<link
  rel="stylesheet"
  id="gp-parent-style-css"
  href="https://www.envirodiy.org/wp-content/themes/socialize/style.css?ver=6.1.1"
  type="text/css"
  media="all"
/>
<link
  rel="stylesheet"
  id="ghostpool-style-css"
  href="https://www.envirodiy.org/wp-content/themes/socialize-child/style.css?ver=6.1.1"
  type="text/css"
  media="all"
/>
<style id="ghostpool-style-inline-css" type="text/css">
  #gp-main-header {
    min-height: 80px;
  }
  .gp-desktop-scrolling #gp-main-header {
    min-height: 80px;
  }
  .gp-header-standard #gp-logo {
    padding: 19px 0;
  }
  .gp-desktop-scrolling.gp-header-standard #gp-logo {
    padding: 12.5px 0;
  }
  .gp-header-standard #gp-primary-main-nav .menu > li > a {
    padding: 30.5px 0;
  }
  .gp-header-standard #gp-cart-button,
  .gp-header-standard #gp-search-button,
  .gp-header-standard #gp-profile-button {
    padding: 31px 0;
  }
  .gp-desktop-scrolling.gp-header-standard #gp-primary-main-nav .menu > li > a {
    padding: 30.5px 0;
  }
  .gp-desktop-scrolling.gp-header-standard #gp-cart-button,
  .gp-desktop-scrolling.gp-header-standard #gp-search-button,
  .gp-desktop-scrolling.gp-header-standard #gp-profile-button {
    padding: 31px 0;
  }
  .gp-nav .menu > .gp-standard-menu > .sub-menu > li:hover > a {
    color: #fff;
  }
  .gp-theme li:hover .gp-primary-dropdown-icon {
    color: #fff;
  }
  .gp-theme .sub-menu li:hover .gp-secondary-dropdown-icon {
    color: #fff;
  }
  .gp-header-centered #gp-cart-button,
  .gp-header-centered #gp-search-button,
  .gp-header-centered #gp-profile-button {
    line-height: 18px;
  }
  .gp-header-standard #gp-secondary-main-nav .menu > li > a {
    padding: 31.5px 0;
  }
  .gp-desktop-scrolling.gp-header-standard #gp-secondary-main-nav .menu > li > a {
    padding: 31.5px 0;
  }
  .gp-header-centered #gp-secondary-main-nav .menu > li > a {
    line-height: 16px;
  }
  .gp-active {
    color: #000;
  }
  .gp-theme .widget.buddypress div.item-options a.selected:hover {
    color: #0579bd !important;
  }
  .gp-theme #buddypress .activity-list .activity-content blockquote a {
    color: #0579bd;
  }
  .gp-theme #buddypress .activity-list .activity-content blockquote a:hover {
    color: #000;
  }
  @media only screen and (max-width: 1082px) {
    .gp-header-standard #gp-primary-main-nav .menu > li > a {
      padding: 30.5px 0;
    }
    .gp-desktop-scrolling.gp-header-standard #gp-primary-main-nav .menu > li > a {
      padding: 30.5px 0;
    }
    .gp-header-standard #gp-cart-button,
    .gp-header-standard #gp-search-button,
    .gp-header-standard #gp-profile-button {
      padding: 31px 0;
    }
    .gp-desktop-scrolling.gp-header-standard #gp-cart-button,
    .gp-desktop-scrolling.gp-header-standard #gp-search-button,
    .gp-desktop-scrolling.gp-header-standard #gp-profile-button {
      padding: 31px 0;
    }
    .gp-header-standard #gp-secondary-main-nav .menu > li > a {
      padding: 31.5px 0;
    }
    .gp-desktop-scrolling.gp-header-standard #gp-secondary-main-nav .menu > li > a {
      padding: 31.5px 0;
    }
  }
  @media only screen and (max-width: 1023px) {
    .gp-responsive #gp-main-header {
      min-height: 80px;
    }
    .gp-responsive #gp-logo {
      padding: 26px 0;
    }
    .gp-responsive #gp-mobile-nav-button,
    .gp-responsive #gp-cart-button,
    .gp-responsive #gp-search-button,
    .gp-responsive #gp-profile-button {
      padding: 31px 0;
    }
  }
</style>
<link
  rel="stylesheet"
  id="fontawesome-css"
  href="https://www.envirodiy.org/wp-content/themes/socialize/lib/fonts/font-awesome/css/font-awesome.min.css?ver=6.1.1"
  type="text/css"
  media="all"
/>
<link
  rel="stylesheet"
  id="prettyphoto-css"
  href="https://www.envirodiy.org/wp-content/plugins/js_composer/assets/lib/prettyphoto/css/prettyPhoto.min.css?ver=6.10.0"
  type="text/css"
  media="all"
/>
<link
  rel="stylesheet"
  id="gp-bp-css"
  href="https://www.envirodiy.org/wp-content/themes/socialize/lib/css/bp.css?ver=6.1.1"
  type="text/css"
  media="all"
/>
<link
  rel="stylesheet"
  id="gp-bbp-css"
  href="https://www.envirodiy.org/wp-content/themes/socialize/lib/css/bbpress.css?ver=6.1.1"
  type="text/css"
  media="all"
/>
<style type="text/css" id="wp-custom-css">
  /* Print Styles */
  @media print {
    @page {
      margin: 10mm 0;
    }
    body {
      background: white;
      color: black;
      background-image: none;
      margin: 0 !important;
      padding: 0;
    }
    body:not(.gp-full-page-page-header) .gp-page-header.gp-has-text:before,
    body:not(.gp-full-page-page-header)
      .gp-page-header.gp-has-teaser-video.gp-has-text
      .gp-video-header:before {
      background-image: none !important;
    }
    #gp-main-header,
    #gp-small-header,
    #gp-header-area,
    #gp-footer,
    #gp-sidebar-right,
    #swrc-post-navigation,
    .hkb-subheader,
    .hkb-feedback,
    .hkb-mainpage__sidebar,
    .print-page {
      display: none;
    }
    .hkb-mainpage-wrapper {
      padding: 0 !important;
      background-image: none !important;
    }
    a#gp-to-top,
    span#toTopHover {
      display: none;
    }
    a[href]:after {
      content: ' (' attr(href) ')';
    }
    h1,
    h2,
    h3,
    h4,
    h5,
    h6 {
      font-size: 1.25em;
      page-break-after: avoid;
      page-break-inside: avoid;
    }
    .hkb-article__content h1,
    h2,
    h3,
    h4,
    h5,
    h6 {
      font-size: 1.25em;
      page-break-after: avoid;
      page-break-inside: avoid;
    }
    table {
      page-break-before: avoid;
      page-break-inside: avoid;
      page-break-after: avoid;
    }
    img {
      page-break-inside: avoid;
      visibility: visible;
    }
    blockquote,
    table,
    pre {
      page-break-inside: avoid;
    }
    ul,
    ol,
    dl {
      page-break-before: avoid;
    }
  }
  /* End print styles */
  /*Gutenberg styles*/
  /*Buttons*/
  a.wp-block-button__link {
    background-color: #538122;
    border-radius: 5px;
    text-decoration: none !important;
  }
  .wp-block-button__link:hover {
    background: #365516 !important;
    color: #ffffff !important;
  }
  figcaption {
    font-style: italic;
  }
  /*End Gutenberg styles*/
  #gp-content a,
  .gp-sidebar a {
    font-weight: 400;
    text-decoration: underline;
  }
  /*BuddyPress styles*/
  /*Make activity feed content darker*/
  #buddypress .activity-list .activity-content .activity-inner p {
    color: #000000;
  }
  /*Hide activity filter on activity page*/
  #activity-filter-select.last {
    display: none !important;
  }
  /*Hide disabled BuddyPress status updates on profile page, activity page*/
  #latest-update {
    display: none;
  }
  .item-title .update {
    display: none;
  }
  /*Prevent display of comment/favorite links in activity stream. Because the comments do not get applied to posts or forum topics, they just confuse users*/
  .gp-theme #buddypress .activity-list div.activity-meta a.button,
  .gp-theme #buddypress .activity .acomment-options a,
  .gp-theme #buddypress .activity-list li.load-newest a,
  .widget.buddypress div.item-options a.selected {
    color: #26a9e0;
    display: none;
  }
  /*End BuddyPress styles*/
  /* Style print link */
  .pdfprnt-buttons > a > span {
    margin: 15px 0;
    padding-left: 0;
    text-decoration: underline;
  }
  /*Change caption text color and size*/
  .wp-caption-text {
    color: #333;
    font-size: 14px;
  }
  /*Collapse table borders */
  #gp-content table {
    border-collapse: collapse;
  }
  /*Add borders to Tableizer tables */
  .tableizer table,
  th,
  td {
    border: 1px solid #333;
  }
  /*Nested list styles*/
  #gp-content,
  .hkb-article ol ol li {
    list-style-type: lower-alpha;
  }
  #gp-content,
  .hkb-article ol ol ol li {
    list-style-type: lower-roman;
  }
  #gp-content,
  .hkb-article ul ul li {
    list-style-type: circle !important;
  }
  /* Add border */
  tr:last-child td {
    border-width: 1px;
  }
  /*bbPress*/
  /* Make forum title and description larger, remove link underlining */
  div.bbp-forum-content {
    font-size: 22px;
    line-height: 28px;
  }
  div.bbp-forum-content p {
    font-size: 16px;
    line-height: 22px;
  }
  #bbpress-forums a.bbp-forum-title {
    text-decoration: none;
  }
  .widgettitle {
    border-bottom: 3px solid #92d050 !important;
  }
  .bbp-author-name {
    font-size: 14px;
  }
  /*End bbpress styles*/
  #gp-copyright-text,
  #gp-copyright-text a:link,
  #gp-copyright-text a:visited {
    color: #fff;
    font-weight: 400;
  }
  /*WooCommerce styles*/
  bdi {
    color: #538122;
    font-weight: 500;
  }
  a.button.product_type_simple {
    display: none;
  }
  p.stock.out-of-stock {
    color: red;
    font-weight: 500;
  }
  .products li * {
    text-decoration: none !important;
  }
  div.gp-entry-cats {
    color: #333333;
  }
  span.woocommerce-Price-amount.amount {
    text-decoration: none !important;
  }
  /*End WooCommerce styles*/
  /*The Events Calendar*/
  #tribe-events-content a {
    color: #0579bd;
  }
  #gp-sidebar-right
    > div
    > div.tribe-common.tribe-events.tribe-events-view.tribe-events-view--widget-events-list.tribe-events-widget {
    background-color: #fff;
    padding: 15px;
  }
  #gp-sidebar-right
    > div
    > div.tribe-common.tribe-events.tribe-events-view.tribe-events-view--widget-events-list.tribe-events-widget
    > div
    > header {
    text-transform: uppercase;
    color: #000;
    border-bottom: 3px solid #92d050;
  }
  #gp-sidebar-right
    > div
    > div.tribe-common.tribe-events.tribe-events-view.tribe-events-view--widget-events-list.tribe-events-widget
    > div
    > header
    > h3 {
    font-family: Roboto !important;
    font-size: 14px !important;
    font-weight: 500;
    padding-bottom: 11px;
  }
  #gp-sidebar-right
    > div
    > div.tribe-common.tribe-events.tribe-events-view.tribe-events-view--widget-events-list.tribe-events-widget
    > div
    > div.tribe-events-widget-events-list__view-more.tribe-common-b1.tribe-common-b2--min-medium
    > a {
    color: #26a9e0;
  }
  /*Hero Knowledge Base styles*/
  #hkb .hkb-fullwcontainer {
    max-width: var(--hkb-main-container-width);
    margin: 0 auto;
    padding: 20px 20px;
    left: 0 !important;
    right: 0 !important;
  }
  h1.hkb-article__title {
    font-weight: 300 !important;
    margin: 0 0 0.5em !important;
  }
  .hkb-categoryheader__title {
    font-weight: 300 !important;
    font-size: 40px !important;
  }
  .hkb-articlepreview__title a {
    font-weight: 300 !important;
    font-size: 28px !important;
    text-decoration: underline !important;
    color: #0579bd !important;
    font-size: 28px !important;
  }
  #hkb a {
    text-decoration: underline;
    font-weight: 400;
  }
  a.hkb_widget_exit__btn {
    background-color: #538122 !important;
    border-radius: 5px;
    text-decoration: none !important;
  }
  a.hkb_widget_exit__btn:hover {
    background: #365516 !important;
    color: #ffffff !important;
  }
  /* End Heroic KB styles */
  #swrc-post-navigation a {
    font-size: small;
  }
  p.last-updated {
    font-size: 12px;
    font-style: italic;
  }
  aside#gp-sidebar-right.gp-sidebar p.last-updated {
    display: none;
  }
  #gp-content p.last-updated {
    display: none;
  }
</style>
<style id="socialize-dynamic-css" title="dynamic-css" class="redux-options-output">
  #footer-image img {
    margin-top: 10px;
    margin-right: 0px;
    margin-bottom: 10px;
    margin-left: 0px;
  }
  body {
    background-color: #f1f1f1;
  }
  body:not(.gp-full-page-page-header) #gp-page-wrapper,
  body:not(.gp-full-page-page-header) #gp-small-header .gp-container,
  .gp-homepage .widgettitle.gp-fancy-title:before {
    background-color: #e8e8e8;
  }
  body:not(.gp-full-page-page-header) #gp-small-header .gp-left-triangle {
    border-left-color: #e8e8e8;
  }
  body:not(.gp-full-page-page-header) #gp-small-header .gp-right-triangle {
    border-bottom-color: #e8e8e8;
  }
  #gp-content {
    background-color: #ffffff;
  }
  body {
    font-family: Roboto, 'Arial Black', Gadget, sans-serif;
    line-height: 28px;
    font-weight: 300;
    font-style: normal;
    color: #000;
    font-size: 16px;
    font-display: swap;
  }
  a {
    color: #0579bd;
  }
  a:hover {
    color: #000;
  }
  h1 {
    font-family: Roboto, Arial, Helvetica, sans-serif;
    line-height: 40px;
    font-weight: 400;
    font-style: normal;
    font-size: 36px;
    font-display: swap;
  }
  h2 {
    font-family: Roboto, Arial, Helvetica, sans-serif;
    line-height: 32px;
    font-weight: 400;
    font-style: normal;
    font-size: 28px;
    font-display: swap;
  }
  h3,
  #tab-description h2,
  .woocommerce #comments h2,
  .woocommerce #reviews h3,
  .woocommerce .related h2,
  .woocommerce-checkout .woocommerce h2,
  .woocommerce-checkout .woocommerce h3 {
    font-family: Roboto, Arial, Helvetica, sans-serif;
    line-height: 28px;
    font-weight: 400;
    font-style: normal;
    font-size: 24px;
    font-display: swap;
  }
  h4 {
    font-family: Roboto, Arial, Helvetica, sans-serif;
    line-height: 30px;
    font-weight: 400;
    font-style: normal;
    font-size: 20px;
    font-display: swap;
  }
  h5 {
    font-family: Roboto, Arial, Helvetica, sans-serif;
    line-height: 26px;
    font-weight: 400;
    font-style: normal;
    font-size: 18px;
    font-display: swap;
  }
  h6 {
    font-family: Roboto, Arial, Helvetica, sans-serif;
    line-height: 24px;
    font-weight: 400;
    font-style: normal;
    font-size: 16px;
    font-display: swap;
  }
  .gp-entry-meta .gp-post-meta-row-1,
  .gp-homepage #gp-content .gp-vc-element-3,
  .gp-homepage #gp-content .gp-vc-element-4,
  .gp-homepage #gp-content .gp-vc-element-5,
  .gp-homepage #gp-content .gp-vc-element-6,
  #comments .commentlist li .comment_container,
  .gp-loop-divider:before,
  .gp-recent-comments ul li,
  .gp-search {
    border-top: 1px solid #e0e0e0;
    border-bottom: 1px solid #e0e0e0;
  }
  .gp-entry-video-wrapper .gp-entry-meta .gp-post-meta-row-1,
  .gp-footer-widget .gp-recent-comments ul li {
    border-top: 1px solid #50504b;
    border-bottom: 1px solid #50504b;
  }
  #gp-main-header {
    background-color: #222222;
  }
  .gp-desktop-scrolling #gp-main-header {
    background-color: #222222;
  }
  #gp-primary-main-nav .menu > li,
  #gp-primary-main-nav .menu > li > a {
    font-family: Roboto;
    text-transform: none;
    line-height: 16px;
    font-weight: 400;
    font-style: normal;
    color: #ababab;
    font-size: 16px;
    font-display: swap;
  }
  #gp-primary-main-nav .menu > li:hover > a,
  #gp-primary-main-nav .menu > li > a {
    color: #fff;
  }
  #gp-primary-main-nav .menu > li:hover > a:hover,
  #gp-primary-main-nav .menu > li > a:hover {
    color: #fff;
  }
  #gp-primary-main-nav .menu > li > a:hover,
  #gp-primary-main-nav .menu > li:hover > a {
    border-top: 3px solid #fff;
  }
  #gp-secondary-main-nav .menu > li,
  #gp-secondary-main-nav .menu > li > a {
    font-family: Roboto;
    text-transform: none;
    line-height: 14px;
    font-weight: 400;
    font-style: normal;
    color: #fff;
    font-size: 14px;
    font-display: swap;
  }
  #gp-secondary-main-nav .menu > li:hover > a,
  #gp-secondary-main-nav .menu > li > a {
    color: #fff;
  }
  #gp-secondary-main-nav .menu > li:hover > a:hover,
  #gp-secondary-main-nav .menu > li > a:hover {
    color: #fff;
  }
  #gp-secondary-main-nav .menu > li > a:hover,
  #gp-secondary-main-nav .menu > li:hover > a {
    border-top: 3px solid #fff;
  }
  #gp-search-button,
  #gp-cart-button {
    color: #fff;
  }
  #gp-search-button:hover,
  #gp-cart-button:hover {
    color: #fff;
  }
  .gp-nav .sub-menu,
  .gp-nav .menu li .gp-menu-tabs li:hover,
  .gp-nav .menu li .gp-menu-tabs li.gp-selected,
  #gp-search-box {
    background-color: #fff;
  }
  .gp-nav .menu > .gp-standard-menu > .sub-menu > li a:hover,
  .gp-nav .menu > .gp-standard-menu > .sub-menu > li:hover > a {
    background-color: #353535;
  }
  .gp-nav .gp-standard-menu .sub-menu li,
  .gp-nav .gp-standard-menu .sub-menu li a,
  .gp-nav li.gp-megamenu .sub-menu li,
  .gp-nav .gp-megamenu .sub-menu li a {
    font-family: Roboto;
    font-weight: 400;
    font-style: normal;
    color: #000;
    font-size: 14px;
    font-display: swap;
  }
  .gp-nav .menu > .gp-standard-menu > .sub-menu > li a {
    color: #000;
  }
  .gp-nav .menu > .gp-standard-menu > .sub-menu > li a:hover {
    color: #fff;
  }
  .gp-nav .sub-menu li,
  #gp-dropdowncart .total,
  #gp-dropdowncart .buttons {
    border-top: 1px solid #e0e0e0;
  }
  .gp-nav .gp-megamenu > .sub-menu > li > a,
  .gp-nav .gp-megamenu > .sub-menu > li > span {
    color: #000000;
  }
  .gp-nav li.gp-megamenu a {
    color: #000;
  }
  .gp-nav li.gp-megamenu a:hover {
    color: #e93100;
  }
  .gp-primary-dropdown-icon {
    color: #fff;
  }
  .gp-primary-dropdown-icon:hover {
    color: #fff;
  }
  .gp-secondary-dropdown-icon {
    color: #000;
  }
  .gp-secondary-dropdown-icon:hover {
    color: #fff;
  }
  .gp-menu-tabs {
    background-color: #353535;
  }
  .gp-nav .menu li .gp-menu-tabs li {
    color: #ffffff;
  }
  .gp-nav .menu li .gp-menu-tabs li:hover,
  .gp-nav .menu li .gp-menu-tabs li.gp-selected {
    color: #e93100;
  }
  #gp-small-header #gp-top-nav {
    background-color: #26a9e0;
  }
  #gp-small-header .menu > li,
  #gp-small-header .menu > li > a {
    color: #ffffff;
  }
  #gp-small-header .menu > li:hover,
  #gp-small-header .menu > li > a:hover {
    color: #e0e0e0;
  }
  #gp-mobile-nav-button,
  #gp-profile-button,
  #gp-mobile-nav-close-button {
    color: #ffffff;
  }
  #gp-mobile-nav {
    background-color: #fff;
  }
  #gp-mobile-nav-close-button {
    background-color: #0579bd;
  }
  #gp-mobile-nav li {
    color: #000000;
  }
  #gp-mobile-nav .menu li span,
  #gp-mobile-nav .menu li a {
    color: #000;
  }
  #gp-mobile-nav .menu li span:hover,
  #gp-mobile-nav .menu li a:hover {
    color: #000;
  }
  #gp-mobile-nav li a:hover {
    background-color: #f1f1f1;
  }
  #gp-mobile-nav li {
    border-top: 1px solid #e0e0e0;
  }
  #gp-mobile-nav .gp-megamenu > .sub-menu > li > a {
    color: #000000;
  }
  .gp-large-page-header .gp-page-header,
  .gp-fullwidth-page-header .gp-page-header,
  #gp-full-page-bg {
    background-color: #353535;
    background-repeat: no-repeat;
    background-attachment: scroll;
    background-position: center center;
    background-size: cover;
  }
  .gp-page-header h1,
  .gp-page-header h2 {
    font-family: Roboto;
    line-height: 90px;
    font-weight: normal;
    font-style: normal;
    color: #fff;
    font-size: 80px;
    font-display: swap;
  }
  .gp-page-header .gp-container {
    height: 250px;
  }
  .gp-entry-title,
  .woocommerce .page-title,
  .woocommerce div.product .entry-title.product_title {
    font-family: Roboto;
    line-height: 46px;
    font-weight: 300;
    font-style: normal;
    color: #000;
    font-size: 40px;
    font-display: swap;
  }
  .gp-subtitle {
    font-family: Roboto;
    line-height: 32px;
    font-weight: 300;
    font-style: normal;
    color: #0579bd;
    font-size: 20px;
    font-display: swap;
  }
  #gp-post-links a,
  .gp-pagination-arrows a.prev,
  .gp-pagination-arrows a.next,
  .gp-carousel-wrapper .flex-direction-nav a {
    color: #aaa;
  }
  #gp-post-links a:hover,
  .gp-pagination-arrows a.prev:hover,
  .gp-pagination-arrows a.next:hover,
  .gp-carousel-wrapper .flex-direction-nav a:hover {
    color: #333;
  }
  .gp-entry-meta,
  .gp-meta-comments a {
    color: #aaaaaa;
  }
  .gp-entry-cats,
  .gp-entry-cats a,
  .gp-entry-cats a:hover {
    color: #ffffff;
  }
  .gp-entry-cats {
    background-color: #92d050;
  }
  .gp-entry-tags a,
  .gp-entry-tags a:hover {
    color: #ffffff;
  }
  .gp-entry-tags a {
    background-color: #353535;
  }
  .gp-author-info,
  #gp-post-navigation #gp-share-icons {
    background-color: #353535;
  }
  .gp-author-info,
  .gp-author-info a,
  #gp-post-navigation #gp-share-icons h3 {
    line-height: 24px;
    color: #fff;
    font-size: 14px;
    font-display: swap;
  }
  .gp-author-info a {
    color: #b1b1b1;
  }
  .gp-author-info a:hover {
    color: #fff;
  }
  .gp-entry-video-wrapper {
    background-color: #353535;
  }
  .gp-entry-video-wrapper .gp-entry-title {
    color: #ffffff;
  }
  .gp-entry-video-wrapper .gp-video-description {
    color: #777777;
  }
  blockquote {
    background-color: #0579bd;
  }
  blockquote,
  blockquote a,
  blockquote a:hover {
    font-family: 'Roboto Slab';
    line-height: 38px;
    font-weight: 400;
    font-style: normal;
    color: #fff;
    font-size: 24px;
    font-display: swap;
  }
  .gp-loop-title {
    line-height: 22px;
    font-weight: 400;
    font-size: 19px;
    font-display: swap;
  }
  .gp-blog-large .gp-loop-title {
    line-height: 46px;
    font-weight: 200;
    font-size: 40px;
    font-display: swap;
  }
  .gp-loop-title a,
  .bboss_search_item .entry-title a {
    color: #000;
  }
  .gp-loop-title a:hover,
  .bboss_search_item .entry-title a:hover {
    color: #0579bd;
  }
  .gp-loop-text,
  .gp-login-wrapper p {
    color: #545454;
  }
  .gp-loop-meta,
  .gp-loop-meta a,
  #gp-breadcrumbs,
  #gp-breadcrumbs a,
  .woocommerce .woocommerce-breadcrumb a,
  .woocommerce .woocommerce-breadcrumb,
  .comment-text time,
  div.bbp-breadcrumb,
  div.bbp-breadcrumb a,
  .gp-statistics-wrapper .gp-stat-title,
  .widget_display_replies ul li div,
  .widget_display_topics ul li div {
    color: #545454;
  }
  .gp-loop-cats,
  .gp-loop-cats a,
  .gp-loop-cats a:hover {
    color: #545454;
  }
  .gp-loop-tags,
  .gp-loop-tags a,
  .gp-loop-tags a:hover {
    color: #0579bd;
  }
  .gp-blog-masonry section,
  section.sticky {
    background-color: #f8f8f8;
  }
  ul.page-numbers .page-numbers {
    background-color: #538122;
  }
  ul.page-numbers .page-numbers:hover,
  ul.page-numbers .page-numbers.current,
  ul.page-numbers > span.page-numbers {
    background-color: #353535;
  }
  ul.page-numbers .page-numbers {
    color: #ffffff;
  }
  .widgettitle,
  .widget-title,
  .wp-block-search__label {
    font-family: Roboto;
    line-height: 18px;
    font-weight: 500;
    font-style: normal;
    color: #000;
    font-size: 14px;
    font-display: swap;
  }
  .widgettitle a,
  .widget-title a,
  .wp-block-search__label {
    color: #0579bd;
  }
  .widgettitle a:hover,
  .widget-title a:hover,
  .wp-block-search__label:hover {
    color: #000;
  }
  .gp-sidebar .widgettitle,
  .widgettitle.gp-standard-title,
  .gp-sidebar .widget-title,
  .gp-sidebar .wp-block-search__label {
    border-bottom: 3px solid #538122;
  }
  .widget,
  .gp-vc-element,
  .widgettitle.gp-fancy-title .gp-widget-title,
  .widgettitle.gp-fancy-title .gp-element-icon,
  .widget .woocommerce {
    background-color: #ffffff;
  }
  .widgettitle.gp-fancy-title .gp-triangle {
    border-left-color: #ffffff;
  }
  input,
  textarea,
  .gp-search-bar,
  .wp-block-search__input,
  .gp-theme #buddypress .dir-search input[type='search'],
  .gp-theme #buddypress .dir-search input[type='text'],
  .gp-theme #buddypress .groups-members-search input[type='search'],
  .gp-theme #buddypress .standard-form input[type='color'],
  .gp-theme #buddypress .standard-form input[type='date'],
  .gp-theme #buddypress .standard-form input[type='datetime-local'],
  .gp-theme #buddypress .standard-form input[type='datetime'],
  .gp-theme #buddypress .standard-form input[type='email'],
  .gp-theme #buddypress .standard-form input[type='month'],
  .gp-theme #buddypress .standard-form input[type='number'],
  .gp-theme #buddypress .standard-form input[type='password'],
  .gp-theme #buddypress .standard-form input[type='range'],
  .gp-theme #buddypress .standard-form input[type='search'],
  .gp-theme #buddypress .standard-form input[type='tel'],
  .gp-theme #buddypress .standard-form input[type='text'],
  .gp-theme #buddypress .standard-form input[type='time'],
  .gp-theme #buddypress .standard-form input[type='url'],
  .gp-theme #buddypress .standard-form input[type='week'],
  .gp-theme #buddypress .standard-form textarea,
  .gp-theme #buddypress div.activity-comments form .ac-textarea,
  .gp-theme #buddypress form#whats-new-form textarea {
    background-color: #fafafa;
  }
  input,
  textarea,
  .gp-search-bar,
  .wp-block-search__input,
  .gp-login-wrapper .gp-login-icon,
  .gp-login-wrapper .gp-password-icon,
  .gp-login-wrapper .gp-email-icon,
  .gp-theme #buddypress .dir-search input[type='search'],
  .gp-theme #buddypress .dir-search input[type='text'],
  .gp-theme #buddypress .groups-members-search input[type='search'],
  .gp-theme #buddypress .standard-form input[type='color'],
  .gp-theme #buddypress .standard-form input[type='date'],
  .gp-theme #buddypress .standard-form input[type='datetime-local'],
  .gp-theme #buddypress .standard-form input[type='datetime'],
  .gp-theme #buddypress .standard-form input[type='email'],
  .gp-theme #buddypress .standard-form input[type='month'],
  .gp-theme #buddypress .standard-form input[type='number'],
  .gp-theme #buddypress .standard-form input[type='password'],
  .gp-theme #buddypress .standard-form input[type='range'],
  .gp-theme #buddypress .standard-form input[type='search'],
  .gp-theme #buddypress .standard-form input[type='tel'],
  .gp-theme #buddypress .standard-form input[type='text'],
  .gp-theme #buddypress .standard-form input[type='time'],
  .gp-theme #buddypress .standard-form input[type='url'],
  .gp-theme #buddypress .standard-form input[type='week'],
  .gp-theme #buddypress .standard-form textarea,
  .gp-theme #buddypress div.activity-comments form .ac-textarea,
  .bb-global-search-ac.ui-autocomplete {
    border-top: 1px solid #ddd;
    border-bottom: 1px solid #ddd;
    border-left: 1px solid #ddd;
    border-right: 1px solid #ddd;
  }
  input,
  textarea,
  .gp-search-bar,
  .wp-block-search__input,
  .gp-theme #buddypress .dir-search input[type='search'],
  .gp-theme #buddypress .dir-search input[type='text'],
  .gp-theme #buddypress .groups-members-search input[type='search'],
  .gp-theme #buddypress .groups-members-search input[type='text'],
  .gp-theme #buddypress .standard-form input[type='color'],
  .gp-theme #buddypress .standard-form input[type='date'],
  .gp-theme #buddypress .standard-form input[type='datetime-local'],
  .gp-theme #buddypress .standard-form input[type='datetime'],
  .gp-theme #buddypress .standard-form input[type='email'],
  .gp-theme #buddypress .standard-form input[type='month'],
  .gp-theme #buddypress .standard-form input[type='number'],
  .gp-theme #buddypress .standard-form input[type='password'],
  .gp-theme #buddypress .standard-form input[type='range'],
  .gp-theme #buddypress .standard-form input[type='search'],
  .gp-theme #buddypress .standard-form input[type='tel'],
  .gp-theme #buddypress .standard-form input[type='text'],
  .gp-theme #buddypress .standard-form input[type='time'],
  .gp-theme #buddypress .standard-form input[type='url'],
  .gp-theme #buddypress .standard-form input[type='week'],
  .gp-theme #buddypress .standard-form textarea,
  .gp-theme #buddypress div.activity-comments form .ac-textarea,
  .gp-theme #buddypress form#whats-new-form textarea {
    color: #000000;
  }
  select,
  .gp-theme #buddypress .standard-form select,
  .gp-theme #buddypress form#whats-new-form #whats-new-options select,
  #buddypress .standard-form select:focus {
    background-color: #353535;
  }
  select,
  .gp-theme #buddypress .standard-form select,
  .gp-theme #buddypress form#whats-new-form #whats-new-options select {
    color: #ffffff;
  }
  input[type='button'],
  input[type='submit'],
  input[type='reset'],
  button,
  .button,
  .wp-block-search__button,
  .gp-theme #buddypress .comment-reply-link,
  .gp-notification-counter,
  #gp-cart-counter,
  .gp-theme #buddypress a.button,
  .gp-theme #buddypress button,
  .gp-theme #buddypress div.generic-button a,
  .gp-theme #buddypress input[type='button'],
  .gp-theme #buddypress input[type='reset'],
  .gp-theme #buddypress input[type='submit'],
  .gp-theme #buddypress ul.button-nav li a,
  a.bp-title-button,
  .gp-theme #buddypress .activity-list #reply-title small a span,
  .gp-theme #buddypress .activity-list a.bp-primary-action span,
  .tribe-events-calendar thead th,
  #tribe-events .tribe-events-button,
  #tribe-events .tribe-events-button:hover,
  #tribe_events_filters_wrapper input[type='submit'],
  .tribe-events-button,
  .tribe-events-button.tribe-active:hover,
  .tribe-events-button.tribe-inactive,
  .tribe-events-button:hover,
  .tribe-events-calendar td.tribe-events-present div[id*='tribe-events-daynum-'],
  .tribe-events-calendar td.tribe-events-present div[id*='tribe-events-daynum-'] > a,
  #tribe-bar-form .tribe-bar-submit input[type='submit'],
  .woocommerce #respond input#submit.alt,
  .woocommerce a.button.alt,
  .woocommerce button.button.alt,
  .woocommerce input.button.alt,
  #gp-dropdowncart .woocommerce a.button {
    background-color: #0579bd;
  }
  input[type='button']:hover,
  input[type='submit']:hover,
  input[type='reset']:hover,
  button:hover,
  .button:hover,
  .wp-block-search__button:hover,
  .gp-theme #buddypress .comment-reply-link:hover,
  .gp-theme #buddypress a.button:hover,
  .gp-theme #buddypress button:hover,
  .gp-theme #buddypress div.generic-button a:hover,
  .gp-theme #buddypress input[type='button']:hover,
  .gp-theme #buddypress input[type='reset']:hover,
  .gp-theme #buddypress input[type='submit']:hover,
  .gp-theme #buddypress ul.button-nav li a:hover,
  a.bp-title-button:hover,
  .gp-theme #buddypress .activity-list #reply-title small a:hover span,
  .gp-theme #buddypress .activity-list a.bp-primary-action:hover span,
  .woocommerce #respond input#submit.alt:hover,
  .woocommerce a.button.alt:hover,
  .woocommerce button.button.alt:hover,
  .woocommerce input.button.alt:hover,
  #gp-dropdowncart .woocommerce a.button:hover {
    background-color: #353535;
  }
  input[type='button'],
  input[type='submit'],
  input[type='reset'],
  button,
  .button,
  .wp-block-search__button,
  a.gp-notification-counter,
  a.gp-notification-counter:hover,
  #gp-cart-counter:hover,
  .gp-theme #buddypress .comment-reply-link,
  .gp-theme #buddypress a.button,
  .gp-theme #buddypress button,
  .gp-theme #buddypress div.generic-button a,
  .gp-theme #buddypress input[type='button'],
  .gp-theme #buddypress input[type='reset'],
  .gp-theme #buddypress input[type='submit'],
  .gp-theme #buddypress ul.button-nav li a,
  a.bp-title-button,
  .gp-theme #buddypress .activity-list #reply-title small a span,
  .gp-theme #buddypress .activity-list a.bp-primary-action span,
  #gp-dropdowncart .woocommerce a.button {
    color: #ffffff;
  }
  input[type='button']:hover,
  input[type='submit']:hover,
  input[type='reset']:hover,
  button,
  .button:hover,
  .wp-block-search__button:hover,
  .gp-theme #buddypress .comment-reply-link:hover,
  .gp-theme #buddypress a.button:hover,
  .gp-theme #buddypress button:hover,
  .gp-theme #buddypress div.generic-button a:hover,
  .gp-theme #buddypress input[type='button']:hover,
  .gp-theme #buddypress input[type='reset']:hover,
  .gp-theme #buddypress input[type='submit']:hover,
  .gp-theme #buddypress ul.button-nav li a:hover,
  a.bp-title-button:hover,
  .gp-theme #buddypress .activity-list #reply-title small a span,
  .gp-theme #buddypress .activity-list a.bp-primary-action span,
  #gp-dropdowncart .woocommerce a.button:hover {
    color: #ffffff;
  }
  #gp-footer {
    background-color: #353535;
  }
  .gp-footer-widget .widgettitle,
  .gp-footer-widget .widget-title,
  .gp-footer-widget .wp-block-search__label {
    font-family: Roboto;
    line-height: 20px;
    font-weight: 300;
    font-style: normal;
    color: #fff;
    font-size: 16px;
    font-display: swap;
  }
  .gp-footer-widget {
    font-family: Roboto;
    line-height: 20px;
    font-weight: 300;
    font-style: normal;
    color: #ffffff;
    font-size: 14px;
    font-display: swap;
  }
  .gp-footer-widget a {
    color: #f9bd16;
  }
  .gp-footer-widget a:hover {
    color: #b1b1b1;
  }
  #gp-copyright {
    background-color: #353535;
  }
  #gp-copyright {
    border-top: 1px solid #444;
  }
  #gp-copyright {
    color: #777777;
  }
  #gp-copyright a {
    color: #999;
  }
  #gp-copyright a:hover {
    color: #e0e0e0;
  }
  #gp-to-top {
    background-color: #0579bd;
  }
  #gp-to-top {
    color: #ffffff;
  }
  .woocommerce ul.products li.product .price,
  .woocommerce div.product p.price,
  .woocommerce div.product span.price {
    color: #00bee9;
  }
  .woocommerce span.onsale {
    background-color: #e93100;
  }
  #buddypress .activity-list .activity-content .activity-header,
  #buddypress .activity-list .activity-content .comment-header,
  #buddypress .activity-list .activity-header a,
  #buddypress .activity-list div.activity-comments div.acomment-meta,
  #buddypress .activity-list .acomment-meta a,
  .widget.buddypress .item-title a,
  .widget.buddypress div.item-options.gp-small-item-options:before,
  .widget.buddypress div.item-options a,
  #buddypress ul.item-list li div.item-title a,
  #buddypress ul.item-list li h4 > a,
  #buddypress ul.item-list li h5 > a,
  #buddypress div#item-header div#item-meta {
    color: #000000;
  }
  #buddypress .activity-list .activity-content .activity-inner {
    color: #aaaaaa;
  }
  #buddypress .activity-list a.activity-time-since,
  .widget_display_replies ul li a + div,
  .widget_display_topics ul li a + div,
  #buddypress .activity-list .acomment-meta a.activity-time-since,
  #buddypress .activity-list div.activity-comments div.acomment-content,
  .widget.buddypress div.item-meta,
  #buddypress span.activity,
  #buddypress ul.item-list li div.meta {
    color: #545454;
  }
  .gp-theme #buddypress .activity-list div.activity-meta a.button,
  .gp-theme #buddypress .activity .acomment-options a,
  .gp-theme #buddypress .activity-list li.load-more a,
  .gp-theme #buddypress .activity-list li.load-newest a,
  .widget.buddypress div.item-options a.selected {
    color: #26a9e0;
  }
  .gp-theme #buddypress .activity-list div.activity-meta a.button:hover,
  .gp-theme #buddypress .activity .acomment-options a:hover,
  .gp-theme #buddypress .activity-list li.load-more a:hover,
  .gp-theme #buddypress .activity-list li.load-newest a:hover,
  .widget.buddypress div.item-options a.selected:hover {
    color: #000;
  }
  .gp-theme #buddypress ul.item-list li,
  .gp-theme #buddypress div.activity-comments ul li:first-child,
  .widget.buddypress #friends-list li,
  .widget.buddypress #groups-list li,
  .widget.buddypress #members-list li {
    border-top: 1px solid #e0e0e0;
    border-bottom: 1px solid #e0e0e0;
  }
  .gp-theme #buddypress div.item-list-tabs {
    background-color: #353535;
  }
  .gp-theme #buddypress div.item-list-tabs ul li a span,
  .gp-theme #buddypress div.item-list-tabs ul li a:hover span,
  .gp-theme #buddypress div.item-list-tabs ul li.current a span,
  .gp-theme #buddypress div.item-list-tabs ul li.selected a span {
    color: #353535;
  }
  .gp-theme #buddypress div.item-list-tabs ul li a span {
    background-color: #ffffff;
  }
  .gp-theme #buddypress div.item-list-tabs ul li a,
  .gp-theme #buddypress #gp-bp-tabs-button,
  .gp-theme #buddypress div.item-list-tabs ul li span {
    color: #ffffff;
  }
  .gp-theme #buddypress div.item-list-tabs ul li.current a,
  .gp-theme #buddypress div.item-list-tabs ul li.selected a,
  .gp-theme #buddypress div.item-list-tabs ul li a:hover {
    color: #b1b1b1;
  }
  .gp-theme #buddypress div.item-list-tabs ul li a:hover span,
  .gp-theme #buddypress div.item-list-tabs ul li.current a span,
  .gp-theme #buddypress div.item-list-tabs ul li.selected a span {
    background: #b1b1b1;
  }
  .gp-theme #buddypress div.item-list-tabs#subnav ul,
  .widget.buddypress div.item-options.gp-small-item-options > a {
    background-color: #f8f8f8;
  }
  .gp-theme #buddypress div.item-list-tabs#subnav ul li a span,
  .gp-theme #buddypress div.item-list-tabs#subnav ul li a:hover span,
  .gp-theme #buddypress div.item-list-tabs#subnav ul li.current a span,
  .gp-theme #buddypress div.item-list-tabs#subnav ul li.selected a span {
    color: #f8f8f8;
  }
  .gp-theme #buddypress div.item-list-tabs#subnav ul li a span {
    background-color: #000000;
  }
  .gp-theme #buddypress div.item-list-tabs#subnav ul li a {
    color: #000000;
  }
  .gp-theme #buddypress div.item-list-tabs#subnav ul li.current a,
  .gp-theme #buddypress div.item-list-tabs#subnav ul li.selected a,
  .gp-theme #buddypress div.item-list-tabs#subnav ul li a:hover {
    color: #26a9e0;
  }
  .gp-theme #buddypress div.item-list-tabs#subnav ul li a:hover span,
  .gp-theme #buddypress div.item-list-tabs#subnav ul li.current a span,
  .gp-theme #buddypress div.item-list-tabs#subnav ul li.selected a span {
    background: #26a9e0;
  }
  #bbpress-forums
    .gp-forum-home.bbp-forums
    .bbp-has-subforums
    .bbp-forum-info
    > .bbp-forum-title,
  #bbpress-forums .bbp-topics .bbp-header,
  #bbpress-forums .bbp-replies .bbp-header,
  #bbpress-forums .bbp-search-results .bbp-header {
    background-color: #353535;
  }
  #bbpress-forums
    .gp-forum-home.bbp-forums
    .bbp-has-subforums
    .bbp-forum-info
    > .bbp-forum-title,
  #bbpress-forums .bbp-topics .bbp-header,
  #bbpress-forums .bbp-replies .bbp-header,
  #bbpress-forums .bbp-search-results .bbp-header {
    color: #ffffff;
  }
  #bbpress-forums .bbp-header div.bbp-reply-content a {
    color: #ddd;
  }
  #bbpress-forums .bbp-header div.bbp-reply-content a:hover {
    color: #fff;
  }
  #bbpress-forums .bbp-forums-list li.odd-forum-row,
  #bbpress-forums div.odd,
  #bbpress-forums ul.odd {
    background-color: #f8f8f8;
  }
  #bbpress-forums .bbp-forums-list li.even-forum-row,
  #bbpress-forums div.even,
  #bbpress-forums ul.even {
    background-color: #fff;
  }
  #bbpress-forums .gp-forum-home.bbp-forums .bbp-forum-info > .bbp-forum-title,
  #bbpress-forums div.bbp-forum-header,
  #bbpress-forums div.bbp-topic-header,
  #bbpress-forums div.bbp-reply-header,
  #bbpress-forums .bbp-forums-list,
  #bbpress-forums li.bbp-body {
    border-top: 1px solid #ddd;
    border-bottom: 1px solid #ddd;
    border-left: 1px solid #ddd;
    border-right: 1px solid #ddd;
  }
  #bbpress-forums .bbp-forums-list .bbp-forum .bbp-forum-link,
  body.forum #bbpress-forums .bbp-forums .bbp-forum-info > .bbp-forum-title,
  #bbpress-forums .bbp-topics .bbp-topic-permalink,
  #bbpress-forums .gp-forum-home.bbp-forums .bbp-forum-info > .bbp-forum-title,
  .gp-theme
    #bbpress-forums
    .gp-forum-shortcode
    ul.forum:not(.status-category)
    .bbp-forum-info
    a {
    color: #000000;
  }
  #bbpress-forums div.bbp-forum-author .bbp-author-role,
  #bbpress-forums div.bbp-topic-author .bbp-author-role,
  #bbpress-forums div.bbp-reply-author .bbp-author-role {
    background-color: #92d050;
  }
  #bbpress-forums div.bbp-forum-author .bbp-author-role,
  #bbpress-forums div.bbp-topic-author .bbp-author-role,
  #bbpress-forums div.bbp-reply-author .bbp-author-role {
    color: #ffffff;
  }
</style>
    <style id="kadence-blocks-global-variables-inline-css" type="text/css">
      :root {
        --global-kb-font-size-sm: clamp(0.8rem, 0.73rem + 0.217vw, 0.9rem);
        --global-kb-font-size-md: clamp(1.1rem, 0.995rem + 0.326vw, 1.25rem);
        --global-kb-font-size-lg: clamp(1.75rem, 1.576rem + 0.543vw, 2rem);
        --global-kb-font-size-xl: clamp(2.25rem, 1.728rem + 1.63vw, 3rem);
        --global-kb-font-size-xxl: clamp(2.5rem, 1.456rem + 3.26vw, 4rem);
        --global-kb-font-size-xxxl: clamp(2.75rem, 0.489rem + 7.065vw, 6rem);
      }
    </style>
    <link
      rel="preload"
      as="style"
      href="https://fonts.googleapis.com/css?family=Roboto:300,400,500%7CRoboto%20Slab:400&#038;subset=latin&#038;display=swap&#038;ver=6.1.1"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css?family=Roboto:300,400,500%7CRoboto%20Slab:400&#038;subset=latin&#038;display=swap&#038;ver=6.1.1"
      media="print"
      onload="this.media='all'"
    />
    <noscript
      ><link
        rel="stylesheet"
        href="https://fonts.googleapis.com/css?family=Roboto:300,400,500%7CRoboto%20Slab:400&#038;subset=latin&#038;display=swap&#038;ver=6.1.1"
    /></noscript>
<script
  type="text/javascript"
  src="https://www.envirodiy.org/wp-includes/js/jquery/jquery.min.js?ver=3.6.1"
  id="jquery-core-js"
></script>
<script
  type="text/javascript"
  src="https://www.envirodiy.org/wp-includes/js/jquery/jquery-migrate.min.js?ver=3.3.2"
  id="jquery-migrate-js"
></script>  <link rel="icon" href="MS_FavIcon.png" type="image/png" />
  <link rel="prev" href="_d_r_w_i__no_cellular_8ino-example.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="theme-color" content="#cb4b16" />
</head>

<body class="home-page bp-legacy home page-template page-template-homepage-template page-template-homepage-template-php page page-id-977 logged-in admin-bar no-customize-support theme-socialize woocommerce-no-js tribe-no-js page-template-socialize-child gp-theme gp-responsive gp-wide-layout gp-retina gp-normal-scrolling gp-no-back-to-top gp-relative-header gp-header-standard gp-cart-disabled gp-search-all gp-profile-disabled gp-small-header-all gp-standard-page-header gp-no-sidebar gp-homepage wpb-js-composer js-comp-ver-6.10.0 vc_responsive no-js">
	<div id="gp-site-wrapper">

  <nav id="gp-mobile-nav">
    <div id="gp-mobile-nav-close-button"></div>
    <ul class="menu">
        <li class="gp-standard-menu gp-columns-1 gp-show-all main-menu-item menu-item-even menu-item-depth-0 menu-item menu-item-param-custom menu-item-object-custom menu-item-has-children">
            <a class="menu-link main-menu-link" href="index.html">About</a>
          <ul class="sub-menu menu-odd menu-depth-1">
              <li class="gp-standard-menu gp-menu-link gp-show-all sub-menu-item menu-item-odd menu-item-depth-1 menu-item menu-item-param-post_type menu-item-object-page">
                <a href="index.html#data_receivers">Data Endpoints</a>
              </li>
              <li class="gp-standard-menu gp-menu-link gp-show-all sub-menu-item menu-item-odd menu-item-depth-1 menu-item menu-item-param-post_type menu-item-object-page">
                <a href="index.html#supported_sensors">Supported Sensors</a>
              </li>
              <li class="gp-standard-menu gp-menu-link gp-show-all sub-menu-item menu-item-odd menu-item-depth-1 menu-item menu-item-param-post_type menu-item-object-page">
                <a href="index.html#modems">Supported Cellular/Wifi Modules</a>
              </li>
              <li class="gp-standard-menu gp-menu-link gp-show-all sub-menu-item menu-item-odd menu-item-depth-1 menu-item menu-item-param-post_type menu-item-object-page">
                <a href="index.html#contributing">Contributing</a>
              </li>
              <li class="gp-standard-menu gp-menu-link gp-show-all sub-menu-item menu-item-odd menu-item-depth-1 menu-item menu-item-param-post_type menu-item-object-page">
                <a href="index.html#license">License</a>
              </li>
              <li class="gp-standard-menu gp-menu-link gp-show-all sub-menu-item menu-item-odd menu-item-depth-1 menu-item menu-item-param-post_type menu-item-object-page">
                <a href="index.html#acknowledgments">Acknowledgments</a>
              </li>
              <li class="gp-standard-menu gp-menu-link gp-show-all sub-menu-item menu-item-odd menu-item-depth-1 menu-item menu-item-param-post_type menu-item-object-page">
                <a href="change_log.html">ChangeLog</a>
              </li>
          </ul>
        </li>
        <li class="gp-standard-menu gp-columns-1 gp-show-all main-menu-item menu-item-even menu-item-depth-0 menu-item menu-item-param-custom menu-item-object-custom menu-item-has-children">
            <a class="menu-link main-menu-link" href="page_getting_started.html">Getting Started</a>
          <ul class="sub-menu menu-odd menu-depth-1">
              <li class="gp-standard-menu gp-menu-link gp-show-all sub-menu-item menu-item-odd menu-item-depth-1 menu-item menu-item-param-post_type menu-item-object-page">
                <a class="menu-link sub-menu-link" href="page_getting_started.html">Getting Started</a>
              </li>
              <li class="gp-standard-menu gp-menu-link gp-show-all sub-menu-item menu-item-odd menu-item-depth-1 menu-item menu-item-param-post_type menu-item-object-page">
                <a class="menu-link sub-menu-link" href="page_library_dependencies.html">Library Dependencies</a>
              </li>
              <li class="gp-standard-menu gp-menu-link gp-show-all sub-menu-item menu-item-odd menu-item-depth-1 menu-item menu-item-param-post_type menu-item-object-page">
                <a class="menu-link sub-menu-link" href="page_physical_dependencies.html">Physical Dependencies</a>
              </li>
              <li class="gp-standard-menu gp-menu-link gp-show-all sub-menu-item menu-item-odd menu-item-depth-1 menu-item menu-item-param-post_type menu-item-object-page">
                <a class="menu-link sub-menu-link" href="page_library_terminology.html">Library Terminology</a>
              </li>
              <li class="gp-standard-menu gp-menu-link gp-show-all sub-menu-item menu-item-odd menu-item-depth-1 menu-item menu-item-param-post_type menu-item-object-page">
                <a class="menu-link sub-menu-link" href="page_other_notes.html">Other Sensor and Modem Notes</a>
              </li>
          </ul>
        </li>
        <li class="gp-standard-menu gp-columns-1 gp-show-all main-menu-item menu-item-even menu-item-depth-0 menu-item menu-item-param-custom menu-item-object-custom menu-item-has-children">
            <a class="menu-link main-menu-link" href="page_faq.html">FAQs</a>
          <ul class="sub-menu menu-odd menu-depth-1">
              <li class="gp-standard-menu gp-menu-link gp-show-all sub-menu-item menu-item-odd menu-item-depth-1 menu-item menu-item-param-post_type menu-item-object-page">
                <a class="menu-link sub-menu-link" href="page_processor_compatibility.html">Processor Compatibility</a>
              </li>
              <li class="gp-standard-menu gp-menu-link gp-show-all sub-menu-item menu-item-odd menu-item-depth-1 menu-item menu-item-param-post_type menu-item-object-page">
                <a class="menu-link sub-menu-link" href="page_arduino_streams.html">Notes on Arduino Streams and Software Serial</a>
              </li>
              <li class="gp-standard-menu gp-menu-link gp-show-all sub-menu-item menu-item-odd menu-item-depth-1 menu-item menu-item-param-post_type menu-item-object-page">
                <a class="menu-link sub-menu-link" href="page_power_parasites.html">Power Draw over Data Lines</a>
              </li>
              <li class="gp-standard-menu gp-menu-link gp-show-all sub-menu-item menu-item-odd menu-item-depth-1 menu-item menu-item-param-post_type menu-item-object-page">
                <a class="menu-link sub-menu-link" href="page_memory_use.html">Decreasing Memory Footprint</a>
              </li>
              <li class="gp-standard-menu gp-menu-link gp-show-all sub-menu-item menu-item-odd menu-item-depth-1 menu-item menu-item-param-post_type menu-item-object-page">
                <a class="menu-link sub-menu-link" href="page_code_debugging.html">In-Library Debugging</a>
              </li>
              <li class="gp-standard-menu gp-menu-link gp-show-all sub-menu-item menu-item-odd menu-item-depth-1 menu-item menu-item-param-post_type menu-item-object-page">
                <a class="menu-link sub-menu-link" href="page_for_developers.html">Developer Setup</a>
              </li>
          </ul>
        </li>
          <li class="gp-standard-menu gp-columns-1 gp-show-all main-menu-item menu-item-even menu-item-depth-0 menu-item menu-item-param-post_type menu-item-object-page">
<a class="menu-link main-menu-link" href="modules.html">Modules</a>          </li>
          <li class="gp-standard-menu gp-columns-1 gp-show-all main-menu-item menu-item-even menu-item-depth-0 menu-item menu-item-param-post_type menu-item-object-page">
<a class="menu-link main-menu-link" href="annotated.html">Classes</a>          </li>
          <li class="gp-standard-menu gp-columns-1 gp-show-all main-menu-item menu-item-even menu-item-depth-0 menu-item menu-item-param-post_type menu-item-object-page">
<a class="menu-link main-menu-link" href="files.html">Source Files</a>          </li>
          <li class="gp-standard-menu gp-columns-1 gp-show-all main-menu-item menu-item-even menu-item-depth-0 menu-item menu-item-param-post_type menu-item-object-page">
<a class="menu-link main-menu-link" href="page_the_examples.html">Examples Using ModularSensors</a>          </li>
          <li class="gp-standard-menu gp-columns-1 gp-show-all main-menu-item menu-item-even menu-item-depth-0 menu-item menu-item-param-post_type menu-item-object-page">
<a class="menu-link main-menu-link" href="pages.html">More</a>          </li>
    </ul>
  </nav><div id="gp-mobile-nav-bg"></div>

  <div id="gp-page-wrapper">

    <header id="gp-main-header">
      <div class="gp-container">
        <div id="gp-logo">
          <a href="index.html" title="ModularSensors">
            <img
              src="ModularSensors_ubuntu_264x55.png"
              alt="ModularSensors"
                  width="200"
                  height="42"
              class="gp-desktop-logo"
            />
            <img
              src="ModularSensors_ubuntu_264x55.png"
              alt="ModularSensors"
              width="264"
              height="55"
              class="gp-scrolling-logo"
            />
            <img
              src="ModularSensors_ubuntu_264x55.png"
              alt="ModularSensors"
              width="132"
              height="28"
              class="gp-mobile-logo"
            />
          </a>
        </div>

        <a id="gp-mobile-nav-button"></a>

        <nav id="gp-main-nav" class="gp-nav">
          <nav id="gp-primary-main-nav">
              <ul id="menu-main-menu-1" class="menu">
                <li class="gp-standard-menu gp-columns-1 gp-show-all main-menu-item menu-item-even menu-item-depth-0 menu-item menu-item-param-custom menu-item-object-custom menu-item-has-children">
                    <a class="menu-link main-menu-link" href="index.html">About</a>
                  <ul class="sub-menu menu-odd menu-depth-1">
                      <li class="gp-standard-menu gp-menu-link gp-show-all sub-menu-item menu-item-odd menu-item-depth-1 menu-item menu-item-param-post_type menu-item-object-page">
                        <a href="index.html#data_receivers">Data Endpoints</a>
                      </li>
                      <li class="gp-standard-menu gp-menu-link gp-show-all sub-menu-item menu-item-odd menu-item-depth-1 menu-item menu-item-param-post_type menu-item-object-page">
                        <a href="index.html#supported_sensors">Supported Sensors</a>
                      </li>
                      <li class="gp-standard-menu gp-menu-link gp-show-all sub-menu-item menu-item-odd menu-item-depth-1 menu-item menu-item-param-post_type menu-item-object-page">
                        <a href="index.html#modems">Supported Cellular/Wifi Modules</a>
                      </li>
                      <li class="gp-standard-menu gp-menu-link gp-show-all sub-menu-item menu-item-odd menu-item-depth-1 menu-item menu-item-param-post_type menu-item-object-page">
                        <a href="index.html#contributing">Contributing</a>
                      </li>
                      <li class="gp-standard-menu gp-menu-link gp-show-all sub-menu-item menu-item-odd menu-item-depth-1 menu-item menu-item-param-post_type menu-item-object-page">
                        <a href="index.html#license">License</a>
                      </li>
                      <li class="gp-standard-menu gp-menu-link gp-show-all sub-menu-item menu-item-odd menu-item-depth-1 menu-item menu-item-param-post_type menu-item-object-page">
                        <a href="index.html#acknowledgments">Acknowledgments</a>
                      </li>
                      <li class="gp-standard-menu gp-menu-link gp-show-all sub-menu-item menu-item-odd menu-item-depth-1 menu-item menu-item-param-post_type menu-item-object-page">
                        <a href="change_log.html">ChangeLog</a>
                      </li>
                  </ul>
                </li>
                <li class="gp-standard-menu gp-columns-1 gp-show-all main-menu-item menu-item-even menu-item-depth-0 menu-item menu-item-param-custom menu-item-object-custom menu-item-has-children">
                    <a class="menu-link main-menu-link" href="page_getting_started.html">Getting Started</a>
                  <ul class="sub-menu menu-odd menu-depth-1">
                      <li class="gp-standard-menu gp-menu-link gp-show-all sub-menu-item menu-item-odd menu-item-depth-1 menu-item menu-item-param-post_type menu-item-object-page">
                        <a class="menu-link sub-menu-link" href="page_getting_started.html">Getting Started</a>
                      </li>
                      <li class="gp-standard-menu gp-menu-link gp-show-all sub-menu-item menu-item-odd menu-item-depth-1 menu-item menu-item-param-post_type menu-item-object-page">
                        <a class="menu-link sub-menu-link" href="page_library_dependencies.html">Library Dependencies</a>
                      </li>
                      <li class="gp-standard-menu gp-menu-link gp-show-all sub-menu-item menu-item-odd menu-item-depth-1 menu-item menu-item-param-post_type menu-item-object-page">
                        <a class="menu-link sub-menu-link" href="page_physical_dependencies.html">Physical Dependencies</a>
                      </li>
                      <li class="gp-standard-menu gp-menu-link gp-show-all sub-menu-item menu-item-odd menu-item-depth-1 menu-item menu-item-param-post_type menu-item-object-page">
                        <a class="menu-link sub-menu-link" href="page_library_terminology.html">Library Terminology</a>
                      </li>
                      <li class="gp-standard-menu gp-menu-link gp-show-all sub-menu-item menu-item-odd menu-item-depth-1 menu-item menu-item-param-post_type menu-item-object-page">
                        <a class="menu-link sub-menu-link" href="page_other_notes.html">Other Sensor and Modem Notes</a>
                      </li>
                  </ul>
                </li>
                <li class="gp-standard-menu gp-columns-1 gp-show-all main-menu-item menu-item-even menu-item-depth-0 menu-item menu-item-param-custom menu-item-object-custom menu-item-has-children">
                    <a class="menu-link main-menu-link" href="page_faq.html">FAQs</a>
                  <ul class="sub-menu menu-odd menu-depth-1">
                      <li class="gp-standard-menu gp-menu-link gp-show-all sub-menu-item menu-item-odd menu-item-depth-1 menu-item menu-item-param-post_type menu-item-object-page">
                        <a class="menu-link sub-menu-link" href="page_processor_compatibility.html">Processor Compatibility</a>
                      </li>
                      <li class="gp-standard-menu gp-menu-link gp-show-all sub-menu-item menu-item-odd menu-item-depth-1 menu-item menu-item-param-post_type menu-item-object-page">
                        <a class="menu-link sub-menu-link" href="page_arduino_streams.html">Notes on Arduino Streams and Software Serial</a>
                      </li>
                      <li class="gp-standard-menu gp-menu-link gp-show-all sub-menu-item menu-item-odd menu-item-depth-1 menu-item menu-item-param-post_type menu-item-object-page">
                        <a class="menu-link sub-menu-link" href="page_power_parasites.html">Power Draw over Data Lines</a>
                      </li>
                      <li class="gp-standard-menu gp-menu-link gp-show-all sub-menu-item menu-item-odd menu-item-depth-1 menu-item menu-item-param-post_type menu-item-object-page">
                        <a class="menu-link sub-menu-link" href="page_memory_use.html">Decreasing Memory Footprint</a>
                      </li>
                      <li class="gp-standard-menu gp-menu-link gp-show-all sub-menu-item menu-item-odd menu-item-depth-1 menu-item menu-item-param-post_type menu-item-object-page">
                        <a class="menu-link sub-menu-link" href="page_code_debugging.html">In-Library Debugging</a>
                      </li>
                      <li class="gp-standard-menu gp-menu-link gp-show-all sub-menu-item menu-item-odd menu-item-depth-1 menu-item menu-item-param-post_type menu-item-object-page">
                        <a class="menu-link sub-menu-link" href="page_for_developers.html">Developer Setup</a>
                      </li>
                  </ul>
                </li>
                  <li class="gp-standard-menu gp-columns-1 gp-show-all main-menu-item menu-item-even menu-item-depth-0 menu-item menu-item-param-post_type menu-item-object-page">
<a class="menu-link main-menu-link" href="modules.html">Modules</a>                  </li>
                  <li class="gp-standard-menu gp-columns-1 gp-show-all main-menu-item menu-item-even menu-item-depth-0 menu-item menu-item-param-post_type menu-item-object-page">
<a class="menu-link main-menu-link" href="annotated.html">Classes</a>                  </li>
                  <li class="gp-standard-menu gp-columns-1 gp-show-all main-menu-item menu-item-even menu-item-depth-0 menu-item menu-item-param-post_type menu-item-object-page">
<a class="menu-link main-menu-link" href="files.html">Source Files</a>                  </li>
                  <li class="gp-standard-menu gp-columns-1 gp-show-all main-menu-item menu-item-even menu-item-depth-0 menu-item menu-item-param-post_type menu-item-object-page">
<a class="menu-link main-menu-link" href="page_the_examples.html">Examples Using ModularSensors</a>                  </li>
                  <li class="gp-standard-menu gp-columns-1 gp-show-all main-menu-item menu-item-even menu-item-depth-0 menu-item menu-item-param-post_type menu-item-object-page">
<a class="menu-link main-menu-link" href="pages.html">More</a>                  </li>
              </ul>
          </nav>

          <div id="gp-search">
            <div id="m-search-button" class="m-show-m" onclick="return showSearch()">
            </div>
					</div>



          <nav id="gp-secondary-main-nav"></nav>
        </nav></div>
    </header><header id="gp-small-header">
      <div class="gp-container">
        <div class="gp-left-triangle"></div>
        <div class="gp-right-triangle"></div>

        <nav id="gp-top-nav" class="gp-nav">
          <div id="gp-left-top-nav">
            <p style="color:#fff">An Arduino library to give environmental sensors a common interface of functions for use with Arduino-framework dataloggers, such as the EnviroDIY Mayfly.</p>
          </div>

          <div id="gp-right-top-nav">
            <ul id="menu-icon-links" class="menu">
              <li
                class="gp-standard-menu gp-columns-1 gp-show-all main-menu-item menu-item-even menu-item-depth-0 fa fa-github menu-item menu-item-type-custom menu-item-object-custom"
              >
                <a
                  title="See it on GitHub"
                  href="https://github.com/EnviroDIY/ModularSensors"
                  class="menu-link main-menu-link"
                  >See the source code on GitHub</a
                >
              </li>
            </ul>
          </div>

        </nav>
      </div>
    </header><div id="gp-fixed-header-padding"></div>

    <div class="m-doc-search" id="search">
      <a href="#!" onclick="return hideSearch()"></a>
      <div id="gp-header-area">
        <div class="gp-container">
          <div style="background-color:#fff;padding:20px;">
            <div class="m-doc-search-header m-text m-small">
              <div><span class="m-label m-default">Tab</span> / <span class="m-label m-default">T</span> to search, <span class="m-label m-default">Esc</span> to close</div>
              <div id="search-symbolcount">&hellip;</div>
            </div>
            <div class="m-doc-search-content">
              <form>
                <input type="search" name="q" id="search-input" placeholder="Loading &hellip;" disabled="disabled" autofocus="autofocus" autocomplete="off" spellcheck="false" />
              </form>
              <noscript class="m-text m-danger m-text-center">Unlike everything else in the docs, the search functionality <em>requires</em> JavaScript.</noscript>
              <div id="search-help" class="m-text m-dim m-text-center">
                <p class="m-noindent">Search for symbols, directories, files, pages or
            modules. You can omit any prefix from the symbol or file path; adding a
            <code>:</code> or <code>/</code> suffix lists all members of given symbol or
            directory.</p>
            <p class="m-noindent">Use <span class="m-label m-dim">&darr;</span>
            / <span class="m-label m-dim">&uarr;</span> to navigate through the list,
            <span class="m-label m-dim">Enter</span> to go.
            <span class="m-label m-dim">Tab</span> autocompletes common prefix, you can
            copy a link to the result using <span class="m-label m-dim">⌘</span>
            <span class="m-label m-dim">L</span> while <span class="m-label m-dim">⌘</span>
            <span class="m-label m-dim">M</span> produces a Markdown link.</p>
              </div>
              <div id="search-notfound" class="m-text m-warning m-text-center">Sorry, nothing was found.</div>
              <ul id="search-results"></ul>
            </div>
          </div>
        </div>
      </div>
    </div>
    <script src="search-v2.js"></script>
    <script src="searchdata-v2.js" async="async"></script>

    <div class="gp-clear"></div>

    <div id="gp-content-wrapper" class="gp-container">
      <div id="gp-inner-container">
          <div id="gp-content">

            <main>
              <article>
                <div class="m-container m-container-inflatable">
                  <div class="m-row">
                    <div class="m-col-l-10 m-push-l-1">
          <span class="m-breadcrumb">
            <a href="index.html">
              ModularSensors
            </a>  &gt; <wbr/>
          </span>
                    <span class="m-breadcrumb">
          <a href="index.html">ModularSensors</a> &gt; <wbr/>
          </span>
          <span class="m-breadcrumb">
          <a href="page_the_examples.html">Examples Using ModularSensors</a> &gt; <wbr/>
          </span>
          <span class="m-breadcrumb">
          <a href="page_examples_menu.html">Everything at Once - a la carte</a> &gt; <wbr/>
          </span>
          <span class="m-breadcrumb">
          <a href="example_menu.html">Example showing all possible functionality</a> &gt; <wbr/>
          </span>
          <span class="m-breadcrumb">
            menu_a_la_carte.ino
          </span>

        <header class="gp-entry-header">
          <h1 class="gp-entry-title" itemprop="headline">
          menu_a_la_carte.ino <span class="m-thin">example</span>
          </h1>
        </header>
        <p>Example with all possible functionality. See <a href="example_menu.html" class="m-doc">the walkthrough page</a> for detailed instructions.</p>
        <p>Example with all possible functionality. See <a href="example_menu.html" class="m-doc">the walkthrough page</a> for detailed instructions.</p><pre class="m-code"><span class="cm">/** =========================================================================</span>
<span class="cm"> * @file menu_a_la_carte.ino</span>
<span class="cm"> * @brief Example with all possible functionality.</span>
<span class="cm"> *</span>
<span class="cm"> * @author Sara Geleskie Damiano &lt;sdamiano@stroudcenter.org&gt;</span>
<span class="cm"> * @copyright (c) 2017-2022 Stroud Water Research Center (SWRC)</span>
<span class="cm"> *                          and the EnviroDIY Development Team</span>
<span class="cm"> *            This example is published under the BSD-3 license.</span>
<span class="cm"> *</span>
<span class="cm"> * Build Environment: Visual Studios Code with PlatformIO</span>
<span class="cm"> * Hardware Platform: EnviroDIY Mayfly Arduino Datalogger</span>
<span class="cm"> *</span>
<span class="cm"> * DISCLAIMER:</span>
<span class="cm"> * THIS CODE IS PROVIDED &quot;AS IS&quot; - NO WARRANTY IS GIVEN.</span>
<span class="cm"> * ======================================================================= */</span>

<span class="c1">// ==========================================================================</span>
<span class="c1">//  Defines for TinyGSM</span>
<span class="c1">// ==========================================================================</span>
<span class="cm">/** Start [defines] */</span>
<span class="cp">#ifndef TINY_GSM_RX_BUFFER</span>
<span class="cp">#define TINY_GSM_RX_BUFFER 64</span>
<span class="cp">#endif</span>
<span class="cp">#ifndef TINY_GSM_YIELD_MS</span>
<span class="cp">#define TINY_GSM_YIELD_MS 2</span>
<span class="cp">#endif</span>
<span class="cp">#ifndef MQTT_MAX_PACKET_SIZE</span>
<span class="cp">#define MQTT_MAX_PACKET_SIZE 240</span>
<span class="cp">#endif</span>
<span class="cm">/** End [defines] */</span>


<span class="c1">// ==========================================================================</span>
<span class="c1">//  Include the libraries required for any data logger</span>
<span class="c1">// ==========================================================================</span>
<span class="cm">/** Start [includes] */</span>
<span class="c1">// The Arduino library is needed for every Arduino program.</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;Arduino.h&gt;</span>

<span class="c1">// EnableInterrupt is used by ModularSensors for external and pin change</span>
<span class="c1">// interrupts and must be explicitly included in the main program.</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;EnableInterrupt.h&gt;</span>

<span class="c1">// Include the main header for ModularSensors</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;ModularSensors.h&gt;</span>
<span class="cm">/** End [includes] */</span>


<span class="c1">// ==========================================================================</span>
<span class="c1">//  Creating Additional Serial Ports</span>
<span class="c1">// ==========================================================================</span>
<span class="c1">// The modem and a number of sensors communicate over UART/TTL - often called</span>
<span class="c1">// &quot;serial&quot;. &quot;Hardware&quot; serial ports (automatically controlled by the MCU) are</span>
<span class="c1">// generally the most accurate and should be configured and used for as many</span>
<span class="c1">// peripherals as possible.  In some cases (ie, modbus communication) many</span>
<span class="c1">// sensors can share the same serial port.</span>

<span class="cp">#if defined(ARDUINO_ARCH_AVR) || defined(__AVR__)  </span><span class="c1">// For AVR boards</span>
<span class="c1">// Unfortunately, most AVR boards have only one or two hardware serial ports,</span>
<span class="c1">// so we&#39;ll set up three types of extra software serial ports to use</span>

<span class="cp">#ifdef BUILD_TEST_ALTSOFTSERIAL</span>
<span class="c1">// AltSoftSerial by Paul Stoffregen</span>
<span class="c1">// (https://github.com/PaulStoffregen/AltSoftSerial) is the most accurate</span>
<span class="c1">// software serial port for AVR boards. AltSoftSerial can only be used on one</span>
<span class="c1">// set of pins on each board so only one AltSoftSerial port can be used. Not all</span>
<span class="c1">// AVR boards are supported by AltSoftSerial.</span>
<span class="cm">/** Start [altsoftserial] */</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;AltSoftSerial.h&gt;</span>
<span class="n">AltSoftSerial</span><span class="w"> </span><span class="n">altSoftSerial</span><span class="p">;</span>
<span class="cm">/** End [altsoftserial] */</span>
<span class="cp">#endif  </span><span class="c1">// #ifdef BUILD_TEST_ALTSOFTSERIAL</span>

<span class="cp">#ifdef BUILD_TEST_NEOSWSERIAL</span>
<span class="c1">// NeoSWSerial (https://github.com/SRGDamia1/NeoSWSerial) is the best software</span>
<span class="c1">// serial that can be used on any pin supporting interrupts.</span>
<span class="c1">// You can use as many instances of NeoSWSerial as you need.</span>
<span class="c1">// Not all AVR boards are supported by NeoSWSerial.</span>
<span class="cm">/** Start [neoswserial] */</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;NeoSWSerial.h&gt;</span><span class="c1">          // for the stream communication</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w"> </span><span class="n">neoSSerial1Rx</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">11</span><span class="p">;</span><span class="w">  </span><span class="c1">// data in pin</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w"> </span><span class="n">neoSSerial1Tx</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w">  </span><span class="c1">// data out pin</span>
<span class="n">NeoSWSerial</span><span class="w">  </span><span class="nf">neoSSerial1</span><span class="p">(</span><span class="n">neoSSerial1Rx</span><span class="p">,</span><span class="w"> </span><span class="n">neoSSerial1Tx</span><span class="p">);</span>
<span class="c1">// To use NeoSWSerial in this library, we define a function to receive data</span>
<span class="c1">// This is just a short-cut for later</span>
<span class="kr">void</span><span class="w"> </span><span class="nf">neoSSerial1ISR</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">NeoSWSerial</span><span class="o">::</span><span class="n">rxISR</span><span class="p">(</span><span class="o">*</span><span class="n">portInputRegister</span><span class="p">(</span><span class="n">digitalPinToPort</span><span class="p">(</span><span class="n">neoSSerial1Rx</span><span class="p">)));</span>
<span class="p">}</span>
<span class="cm">/** End [neoswserial] */</span>
<span class="cp">#endif  </span><span class="c1">// #ifdef BUILD_TEST_NEOSWSERIAL</span>

<span class="cp">#ifdef BUILD_TEST_SOFTSERIAL</span>
<span class="c1">// The &quot;standard&quot; software serial library uses interrupts that conflict</span>
<span class="c1">// with several other libraries used within this program.  I&#39;ve created a</span>
<span class="c1">// [version of software serial that has been stripped of</span>
<span class="c1">// interrupts](https://github.com/EnviroDIY/SoftwareSerial_ExtInts) but it is</span>
<span class="c1">// still far from ideal.</span>
<span class="c1">// NOTE:  Only use if necessary.  This is not a very accurate serial port!</span>
<span class="c1">// You can use as many instances of SoftwareSerial as you need.</span>
<span class="cm">/** Start [softwareserial] */</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w"> </span><span class="n">softSerialRx</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">A3</span><span class="p">;</span><span class="w">  </span><span class="c1">// data in pin</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w"> </span><span class="n">softSerialTx</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">A4</span><span class="p">;</span><span class="w">  </span><span class="c1">// data out pin</span>

<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;SoftwareSerial_ExtInts.h&gt;</span><span class="c1">  // for the stream communication</span>
<span class="n">SoftwareSerial_ExtInts</span><span class="w"> </span><span class="nf">softSerial1</span><span class="p">(</span><span class="n">softSerialRx</span><span class="p">,</span><span class="w"> </span><span class="n">softSerialTx</span><span class="p">);</span>
<span class="cm">/** End [softwareserial] */</span>
<span class="cp">#endif  </span><span class="c1">// #ifdef BUILD_TEST_SOFTSERIAL</span>


<span class="cp">#if defined(MS_PALEOTERRA_SOFTWAREWIRE) || defined(MS_RAIN_SOFTWAREWIRE)</span>
<span class="cm">/** Start [softwarewire] */</span>
<span class="c1">// A software I2C (Wire) instance using Testato&#39;s SoftwareWire</span>
<span class="c1">// To use SoftwareWire, you must also set a define for the sensor you want to</span>
<span class="c1">// use Software I2C for, ie:</span>
<span class="c1">//   `#define MS_RAIN_SOFTWAREWIRE`</span>
<span class="c1">//   `#define MS_PALEOTERRA_SOFTWAREWIRE`</span>
<span class="c1">// or set the build flag(s):</span>
<span class="c1">//   `-D MS_RAIN_SOFTWAREWIRE`</span>
<span class="c1">//   `-D MS_PALEOTERRA_SOFTWAREWIRE`</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;SoftwareWire.h&gt;</span><span class="c1">  // Testato&#39;s Software I2C</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w"> </span><span class="n">softwareSDA</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="p">;</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w"> </span><span class="n">softwareSCL</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span><span class="p">;</span>
<span class="n">SoftwareWire</span><span class="w"> </span><span class="nf">softI2C</span><span class="p">(</span><span class="n">softwareSDA</span><span class="p">,</span><span class="w"> </span><span class="n">softwareSCL</span><span class="p">);</span>
<span class="cm">/** End [softwarewire] */</span>
<span class="cp">#endif  </span><span class="c1">//  #if defined MS_PALEOTERRA_SOFTWAREWIRE ...</span>

<span class="cp">#endif  </span><span class="c1">// End software serial for avr boards</span>

<span class="cp">#if defined ARDUINO_ARCH_SAMD</span>
<span class="cm">/** Start [serial_ports_SAMD] */</span>
<span class="c1">// The SAMD21 has 6 &quot;SERCOM&quot; ports, any of which can be used for UART</span>
<span class="c1">// communication.  The &quot;core&quot; code for most boards defines one or more UART</span>
<span class="c1">// (Serial) ports with the SERCOMs and uses others for I2C and SPI.  We can</span>
<span class="c1">// create new UART ports on any available SERCOM.  The table below shows</span>
<span class="c1">// definitions for select boards.</span>

<span class="c1">// Board =&gt;   Arduino Zero       Adafruit Feather    Sodaq Boards</span>
<span class="c1">// -------    ---------------    ----------------    ----------------</span>
<span class="c1">// SERCOM0    Serial1 (D0/D1)    Serial1 (D0/D1)     Serial (D0/D1)</span>
<span class="c1">// SERCOM1    Available          Available           Serial3 (D12/D13)</span>
<span class="c1">// SERCOM2    Available          Available           I2C (A4/A5)</span>
<span class="c1">// SERCOM3    I2C (D20/D21)      I2C (D20/D21)       SPI (D11/12/13)</span>
<span class="c1">// SERCOM4    SPI (D21/22/23)    SPI (D21/22/23)     SPI1/Serial2</span>
<span class="c1">// SERCOM5    EDBG/Serial        Available           Serial1</span>

<span class="c1">// If using a Sodaq board, do not define the new sercoms, instead:</span>
<span class="c1">// #define ENABLE_SERIAL2</span>
<span class="c1">// #define ENABLE_SERIAL3</span>

<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;wiring_private.h&gt;</span><span class="c1">  // Needed for SAMD pinPeripheral() function</span>

<span class="cp">#ifndef ENABLE_SERIAL2</span>
<span class="c1">// Set up a &#39;new&#39; UART using SERCOM1</span>
<span class="c1">// The Rx will be on digital pin 11, which is SERCOM1&#39;s Pad #0</span>
<span class="c1">// The Tx will be on digital pin 10, which is SERCOM1&#39;s Pad #2</span>
<span class="c1">// NOTE:  SERCOM1 is undefinied on a &quot;standard&quot; Arduino Zero and many clones,</span>
<span class="c1">//        but not all!  Please check the variant.cpp file for you individual</span>
<span class="c1">//        board! Sodaq Autonomo&#39;s and Sodaq One&#39;s do NOT follow the &#39;standard&#39;</span>
<span class="c1">//        SERCOM definitions!</span>
<span class="n">Uart</span><span class="w"> </span><span class="nf">Serial2</span><span class="p">(</span><span class="o">&amp;</span><span class="n">sercom1</span><span class="p">,</span><span class="w"> </span><span class="mi">11</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="n">SERCOM_RX_PAD_0</span><span class="p">,</span><span class="w"> </span><span class="n">UART_TX_PAD_2</span><span class="p">);</span>
<span class="c1">// Hand over the interrupts to the sercom port</span>
<span class="kr">void</span><span class="w"> </span><span class="nf">SERCOM1_Handler</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">Serial2</span><span class="p">.</span><span class="n">IrqHandler</span><span class="p">();</span>
<span class="p">}</span>
<span class="cp">#endif</span>

<span class="cp">#ifndef ENABLE_SERIAL3</span>
<span class="c1">// Set up a &#39;new&#39; UART using SERCOM2</span>
<span class="c1">// The Rx will be on digital pin 5, which is SERCOM2&#39;s Pad #3</span>
<span class="c1">// The Tx will be on digital pin 2, which is SERCOM2&#39;s Pad #2</span>
<span class="c1">// NOTE:  SERCOM2 is undefinied on a &quot;standard&quot; Arduino Zero and many clones,</span>
<span class="c1">//        but not all!  Please check the variant.cpp file for you individual</span>
<span class="c1">//        board! Sodaq Autonomo&#39;s and Sodaq One&#39;s do NOT follow the &#39;standard&#39;</span>
<span class="c1">//        SERCOM definitions!</span>
<span class="n">Uart</span><span class="w"> </span><span class="nf">Serial3</span><span class="p">(</span><span class="o">&amp;</span><span class="n">sercom2</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">SERCOM_RX_PAD_3</span><span class="p">,</span><span class="w"> </span><span class="n">UART_TX_PAD_2</span><span class="p">);</span>
<span class="c1">// Hand over the interrupts to the sercom port</span>
<span class="kr">void</span><span class="w"> </span><span class="nf">SERCOM2_Handler</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">Serial3</span><span class="p">.</span><span class="n">IrqHandler</span><span class="p">();</span>
<span class="p">}</span>
<span class="cp">#endif</span>

<span class="cm">/** End [serial_ports_SAMD] */</span>
<span class="cp">#endif  </span><span class="c1">// End hardware serial on SAMD21 boards</span>


<span class="c1">// ==========================================================================</span>
<span class="c1">//  Assigning Serial Port Functionality</span>
<span class="c1">// ==========================================================================</span>
<span class="cp">#if defined(ARDUINO_ARCH_SAMD) || defined(ARDUINO_SAMD_ZERO) || \</span>
<span class="cp">    defined(ATMEGA2560) || defined(ARDUINO_AVR_MEGA2560)</span>
<span class="cm">/** Start [assign_ports_hw] */</span>
<span class="c1">// If there are additional hardware Serial ports possible - use them!</span>

<span class="c1">// We give the modem first priority and assign it to hardware serial</span>
<span class="c1">// All of the supported processors have a hardware port available named Serial1</span>
<span class="cp">#define modemSerial Serial1</span>

<span class="c1">// Define the serial port for modbus</span>
<span class="c1">// Modbus (at 9600 8N1) is used by the Keller level loggers and Yosemitech</span>
<span class="c1">// sensors</span>
<span class="cp">#define modbusSerial Serial2</span>

<span class="c1">// The Maxbotix sonar is the only sensor that communicates over a serial port</span>
<span class="c1">// but does not use modbus</span>
<span class="cp">#define sonarSerial Serial3</span>

<span class="cm">/** End [assign_ports_hw] */</span>
<span class="cp">#else</span>
<span class="cm">/** Start [assign_ports_sw] */</span>

<span class="c1">// We give the modem first priority and assign it to hardware serial</span>
<span class="c1">// All of the supported processors have a hardware port available named Serial1</span>
<span class="cp">#define modemSerial Serial1</span>

<span class="c1">// Define the serial port for modbus</span>
<span class="c1">// Modbus (at 9600 8N1) is used by the Keller level loggers and Yosemitech</span>
<span class="c1">// sensors</span>
<span class="c1">// Since AltSoftSerial is the best software option, we use it for modbus</span>
<span class="c1">// If AltSoftSerial (or its pins) aren&#39;t avaiable, use NeoSWSerial</span>
<span class="c1">// SoftwareSerial **WILL NOT** work for modbus!</span>
<span class="cp">#ifdef BUILD_TEST_ALTSOFTSERIAL</span>
<span class="cp">#define modbusSerial altSoftSerial  </span><span class="c1">// For AltSoftSerial</span>
<span class="cp">#elif defined BUILD_TEST_NEOSWSERIAL</span>
<span class="cp">#define modbusSerial neoSSerial1  </span><span class="c1">// For Neo software serial</span>
<span class="cp">#elif defined BUILD_TEST_SOFTSERIAL</span>
<span class="cp">#define modbusSerial softSerial1  </span><span class="c1">// For software serial</span>
<span class="cp">#else</span>
<span class="cp">#define modbusSerial Serial1  </span><span class="c1">// Hardware serial</span>
<span class="cp">#endif</span>

<span class="c1">// The Maxbotix sonar is the only sensor that communicates over a serial port</span>
<span class="c1">// but does not use modbus</span>
<span class="c1">// Since the Maxbotix only needs one-way communication and sends a simple text</span>
<span class="c1">// string repeatedly, almost any software serial port will do for it.</span>
<span class="cp">#ifdef BUILD_TEST_ALTSOFTSERIAL</span>
<span class="cp">#define sonarSerial altSoftSerial  </span><span class="c1">// For AltSoftSerial</span>
<span class="cp">#elif defined BUILD_TEST_NEOSWSERIAL</span>
<span class="cp">#define sonarSerial neoSSerial1  </span><span class="c1">// For Neo software serial</span>
<span class="cp">#elif defined BUILD_TEST_SOFTSERIAL</span>
<span class="cp">#define sonarSerial softSerial1  </span><span class="c1">// For software serial</span>
<span class="cp">#else</span>
<span class="cp">#define sonarSerial Serial1  </span><span class="c1">// Hardware serial</span>
<span class="cp">#endif</span>

<span class="cm">/** End [assign_ports_sw] */</span>
<span class="cp">#endif</span>


<span class="c1">// ==========================================================================</span>
<span class="c1">//  Data Logging Options</span>
<span class="c1">// ==========================================================================</span>
<span class="cm">/** Start [logging_options] */</span>
<span class="c1">// The name of this program file</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">char</span><span class="o">*</span><span class="w"> </span><span class="n">sketchName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;menu_a_la_carte.ino&quot;</span><span class="p">;</span>
<span class="c1">// Logger ID, also becomes the prefix for the name of the data file on SD card</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">char</span><span class="o">*</span><span class="w"> </span><span class="n">LoggerID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;XXXXX&quot;</span><span class="p">;</span>
<span class="c1">// How frequently (in minutes) to log data</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">uint8_t</span><span class="w"> </span><span class="n">loggingInterval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">15</span><span class="p">;</span>
<span class="c1">// Your logger&#39;s timezone.</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w"> </span><span class="n">timeZone</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">-5</span><span class="p">;</span><span class="w">  </span><span class="c1">// Eastern Standard Time</span>
<span class="c1">// NOTE:  Daylight savings time will not be applied!  Please use standard time!</span>

<span class="c1">// Set the input and output pins for the logger</span>
<span class="c1">// NOTE:  Use -1 for pins that do not apply</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int32_t</span><span class="w"> </span><span class="n">serialBaud</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">115200</span><span class="p">;</span><span class="w">  </span><span class="c1">// Baud rate for debugging</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w">  </span><span class="n">greenLED</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="mi">8</span><span class="p">;</span><span class="w">       </span><span class="c1">// Pin for the green LED</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w">  </span><span class="n">redLED</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="mi">9</span><span class="p">;</span><span class="w">       </span><span class="c1">// Pin for the red LED</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w">  </span><span class="n">buttonPin</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mi">21</span><span class="p">;</span><span class="w">      </span><span class="c1">// Pin for debugging mode (ie, button pin)</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w">  </span><span class="n">wakePin</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="mi">31</span><span class="p">;</span><span class="w">  </span><span class="c1">// MCU interrupt/alarm pin to wake from sleep</span>
<span class="c1">// Mayfly 0.x D31 = A7</span>
<span class="c1">// Set the wake pin to -1 if you do not want the main processor to sleep.</span>
<span class="c1">// In a SAMD system where you are using the built-in rtc, set wakePin to 1</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w"> </span><span class="n">sdCardPwrPin</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w">  </span><span class="c1">// MCU SD card power pin</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w"> </span><span class="n">sdCardSSPin</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="mi">12</span><span class="p">;</span><span class="w">  </span><span class="c1">// SD card chip select/slave select pin</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w"> </span><span class="n">sensorPowerPin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">22</span><span class="p">;</span><span class="w">  </span><span class="c1">// MCU pin controlling main sensor power</span>
<span class="cm">/** End [logging_options] */</span>


<span class="c1">// ==========================================================================</span>
<span class="c1">//  Wifi/Cellular Modem Options</span>
<span class="c1">//    NOTE:  DON&#39;T USE MORE THAN ONE MODEM OBJECT!</span>
<span class="c1">//           Delete the sections you are not using!</span>
<span class="c1">// ==========================================================================</span>

<span class="cp">#if defined BUILD_MODEM_DIGI_XBEE_CELLULAR_TRANSPARENT</span>
<span class="cm">/** Start [digi_xbee_cellular_transparent] */</span>
<span class="c1">// For any Digi Cellular XBee&#39;s</span>
<span class="c1">// NOTE:  The u-blox based Digi XBee&#39;s (3G global and LTE-M global) can be used</span>
<span class="c1">// in either bypass or transparent mode, each with pros and cons</span>
<span class="c1">// The Telit based Digi XBees (LTE Cat1) can only use this mode.</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;modems/DigiXBeeCellularTransparent.h&gt;</span>

<span class="c1">// NOTE: Extra hardware and software serial ports are created in the &quot;Settings</span>
<span class="c1">// for Additional Serial Ports&quot; section</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int32_t</span><span class="w"> </span><span class="n">modemBaud</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">9600</span><span class="p">;</span><span class="w">  </span><span class="c1">// All XBee&#39;s use 9600 by default</span>

<span class="c1">// Modem Pins - Describe the physical pin connection of your modem to your board</span>
<span class="c1">// NOTE:  Use -1 for pins that do not apply</span>
<span class="c1">// The pin numbers here are for a Digi XBee with a Mayfly 0.x and LTE adapter</span>
<span class="c1">// For options https://github.com/EnviroDIY/LTEbee-Adapter/edit/master/README.md</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w"> </span><span class="n">modemVccPin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w">     </span><span class="c1">// MCU pin controlling modem power</span>
<span class="w">                                   </span><span class="c1">// Option: modemVccPin = A5, if Mayfly SJ7 is</span>
<span class="w">                                   </span><span class="c1">// connected to the ASSOC pin</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w"> </span><span class="n">modemStatusPin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">19</span><span class="p">;</span><span class="w">  </span><span class="c1">// MCU pin used to read modem status</span>
<span class="c1">// NOTE:  If possible, use the `STATUS/SLEEP_not` (XBee pin 13) for status, but</span>
<span class="c1">// the CTS pin can also be used if necessary</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">bool</span><span class="w">   </span><span class="n">useCTSforStatus</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kr">false</span><span class="p">;</span><span class="w">  </span><span class="c1">// Flag to use the CTS pin for status</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w"> </span><span class="n">modemResetPin</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="mi">20</span><span class="p">;</span><span class="w">     </span><span class="c1">// MCU pin connected to modem reset pin</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w"> </span><span class="n">modemSleepRqPin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">23</span><span class="p">;</span><span class="w">     </span><span class="c1">// MCU pin for modem sleep/wake request</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w"> </span><span class="n">modemLEDPin</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="n">redLED</span><span class="p">;</span><span class="w">  </span><span class="c1">// MCU pin connected an LED to show modem status</span>

<span class="c1">// Network connection information</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">char</span><span class="o">*</span><span class="w"> </span><span class="n">apn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;xxxxx&quot;</span><span class="p">;</span><span class="w">  </span><span class="c1">// APN for GPRS connection</span>

<span class="c1">// Create the modem object</span>
<span class="n">DigiXBeeCellularTransparent</span><span class="w"> </span><span class="nf">modemXBCT</span><span class="p">(</span><span class="o">&amp;</span><span class="n">modemSerial</span><span class="p">,</span><span class="w"> </span><span class="n">modemVccPin</span><span class="p">,</span><span class="w"> </span><span class="n">modemStatusPin</span><span class="p">,</span>
<span class="w">                                      </span><span class="n">useCTSforStatus</span><span class="p">,</span><span class="w"> </span><span class="n">modemResetPin</span><span class="p">,</span>
<span class="w">                                      </span><span class="n">modemSleepRqPin</span><span class="p">,</span><span class="w"> </span><span class="n">apn</span><span class="p">);</span>
<span class="c1">// Create an extra reference to the modem by a generic name</span>
<span class="n">DigiXBeeCellularTransparent</span><span class="w"> </span><span class="n">modem</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">modemXBCT</span><span class="p">;</span>
<span class="cm">/** End [digi_xbee_cellular_transparent] */</span>
<span class="c1">// ==========================================================================</span>


<span class="cp">#elif defined BUILD_MODEM_DIGI_XBEE_LTE_BYPASS</span>
<span class="cm">/** Start [digi_xbee_lte_bypass] */</span>
<span class="c1">// For the u-blox SARA R410M based Digi LTE-M XBee3</span>
<span class="c1">// NOTE:  According to the manual, this should be less stable than transparent</span>
<span class="c1">// mode, but my experience is the complete reverse.</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;modems/DigiXBeeLTEBypass.h&gt;</span>

<span class="c1">// NOTE: Extra hardware and software serial ports are created in the &quot;Settings</span>
<span class="c1">// for Additional Serial Ports&quot; section</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int32_t</span><span class="w"> </span><span class="n">modemBaud</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">9600</span><span class="p">;</span><span class="w">  </span><span class="c1">// All XBee&#39;s use 9600 by default</span>

<span class="c1">// Modem Pins - Describe the physical pin connection of your modem to your board</span>
<span class="c1">// NOTE:  Use -1 for pins that do not apply</span>
<span class="c1">// The pin numbers here are for a Digi XBee with a Mayfly 0.x and LTE adapter</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w"> </span><span class="n">modemVccPin</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="n">A5</span><span class="p">;</span><span class="w">  </span><span class="c1">// MCU pin controlling modem power</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w"> </span><span class="n">modemStatusPin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">19</span><span class="p">;</span><span class="w">  </span><span class="c1">// MCU pin used to read modem status</span>
<span class="c1">// NOTE:  If possible, use the `STATUS/SLEEP_not` (XBee pin 13) for status, but</span>
<span class="c1">// the CTS pin can also be used if necessary</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">bool</span><span class="w">   </span><span class="n">useCTSforStatus</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kr">false</span><span class="p">;</span><span class="w">  </span><span class="c1">// Flag to use the CTS pin for status</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w"> </span><span class="n">modemResetPin</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="mi">20</span><span class="p">;</span><span class="w">     </span><span class="c1">// MCU pin connected to modem reset pin</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w"> </span><span class="n">modemSleepRqPin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">23</span><span class="p">;</span><span class="w">     </span><span class="c1">// MCU pin for modem sleep/wake request</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w"> </span><span class="n">modemLEDPin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">redLED</span><span class="p">;</span><span class="w">     </span><span class="c1">// MCU pin connected an LED to show modem</span>
<span class="w">                                       </span><span class="c1">// status</span>

<span class="c1">// Network connection information</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">char</span><span class="o">*</span><span class="w"> </span><span class="n">apn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;xxxxx&quot;</span><span class="p">;</span><span class="w">  </span><span class="c1">// APN for GPRS connection</span>

<span class="c1">// Create the modem object</span>
<span class="n">DigiXBeeLTEBypass</span><span class="w"> </span><span class="nf">modemXBLTEB</span><span class="p">(</span><span class="o">&amp;</span><span class="n">modemSerial</span><span class="p">,</span><span class="w"> </span><span class="n">modemVccPin</span><span class="p">,</span><span class="w"> </span><span class="n">modemStatusPin</span><span class="p">,</span>
<span class="w">                              </span><span class="n">useCTSforStatus</span><span class="p">,</span><span class="w"> </span><span class="n">modemResetPin</span><span class="p">,</span><span class="w"> </span><span class="n">modemSleepRqPin</span><span class="p">,</span>
<span class="w">                              </span><span class="n">apn</span><span class="p">);</span>
<span class="c1">// Create an extra reference to the modem by a generic name</span>
<span class="n">DigiXBeeLTEBypass</span><span class="w"> </span><span class="n">modem</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">modemXBLTEB</span><span class="p">;</span>
<span class="cm">/** End [digi_xbee_lte_bypass] */</span>
<span class="c1">// ==========================================================================</span>


<span class="cp">#elif defined BUILD_MODEM_DIGI_XBEE_3G_BYPASS</span>
<span class="cm">/** Start [digi_xbee_3g_bypass] */</span>
<span class="c1">// For the u-blox SARA U201 based Digi 3G XBee with 2G fallback</span>
<span class="c1">// NOTE:  According to the manual, this should be less stable than transparent</span>
<span class="c1">// mode, but my experience is the complete reverse.</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;modems/DigiXBee3GBypass.h&gt;</span>

<span class="c1">// NOTE: Extra hardware and software serial ports are created in the &quot;Settings</span>
<span class="c1">// for Additional Serial Ports&quot; section</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int32_t</span><span class="w"> </span><span class="n">modemBaud</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">9600</span><span class="p">;</span><span class="w">  </span><span class="c1">// All XBee&#39;s use 9600 by default</span>

<span class="c1">// Modem Pins - Describe the physical pin connection of your modem to your board</span>
<span class="c1">// NOTE:  Use -1 for pins that do not apply</span>
<span class="c1">// The pin numbers here are for a Digi XBee with a Mayfly and LTE adapter</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w"> </span><span class="n">modemVccPin</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="n">A5</span><span class="p">;</span><span class="w">  </span><span class="c1">// MCU pin controlling modem power</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w"> </span><span class="n">modemStatusPin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">19</span><span class="p">;</span><span class="w">  </span><span class="c1">// MCU pin used to read modem status</span>
<span class="c1">// NOTE:  If possible, use the `STATUS/SLEEP_not` (XBee pin 13) for status, but</span>
<span class="c1">// the CTS pin can also be used if necessary</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">bool</span><span class="w">   </span><span class="n">useCTSforStatus</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kr">false</span><span class="p">;</span><span class="w">  </span><span class="c1">// Flag to use the CTS pin for status</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w"> </span><span class="n">modemResetPin</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="mi">20</span><span class="p">;</span><span class="w">     </span><span class="c1">// MCU pin connected to modem reset pin</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w"> </span><span class="n">modemSleepRqPin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">23</span><span class="p">;</span><span class="w">     </span><span class="c1">// MCU pin for modem sleep/wake request</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w"> </span><span class="n">modemLEDPin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">redLED</span><span class="p">;</span><span class="w">     </span><span class="c1">// MCU pin connected an LED to show modem</span>
<span class="w">                                       </span><span class="c1">// status</span>

<span class="c1">// Network connection information</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">char</span><span class="o">*</span><span class="w"> </span><span class="n">apn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;xxxxx&quot;</span><span class="p">;</span><span class="w">  </span><span class="c1">// APN for GPRS connection</span>

<span class="c1">// Create the modem object</span>
<span class="n">DigiXBee3GBypass</span><span class="w"> </span><span class="nf">modemXB3GB</span><span class="p">(</span><span class="o">&amp;</span><span class="n">modemSerial</span><span class="p">,</span><span class="w"> </span><span class="n">modemVccPin</span><span class="p">,</span><span class="w"> </span><span class="n">modemStatusPin</span><span class="p">,</span>
<span class="w">                            </span><span class="n">useCTSforStatus</span><span class="p">,</span><span class="w"> </span><span class="n">modemResetPin</span><span class="p">,</span><span class="w"> </span><span class="n">modemSleepRqPin</span><span class="p">,</span>
<span class="w">                            </span><span class="n">apn</span><span class="p">);</span>
<span class="c1">// Create an extra reference to the modem by a generic name</span>
<span class="n">DigiXBee3GBypass</span><span class="w"> </span><span class="n">modem</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">modemXB3GB</span><span class="p">;</span>
<span class="cm">/** End [digi_xbee_3g_bypass] */</span>
<span class="c1">// ==========================================================================</span>


<span class="cp">#elif defined BUILD_MODEM_DIGI_XBEE_WIFI</span>
<span class="cm">/** Start [digi_xbee_wifi] */</span>
<span class="c1">// For the Digi Wifi XBee (S6B)</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;modems/DigiXBeeWifi.h&gt;</span>

<span class="c1">// NOTE: Extra hardware and software serial ports are created in the &quot;Settings</span>
<span class="c1">// for Additional Serial Ports&quot; section</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int32_t</span><span class="w"> </span><span class="n">modemBaud</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">9600</span><span class="p">;</span><span class="w">  </span><span class="c1">// All XBee&#39;s use 9600 by default</span>

<span class="c1">// Modem Pins - Describe the physical pin connection of your modem to your board</span>
<span class="c1">// NOTE:  Use -1 for pins that do not apply</span>
<span class="c1">// The pin numbers here are for a Digi XBee direcly connected to a Mayfly 1.x</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w"> </span><span class="n">modemVccPin</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="mi">18</span><span class="p">;</span><span class="w">  </span><span class="c1">// MCU pin controlling modem power</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w"> </span><span class="n">modemStatusPin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">19</span><span class="p">;</span><span class="w">  </span><span class="c1">// MCU pin used to read modem status</span>
<span class="c1">// NOTE:  If possible, use the `STATUS/SLEEP_not` (XBee pin 13) for status, but</span>
<span class="c1">// the CTS pin can also be used if necessary</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">bool</span><span class="w">   </span><span class="n">useCTSforStatus</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kr">true</span><span class="p">;</span><span class="w">  </span><span class="c1">// Flag to use the CTS pin for status</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w"> </span><span class="n">modemResetPin</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="n">A5</span><span class="p">;</span><span class="w">    </span><span class="c1">// MCU pin connected to modem reset pin</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w"> </span><span class="n">modemSleepRqPin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">23</span><span class="p">;</span><span class="w">    </span><span class="c1">// MCU pin for modem sleep/wake request</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w"> </span><span class="n">modemLEDPin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">redLED</span><span class="p">;</span><span class="w">    </span><span class="c1">// MCU pin connected an LED to show modem</span>
<span class="w">                                      </span><span class="c1">// status</span>

<span class="c1">// Network connection information</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">char</span><span class="o">*</span><span class="w"> </span><span class="n">wifiId</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;xxxxx&quot;</span><span class="p">;</span><span class="w">  </span><span class="c1">// WiFi access point name</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">char</span><span class="o">*</span><span class="w"> </span><span class="n">wifiPwd</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;xxxxx&quot;</span><span class="p">;</span><span class="w">  </span><span class="c1">// WiFi password (WPA2)</span>

<span class="c1">// Create the modem object</span>
<span class="n">DigiXBeeWifi</span><span class="w"> </span><span class="nf">modemXBWF</span><span class="p">(</span><span class="o">&amp;</span><span class="n">modemSerial</span><span class="p">,</span><span class="w"> </span><span class="n">modemVccPin</span><span class="p">,</span><span class="w"> </span><span class="n">modemStatusPin</span><span class="p">,</span>
<span class="w">                       </span><span class="n">useCTSforStatus</span><span class="p">,</span><span class="w"> </span><span class="n">modemResetPin</span><span class="p">,</span><span class="w"> </span><span class="n">modemSleepRqPin</span><span class="p">,</span><span class="w"> </span><span class="n">wifiId</span><span class="p">,</span>
<span class="w">                       </span><span class="n">wifiPwd</span><span class="p">);</span>
<span class="c1">// Create an extra reference to the modem by a generic name</span>
<span class="n">DigiXBeeWifi</span><span class="w"> </span><span class="n">modem</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">modemXBWF</span><span class="p">;</span>
<span class="cm">/** End [digi_xbee_wifi] */</span>
<span class="c1">// ==========================================================================</span>


<span class="cp">#elif defined BUILD_MODEM_ESPRESSIF_ESP8266 || \</span>
<span class="cp">    defined   BUILD_MODEM_ESPRESSIF_ESP32</span>
<span class="cm">/** Start [espressif_esp8266] */</span>
<span class="c1">// For almost anything based on the Espressif ESP8266 using the</span>
<span class="c1">// AT command firmware</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;modems/EspressifESP8266.h&gt;</span>

<span class="c1">// NOTE: Extra hardware and software serial ports are created in the &quot;Settings</span>
<span class="c1">// for Additional Serial Ports&quot; section</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int32_t</span><span class="w"> </span><span class="n">modemBaud</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">115200</span><span class="p">;</span><span class="w">  </span><span class="c1">// Communication speed of the modem</span>
<span class="c1">// NOTE:  This baud rate too fast for an 8MHz board, like the Mayfly!  The</span>
<span class="c1">// module should be programmed to a slower baud rate or set to auto-baud using</span>
<span class="c1">// the AT+UART_CUR or AT+UART_DEF command.</span>

<span class="c1">// Modem Pins - Describe the physical pin connection of your modem to your board</span>
<span class="c1">// NOTE:  Use -1 for pins that do not apply</span>
<span class="c1">// Example pins here are for a EnviroDIY ESP32 Bluetooth/Wifi Bee with</span>
<span class="c1">// Mayfly 1.1</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w"> </span><span class="n">modemVccPin</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="mi">18</span><span class="p">;</span><span class="w">      </span><span class="c1">// MCU pin controlling modem power</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w"> </span><span class="n">modemResetPin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">A5</span><span class="p">;</span><span class="w">      </span><span class="c1">// MCU pin connected to modem reset pin</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w"> </span><span class="n">modemLEDPin</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="n">redLED</span><span class="p">;</span><span class="w">  </span><span class="c1">// MCU pin connected an LED to show modem</span>
<span class="w">                                      </span><span class="c1">// status</span>

<span class="c1">// Network connection information</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">char</span><span class="o">*</span><span class="w"> </span><span class="n">wifiId</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;xxxxx&quot;</span><span class="p">;</span><span class="w">  </span><span class="c1">// WiFi access point name</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">char</span><span class="o">*</span><span class="w"> </span><span class="n">wifiPwd</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;xxxxx&quot;</span><span class="p">;</span><span class="w">  </span><span class="c1">// WiFi password (WPA2)</span>

<span class="c1">// Create the modem object</span>
<span class="n">EspressifESP8266</span><span class="w"> </span><span class="nf">modemESP</span><span class="p">(</span><span class="o">&amp;</span><span class="n">modemSerial</span><span class="p">,</span><span class="w"> </span><span class="n">modemVccPin</span><span class="p">,</span><span class="w"> </span><span class="n">modemResetPin</span><span class="p">,</span><span class="w"> </span><span class="n">wifiId</span><span class="p">,</span>
<span class="w">                          </span><span class="n">wifiPwd</span><span class="p">);</span>
<span class="c1">// Create an extra reference to the modem by a generic name</span>
<span class="n">EspressifESP8266</span><span class="w"> </span><span class="n">modem</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">modemESP</span><span class="p">;</span>
<span class="cm">/** End [espressif_esp8266] */</span>
<span class="c1">// ==========================================================================</span>


<span class="cp">#elif defined BUILD_MODEM_QUECTEL_BG96</span>
<span class="cm">/** Start [quectel_bg96] */</span>
<span class="c1">// For the Dragino, Nimbelink or other boards based on the Quectel BG96</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;modems/QuectelBG96.h&gt;</span>

<span class="c1">// NOTE: Extra hardware and software serial ports are created in the &quot;Settings</span>
<span class="c1">// for Additional Serial Ports&quot; section</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int32_t</span><span class="w"> </span><span class="n">modemBaud</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">115200</span><span class="p">;</span><span class="w">  </span><span class="c1">// Communication speed of the modem</span>
<span class="c1">// NOTE:  This baud rate too fast for an 8MHz board, like the Mayfly!  The</span>
<span class="c1">// module should be programmed to a slower baud rate or set to auto-baud using</span>
<span class="c1">// the AT+IPR=9600 command.</span>

<span class="c1">// Modem Pins - Describe the physical pin connection of your modem to your board</span>
<span class="c1">// NOTE:  Use -1 for pins that do not apply</span>
<span class="c1">// Example pins here are for a Mayfly 1.x and a Dragino IoT Bee</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w"> </span><span class="n">modemVccPin</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="mi">18</span><span class="p">;</span><span class="w">  </span><span class="c1">// MCU pin controlling modem power</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w"> </span><span class="n">modemStatusPin</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w">  </span><span class="c1">// MCU pin used to read modem status</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w"> </span><span class="n">modemResetPin</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="n">A5</span><span class="p">;</span><span class="w">  </span><span class="c1">// MCU pin connected to modem reset pin</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w"> </span><span class="n">modemSleepRqPin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w">  </span><span class="c1">// MCU pin for modem sleep/wake request</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w"> </span><span class="n">modemLEDPin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">redLED</span><span class="p">;</span><span class="w">  </span><span class="c1">// MCU pin connected an LED to show modem</span>
<span class="w">                                    </span><span class="c1">// status</span>

<span class="c1">// Network connection information</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">char</span><span class="o">*</span><span class="w"> </span><span class="n">apn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;xxxxx&quot;</span><span class="p">;</span><span class="w">  </span><span class="c1">// APN for GPRS connection</span>

<span class="c1">// Create the modem object</span>
<span class="n">QuectelBG96</span><span class="w"> </span><span class="nf">modemBG96</span><span class="p">(</span><span class="o">&amp;</span><span class="n">modemSerial</span><span class="p">,</span><span class="w"> </span><span class="n">modemVccPin</span><span class="p">,</span><span class="w"> </span><span class="n">modemStatusPin</span><span class="p">,</span><span class="w"> </span><span class="n">modemResetPin</span><span class="p">,</span>
<span class="w">                      </span><span class="n">modemSleepRqPin</span><span class="p">,</span><span class="w"> </span><span class="n">apn</span><span class="p">);</span>
<span class="c1">// Create an extra reference to the modem by a generic name</span>
<span class="n">QuectelBG96</span><span class="w"> </span><span class="n">modem</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">modemBG96</span><span class="p">;</span>
<span class="cm">/** End [quectel_bg96] */</span>
<span class="c1">// ==========================================================================</span>


<span class="cp">#elif defined BUILD_MODEM_SEQUANS_MONARCH</span>
<span class="cm">/** Start [sequans_monarch] */</span>
<span class="c1">// For the Nimbelink LTE-M Verizon/Sequans or other boards based on the Sequans</span>
<span class="c1">// Monarch series</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;modems/SequansMonarch.h&gt;</span>

<span class="c1">// NOTE: Extra hardware and software serial ports are created in the &quot;Settings</span>
<span class="c1">// for Additional Serial Ports&quot; section</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int32_t</span><span class="w"> </span><span class="n">modemBaud</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">921600</span><span class="p">;</span><span class="w">  </span><span class="c1">// Default baud rate of SVZM20 is 921600</span>
<span class="c1">// NOTE:  This baud rate is much too fast for many Arduinos!  The module should</span>
<span class="c1">// be programmed to a slower baud rate or set to auto-baud using the AT+IPR</span>
<span class="c1">// command.</span>

<span class="c1">// Modem Pins - Describe the physical pin connection of your modem to your board</span>
<span class="c1">// NOTE:  Use -1 for pins that do not apply</span>
<span class="c1">// Nimbelink Skywire (NOT directly connectable to a Mayfly!)</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w"> </span><span class="n">modemVccPin</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="mi">18</span><span class="p">;</span><span class="w">  </span><span class="c1">// MCU pin controlling modem power</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w"> </span><span class="n">modemStatusPin</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mi">19</span><span class="p">;</span><span class="w">  </span><span class="c1">// MCU pin used to read modem status</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w"> </span><span class="n">modemResetPin</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="mi">20</span><span class="p">;</span><span class="w">  </span><span class="c1">// MCU pin connected to modem reset pin</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w"> </span><span class="n">modemSleepRqPin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">23</span><span class="p">;</span><span class="w">  </span><span class="c1">// MCU pin for modem sleep/wake request</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w"> </span><span class="n">modemLEDPin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">redLED</span><span class="p">;</span><span class="w">  </span><span class="c1">// MCU pin connected an LED to show modem</span>
<span class="w">                                    </span><span class="c1">// status</span>

<span class="c1">// Network connection information</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">char</span><span class="o">*</span><span class="w"> </span><span class="n">apn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;xxxxx&quot;</span><span class="p">;</span><span class="w">  </span><span class="c1">// APN for GPRS connection</span>

<span class="c1">// Create the modem object</span>
<span class="n">SequansMonarch</span><span class="w"> </span><span class="nf">modemSVZM</span><span class="p">(</span><span class="o">&amp;</span><span class="n">modemSerial</span><span class="p">,</span><span class="w"> </span><span class="n">modemVccPin</span><span class="p">,</span><span class="w"> </span><span class="n">modemStatusPin</span><span class="p">,</span>
<span class="w">                         </span><span class="n">modemResetPin</span><span class="p">,</span><span class="w"> </span><span class="n">modemSleepRqPin</span><span class="p">,</span><span class="w"> </span><span class="n">apn</span><span class="p">);</span>
<span class="c1">// Create an extra reference to the modem by a generic name</span>
<span class="n">SequansMonarch</span><span class="w"> </span><span class="n">modem</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">modemSVZM</span><span class="p">;</span>
<span class="cm">/** End [sequans_monarch] */</span>
<span class="c1">// ==========================================================================</span>


<span class="cp">#elif defined BUILD_MODEM_SIM_COM_SIM800</span>
<span class="cm">/** Start [sim_com_sim800] */</span>
<span class="c1">// For almost anything based on the SIMCom SIM800 EXCEPT the Sodaq 2GBee R6 and</span>
<span class="c1">// higher</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;modems/SIMComSIM800.h&gt;</span>

<span class="c1">// NOTE: Extra hardware and software serial ports are created in the &quot;Settings</span>
<span class="c1">// for Additional Serial Ports&quot; section</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int32_t</span><span class="w"> </span><span class="n">modemBaud</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">9600</span><span class="p">;</span><span class="w">  </span><span class="c1">//  SIM800 does auto-bauding by default</span>

<span class="c1">// Modem Pins - Describe the physical pin connection of your modem to your board</span>
<span class="c1">// NOTE:  Use -1 for pins that do not apply</span>
<span class="c1">// Example pins are for a Sodaq GPRSBee R4 with a Mayfly 0.x</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w"> </span><span class="n">modemVccPin</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w">  </span><span class="c1">// MCU pin controlling modem power</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w"> </span><span class="n">modemStatusPin</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mi">19</span><span class="p">;</span><span class="w">  </span><span class="c1">// MCU pin used to read modem status</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w"> </span><span class="n">modemResetPin</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w">  </span><span class="c1">// MCU pin connected to modem reset pin</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w"> </span><span class="n">modemSleepRqPin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">23</span><span class="p">;</span><span class="w">  </span><span class="c1">// MCU pin for modem sleep/wake request</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w"> </span><span class="n">modemLEDPin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">redLED</span><span class="p">;</span><span class="w">  </span><span class="c1">// MCU pin connected an LED to show modem</span>
<span class="w">                                    </span><span class="c1">// status</span>

<span class="c1">// Network connection information</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">char</span><span class="o">*</span><span class="w"> </span><span class="n">apn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;xxxxx&quot;</span><span class="p">;</span><span class="w">  </span><span class="c1">// APN for GPRS connection</span>

<span class="c1">// Create the modem object</span>
<span class="n">SIMComSIM800</span><span class="w"> </span><span class="nf">modemS800</span><span class="p">(</span><span class="o">&amp;</span><span class="n">modemSerial</span><span class="p">,</span><span class="w"> </span><span class="n">modemVccPin</span><span class="p">,</span><span class="w"> </span><span class="n">modemStatusPin</span><span class="p">,</span><span class="w"> </span><span class="n">modemResetPin</span><span class="p">,</span>
<span class="w">                       </span><span class="n">modemSleepRqPin</span><span class="p">,</span><span class="w"> </span><span class="n">apn</span><span class="p">);</span>
<span class="c1">// Create an extra reference to the modem by a generic name</span>
<span class="n">SIMComSIM800</span><span class="w"> </span><span class="n">modem</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">modemS800</span><span class="p">;</span>
<span class="cm">/** End [sim_com_sim800] */</span>
<span class="c1">// ==========================================================================</span>


<span class="cp">#elif defined BUILD_MODEM_SIM_COM_SIM7000</span>
<span class="cm">/** Start [sim_com_sim7000] */</span>
<span class="c1">// For almost anything based on the SIMCom SIM7000</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;modems/SIMComSIM7000.h&gt;</span>

<span class="c1">// NOTE: Extra hardware and software serial ports are created in the &quot;Settings</span>
<span class="c1">// for Additional Serial Ports&quot; section</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int32_t</span><span class="w"> </span><span class="n">modemBaud</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">9600</span><span class="p">;</span><span class="w">  </span><span class="c1">//  SIM7000 does auto-bauding by default</span>

<span class="c1">// Modem Pins - Describe the physical pin connection of your modem to your board</span>
<span class="c1">// NOTE:  Use -1 for pins that do not apply</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w"> </span><span class="n">modemVccPin</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="mi">18</span><span class="p">;</span><span class="w">  </span><span class="c1">// MCU pin controlling modem power</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w"> </span><span class="n">modemStatusPin</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mi">19</span><span class="p">;</span><span class="w">  </span><span class="c1">// MCU pin used to read modem status</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w"> </span><span class="n">modemResetPin</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="n">A5</span><span class="p">;</span><span class="w">  </span><span class="c1">// MCU pin connected to modem reset pin</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w"> </span><span class="n">modemSleepRqPin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">23</span><span class="p">;</span><span class="w">  </span><span class="c1">// MCU pin for modem sleep/wake request</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w"> </span><span class="n">modemLEDPin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">redLED</span><span class="p">;</span><span class="w">  </span><span class="c1">// MCU pin connected an LED to show modem</span>
<span class="w">                                    </span><span class="c1">// status</span>

<span class="c1">// Network connection information</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">char</span><span class="o">*</span><span class="w"> </span><span class="n">apn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;xxxxx&quot;</span><span class="p">;</span><span class="w">  </span><span class="c1">// APN for GPRS connection</span>

<span class="c1">// Create the modem object</span>
<span class="n">SIMComSIM7000</span><span class="w"> </span><span class="nf">modem7000</span><span class="p">(</span><span class="o">&amp;</span><span class="n">modemSerial</span><span class="p">,</span><span class="w"> </span><span class="n">modemVccPin</span><span class="p">,</span><span class="w"> </span><span class="n">modemStatusPin</span><span class="p">,</span>
<span class="w">                        </span><span class="n">modemResetPin</span><span class="p">,</span><span class="w"> </span><span class="n">modemSleepRqPin</span><span class="p">,</span><span class="w"> </span><span class="n">apn</span><span class="p">);</span>
<span class="c1">// Create an extra reference to the modem by a generic name</span>
<span class="n">SIMComSIM7000</span><span class="w"> </span><span class="n">modem</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">modem7000</span><span class="p">;</span>
<span class="cm">/** End [sim_com_sim7000] */</span>
<span class="c1">// ==========================================================================</span>


<span class="cp">#elif defined BUILD_MODEM_SIM_COM_SIM7080</span>
<span class="cm">/** Start [sim_com_sim7080] */</span>
<span class="c1">// For almost anything based on the SIMCom SIM7080G</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;modems/SIMComSIM7080.h&gt;</span>

<span class="c1">// NOTE: Extra hardware and software serial ports are created in the &quot;Settings</span>
<span class="c1">// for Additional Serial Ports&quot; section</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int32_t</span><span class="w"> </span><span class="n">modemBaud</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="mi">9600</span><span class="p">;</span><span class="w">  </span><span class="c1">//  SIM7080 does auto-bauding by default, but I set mine to 9600</span>

<span class="c1">// Modem Pins - Describe the physical pin connection of your modem to your board</span>
<span class="c1">// NOTE:  Use -1 for pins that do not apply</span>
<span class="c1">// and-global breakout bk-7080a</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w"> </span><span class="n">modemVccPin</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="mi">18</span><span class="p">;</span><span class="w">  </span><span class="c1">// MCU pin controlling modem power</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w"> </span><span class="n">modemStatusPin</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mi">19</span><span class="p">;</span><span class="w">  </span><span class="c1">// MCU pin used to read modem status</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w"> </span><span class="n">modemSleepRqPin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">23</span><span class="p">;</span><span class="w">  </span><span class="c1">// MCU pin for modem sleep/wake request</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w"> </span><span class="n">modemLEDPin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">redLED</span><span class="p">;</span><span class="w">  </span><span class="c1">// MCU pin connected an LED to show modem</span>
<span class="w">                                    </span><span class="c1">// status</span>

<span class="c1">// Network connection information</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">char</span><span class="o">*</span><span class="w"> </span><span class="n">apn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;xxxxx&quot;</span><span class="p">;</span><span class="w">  </span><span class="c1">// APN for GPRS connection</span>

<span class="c1">// Create the modem object</span>
<span class="n">SIMComSIM7080</span><span class="w"> </span><span class="nf">modem7080</span><span class="p">(</span><span class="o">&amp;</span><span class="n">modemSerial</span><span class="p">,</span><span class="w"> </span><span class="n">modemVccPin</span><span class="p">,</span><span class="w"> </span><span class="n">modemStatusPin</span><span class="p">,</span>
<span class="w">                        </span><span class="n">modemSleepRqPin</span><span class="p">,</span><span class="w"> </span><span class="n">apn</span><span class="p">);</span>
<span class="c1">// Create an extra reference to the modem by a generic name</span>
<span class="n">SIMComSIM7080</span><span class="w"> </span><span class="n">modem</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">modem7080</span><span class="p">;</span>
<span class="cm">/** End [sim_com_sim7080] */</span>
<span class="c1">// ==========================================================================</span>


<span class="cp">#elif defined BUILD_MODEM_SODAQ_2G_BEE_R6</span>
<span class="cm">/** Start [sodaq_2g_bee_r6] */</span>
<span class="c1">// For the Sodaq 2GBee R6 and R7 based on the SIMCom SIM800</span>
<span class="c1">// NOTE:  The Sodaq GPRSBee doesn&#39;t expose the SIM800&#39;s reset pin</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;modems/Sodaq2GBeeR6.h&gt;</span>

<span class="c1">// NOTE: Extra hardware and software serial ports are created in the &quot;Settings</span>
<span class="c1">// for Additional Serial Ports&quot; section</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int32_t</span><span class="w"> </span><span class="n">modemBaud</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">9600</span><span class="p">;</span><span class="w">  </span><span class="c1">//  SIM800 does auto-bauding by default</span>

<span class="c1">// Modem Pins - Describe the physical pin connection of your modem to your board</span>
<span class="c1">// NOTE:  Use -1 for pins that do not apply</span>
<span class="c1">// Example pins are for a Sodaq GPRSBee R6 or R7 with a Mayfly 0.x</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w"> </span><span class="n">modemVccPin</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="mi">23</span><span class="p">;</span><span class="w">  </span><span class="c1">// MCU pin controlling modem power</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w"> </span><span class="n">modemStatusPin</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mi">19</span><span class="p">;</span><span class="w">  </span><span class="c1">// MCU pin used to read modem status</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w"> </span><span class="n">modemResetPin</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w">  </span><span class="c1">// MCU pin connected to modem reset pin</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w"> </span><span class="n">modemSleepRqPin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w">  </span><span class="c1">// MCU pin for modem sleep/wake request</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w"> </span><span class="n">modemLEDPin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">redLED</span><span class="p">;</span><span class="w">  </span><span class="c1">// MCU pin connected an LED to show modem</span>
<span class="w">                                    </span><span class="c1">// status</span>

<span class="c1">// Network connection information</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">char</span><span class="o">*</span><span class="w"> </span><span class="n">apn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;xxxxx&quot;</span><span class="p">;</span><span class="w">  </span><span class="c1">// APN for GPRS connection</span>

<span class="c1">// Create the modem object</span>
<span class="n">Sodaq2GBeeR6</span><span class="w"> </span><span class="nf">modem2GB</span><span class="p">(</span><span class="o">&amp;</span><span class="n">modemSerial</span><span class="p">,</span><span class="w"> </span><span class="n">modemVccPin</span><span class="p">,</span><span class="w"> </span><span class="n">modemStatusPin</span><span class="p">,</span><span class="w"> </span><span class="n">apn</span><span class="p">);</span>
<span class="c1">// Create an extra reference to the modem by a generic name</span>
<span class="n">Sodaq2GBeeR6</span><span class="w"> </span><span class="n">modem</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">modem2GB</span><span class="p">;</span>
<span class="cm">/** End [sodaq_2g_bee_r6] */</span>
<span class="c1">// ==========================================================================</span>


<span class="cp">#elif defined BUILD_MODEM_SODAQ_UBEE_R410M</span>
<span class="cm">/** Start [sodaq_ubee_r410m] */</span>
<span class="c1">// For the Sodaq UBee based on the 4G LTE-M u-blox SARA R410M</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;modems/SodaqUBeeR410M.h&gt;</span>

<span class="c1">// NOTE: Extra hardware and software serial ports are created in the &quot;Settings</span>
<span class="c1">// for Additional Serial Ports&quot; section</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int32_t</span><span class="w"> </span><span class="n">modemBaud</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="mi">115200</span><span class="p">;</span><span class="w">  </span><span class="c1">// Default baud rate of the SARA R410M is 115200</span>
<span class="c1">// NOTE:  The SARA R410N DOES NOT save baud rate to non-volatile memory.  After</span>
<span class="c1">// every power loss, the module will return to the default baud rate of 115200.</span>
<span class="c1">// NOTE:  115200 is TOO FAST for an 8MHz Arduino.  This library attempts to</span>
<span class="c1">// compensate by sending a baud rate change command in the wake function when</span>
<span class="c1">// compiled for a 8MHz board. Because of this, 8MHz boards, LIKE THE MAYFLY,</span>
<span class="c1">// *MUST* use a HardwareSerial instance as modemSerial.</span>

<span class="c1">// Modem Pins - Describe the physical pin connection of your modem to your board</span>
<span class="c1">// NOTE:  Use -1 for pins that do not apply</span>
<span class="c1">// Example pins are for a Sodaq uBee R410M with a Mayfly 0.x</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w"> </span><span class="n">modemVccPin</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="mi">23</span><span class="p">;</span><span class="w">  </span><span class="c1">// MCU pin controlling modem power</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w"> </span><span class="n">modemStatusPin</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mi">19</span><span class="p">;</span><span class="w">  </span><span class="c1">// MCU pin used to read modem status</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w"> </span><span class="n">modemResetPin</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w">  </span><span class="c1">// MCU pin connected to modem reset pin</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w"> </span><span class="n">modemSleepRqPin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">20</span><span class="p">;</span><span class="w">  </span><span class="c1">// MCU pin for modem sleep/wake request</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w"> </span><span class="n">modemLEDPin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">redLED</span><span class="p">;</span><span class="w">  </span><span class="c1">// MCU pin connected an LED to show modem</span>
<span class="w">                                    </span><span class="c1">// status</span>

<span class="c1">// Network connection information</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">char</span><span class="o">*</span><span class="w"> </span><span class="n">apn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;xxxxx&quot;</span><span class="p">;</span><span class="w">  </span><span class="c1">// APN for GPRS connection</span>

<span class="c1">// Create the modem object</span>
<span class="n">SodaqUBeeR410M</span><span class="w"> </span><span class="nf">modemR410</span><span class="p">(</span><span class="o">&amp;</span><span class="n">modemSerial</span><span class="p">,</span><span class="w"> </span><span class="n">modemVccPin</span><span class="p">,</span><span class="w"> </span><span class="n">modemStatusPin</span><span class="p">,</span>
<span class="w">                         </span><span class="n">modemResetPin</span><span class="p">,</span><span class="w"> </span><span class="n">modemSleepRqPin</span><span class="p">,</span><span class="w"> </span><span class="n">apn</span><span class="p">);</span>
<span class="c1">// Create an extra reference to the modem by a generic name</span>
<span class="n">SodaqUBeeR410M</span><span class="w"> </span><span class="n">modem</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">modemR410</span><span class="p">;</span>
<span class="cm">/** End [sodaq_ubee_r410m] */</span>
<span class="c1">// ==========================================================================</span>


<span class="cp">#elif defined BUILD_MODEM_SODAQ_UBEE_U201</span>
<span class="cm">/** Start [sodaq_ubee_u201] */</span>
<span class="c1">// For the Sodaq UBee based on the 3G u-blox SARA U201</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;modems/SodaqUBeeU201.h&gt;</span>

<span class="c1">// NOTE: Extra hardware and software serial ports are created in the &quot;Settings</span>
<span class="c1">// for Additional Serial Ports&quot; section</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int32_t</span><span class="w"> </span><span class="n">modemBaud</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="mi">9600</span><span class="p">;</span><span class="w">  </span><span class="c1">//  SARA U2xx module does auto-bauding by default</span>

<span class="c1">// Modem Pins - Describe the physical pin connection of your modem to your board</span>
<span class="c1">// NOTE:  Use -1 for pins that do not apply</span>
<span class="c1">// Example pins are for a Sodaq uBee U201 with a Mayfly 0.x</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w"> </span><span class="n">modemVccPin</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="mi">23</span><span class="p">;</span><span class="w">  </span><span class="c1">// MCU pin controlling modem power</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w"> </span><span class="n">modemStatusPin</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mi">19</span><span class="p">;</span><span class="w">  </span><span class="c1">// MCU pin used to read modem status</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w"> </span><span class="n">modemResetPin</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w">  </span><span class="c1">// MCU pin connected to modem reset pin</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w"> </span><span class="n">modemSleepRqPin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">20</span><span class="p">;</span><span class="w">  </span><span class="c1">// MCU pin for modem sleep/wake request</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w"> </span><span class="n">modemLEDPin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">redLED</span><span class="p">;</span><span class="w">  </span><span class="c1">// MCU pin connected an LED to show modem</span>
<span class="w">                                    </span><span class="c1">// status</span>

<span class="c1">// Network connection information</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">char</span><span class="o">*</span><span class="w"> </span><span class="n">apn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;xxxxx&quot;</span><span class="p">;</span><span class="w">  </span><span class="c1">// APN for GPRS connection</span>

<span class="c1">// Create the modem object</span>
<span class="n">SodaqUBeeU201</span><span class="w"> </span><span class="nf">modemU201</span><span class="p">(</span><span class="o">&amp;</span><span class="n">modemSerial</span><span class="p">,</span><span class="w"> </span><span class="n">modemVccPin</span><span class="p">,</span><span class="w"> </span><span class="n">modemStatusPin</span><span class="p">,</span>
<span class="w">                        </span><span class="n">modemResetPin</span><span class="p">,</span><span class="w"> </span><span class="n">modemSleepRqPin</span><span class="p">,</span><span class="w"> </span><span class="n">apn</span><span class="p">);</span>
<span class="c1">// Create an extra reference to the modem by a generic name</span>
<span class="n">SodaqUBeeU201</span><span class="w"> </span><span class="n">modem</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">modemU201</span><span class="p">;</span>
<span class="cm">/** End [sodaq_ubee_u201] */</span>
<span class="c1">// ==========================================================================</span>
<span class="cp">#endif</span>


<span class="cm">/** Start [modem_variables] */</span>
<span class="c1">// Create RSSI and signal strength variable pointers for the modem</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">modemRSSI</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">Modem_RSSI</span><span class="p">(</span><span class="o">&amp;</span><span class="n">modem</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;</span><span class="nf">RSSI</span><span class="s">&quot;</span><span class="p">);</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">modemSignalPct</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Modem_SignalPercent</span><span class="p">(</span>
<span class="w">    </span><span class="o">&amp;</span><span class="n">modem</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;signalPercent&quot;</span><span class="p">);</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">modemBatteryState</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Modem_BatteryState</span><span class="p">(</span>
<span class="w">    </span><span class="o">&amp;</span><span class="n">modem</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;modemBatteryCS&quot;</span><span class="p">);</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">modemBatteryPct</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Modem_BatteryPercent</span><span class="p">(</span>
<span class="w">    </span><span class="o">&amp;</span><span class="n">modem</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;modemBatteryPct&quot;</span><span class="p">);</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">modemBatteryVoltage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Modem_BatteryVoltage</span><span class="p">(</span>
<span class="w">    </span><span class="o">&amp;</span><span class="n">modem</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;modemBatterymV&quot;</span><span class="p">);</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">modemTemperature</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">Modem_Temp</span><span class="p">(</span><span class="o">&amp;</span><span class="n">modem</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;modemTemp&quot;</span><span class="p">);</span>
<span class="cm">/** End [modem_variables] */</span>


<span class="c1">// ==========================================================================</span>
<span class="c1">//  Using the Processor as a Sensor</span>
<span class="c1">// ==========================================================================</span>
<span class="cm">/** Start [processor_stats] */</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;sensors/ProcessorStats.h&gt;</span>

<span class="c1">// Create the main processor chip &quot;sensor&quot; - for general metadata</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">char</span><span class="o">*</span><span class="w">    </span><span class="n">mcuBoardVersion</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;v1.1&quot;</span><span class="p">;</span>
<span class="n">ProcessorStats</span><span class="w"> </span><span class="nf">mcuBoard</span><span class="p">(</span><span class="n">mcuBoardVersion</span><span class="p">);</span>

<span class="c1">// Create sample number, battery voltage, and free RAM variable pointers for the</span>
<span class="c1">// processor</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">mcuBoardBatt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ProcessorStats_Battery</span><span class="p">(</span>
<span class="w">    </span><span class="o">&amp;</span><span class="n">mcuBoard</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">mcuBoardAvailableRAM</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ProcessorStats_FreeRam</span><span class="p">(</span>
<span class="w">    </span><span class="o">&amp;</span><span class="n">mcuBoard</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">mcuBoardSampNo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ProcessorStats_SampleNumber</span><span class="p">(</span>
<span class="w">    </span><span class="o">&amp;</span><span class="n">mcuBoard</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="cm">/** End [processor_stats] */</span>


<span class="cp">#if defined(ARDUINO_ARCH_AVR) || defined(MS_SAMD_DS3231)</span>
<span class="c1">// ==========================================================================</span>
<span class="c1">//  Maxim DS3231 RTC (Real Time Clock)</span>
<span class="c1">// ==========================================================================</span>
<span class="cm">/** Start [maxim_ds3231] */</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;sensors/MaximDS3231.h&gt;</span>

<span class="c1">// Create a DS3231 sensor object</span>
<span class="n">MaximDS3231</span><span class="w"> </span><span class="nf">ds3231</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>

<span class="c1">// Create a temperature variable pointer for the DS3231</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">ds3231Temp</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">MaximDS3231_Temp</span><span class="p">(</span><span class="o">&amp;</span><span class="n">ds3231</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="cm">/** End [maxim_ds3231] */</span>
<span class="cp">#endif</span>


<span class="cp">#if defined BUILD_SENSOR_AO_SONG_AM2315</span>
<span class="c1">// ==========================================================================</span>
<span class="c1">//  AOSong AM2315 Digital Humidity and Temperature Sensor</span>
<span class="c1">// ==========================================================================</span>
<span class="cm">/** Start [ao_song_am2315] */</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;sensors/AOSongAM2315.h&gt;</span>

<span class="c1">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w"> </span><span class="n">AM2315Power</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sensorPowerPin</span><span class="p">;</span><span class="w">  </span><span class="c1">// Power pin</span>

<span class="c1">// Create an AOSong AM2315 sensor object</span>
<span class="n">AOSongAM2315</span><span class="w"> </span><span class="nf">am2315</span><span class="p">(</span><span class="n">AM2315Power</span><span class="p">);</span>

<span class="c1">// Create humidity and temperature variable pointers for the AM2315</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">am2315Humid</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">AOSongAM2315_Humidity</span><span class="p">(</span><span class="o">&amp;</span><span class="n">am2315</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">am2315Temp</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">AOSongAM2315_Temp</span><span class="p">(</span><span class="o">&amp;</span><span class="n">am2315</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="cm">/** End [ao_song_am2315] */</span>
<span class="cp">#endif</span>


<span class="cp">#if defined BUILD_SENSOR_AO_SONG_DHT</span>
<span class="c1">// ==========================================================================</span>
<span class="c1">//  AOSong DHT 11/21 (AM2301)/22 (AM2302) Digital Humidity and Temperature</span>
<span class="c1">// ==========================================================================</span>
<span class="cm">/** Start [ao_song_dht] */</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;sensors/AOSongDHT.h&gt;</span>

<span class="c1">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w"> </span><span class="n">DHTPower</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sensorPowerPin</span><span class="p">;</span><span class="w">  </span><span class="c1">// Power pin</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w"> </span><span class="n">DHTPin</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span><span class="w">              </span><span class="c1">// DHT data pin</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w"> </span><span class="n">dhtType</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="n">DHT11</span><span class="p">;</span><span class="w">  </span><span class="c1">// DHT type, one of DHT11, DHT12, DHT21, DHT22, or AM2301</span>

<span class="c1">// Create an AOSong DHT sensor object</span>
<span class="n">AOSongDHT</span><span class="w"> </span><span class="nf">dht</span><span class="p">(</span><span class="n">DHTPower</span><span class="p">,</span><span class="w"> </span><span class="n">DHTPin</span><span class="p">,</span><span class="w"> </span><span class="n">dhtType</span><span class="p">);</span>

<span class="c1">// Create humidity, temperature, and heat index variable pointers for the DHT</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">dhtHumid</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">AOSongDHT_Humidity</span><span class="p">(</span><span class="o">&amp;</span><span class="n">dht</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">dhtTemp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">AOSongDHT_Temp</span><span class="p">(</span><span class="o">&amp;</span><span class="n">dht</span><span class="p">,</span>
<span class="w">                                       </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">dhtHI</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">AOSongDHT_HI</span><span class="p">(</span><span class="o">&amp;</span><span class="n">dht</span><span class="p">,</span>
<span class="w">                                     </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="cm">/** End [ao_song_dht] */</span>
<span class="cp">#endif</span>


<span class="cp">#if defined BUILD_SENSOR_APOGEE_SQ212</span>
<span class="c1">// ==========================================================================</span>
<span class="c1">//  Apogee SQ-212 Photosynthetically Active Radiation (PAR) Sensor</span>
<span class="c1">// ==========================================================================</span>
<span class="cm">/** Start [apogee_sq212] */</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;sensors/ApogeeSQ212.h&gt;</span>

<span class="c1">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w">  </span><span class="n">SQ212Power</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="n">sensorPowerPin</span><span class="p">;</span><span class="w">  </span><span class="c1">// Power pin</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w">  </span><span class="n">SQ212ADSChannel</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span><span class="w">     </span><span class="c1">// The ADS channel for the SQ212</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">uint8_t</span><span class="w"> </span><span class="n">SQ212ADSi2c_addr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x48</span><span class="p">;</span><span class="w">  </span><span class="c1">// The I2C address of the ADS1115 ADC</span>

<span class="c1">// Create an Apogee SQ212 sensor object</span>
<span class="n">ApogeeSQ212</span><span class="w"> </span><span class="nf">SQ212</span><span class="p">(</span><span class="n">SQ212Power</span><span class="p">,</span><span class="w"> </span><span class="n">SQ212ADSChannel</span><span class="p">,</span><span class="w"> </span><span class="n">SQ212ADSi2c_addr</span><span class="p">);</span>

<span class="c1">// Create PAR and raw voltage variable pointers for the SQ212</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">sq212PAR</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">ApogeeSQ212_PAR</span><span class="p">(</span><span class="o">&amp;</span><span class="n">SQ212</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">sq212voltage</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">ApogeeSQ212_Voltage</span><span class="p">(</span><span class="o">&amp;</span><span class="n">SQ212</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="cm">/** End [apogee_sq212] */</span>
<span class="cp">#endif</span>


<span class="cp">#if defined BUILD_SENSOR_ATLAS_SCIENTIFIC_CO2</span>
<span class="c1">// ==========================================================================</span>
<span class="c1">//  Atlas Scientific EZO-CO2 Embedded NDIR Carbon Dioxide Sensor</span>
<span class="c1">// ==========================================================================</span>
<span class="cm">/** Start [atlas_scientific_co2] */</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;sensors/AtlasScientificCO2.h&gt;</span>

<span class="c1">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w"> </span><span class="n">AtlasCO2Power</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="n">sensorPowerPin</span><span class="p">;</span><span class="w">  </span><span class="c1">// Power pin</span>
<span class="kr">uint8_t</span><span class="w">      </span><span class="n">AtlasCO2i2c_addr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x69</span><span class="p">;</span><span class="w">  </span><span class="c1">// Default for CO2-EZO is 0x69 (105)</span>
<span class="c1">// All Atlas sensors have different default I2C addresses, but any of them can</span>
<span class="c1">// be re-addressed to any 8 bit number.  If using the default address for any</span>
<span class="c1">// Atlas Scientific sensor, you may omit this argument.</span>

<span class="c1">// Create an Atlas Scientific CO2 sensor object</span>
<span class="c1">// AtlasScientificCO2 atlasCO2(AtlasCO2Power, AtlasCO2i2c_addr);</span>
<span class="n">AtlasScientificCO2</span><span class="w"> </span><span class="nf">atlasCO2</span><span class="p">(</span><span class="n">AtlasCO2Power</span><span class="p">);</span>

<span class="c1">// Create concentration and temperature variable pointers for the EZO-CO2</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">atlasCO2CO2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">AtlasScientificCO2_CO2</span><span class="p">(</span>
<span class="w">    </span><span class="o">&amp;</span><span class="n">atlasCO2</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">atlasCO2Temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">AtlasScientificCO2_Temp</span><span class="p">(</span>
<span class="w">    </span><span class="o">&amp;</span><span class="n">atlasCO2</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="cm">/** End [atlas_scientific_co2] */</span>
<span class="cp">#endif</span>


<span class="cp">#if defined BUILD_SENSOR_ATLAS_SCIENTIFIC_DO</span>
<span class="c1">// ==========================================================================</span>
<span class="c1">//  Atlas Scientific EZO-DO Dissolved Oxygen Sensor</span>
<span class="c1">// ==========================================================================</span>
<span class="cm">/** Start [atlas_scientific_do] */</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;sensors/AtlasScientificDO.h&gt;</span>

<span class="c1">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w"> </span><span class="n">AtlasDOPower</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="n">sensorPowerPin</span><span class="p">;</span><span class="w">  </span><span class="c1">// Power pin</span>
<span class="kr">uint8_t</span><span class="w">      </span><span class="n">AtlasDOi2c_addr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x61</span><span class="p">;</span><span class="w">            </span><span class="c1">// Default for DO is 0x61 (97)</span>
<span class="c1">// All Atlas sensors have different default I2C addresses, but any of them can</span>
<span class="c1">// be re-addressed to any 8 bit number.  If using the default address for any</span>
<span class="c1">// Atlas Scientific sensor, you may omit this argument.</span>

<span class="c1">// Create an Atlas Scientific DO sensor object</span>
<span class="c1">// AtlasScientificDO atlasDO(AtlasDOPower, AtlasDOi2c_addr);</span>
<span class="n">AtlasScientificDO</span><span class="w"> </span><span class="nf">atlasDO</span><span class="p">(</span><span class="n">AtlasDOPower</span><span class="p">);</span>

<span class="c1">// Create concentration and percent saturation variable pointers for the EZO-DO</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">atlasDOconc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">AtlasScientificDO_DOmgL</span><span class="p">(</span>
<span class="w">    </span><span class="o">&amp;</span><span class="n">atlasDO</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">atlasDOpct</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">AtlasScientificDO_DOpct</span><span class="p">(</span>
<span class="w">    </span><span class="o">&amp;</span><span class="n">atlasDO</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="cm">/** End [atlas_scientific_do] */</span>
<span class="cp">#endif</span>


<span class="cp">#if defined BUILD_SENSOR_ATLAS_SCIENTIFIC_ORP</span>
<span class="c1">// ==========================================================================</span>
<span class="c1">//  Atlas Scientific EZO-ORP Oxidation/Reduction Potential Sensor</span>
<span class="c1">// ==========================================================================</span>
<span class="cm">/** Start [atlas_scientific_orp] */</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;sensors/AtlasScientificORP.h&gt;</span>

<span class="c1">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w"> </span><span class="n">AtlasORPPower</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="n">sensorPowerPin</span><span class="p">;</span><span class="w">  </span><span class="c1">// Power pin</span>
<span class="kr">uint8_t</span><span class="w">      </span><span class="n">AtlasORPi2c_addr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x62</span><span class="p">;</span><span class="w">            </span><span class="c1">// Default for ORP is 0x62 (98)</span>
<span class="c1">// All Atlas sensors have different default I2C addresses, but any of them can</span>
<span class="c1">// be re-addressed to any 8 bit number.  If using the default address for any</span>
<span class="c1">// Atlas Scientific sensor, you may omit this argument.</span>

<span class="c1">// Create an Atlas Scientific ORP sensor object</span>
<span class="c1">// AtlasScientificORP atlasORP(AtlasORPPower, AtlasORPi2c_addr);</span>
<span class="n">AtlasScientificORP</span><span class="w"> </span><span class="nf">atlasORP</span><span class="p">(</span><span class="n">AtlasORPPower</span><span class="p">);</span>

<span class="c1">// Create a potential variable pointer for the ORP</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">atlasORPot</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">AtlasScientificORP_Potential</span><span class="p">(</span>
<span class="w">    </span><span class="o">&amp;</span><span class="n">atlasORP</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="cm">/** End [atlas_scientific_orp] */</span>
<span class="cp">#endif</span>


<span class="cp">#if defined BUILD_SENSOR_ATLAS_SCIENTIFIC_PH</span>
<span class="c1">// ==========================================================================</span>
<span class="c1">//  Atlas Scientific EZO-pH Sensor</span>
<span class="c1">// ==========================================================================</span>
<span class="cm">/** Start [atlas_scientific_ph] */</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;sensors/AtlasScientificpH.h&gt;</span>

<span class="c1">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w"> </span><span class="n">AtlaspHPower</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="n">sensorPowerPin</span><span class="p">;</span><span class="w">  </span><span class="c1">// Power pin</span>
<span class="kr">uint8_t</span><span class="w">      </span><span class="n">AtlaspHi2c_addr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x63</span><span class="p">;</span><span class="w">            </span><span class="c1">// Default for pH is 0x63 (99)</span>
<span class="c1">// All Atlas sensors have different default I2C addresses, but any of them can</span>
<span class="c1">// be re-addressed to any 8 bit number.  If using the default address for any</span>
<span class="c1">// Atlas Scientific sensor, you may omit this argument.</span>

<span class="c1">// Create an Atlas Scientific pH sensor object</span>
<span class="c1">// AtlasScientificpH atlaspH(AtlaspHPower, AtlaspHi2c_addr);</span>
<span class="n">AtlasScientificpH</span><span class="w"> </span><span class="nf">atlaspH</span><span class="p">(</span><span class="n">AtlaspHPower</span><span class="p">);</span>

<span class="c1">// Create a pH variable pointer for the pH sensor</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">atlaspHpH</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">AtlasScientificpH_pH</span><span class="p">(</span><span class="o">&amp;</span><span class="n">atlaspH</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="cm">/** End [atlas_scientific_ph] */</span>
<span class="cp">#endif</span>


<span class="cp">#if defined(BUILD_SENSOR_ATLAS_SCIENTIFIC_RTD) || \</span>
<span class="cp">    defined(BUILD_SENSOR_ATLAS_SCIENTIFIC_EC)</span>
<span class="c1">// ==========================================================================</span>
<span class="c1">//  Atlas Scientific EZO-RTD Temperature Sensor</span>
<span class="c1">// ==========================================================================</span>
<span class="cm">/** Start [atlas_scientific_rtd] */</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;sensors/AtlasScientificRTD.h&gt;</span>

<span class="c1">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w"> </span><span class="n">AtlasRTDPower</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="n">sensorPowerPin</span><span class="p">;</span><span class="w">  </span><span class="c1">// Power pin</span>
<span class="kr">uint8_t</span><span class="w">      </span><span class="n">AtlasRTDi2c_addr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x66</span><span class="p">;</span><span class="w">  </span><span class="c1">// Default for RTD is 0x66 (102)</span>
<span class="c1">// All Atlas sensors have different default I2C addresses, but any of them can</span>
<span class="c1">// be re-addressed to any 8 bit number.  If using the default address for any</span>
<span class="c1">// Atlas Scientific sensor, you may omit this argument.</span>

<span class="c1">// Create an Atlas Scientific RTD sensor object</span>
<span class="c1">// AtlasScientificRTD atlasRTD(AtlasRTDPower, AtlasRTDi2c_addr);</span>
<span class="n">AtlasScientificRTD</span><span class="w"> </span><span class="nf">atlasRTD</span><span class="p">(</span><span class="n">AtlasRTDPower</span><span class="p">);</span>

<span class="c1">// Create a temperature variable pointer for the RTD</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">atlasTemp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">AtlasScientificRTD_Temp</span><span class="p">(</span>
<span class="w">    </span><span class="o">&amp;</span><span class="n">atlasRTD</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="cm">/** End [atlas_scientific_rtd] */</span>
<span class="cp">#endif</span>


<span class="cp">#if defined BUILD_SENSOR_ATLAS_SCIENTIFIC_EC</span>
<span class="c1">// ==========================================================================</span>
<span class="c1">//  Atlas Scientific EZO-EC Conductivity Sensor</span>
<span class="c1">// ==========================================================================</span>
<span class="cm">/** Start [atlas_scientific_ec] */</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;sensors/AtlasScientificEC.h&gt;</span>

<span class="c1">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w"> </span><span class="n">AtlasECPower</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="n">sensorPowerPin</span><span class="p">;</span><span class="w">  </span><span class="c1">// Power pin</span>
<span class="kr">uint8_t</span><span class="w">      </span><span class="n">AtlasECi2c_addr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x64</span><span class="p">;</span><span class="w">            </span><span class="c1">// Default for EC is 0x64 (100)</span>
<span class="c1">// All Atlas sensors have different default I2C addresses, but any of them can</span>
<span class="c1">// be re-addressed to any 8 bit number.  If using the default address for any</span>
<span class="c1">// Atlas Scientific sensor, you may omit this argument.</span>

<span class="c1">// Create an Atlas Scientific Conductivity sensor object</span>
<span class="c1">// AtlasScientificEC atlasEC(AtlasECPower, AtlasECi2c_addr);</span>
<span class="n">AtlasScientificEC</span><span class="w"> </span><span class="nf">atlasEC</span><span class="p">(</span><span class="n">AtlasECPower</span><span class="p">);</span>

<span class="c1">// Create four variable pointers for the EZO-ES</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">atlasCond</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">AtlasScientificEC_Cond</span><span class="p">(</span>
<span class="w">    </span><span class="o">&amp;</span><span class="n">atlasEC</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">atlasTDS</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">AtlasScientificEC_TDS</span><span class="p">(</span><span class="o">&amp;</span><span class="n">atlasEC</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">atlasSal</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">AtlasScientificEC_Salinity</span><span class="p">(</span>
<span class="w">    </span><span class="o">&amp;</span><span class="n">atlasEC</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">atlasGrav</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">AtlasScientificEC_SpecificGravity</span><span class="p">(</span>
<span class="w">    </span><span class="o">&amp;</span><span class="n">atlasEC</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>

<span class="c1">// Create a calculated variable for the temperature compensated conductivity</span>
<span class="c1">// (that is, the specific conductance).  For this example, we will use the</span>
<span class="c1">// temperature measured by the Atlas RTD above this.  You could use the</span>
<span class="c1">// temperature returned by any other water temperature sensor if desired.</span>
<span class="c1">// **DO NOT** use your logger board temperature (ie, from the DS3231) to</span>
<span class="c1">// calculate specific conductance!</span>
<span class="kr">float</span><span class="w"> </span><span class="nf">calculateAtlasSpCond</span><span class="p">(</span><span class="kr">void</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kr">float</span><span class="w"> </span><span class="n">spCond</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="mi">-9999</span><span class="p">;</span><span class="w">  </span><span class="c1">// Always safest to start with a bad value</span>
<span class="w">    </span><span class="kr">float</span><span class="w"> </span><span class="n">waterTemp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">atlasTemp</span><span class="o">-&gt;</span><span class="n">getValue</span><span class="p">();</span>
<span class="w">    </span><span class="kr">float</span><span class="w"> </span><span class="n">rawCond</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="n">atlasCond</span><span class="o">-&gt;</span><span class="n">getValue</span><span class="p">();</span>
<span class="w">    </span><span class="c1">// ^^ Linearized temperature correction coefficient per degrees Celsius.</span>
<span class="w">    </span><span class="c1">// The value of 0.019 comes from measurements reported here:</span>
<span class="w">    </span><span class="c1">// Hayashi M. Temperature-electrical conductivity relation of water for</span>
<span class="w">    </span><span class="c1">// environmental monitoring and geophysical data inversion. Environ Monit</span>
<span class="w">    </span><span class="c1">// Assess. 2004 Aug-Sep;96(1-3):119-28.</span>
<span class="w">    </span><span class="c1">// doi: 10.1023/b:emas.0000031719.83065.68. PMID: 15327152.</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">waterTemp</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">-9999</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">rawCond</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">-9999</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// make sure both inputs are good</span>
<span class="w">        </span><span class="kr">float</span><span class="w"> </span><span class="n">temperatureCoef</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.019</span><span class="p">;</span>
<span class="w">        </span><span class="n">spCond</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rawCond</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">temperatureCoef</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="p">(</span><span class="n">waterTemp</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mf">25.0</span><span class="p">));</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">spCond</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// Properties of the calculated variable</span>
<span class="c1">// The number of digits after the decimal place</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">uint8_t</span><span class="w"> </span><span class="n">atlasSpCondResolution</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="c1">// This must be a value from http://vocabulary.odm2.org/variablename/</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">char</span><span class="o">*</span><span class="w"> </span><span class="n">atlasSpCondName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;specificConductance&quot;</span><span class="p">;</span>
<span class="c1">// This must be a value from http://vocabulary.odm2.org/units/</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">char</span><span class="o">*</span><span class="w"> </span><span class="n">atlasSpCondUnit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;microsiemenPerCentimeter&quot;</span><span class="p">;</span>
<span class="c1">// A short code for the variable</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">char</span><span class="o">*</span><span class="w"> </span><span class="n">atlasSpCondCode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;atlasSpCond&quot;</span><span class="p">;</span>
<span class="c1">// The (optional) universallly unique identifier</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">char</span><span class="o">*</span><span class="w"> </span><span class="n">atlasSpCondUUID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">;</span>

<span class="c1">// Finally, create the specific conductance variable and return a pointer to it</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">atlasSpCond</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">Variable</span><span class="p">(</span><span class="n">calculateAtlasSpCond</span><span class="p">,</span><span class="w"> </span><span class="n">atlasSpCondResolution</span><span class="p">,</span><span class="w"> </span><span class="n">atlasSpCondName</span><span class="p">,</span>
<span class="w">                 </span><span class="n">atlasSpCondUnit</span><span class="p">,</span><span class="w"> </span><span class="n">atlasSpCondCode</span><span class="p">,</span><span class="w"> </span><span class="n">atlasSpCondUUID</span><span class="p">);</span>
<span class="cm">/** End [atlas_scientific_ec] */</span>
<span class="cp">#endif</span>


<span class="cp">#if defined BUILD_SENSOR_BOSCH_BME280</span>
<span class="c1">// ==========================================================================</span>
<span class="c1">//  Bosch BME280 Environmental Sensor</span>
<span class="c1">// ==========================================================================</span>
<span class="cm">/** Start [bosch_bme280] */</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;sensors/BoschBME280.h&gt;</span>

<span class="c1">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w"> </span><span class="n">BME280Power</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sensorPowerPin</span><span class="p">;</span><span class="w">  </span><span class="c1">// Power pin</span>
<span class="kr">uint8_t</span><span class="w">      </span><span class="n">BMEi2c_addr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x76</span><span class="p">;</span>
<span class="c1">// The BME280 can be addressed either as 0x77 (Adafruit default) or 0x76 (Grove</span>
<span class="c1">// default) Either can be physically mofidied for the other address</span>

<span class="c1">// Create a Bosch BME280 sensor object</span>
<span class="n">BoschBME280</span><span class="w"> </span><span class="nf">bme280</span><span class="p">(</span><span class="n">BME280Power</span><span class="p">,</span><span class="w"> </span><span class="n">BMEi2c_addr</span><span class="p">);</span>

<span class="c1">// Create four variable pointers for the BME280</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">bme280Humid</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">BoschBME280_Humidity</span><span class="p">(</span><span class="o">&amp;</span><span class="n">bme280</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">bme280Temp</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">BoschBME280_Temp</span><span class="p">(</span><span class="o">&amp;</span><span class="n">bme280</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">bme280Press</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">BoschBME280_Pressure</span><span class="p">(</span><span class="o">&amp;</span><span class="n">bme280</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">bme280Alt</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">BoschBME280_Altitude</span><span class="p">(</span><span class="o">&amp;</span><span class="n">bme280</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="cm">/** End [bosch_bme280] */</span>
<span class="cp">#endif</span>


<span class="cp">#if defined BUILD_SENSOR_BOSCH_BMP3XX</span>
<span class="c1">// ==========================================================================</span>
<span class="c1">//  Bosch BMP 3xx Barometric Pressure Sensor</span>
<span class="c1">// ==========================================================================</span>
<span class="cm">/** Start [bosch_bmp3xx] */</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;sensors/BoschBMP3xx.h&gt;</span>

<span class="c1">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w"> </span><span class="n">bmp3xxPower</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w">  </span><span class="c1">// Power pin</span>
<span class="n">Mode</span><span class="w"> </span><span class="n">bmpMode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">FORCED_MODE</span><span class="p">;</span><span class="w">  </span><span class="c1">// The operating mode of the BMP; normal or forced</span>
<span class="n">Oversampling</span><span class="w"> </span><span class="n">bmpPressureOversample</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">OVERSAMPLING_X32</span><span class="p">;</span>
<span class="n">Oversampling</span><span class="w"> </span><span class="n">bmpTempOversample</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="n">OVERSAMPLING_X2</span><span class="p">;</span>
<span class="n">IIRFilter</span><span class="w">    </span><span class="n">bmpFilterCoeff</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="n">IIR_FILTER_OFF</span><span class="p">;</span>
<span class="n">TimeStandby</span><span class="w">  </span><span class="n">bmpTimeStandby</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="n">TIME_STANDBY_5MS</span><span class="p">;</span>
<span class="kr">uint8_t</span><span class="w">      </span><span class="n">bmpI2C_addr</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mh">0x77</span><span class="p">;</span>
<span class="c1">// The BMP3xx can be addressed either as 0x77 or 0x76</span>

<span class="c1">// Create a Bosch BMP3xx sensor object</span>
<span class="n">BoschBMP3xx</span><span class="w"> </span><span class="nf">bmp3xx</span><span class="p">(</span><span class="n">bmp3xxPower</span><span class="p">,</span><span class="w"> </span><span class="n">bmpMode</span><span class="p">,</span><span class="w"> </span><span class="n">bmpPressureOversample</span><span class="p">,</span>
<span class="w">                   </span><span class="n">bmpTempOversample</span><span class="p">,</span><span class="w"> </span><span class="n">bmpFilterCoeff</span><span class="p">,</span><span class="w"> </span><span class="n">bmpTimeStandby</span><span class="p">,</span>
<span class="w">                   </span><span class="n">bmpI2C_addr</span><span class="p">);</span>

<span class="c1">// Create the variable pointers for the BMP3xx</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">bmp3xxTemp</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">BoschBMP3xx_Temp</span><span class="p">(</span><span class="o">&amp;</span><span class="n">bmp3xx</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">bmp3xxPress</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">BoschBMP3xx_Pressure</span><span class="p">(</span><span class="o">&amp;</span><span class="n">bmp3xx</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">bmp3xxAlt</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">BoschBMP3xx_Altitude</span><span class="p">(</span><span class="o">&amp;</span><span class="n">bmp3xx</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="cm">/** End [bosch_bmp3xx] */</span>
<span class="cp">#endif</span>


<span class="cp">#if defined BUILD_SENSOR_CAMPBELL_CLARI_VUE10</span>
<span class="c1">// ==========================================================================</span>
<span class="c1">//  Campbell ClariVUE Turbidity Sensor</span>
<span class="c1">// ==========================================================================</span>
<span class="cm">/** Start [campbell_clari_vue10] */</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;sensors/CampbellClariVUE10.h&gt;</span>

<span class="c1">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">char</span><span class="o">*</span><span class="w"> </span><span class="n">ClariVUESDI12address</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;0&quot;</span><span class="p">;</span><span class="w">  </span><span class="c1">// The SDI-12 Address of the ClariVUE10</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w"> </span><span class="n">ClariVUEPower</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="n">sensorPowerPin</span><span class="p">;</span><span class="w">  </span><span class="c1">// Power pin</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w"> </span><span class="n">ClariVUEData</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="mi">7</span><span class="p">;</span><span class="w">               </span><span class="c1">// The SDI-12 data pin</span>
<span class="c1">// NOTE:  you should NOT take more than one readings.  THe sensor already takes</span>
<span class="c1">// and averages 8 by default.</span>

<span class="c1">// Create a Campbell ClariVUE10 sensor object</span>
<span class="n">CampbellClariVUE10</span><span class="w"> </span><span class="nf">clarivue</span><span class="p">(</span><span class="o">*</span><span class="n">ClariVUESDI12address</span><span class="p">,</span><span class="w"> </span><span class="n">ClariVUEPower</span><span class="p">,</span><span class="w"> </span><span class="n">ClariVUEData</span><span class="p">);</span>

<span class="c1">// Create turbidity, temperature, and error variable pointers for the ClariVUE10</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">clarivueTurbidity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">CampbellClariVUE10_Turbidity</span><span class="p">(</span>
<span class="w">    </span><span class="o">&amp;</span><span class="n">clarivue</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">clarivueTemp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">CampbellClariVUE10_Temp</span><span class="p">(</span>
<span class="w">    </span><span class="o">&amp;</span><span class="n">clarivue</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">clarivueError</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">CampbellClariVUE10_ErrorCode</span><span class="p">(</span>
<span class="w">    </span><span class="o">&amp;</span><span class="n">clarivue</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="cm">/** End [campbell_clari_vue10] */</span>
<span class="cp">#endif</span>


<span class="cp">#if defined BUILD_SENSOR_CAMPBELL_OBS3</span>
<span class="c1">// ==========================================================================</span>
<span class="c1">//  Campbell OBS 3 / OBS 3+ Analog Turbidity Sensor</span>
<span class="c1">// ==========================================================================</span>
<span class="cm">/** Start [campbell_obs3] */</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;sensors/CampbellOBS3.h&gt;</span>

<span class="c1">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w">  </span><span class="n">OBS3Power</span><span class="w">          </span><span class="o">=</span><span class="w"> </span><span class="n">sensorPowerPin</span><span class="p">;</span><span class="w">  </span><span class="c1">// Power pin</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">uint8_t</span><span class="w"> </span><span class="n">OBS3NumberReadings</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">uint8_t</span><span class="w"> </span><span class="n">OBS3ADSi2c_addr</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="mh">0x48</span><span class="p">;</span><span class="w">  </span><span class="c1">// The I2C address of the ADS1115 ADC</span>

<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w"> </span><span class="n">OBSLowADSChannel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w">  </span><span class="c1">// ADS channel for *low* range output</span>

<span class="c1">// Campbell OBS 3+ *Low* Range Calibration in Volts</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">float</span><span class="w"> </span><span class="n">OBSLow_A</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.000E+00</span><span class="p">;</span><span class="w">  </span><span class="c1">// &quot;A&quot; value (X^2) [*low* range]</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">float</span><span class="w"> </span><span class="n">OBSLow_B</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">1.000E+00</span><span class="p">;</span><span class="w">  </span><span class="c1">// &quot;B&quot; value (X) [*low* range]</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">float</span><span class="w"> </span><span class="n">OBSLow_C</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.000E+00</span><span class="p">;</span><span class="w">  </span><span class="c1">// &quot;C&quot; value [*low* range]</span>

<span class="c1">// Create a Campbell OBS3+ *low* range sensor object</span>
<span class="n">CampbellOBS3</span><span class="w"> </span><span class="nf">osb3low</span><span class="p">(</span><span class="n">OBS3Power</span><span class="p">,</span><span class="w"> </span><span class="n">OBSLowADSChannel</span><span class="p">,</span><span class="w"> </span><span class="n">OBSLow_A</span><span class="p">,</span><span class="w"> </span><span class="n">OBSLow_B</span><span class="p">,</span><span class="w"> </span><span class="n">OBSLow_C</span><span class="p">,</span>
<span class="w">                     </span><span class="n">OBS3ADSi2c_addr</span><span class="p">,</span><span class="w"> </span><span class="n">OBS3NumberReadings</span><span class="p">);</span>

<span class="c1">// Create turbidity and voltage variable pointers for the low range  of the OBS3</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">obs3TurbLow</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">CampbellOBS3_Turbidity</span><span class="p">(</span>
<span class="w">    </span><span class="o">&amp;</span><span class="n">osb3low</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;TurbLow&quot;</span><span class="p">);</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">obs3VoltLow</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">CampbellOBS3_Voltage</span><span class="p">(</span>
<span class="w">    </span><span class="o">&amp;</span><span class="n">osb3low</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;TurbLowV&quot;</span><span class="p">);</span>


<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w"> </span><span class="n">OBSHighADSChannel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w">  </span><span class="c1">// ADS channel for *high* range output</span>

<span class="c1">// Campbell OBS 3+ *High* Range Calibration in Volts</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">float</span><span class="w"> </span><span class="n">OBSHigh_A</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.000E+00</span><span class="p">;</span><span class="w">  </span><span class="c1">// &quot;A&quot; value (X^2) [*high* range]</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">float</span><span class="w"> </span><span class="n">OBSHigh_B</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">1.000E+00</span><span class="p">;</span><span class="w">  </span><span class="c1">// &quot;B&quot; value (X) [*high* range]</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">float</span><span class="w"> </span><span class="n">OBSHigh_C</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.000E+00</span><span class="p">;</span><span class="w">  </span><span class="c1">// &quot;C&quot; value [*high* range]</span>

<span class="c1">// Create a Campbell OBS3+ *high* range sensor object</span>
<span class="n">CampbellOBS3</span><span class="w"> </span><span class="nf">osb3high</span><span class="p">(</span><span class="n">OBS3Power</span><span class="p">,</span><span class="w"> </span><span class="n">OBSHighADSChannel</span><span class="p">,</span><span class="w"> </span><span class="n">OBSHigh_A</span><span class="p">,</span><span class="w"> </span><span class="n">OBSHigh_B</span><span class="p">,</span>
<span class="w">                      </span><span class="n">OBSHigh_C</span><span class="p">,</span><span class="w"> </span><span class="n">OBS3ADSi2c_addr</span><span class="p">,</span><span class="w"> </span><span class="n">OBS3NumberReadings</span><span class="p">);</span>

<span class="c1">// Create turbidity and voltage variable pointers for the high range of the OBS3</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">obs3TurbHigh</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">CampbellOBS3_Turbidity</span><span class="p">(</span>
<span class="w">    </span><span class="o">&amp;</span><span class="n">osb3high</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;TurbHigh&quot;</span><span class="p">);</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">obs3VoltHigh</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">CampbellOBS3_Voltage</span><span class="p">(</span>
<span class="w">    </span><span class="o">&amp;</span><span class="n">osb3high</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;TurbHighV&quot;</span><span class="p">);</span>
<span class="cm">/** End [campbell_obs3] */</span>
<span class="cp">#endif</span>

<span class="cp">#if defined BUILD_SENSOR_CAMPBELL_RAIN_VUE10</span>
<span class="c1">// ==========================================================================</span>
<span class="c1">//  Campbell RainVUE Precipitation Sensor</span>
<span class="c1">// ==========================================================================</span>
<span class="cm">/** Start [campbell_rain_vue10] */</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;sensors/CampbellRainVUE10.h&gt;</span>

<span class="c1">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">char</span><span class="o">*</span><span class="w">  </span><span class="n">RainVUESDI12address</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;0&quot;</span><span class="p">;</span><span class="w">  </span><span class="c1">// The SDI-12 Address of the RainVUE10</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w"> </span><span class="n">RainVUEPower</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w">   </span><span class="c1">// Power pin, for continous power</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w"> </span><span class="n">RainVUEData</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="p">;</span><span class="w">  </span><span class="c1">// The SDI-12 data pin, for continuous power</span>
<span class="c1">// NOTE:  you should NOT take more than one readings.  THe sensor counts</span>
<span class="c1">// cummulative tips and rain accumulation since the last measurement.</span>

<span class="c1">// Create a Campbell RainVUE10 sensor object</span>
<span class="n">CampbellRainVUE10</span><span class="w"> </span><span class="nf">rainvue</span><span class="p">(</span><span class="o">*</span><span class="n">RainVUESDI12address</span><span class="p">,</span><span class="w"> </span><span class="n">RainVUEPower</span><span class="p">,</span><span class="w"> </span><span class="n">RainVUEData</span><span class="p">);</span>

<span class="c1">// Create turbidity, temperature, and error variable pointers for the RainVUE10</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">rainvuePrecipitation</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">CampbellRainVUE10_Precipitation</span><span class="p">(</span>
<span class="w">    </span><span class="o">&amp;</span><span class="n">rainvue</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">rainvueTips</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">CampbellRainVUE10_Tips</span><span class="p">(</span>
<span class="w">    </span><span class="o">&amp;</span><span class="n">rainvue</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">rainvueRainRateAve</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">CampbellRainVUE10_RainRateAve</span><span class="p">(</span>
<span class="w">    </span><span class="o">&amp;</span><span class="n">rainvue</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">rainvueRainRateMax</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">CampbellRainVUE10_RainRateMax</span><span class="p">(</span>
<span class="w">    </span><span class="o">&amp;</span><span class="n">rainvue</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="cm">/** End [campbell_rain_vue10] */</span>
<span class="cp">#endif</span>


<span class="cp">#if defined BUILD_SENSOR_DECAGON_CTD</span>
<span class="c1">// ==========================================================================</span>
<span class="c1">//  Decagon CTD-10 Conductivity, Temperature, and Depth Sensor</span>
<span class="c1">// ==========================================================================</span>
<span class="cm">/** Start [decagon_ctd] */</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;sensors/DecagonCTD.h&gt;</span>

<span class="c1">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">char</span><span class="o">*</span><span class="w">   </span><span class="n">CTDSDI12address</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;1&quot;</span><span class="p">;</span><span class="w">  </span><span class="c1">// The SDI-12 Address of the CTD</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">uint8_t</span><span class="w"> </span><span class="n">CTDNumberReadings</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">6</span><span class="p">;</span><span class="w">    </span><span class="c1">// The number of readings to average</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w">  </span><span class="n">CTDPower</span><span class="w">          </span><span class="o">=</span><span class="w"> </span><span class="n">sensorPowerPin</span><span class="p">;</span><span class="w">  </span><span class="c1">// Power pin</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w">  </span><span class="n">CTDData</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mi">7</span><span class="p">;</span><span class="w">               </span><span class="c1">// The SDI-12 data pin</span>

<span class="c1">// Create a Decagon CTD sensor object</span>
<span class="n">DecagonCTD</span><span class="w"> </span><span class="nf">ctd</span><span class="p">(</span><span class="o">*</span><span class="n">CTDSDI12address</span><span class="p">,</span><span class="w"> </span><span class="n">CTDPower</span><span class="p">,</span><span class="w"> </span><span class="n">CTDData</span><span class="p">,</span><span class="w"> </span><span class="n">CTDNumberReadings</span><span class="p">);</span>

<span class="c1">// Create conductivity, temperature, and depth variable pointers for the CTD</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">ctdCond</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">DecagonCTD_Cond</span><span class="p">(</span><span class="o">&amp;</span><span class="n">ctd</span><span class="p">,</span>
<span class="w">                                        </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">ctdTemp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">DecagonCTD_Temp</span><span class="p">(</span><span class="o">&amp;</span><span class="n">ctd</span><span class="p">,</span>
<span class="w">                                        </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">ctdDepth</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">DecagonCTD_Depth</span><span class="p">(</span><span class="o">&amp;</span><span class="n">ctd</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="cm">/** End [decagon_ctd] */</span>
<span class="cp">#endif</span>


<span class="cp">#if defined BUILD_SENSOR_DECAGON_ES2</span>
<span class="c1">// ==========================================================================</span>
<span class="c1">//  Decagon ES2 Conductivity and Temperature Sensor</span>
<span class="c1">// ==========================================================================</span>
<span class="cm">/** Start [decagon_es2] */</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;sensors/DecagonES2.h&gt;</span>

<span class="c1">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">char</span><span class="o">*</span><span class="w">   </span><span class="n">ES2SDI12address</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;3&quot;</span><span class="p">;</span><span class="w">  </span><span class="c1">// The SDI-12 Address of the ES2</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w">  </span><span class="n">ES2Power</span><span class="w">          </span><span class="o">=</span><span class="w"> </span><span class="n">sensorPowerPin</span><span class="p">;</span><span class="w">  </span><span class="c1">// Power pin</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w">  </span><span class="n">ES2Data</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mi">7</span><span class="p">;</span><span class="w">               </span><span class="c1">// The SDI-12 data pin</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">uint8_t</span><span class="w"> </span><span class="n">ES2NumberReadings</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="p">;</span>

<span class="c1">// Create a Decagon ES2 sensor object</span>
<span class="n">DecagonES2</span><span class="w"> </span><span class="nf">es2</span><span class="p">(</span><span class="o">*</span><span class="n">ES2SDI12address</span><span class="p">,</span><span class="w"> </span><span class="n">ES2Power</span><span class="p">,</span><span class="w"> </span><span class="n">ES2Data</span><span class="p">,</span><span class="w"> </span><span class="n">ES2NumberReadings</span><span class="p">);</span>

<span class="c1">// Create specific conductance and temperature variable pointers for the ES2</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">es2Cond</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">DecagonES2_Cond</span><span class="p">(</span><span class="o">&amp;</span><span class="n">es2</span><span class="p">,</span>
<span class="w">                                        </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">es2Temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">DecagonES2_Temp</span><span class="p">(</span><span class="o">&amp;</span><span class="n">es2</span><span class="p">,</span>
<span class="w">                                        </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="cm">/** End [decagon_es2] */</span>
<span class="cp">#endif</span>


<span class="cp">#if defined BUILD_SENSOR_EVERLIGHT_ALSPT19</span>
<span class="c1">// ==========================================================================</span>
<span class="c1">//  Everlight ALS-PT19 Ambient Light Sensor</span>
<span class="c1">// ==========================================================================</span>
<span class="cm">/** Start [everlight_alspt19] */</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;sensors/EverlightALSPT19.h&gt;</span>

<span class="c1">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w">  </span><span class="n">alsPower</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="n">sensorPowerPin</span><span class="p">;</span><span class="w">  </span><span class="c1">// Power pin</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w">  </span><span class="n">alsData</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="n">A4</span><span class="p">;</span><span class="w">              </span><span class="c1">// The ALS PT-19 data pin</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w">  </span><span class="n">alsSupply</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="mf">3.3</span><span class="p">;</span><span class="w">  </span><span class="c1">// The ALS PT-19 supply power voltage</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w">  </span><span class="n">alsResistance</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span><span class="w">   </span><span class="c1">// The ALS PT-19 loading resistance (in kΩ)</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">uint8_t</span><span class="w"> </span><span class="n">alsNumberReadings</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span>

<span class="c1">// Create a Everlight ALS-PT19 sensor object</span>
<span class="n">EverlightALSPT19</span><span class="w"> </span><span class="nf">alsPt19</span><span class="p">(</span><span class="n">alsPower</span><span class="p">,</span><span class="w"> </span><span class="n">alsData</span><span class="p">,</span><span class="w"> </span><span class="n">alsSupply</span><span class="p">,</span><span class="w"> </span><span class="n">alsResistance</span><span class="p">,</span>
<span class="w">                         </span><span class="n">alsNumberReadings</span><span class="p">);</span>

<span class="c1">// For an EnviroDIY Mayfly, you can use the abbreviated version</span>
<span class="c1">// EverlightALSPT19 alsPt19(alsNumberReadings);</span>

<span class="c1">// Create voltage, current, and illuminance variable pointers for the ALS-PT19</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">alsPt19Volt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">EverlightALSPT19_Voltage</span><span class="p">(</span>
<span class="w">    </span><span class="o">&amp;</span><span class="n">alsPt19</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">alsPt19Current</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">EverlightALSPT19_Current</span><span class="p">(</span>
<span class="w">    </span><span class="o">&amp;</span><span class="n">alsPt19</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">alsPt19Lux</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">EverlightALSPT19_Illuminance</span><span class="p">(</span>
<span class="w">    </span><span class="o">&amp;</span><span class="n">alsPt19</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="cm">/** End [everlight_alspt19] */</span>
<span class="cp">#endif</span>


<span class="cp">#if defined BUILD_SENSOR_TIADS1X15</span>
<span class="c1">// ==========================================================================</span>
<span class="c1">//  External Voltage via TI ADS1115</span>
<span class="c1">// ==========================================================================</span>
<span class="cm">/** Start [tiads1x15] */</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;sensors/TIADS1x15.h&gt;</span>

<span class="c1">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w">  </span><span class="n">ADSPower</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="n">sensorPowerPin</span><span class="p">;</span><span class="w">  </span><span class="c1">// Power pin</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w">  </span><span class="n">ADSChannel</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span><span class="w">               </span><span class="c1">// The ADS channel of interest</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">float</span><span class="w">   </span><span class="n">dividerGain</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span><span class="w">  </span><span class="c1">//  Gain setting if using a voltage divider</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">uint8_t</span><span class="w"> </span><span class="n">evADSi2c_addr</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mh">0x48</span><span class="p">;</span><span class="w">  </span><span class="c1">// The I2C address of the ADS1115 ADC</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">uint8_t</span><span class="w"> </span><span class="n">VoltReadsToAvg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w">     </span><span class="c1">// Only read one sample</span>

<span class="c1">// Create an External Voltage sensor object</span>
<span class="n">TIADS1x15</span><span class="w"> </span><span class="nf">ads1x15</span><span class="p">(</span><span class="n">ADSPower</span><span class="p">,</span><span class="w"> </span><span class="n">ADSChannel</span><span class="p">,</span><span class="w"> </span><span class="n">dividerGain</span><span class="p">,</span><span class="w"> </span><span class="n">evADSi2c_addr</span><span class="p">,</span>
<span class="w">                  </span><span class="n">VoltReadsToAvg</span><span class="p">);</span>

<span class="c1">// Create a voltage variable pointer</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">ads1x15Volt</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">TIADS1x15_Voltage</span><span class="p">(</span><span class="o">&amp;</span><span class="n">ads1x15</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="cm">/** End [tiads1x15] */</span>
<span class="cp">#endif</span>


<span class="cp">#if defined BUILD_SENSOR_FREESCALE_MPL115A2</span>
<span class="c1">// ==========================================================================</span>
<span class="c1">//  Freescale Semiconductor MPL115A2 Barometer</span>
<span class="c1">// ==========================================================================</span>
<span class="cm">/** Start [freescale_mpl115a2] */</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;sensors/FreescaleMPL115A2.h&gt;</span>

<span class="c1">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w">  </span><span class="n">MPLPower</span><span class="w">              </span><span class="o">=</span><span class="w"> </span><span class="n">sensorPowerPin</span><span class="p">;</span><span class="w">  </span><span class="c1">// Power pin</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">uint8_t</span><span class="w"> </span><span class="n">MPL115A2ReadingsToAvg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>

<span class="c1">// Create a FreescaleMPL115A2 barometer sensor object</span>
<span class="n">FreescaleMPL115A2</span><span class="w"> </span><span class="nf">mpl115a2</span><span class="p">(</span><span class="n">MPLPower</span><span class="p">,</span><span class="w"> </span><span class="n">MPL115A2ReadingsToAvg</span><span class="p">);</span>

<span class="c1">// Create pressure and temperature variable pointers for the MPL</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">mplPress</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">FreescaleMPL115A2_Pressure</span><span class="p">(</span>
<span class="w">    </span><span class="o">&amp;</span><span class="n">mpl115a2</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">mplTemp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">FreescaleMPL115A2_Temp</span><span class="p">(</span>
<span class="w">    </span><span class="o">&amp;</span><span class="n">mpl115a2</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="cm">/** End [freescale_mpl115a2] */</span>
<span class="cp">#endif</span>


<span class="cp">#if defined BUILD_SENSOR_IN_SITU_RDO</span>
<span class="c1">// ==========================================================================</span>
<span class="c1">//  In-Situ RDO PRO-X Rugged Dissolved Oxygen Probe</span>
<span class="c1">// ==========================================================================</span>
<span class="cm">/** Start [in_situ_rdo] */</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;sensors/InSituRDO.h&gt;</span>

<span class="c1">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">char</span><span class="o">*</span><span class="w">   </span><span class="n">RDOSDI12address</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;5&quot;</span><span class="p">;</span><span class="w">  </span><span class="c1">// The SDI-12 Address of the RDO PRO-X</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w">  </span><span class="n">RDOPower</span><span class="w">          </span><span class="o">=</span><span class="w"> </span><span class="n">sensorPowerPin</span><span class="p">;</span><span class="w">  </span><span class="c1">// Power pin</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w">  </span><span class="n">RDOData</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mi">7</span><span class="p">;</span><span class="w">               </span><span class="c1">// The SDI-12 data pin</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">uint8_t</span><span class="w"> </span><span class="n">RDONumberReadings</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span>

<span class="c1">// Create an In-Situ RDO PRO-X dissolved oxygen sensor object</span>
<span class="n">InSituRDO</span><span class="w"> </span><span class="nf">insituRDO</span><span class="p">(</span><span class="o">*</span><span class="n">RDOSDI12address</span><span class="p">,</span><span class="w"> </span><span class="n">RDOPower</span><span class="p">,</span><span class="w"> </span><span class="n">RDOData</span><span class="p">,</span><span class="w"> </span><span class="n">RDONumberReadings</span><span class="p">);</span>

<span class="c1">// Create dissolved oxygen percent, dissolved oxygen concentration, temperature,</span>
<span class="c1">// and oxygen partial pressure variable pointers for the RDO PRO-X</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">rdoDOpct</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">InSituRDO_DOpct</span><span class="p">(</span><span class="o">&amp;</span><span class="n">insituRDO</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">rdoDOmgL</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">InSituRDO_DOmgL</span><span class="p">(</span><span class="o">&amp;</span><span class="n">insituRDO</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">rdoTemp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">InSituRDO_Temp</span><span class="p">(</span><span class="o">&amp;</span><span class="n">insituRDO</span><span class="p">,</span>
<span class="w">                                       </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">rdoO2pp</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">InSituRDO_Pressure</span><span class="p">(</span><span class="o">&amp;</span><span class="n">insituRDO</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="cm">/** End [in_situ_rdo] */</span>
<span class="cp">#endif</span>


<span class="cp">#if defined BUILD_SENSOR_IN_SITU_TROLL_SDI12A</span>
<span class="c1">// ==========================================================================</span>
<span class="c1">//    In-Situ Aqua/Level TROLL Pressure, Temperature, and Depth Sensor</span>
<span class="c1">// ==========================================================================</span>
<span class="cm">/** Start [in_situ_troll_sdi12a] */</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;sensors/InSituTrollSdi12a.h&gt;</span>

<span class="c1">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">char</span><span class="o">*</span><span class="w"> </span><span class="n">TROLLSDI12address</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="s">&quot;1&quot;</span><span class="p">;</span><span class="w">  </span><span class="c1">// The SDI-12 Address of the Aqua/Level TROLL</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w"> </span><span class="n">TROLLPower</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="n">sensorPowerPin</span><span class="p">;</span><span class="w">  </span><span class="c1">// Pin to switch power on and off (-1 if unconnected)</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w">  </span><span class="n">TROLLData</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mi">7</span><span class="p">;</span><span class="w">  </span><span class="c1">// The SDI-12 data pin</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">uint8_t</span><span class="w"> </span><span class="n">TROLLNumberReadings</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span><span class="w">  </span><span class="c1">// The number of readings to average</span>

<span class="c1">// Create an In-Situ TROLL sensor object</span>
<span class="n">InSituTrollSdi12a</span><span class="w"> </span><span class="nf">insituTROLL</span><span class="p">(</span><span class="o">*</span><span class="n">TROLLSDI12address</span><span class="p">,</span><span class="w"> </span><span class="n">TROLLPower</span><span class="p">,</span><span class="w"> </span><span class="n">TROLLData</span><span class="p">,</span>
<span class="w">                              </span><span class="n">TROLLNumberReadings</span><span class="p">);</span>

<span class="c1">// Create pressure, temperature, and depth variable pointers for the TROLL</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">trollPressure</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">InSituTrollSdi12a_Pressure</span><span class="p">(</span>
<span class="w">    </span><span class="o">&amp;</span><span class="n">insituTROLL</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">trollTemp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">InSituTrollSdi12a_Temp</span><span class="p">(</span>
<span class="w">    </span><span class="o">&amp;</span><span class="n">insituTROLL</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">trollDepth</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">InSituTrollSdi12a_Depth</span><span class="p">(</span>
<span class="w">    </span><span class="o">&amp;</span><span class="n">insituTROLL</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="cm">/** End [in_situ_troll_sdi12a] */</span>
<span class="cp">#endif</span>


<span class="cp">#if defined BUILD_SENSOR_KELLER_ACCULEVEL</span>
<span class="c1">// ==========================================================================</span>
<span class="c1">//  Keller Acculevel High Accuracy Submersible Level Transmitter</span>
<span class="c1">// ==========================================================================</span>
<span class="cm">/** Start [keller_acculevel] */</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;sensors/KellerAcculevel.h&gt;</span>

<span class="c1">// NOTE: Extra hardware and software serial ports are created in the &quot;Settings</span>
<span class="c1">// for Additional Serial Ports&quot; section</span>

<span class="c1">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span>
<span class="kr">byte</span><span class="w"> </span><span class="n">acculevelModbusAddress</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mh">0x01</span><span class="p">;</span><span class="w">  </span><span class="c1">// The modbus address of KellerAcculevel</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w">  </span><span class="n">acculevelPower</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">A3</span><span class="p">;</span><span class="w">    </span><span class="c1">// Acculevel Sensor power pin</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w">  </span><span class="n">alAdapterPower</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sensorPowerPin</span><span class="p">;</span><span class="w">  </span><span class="c1">// RS485 adapter power pin</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w">  </span><span class="n">al485EnablePin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w">              </span><span class="c1">// Adapter RE/DE pin</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">uint8_t</span><span class="w"> </span><span class="n">acculevelNumberReadings</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="p">;</span>
<span class="c1">// The manufacturer recommends taking and averaging a few readings</span>

<span class="c1">// Create a Keller Acculevel sensor object</span>
<span class="n">KellerAcculevel</span><span class="w"> </span><span class="nf">acculevel</span><span class="p">(</span><span class="n">acculevelModbusAddress</span><span class="p">,</span><span class="w"> </span><span class="n">modbusSerial</span><span class="p">,</span><span class="w"> </span><span class="n">alAdapterPower</span><span class="p">,</span>
<span class="w">                          </span><span class="n">acculevelPower</span><span class="p">,</span><span class="w"> </span><span class="n">al485EnablePin</span><span class="p">,</span>
<span class="w">                          </span><span class="n">acculevelNumberReadings</span><span class="p">);</span>

<span class="c1">// Create pressure, temperature, and height variable pointers for the Acculevel</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">acculevPress</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">KellerAcculevel_Pressure</span><span class="p">(</span>
<span class="w">    </span><span class="o">&amp;</span><span class="n">acculevel</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">acculevTemp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">KellerAcculevel_Temp</span><span class="p">(</span>
<span class="w">    </span><span class="o">&amp;</span><span class="n">acculevel</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">acculevHeight</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">KellerAcculevel_Height</span><span class="p">(</span>
<span class="w">    </span><span class="o">&amp;</span><span class="n">acculevel</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="cm">/** End [keller_acculevel] */</span>
<span class="cp">#endif</span>


<span class="cp">#if defined BUILD_SENSOR_KELLER_NANOLEVEL</span>
<span class="c1">// ==========================================================================</span>
<span class="c1">//  Keller Nanolevel High Accuracy Submersible Level Transmitter</span>
<span class="c1">// ==========================================================================</span>
<span class="cm">/** Start [keller_nanolevel] */</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;sensors/KellerNanolevel.h&gt;</span>

<span class="c1">// NOTE: Extra hardware and software serial ports are created in the &quot;Settings</span>
<span class="c1">// for Additional Serial Ports&quot; section</span>

<span class="c1">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span>
<span class="kr">byte</span><span class="w"> </span><span class="n">nanolevelModbusAddress</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mh">0x01</span><span class="p">;</span><span class="w">  </span><span class="c1">// The modbus address of KellerNanolevel</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w">  </span><span class="n">nlAdapterPower</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sensorPowerPin</span><span class="p">;</span><span class="w">  </span><span class="c1">// RS485 adapter power pin</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w">  </span><span class="n">nanolevelPower</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">A3</span><span class="p">;</span><span class="w">              </span><span class="c1">// Sensor power pin</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w">  </span><span class="n">nl485EnablePin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w">              </span><span class="c1">// Adapter RE/DE pin</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">uint8_t</span><span class="w"> </span><span class="n">nanolevelNumberReadings</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="p">;</span>
<span class="c1">// The manufacturer recommends taking and averaging a few readings</span>

<span class="c1">// Create a Keller Nanolevel sensor object</span>
<span class="n">KellerNanolevel</span><span class="w"> </span><span class="nf">nanolevel</span><span class="p">(</span><span class="n">nanolevelModbusAddress</span><span class="p">,</span><span class="w"> </span><span class="n">modbusSerial</span><span class="p">,</span><span class="w"> </span><span class="n">nlAdapterPower</span><span class="p">,</span>
<span class="w">                          </span><span class="n">nanolevelPower</span><span class="p">,</span><span class="w"> </span><span class="n">nl485EnablePin</span><span class="p">,</span>
<span class="w">                          </span><span class="n">nanolevelNumberReadings</span><span class="p">);</span>

<span class="c1">// Create pressure, temperature, and height variable pointers for the Nanolevel</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">nanolevPress</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">KellerNanolevel_Pressure</span><span class="p">(</span>
<span class="w">    </span><span class="o">&amp;</span><span class="n">nanolevel</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">nanolevTemp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">KellerNanolevel_Temp</span><span class="p">(</span>
<span class="w">    </span><span class="o">&amp;</span><span class="n">nanolevel</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">nanolevHeight</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">KellerNanolevel_Height</span><span class="p">(</span>
<span class="w">    </span><span class="o">&amp;</span><span class="n">nanolevel</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="cm">/** End [keller_nanolevel] */</span>
<span class="cp">#endif</span>


<span class="cp">#if defined BUILD_SENSOR_MAX_BOTIX_SONAR</span>
<span class="c1">// ==========================================================================</span>
<span class="c1">//  Maxbotix HRXL Ultrasonic Range Finder</span>
<span class="c1">// ==========================================================================</span>
<span class="cm">/** Start [max_botix_sonar] */</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;sensors/MaxBotixSonar.h&gt;</span>

<span class="c1">// A Maxbotix sonar with the trigger pin disconnect CANNOT share the serial port</span>
<span class="c1">// A Maxbotix sonar using the trigger may be able to share but YMMV</span>

<span class="c1">// NOTE: Extra hardware and software serial ports are created in the &quot;Settings</span>
<span class="c1">// for Additional Serial Ports&quot; section</span>

<span class="c1">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w"> </span><span class="n">SonarPower</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="n">sensorPowerPin</span><span class="p">;</span><span class="w">  </span><span class="c1">// Excite (power) pin</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w"> </span><span class="n">Sonar1Trigger</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w">              </span><span class="c1">// Trigger pin</span>
<span class="c1">// Trigger should be a *unique* negative number if unconnected</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">uint8_t</span><span class="w"> </span><span class="n">sonar1NumberReadings</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span><span class="w">  </span><span class="c1">// The number of readings to average</span>

<span class="c1">// Create a MaxBotix Sonar sensor object</span>
<span class="n">MaxBotixSonar</span><span class="w"> </span><span class="nf">sonar1</span><span class="p">(</span><span class="n">sonarSerial</span><span class="p">,</span><span class="w"> </span><span class="n">SonarPower</span><span class="p">,</span><span class="w"> </span><span class="n">Sonar1Trigger</span><span class="p">,</span>
<span class="w">                     </span><span class="n">sonar1NumberReadings</span><span class="p">);</span>

<span class="c1">// Create an ultrasonic range variable pointer</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">sonar1Range</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">MaxBotixSonar_Range</span><span class="p">(</span><span class="o">&amp;</span><span class="n">sonar1</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="cm">/** End [max_botix_sonar] */</span>
<span class="cp">#endif</span>


<span class="cp">#if defined(BUILD_SENSOR_MAXIM_DS18) || \</span>
<span class="cp">    defined(BUILD_SENSOR_ANALOG_ELEC_CONDUCTIVITY)</span>
<span class="c1">// ==========================================================================</span>
<span class="c1">//  Maxim DS18 One Wire Temperature Sensor</span>
<span class="c1">// ==========================================================================</span>
<span class="cm">/** Start [maxim_ds18] */</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;sensors/MaximDS18.h&gt;</span>

<span class="c1">// OneWire Address [array of 8 hex characters]</span>
<span class="c1">// If only using a single sensor on the OneWire bus, you may omit the address</span>
<span class="n">DeviceAddress</span><span class="w"> </span><span class="n">OneWireAddress1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="mh">0x28</span><span class="p">,</span><span class="w"> </span><span class="mh">0xFF</span><span class="p">,</span><span class="w"> </span><span class="mh">0xBD</span><span class="p">,</span><span class="w"> </span><span class="mh">0xBA</span><span class="p">,</span>
<span class="w">                                 </span><span class="mh">0x81</span><span class="p">,</span><span class="w"> </span><span class="mh">0x16</span><span class="p">,</span><span class="w"> </span><span class="mh">0x03</span><span class="p">,</span><span class="w"> </span><span class="mh">0x0C</span><span class="p">};</span>
<span class="c1">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w"> </span><span class="n">OneWirePower</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="n">sensorPowerPin</span><span class="p">;</span><span class="w">  </span><span class="c1">// Power pin</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w"> </span><span class="n">OneWireBus</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="n">A0</span><span class="p">;</span><span class="w">              </span><span class="c1">// OneWire Bus Pin</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w"> </span><span class="n">ds18NumberReadings</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span>

<span class="c1">// Create a Maxim DS18 sensor objects (use this form for a known address)</span>
<span class="n">MaximDS18</span><span class="w"> </span><span class="nf">ds18</span><span class="p">(</span><span class="n">OneWireAddress1</span><span class="p">,</span><span class="w"> </span><span class="n">OneWirePower</span><span class="p">,</span><span class="w"> </span><span class="n">OneWireBus</span><span class="p">,</span><span class="w"> </span><span class="n">ds18NumberReadings</span><span class="p">);</span>

<span class="c1">// Create a Maxim DS18 sensor object (use this form for a single sensor on bus</span>
<span class="c1">// with an unknown address)</span>
<span class="c1">// MaximDS18 ds18(OneWirePower, OneWireBus);</span>

<span class="c1">// Create a temperature variable pointer for the DS18</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">ds18Temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">MaximDS18_Temp</span><span class="p">(</span><span class="o">&amp;</span><span class="n">ds18</span><span class="p">,</span>
<span class="w">                                        </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="cm">/** End [maxim_ds18] */</span>
<span class="cp">#endif</span>


<span class="cp">#if defined BUILD_SENSOR_MEA_SPEC_MS5803</span>
<span class="c1">// ==========================================================================</span>
<span class="c1">//  Measurement Specialties MS5803-14BA pressure sensor</span>
<span class="c1">// ==========================================================================</span>
<span class="cm">/** Start [mea_spec_ms5803] */</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;sensors/MeaSpecMS5803.h&gt;</span>

<span class="c1">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w">  </span><span class="n">MS5803Power</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sensorPowerPin</span><span class="p">;</span><span class="w">  </span><span class="c1">// Power pin</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">uint8_t</span><span class="w"> </span><span class="n">MS5803i2c_addr</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="mh">0x76</span><span class="p">;</span><span class="w">  </span><span class="c1">// The MS5803 can be addressed either as 0x76 (default) or 0x77</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int16_t</span><span class="w"> </span><span class="n">MS5803maxPressure</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="mi">14</span><span class="p">;</span><span class="w">  </span><span class="c1">// The maximum pressure measurable by the specific MS5803 model</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">uint8_t</span><span class="w"> </span><span class="n">MS5803ReadingsToAvg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>

<span class="c1">// Create a MeaSpec MS5803 pressure and temperature sensor object</span>
<span class="n">MeaSpecMS5803</span><span class="w"> </span><span class="nf">ms5803</span><span class="p">(</span><span class="n">MS5803Power</span><span class="p">,</span><span class="w"> </span><span class="n">MS5803i2c_addr</span><span class="p">,</span><span class="w"> </span><span class="n">MS5803maxPressure</span><span class="p">,</span>
<span class="w">                     </span><span class="n">MS5803ReadingsToAvg</span><span class="p">);</span>

<span class="c1">// Create pressure and temperature variable pointers for the MS5803</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">ms5803Press</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">MeaSpecMS5803_Pressure</span><span class="p">(</span><span class="o">&amp;</span><span class="n">ms5803</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">ms5803Temp</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">MeaSpecMS5803_Temp</span><span class="p">(</span><span class="o">&amp;</span><span class="n">ms5803</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="cm">/** End [mea_spec_ms5803] */</span>
<span class="cp">#endif</span>


<span class="cp">#if defined BUILD_SENSOR_DECAGON_5TM</span>
<span class="c1">// ==========================================================================</span>
<span class="c1">//  Meter ECH2O Soil Moisture Sensor</span>
<span class="c1">// ==========================================================================</span>
<span class="cm">/** Start [decagon_5tm] */</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;sensors/Decagon5TM.h&gt;</span>

<span class="c1">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">char</span><span class="o">*</span><span class="w">  </span><span class="n">TMSDI12address</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;2&quot;</span><span class="p">;</span><span class="w">             </span><span class="c1">// The SDI-12 Address of the 5-TM</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w"> </span><span class="n">TMPower</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="n">sensorPowerPin</span><span class="p">;</span><span class="w">  </span><span class="c1">// Power pin</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w"> </span><span class="n">TMData</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="mi">7</span><span class="p">;</span><span class="w">               </span><span class="c1">// The SDI-12 data pin</span>

<span class="c1">// Create a Decagon 5TM sensor object</span>
<span class="n">Decagon5TM</span><span class="w"> </span><span class="nf">fivetm</span><span class="p">(</span><span class="o">*</span><span class="n">TMSDI12address</span><span class="p">,</span><span class="w"> </span><span class="n">TMPower</span><span class="p">,</span><span class="w"> </span><span class="n">TMData</span><span class="p">);</span>

<span class="c1">// Create the matric potential, volumetric water content, and temperature</span>
<span class="c1">// variable pointers for the 5TM</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">fivetmEa</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Decagon5TM_Ea</span><span class="p">(</span><span class="o">&amp;</span><span class="n">fivetm</span><span class="p">,</span>
<span class="w">                                       </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">fivetmVWC</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">Decagon5TM_VWC</span><span class="p">(</span><span class="o">&amp;</span><span class="n">fivetm</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">fivetmTemp</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">Decagon5TM_Temp</span><span class="p">(</span><span class="o">&amp;</span><span class="n">fivetm</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="cm">/** End [decagon_5tm] */</span>
<span class="cp">#endif</span>


<span class="cp">#if defined BUILD_SENSOR_METER_HYDROS21</span>
<span class="c1">// ==========================================================================</span>
<span class="c1">//  Meter Hydros 21 Conductivity, Temperature, and Depth Sensor</span>
<span class="c1">// ==========================================================================</span>
<span class="cm">/** Start [meter_hydros21] */</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;sensors/MeterHydros21.h&gt;</span>

<span class="c1">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">char</span><span class="o">*</span><span class="w">   </span><span class="n">hydros21SDI12address</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;1&quot;</span><span class="p">;</span><span class="w">  </span><span class="c1">// The SDI-12 Address of the Hydros21</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">uint8_t</span><span class="w"> </span><span class="n">hydros21NumberReadings</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">6</span><span class="p">;</span><span class="w">  </span><span class="c1">// The number of readings to average</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w">  </span><span class="n">hydros21Power</span><span class="w">          </span><span class="o">=</span><span class="w"> </span><span class="n">sensorPowerPin</span><span class="p">;</span><span class="w">  </span><span class="c1">// Power pin</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w">  </span><span class="n">hydros21Data</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mi">7</span><span class="p">;</span><span class="w">               </span><span class="c1">// The SDI-12 data pin</span>

<span class="c1">// Create a Decagon Hydros21 sensor object</span>
<span class="n">MeterHydros21</span><span class="w"> </span><span class="nf">hydros21</span><span class="p">(</span><span class="o">*</span><span class="n">hydros21SDI12address</span><span class="p">,</span><span class="w"> </span><span class="n">hydros21Power</span><span class="p">,</span><span class="w"> </span><span class="n">hydros21Data</span><span class="p">,</span>
<span class="w">                       </span><span class="n">hydros21NumberReadings</span><span class="p">);</span>

<span class="c1">// Create conductivity, temperature, and depth variable pointers for the</span>
<span class="c1">// Hydros21</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">hydros21Cond</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">MeterHydros21_Cond</span><span class="p">(</span><span class="o">&amp;</span><span class="n">hydros21</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">hydros21Temp</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">MeterHydros21_Temp</span><span class="p">(</span><span class="o">&amp;</span><span class="n">hydros21</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">hydros21Depth</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">MeterHydros21_Depth</span><span class="p">(</span><span class="o">&amp;</span><span class="n">hydros21</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="cm">/** End [meter_hydros21] */</span>
<span class="cp">#endif</span>


<span class="cp">#if defined BUILD_SENSOR_METER_TEROS11</span>
<span class="c1">// ==========================================================================</span>
<span class="c1">//  Meter Teros 11 Soil Moisture Sensor</span>
<span class="c1">// ==========================================================================</span>
<span class="cm">/** Start [meter_teros11] */</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;sensors/MeterTeros11.h&gt;</span>

<span class="c1">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">char</span><span class="o">*</span><span class="w">   </span><span class="n">teros11SDI12address</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;4&quot;</span><span class="p">;</span><span class="w">  </span><span class="c1">// The SDI-12 Address of the Teros 11</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w">  </span><span class="n">terosPower</span><span class="w">          </span><span class="o">=</span><span class="w"> </span><span class="n">sensorPowerPin</span><span class="p">;</span><span class="w">  </span><span class="c1">// Power pin</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w">  </span><span class="n">terosData</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mi">7</span><span class="p">;</span><span class="w">               </span><span class="c1">// The SDI-12 data pin</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">uint8_t</span><span class="w"> </span><span class="n">teros11NumberReadings</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span><span class="w">  </span><span class="c1">// The number of readings to average</span>

<span class="c1">// Create a METER TEROS 11 sensor object</span>
<span class="n">MeterTeros11</span><span class="w"> </span><span class="nf">teros11</span><span class="p">(</span><span class="o">*</span><span class="n">teros11SDI12address</span><span class="p">,</span><span class="w"> </span><span class="n">terosPower</span><span class="p">,</span><span class="w"> </span><span class="n">terosData</span><span class="p">,</span>
<span class="w">                     </span><span class="n">teros11NumberReadings</span><span class="p">);</span>

<span class="c1">// Create the matric potential, volumetric water content, and temperature</span>
<span class="c1">// variable pointers for the Teros 11</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">teros11Ea</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">MeterTeros11_Ea</span><span class="p">(</span><span class="o">&amp;</span><span class="n">teros11</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">teros11Temp</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">MeterTeros11_Temp</span><span class="p">(</span><span class="o">&amp;</span><span class="n">teros11</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">teros11VWC</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">MeterTeros11_VWC</span><span class="p">(</span><span class="o">&amp;</span><span class="n">teros11</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">teros11Count</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">MeterTeros11_Count</span><span class="p">(</span><span class="o">&amp;</span><span class="n">teros11</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="cm">/** End [meter_teros11] */</span>
<span class="cp">#endif</span>


<span class="cp">#if defined BUILD_SENSOR_PALEO_TERRA_REDOX</span>
<span class="c1">// ==========================================================================</span>
<span class="c1">//  PaleoTerra Redox Sensors</span>
<span class="c1">// ==========================================================================</span>
<span class="cm">/** Start [paleo_terra_redox] */</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;sensors/PaleoTerraRedox.h&gt;</span>

<span class="c1">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span>
<span class="kr">int8_t</span><span class="w">  </span><span class="n">paleoTerraPower</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sensorPowerPin</span><span class="p">;</span><span class="w">  </span><span class="c1">// Power pin</span>
<span class="kr">uint8_t</span><span class="w"> </span><span class="n">paleoI2CAddress</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x68</span><span class="p">;</span><span class="w">  </span><span class="c1">// the I2C address of the redox sensor</span>

<span class="c1">// Create the PaleoTerra sensor object</span>
<span class="cp">#ifdef MS_PALEOTERRA_SOFTWAREWIRE</span>
<span class="n">PaleoTerraRedox</span><span class="w"> </span><span class="nf">ptRedox</span><span class="p">(</span><span class="o">&amp;</span><span class="n">softI2C</span><span class="p">,</span><span class="w"> </span><span class="n">paleoTerraPower</span><span class="p">,</span><span class="w"> </span><span class="n">paleoI2CAddress</span><span class="p">);</span>
<span class="c1">// PaleoTerraRedox ptRedox(paleoTerraPower, softwareSDA, softwareSCL,</span>
<span class="c1">// paleoI2CAddress);</span>
<span class="cp">#else</span>
<span class="n">PaleoTerraRedox</span><span class="w"> </span><span class="nf">ptRedox</span><span class="p">(</span><span class="n">paleoTerraPower</span><span class="p">,</span><span class="w"> </span><span class="n">paleoI2CAddress</span><span class="p">);</span>
<span class="cp">#endif</span>

<span class="c1">// Create the voltage variable for the redox sensor</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">ptVolt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">PaleoTerraRedox_Voltage</span><span class="p">(</span>
<span class="w">    </span><span class="o">&amp;</span><span class="n">ptRedox</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="cm">/** End [paleo_terra_redox] */</span>
<span class="cp">#endif</span>


<span class="cp">#if defined BUILD_SENSOR_RAIN_COUNTER_I2C</span>
<span class="c1">// ==========================================================================</span>
<span class="c1">//  External I2C Rain Tipping Bucket Counter</span>
<span class="c1">// ==========================================================================</span>
<span class="cm">/** Start [rain_counter_i2c] */</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;sensors/RainCounterI2C.h&gt;</span>

<span class="kr">const</span><span class="w"> </span><span class="kr">uint8_t</span><span class="w"> </span><span class="n">RainCounterI2CAddress</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x08</span><span class="p">;</span>
<span class="c1">// I2C Address for EnviroDIY external tip counter; 0x08 by default</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">float</span><span class="w"> </span><span class="n">depthPerTipEvent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.2</span><span class="p">;</span><span class="w">  </span><span class="c1">// rain depth in mm per tip event</span>

<span class="c1">// Create a Rain Counter sensor object</span>
<span class="cp">#ifdef MS_RAIN_SOFTWAREWIRE</span>
<span class="n">RainCounterI2C</span><span class="w"> </span><span class="nf">tbi2c</span><span class="p">(</span><span class="o">&amp;</span><span class="n">softI2C</span><span class="p">,</span><span class="w"> </span><span class="n">RainCounterI2CAddress</span><span class="p">,</span><span class="w"> </span><span class="n">depthPerTipEvent</span><span class="p">);</span>
<span class="c1">// RainCounterI2C tbi2c(softwareSDA, softwareSCL, RainCounterI2CAddress,</span>
<span class="c1">//                      depthPerTipEvent);</span>
<span class="cp">#else</span>
<span class="n">RainCounterI2C</span><span class="w">  </span><span class="nf">tbi2c</span><span class="p">(</span><span class="n">RainCounterI2CAddress</span><span class="p">,</span><span class="w"> </span><span class="n">depthPerTipEvent</span><span class="p">);</span>
<span class="cp">#endif</span>

<span class="c1">// Create number of tips and rain depth variable pointers for the tipping bucket</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">tbi2cTips</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">RainCounterI2C_Tips</span><span class="p">(</span><span class="o">&amp;</span><span class="n">tbi2c</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">tbi2cDepth</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">RainCounterI2C_Depth</span><span class="p">(</span><span class="o">&amp;</span><span class="n">tbi2c</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="cm">/** End [rain_counter_i2c] */</span>
<span class="cp">#endif</span>


<span class="cp">#if defined BUILD_SENSOR_SENSIRION_SHT4X</span>
<span class="c1">// ==========================================================================</span>
<span class="c1">//  Sensirion SHT4X Digital Humidity and Temperature Sensor</span>
<span class="c1">// ==========================================================================</span>
<span class="cm">/** Start [sensirion_sht4x] */</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;sensors/SensirionSHT4x.h&gt;</span>

<span class="c1">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w"> </span><span class="n">SHT4xPower</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="n">sensorPowerPin</span><span class="p">;</span><span class="w">  </span><span class="c1">// Power pin</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">bool</span><span class="w">   </span><span class="n">SHT4xUseHeater</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kr">true</span><span class="p">;</span>

<span class="c1">// Create an Sensirion SHT4X sensor object</span>
<span class="n">SensirionSHT4x</span><span class="w"> </span><span class="nf">sht4x</span><span class="p">(</span><span class="n">SHT4xPower</span><span class="p">,</span><span class="w"> </span><span class="n">SHT4xUseHeater</span><span class="p">);</span>

<span class="c1">// Create humidity and temperature variable pointers for the SHT4X</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">sht4xHumid</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">SensirionSHT4x_Humidity</span><span class="p">(</span><span class="o">&amp;</span><span class="n">sht4x</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">sht4xTemp</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">SensirionSHT4x_Temp</span><span class="p">(</span><span class="o">&amp;</span><span class="n">sht4x</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="cm">/** End [sensirion_sht4x] */</span>
<span class="cp">#endif</span>


<span class="cp">#if defined BUILD_SENSOR_TALLY_COUNTER_I2C</span>
<span class="c1">// ==========================================================================</span>
<span class="c1">//    Tally I2C Event Counter for rain or wind reed-switch sensors</span>
<span class="c1">// ==========================================================================</span>
<span class="cm">/** Start [tally_counter_i2c] */</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;sensors/TallyCounterI2C.h&gt;</span>

<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w"> </span><span class="n">TallyPower</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w">  </span><span class="c1">// Power pin (-1 if continuously powered)</span>
<span class="c1">// NorthernWidget Tally I2CPower is -1 by default because it is often deployed</span>
<span class="c1">// with power always on, but Tally also has a super capacitor that enables it</span>
<span class="c1">// to be self powered between readings/recharge as described at</span>
<span class="c1">// https://github.com/EnviroDIY/Project-Tally</span>

<span class="kr">const</span><span class="w"> </span><span class="kr">uint8_t</span><span class="w"> </span><span class="n">TallyCounterI2CAddress</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x33</span><span class="p">;</span>
<span class="c1">// NorthernWidget Tally I2C address is 0x33 by default</span>

<span class="c1">// Create a Tally Counter sensor object</span>
<span class="n">TallyCounterI2C</span><span class="w"> </span><span class="nf">tallyi2c</span><span class="p">(</span><span class="n">TallyPower</span><span class="p">,</span><span class="w"> </span><span class="n">TallyCounterI2CAddress</span><span class="p">);</span>

<span class="c1">// Create variable pointers for the Tally event counter</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">tallyEvents</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">TallyCounterI2C_Events</span><span class="p">(</span>
<span class="w">    </span><span class="o">&amp;</span><span class="n">tallyi2c</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>

<span class="c1">// For  Wind Speed, create a Calculated Variable that converts, similar to:</span>
<span class="c1">// period = loggingInterval * 60.0;    // in seconds</span>
<span class="c1">// frequency = tallyEventCount/period; // average event frequency in Hz</span>
<span class="c1">// tallyWindSpeed = frequency * 2.5 * 1.60934;  // in km/h</span>
<span class="c1">// 2.5 mph/Hz &amp; 1.60934 kmph/mph and 2.5 mph/Hz conversion factor from</span>
<span class="c1">// web: Inspeed-Version-II-Reed-Switch-Anemometer-Sensor-Only-WS2R</span>
<span class="cm">/** End [tally_counter_i2c] */</span>
<span class="cp">#endif</span>


<span class="cp">#if defined BUILD_SENSOR_TI_INA219</span>
<span class="c1">// ==========================================================================</span>
<span class="c1">//  TI INA219 High Side Current/Voltage Sensor (Current mA, Voltage, Power)</span>
<span class="c1">// ==========================================================================</span>
<span class="cm">/** Start [ti_ina219] */</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;sensors/TIINA219.h&gt;</span>

<span class="c1">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w"> </span><span class="n">INA219Power</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="n">sensorPowerPin</span><span class="p">;</span><span class="w">  </span><span class="c1">// Power pin</span>
<span class="kr">uint8_t</span><span class="w">      </span><span class="n">INA219i2c_addr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x40</span><span class="p">;</span><span class="w">            </span><span class="c1">// 1000000 (Board A0+A1=GND)</span>
<span class="c1">// The INA219 can have one of 16 addresses, depending on the connections of A0</span>
<span class="c1">// and A1</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">uint8_t</span><span class="w"> </span><span class="n">INA219ReadingsToAvg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>

<span class="c1">// Create an INA219 sensor object</span>
<span class="n">TIINA219</span><span class="w"> </span><span class="nf">ina219</span><span class="p">(</span><span class="n">INA219Power</span><span class="p">,</span><span class="w"> </span><span class="n">INA219i2c_addr</span><span class="p">,</span><span class="w"> </span><span class="n">INA219ReadingsToAvg</span><span class="p">);</span>

<span class="c1">// Create current, voltage, and power variable pointers for the INA219</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">inaCurrent</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">TIINA219_Current</span><span class="p">(</span><span class="o">&amp;</span><span class="n">ina219</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">inaVolt</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">TIINA219_Voltage</span><span class="p">(</span><span class="o">&amp;</span><span class="n">ina219</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">inaPower</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">TIINA219_Power</span><span class="p">(</span><span class="o">&amp;</span><span class="n">ina219</span><span class="p">,</span>
<span class="w">                                        </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="cm">/** End [ti_ina219] */</span>
<span class="cp">#endif</span>


<span class="cp">#if defined BUILD_SENSOR_TURNER_CYCLOPS</span>
<span class="c1">// ==========================================================================</span>
<span class="c1">//  Turner Cyclops-7F Submersible Fluorometer</span>
<span class="c1">// ==========================================================================</span>
<span class="cm">/** Start [turner_cyclops] */</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;sensors/TurnerCyclops.h&gt;</span>

<span class="c1">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w">  </span><span class="n">cyclopsPower</span><span class="w">          </span><span class="o">=</span><span class="w"> </span><span class="n">sensorPowerPin</span><span class="p">;</span><span class="w">  </span><span class="c1">// Power pin</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">uint8_t</span><span class="w"> </span><span class="n">cyclopsNumberReadings</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">uint8_t</span><span class="w"> </span><span class="n">cyclopsADSi2c_addr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x48</span><span class="p">;</span><span class="w">  </span><span class="c1">// The I2C address of the ADS1115 ADC</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w">  </span><span class="n">cyclopsADSChannel</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w">     </span><span class="c1">// ADS channel</span>

<span class="c1">// Cyclops calibration information</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">float</span><span class="w"> </span><span class="n">cyclopsStdConc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">1.000</span><span class="p">;</span><span class="w">  </span><span class="c1">// Concentration of the standard used</span>
<span class="w">                                     </span><span class="c1">// for a 1-point sensor calibration.</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">float</span><span class="w"> </span><span class="n">cyclopsStdVolt</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="mf">1.000</span><span class="p">;</span><span class="w">  </span><span class="c1">// The voltage (in volts) measured for the conc_std.</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">float</span><span class="w"> </span><span class="n">cyclopsBlankVolt</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="mf">0.000</span><span class="p">;</span><span class="w">  </span><span class="c1">// The voltage (in volts) measured for a blank.</span>

<span class="c1">// Create a Turner Cyclops sensor object</span>
<span class="n">TurnerCyclops</span><span class="w"> </span><span class="nf">cyclops</span><span class="p">(</span><span class="n">cyclopsPower</span><span class="p">,</span><span class="w"> </span><span class="n">cyclopsADSChannel</span><span class="p">,</span><span class="w"> </span><span class="n">cyclopsStdConc</span><span class="p">,</span>
<span class="w">                      </span><span class="n">cyclopsStdVolt</span><span class="p">,</span><span class="w"> </span><span class="n">cyclopsBlankVolt</span><span class="p">,</span><span class="w"> </span><span class="n">cyclopsADSi2c_addr</span><span class="p">,</span>
<span class="w">                      </span><span class="n">cyclopsNumberReadings</span><span class="p">);</span>

<span class="c1">// Create the voltage variable pointer - used for any type of Cyclops</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">cyclopsVoltage</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">TurnerCyclops_Voltage</span><span class="p">(</span><span class="o">&amp;</span><span class="n">cyclops</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>

<span class="c1">// Create the variable pointer for the primary output parameter.  Only use</span>
<span class="c1">// **ONE** of these!  Which is possible depends on your specific sensor!</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">cyclopsChloro</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">TurnerCyclops_Chlorophyll</span><span class="p">(</span>
<span class="w">    </span><span class="o">&amp;</span><span class="n">cyclops</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">cyclopsRWT</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">TurnerCyclops_Rhodamine</span><span class="p">(</span>
<span class="w">    </span><span class="o">&amp;</span><span class="n">cyclops</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">cyclopsFluoroscein</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">TurnerCyclops_Fluorescein</span><span class="p">(</span>
<span class="w">    </span><span class="o">&amp;</span><span class="n">cyclops</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">cyclopsPhycocyanin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">TurnerCyclops_Phycocyanin</span><span class="p">(</span>
<span class="w">    </span><span class="o">&amp;</span><span class="n">cyclops</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">cyclopsPhycoerythrin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">TurnerCyclops_Phycoerythrin</span><span class="p">(</span>
<span class="w">    </span><span class="o">&amp;</span><span class="n">cyclops</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">cyclopsCDOM</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">TurnerCyclops_CDOM</span><span class="p">(</span><span class="o">&amp;</span><span class="n">cyclops</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">cyclopsCrudeOil</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">TurnerCyclops_CrudeOil</span><span class="p">(</span>
<span class="w">    </span><span class="o">&amp;</span><span class="n">cyclops</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">cyclopsBrighteners</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">TurnerCyclops_Brighteners</span><span class="p">(</span>
<span class="w">    </span><span class="o">&amp;</span><span class="n">cyclops</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">cyclopsTurbidity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">TurnerCyclops_Turbidity</span><span class="p">(</span>
<span class="w">    </span><span class="o">&amp;</span><span class="n">cyclops</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">cyclopsPTSA</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">TurnerCyclops_PTSA</span><span class="p">(</span><span class="o">&amp;</span><span class="n">cyclops</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">cyclopsBTEX</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">TurnerCyclops_BTEX</span><span class="p">(</span><span class="o">&amp;</span><span class="n">cyclops</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">cyclopsTryptophan</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">TurnerCyclops_Tryptophan</span><span class="p">(</span>
<span class="w">    </span><span class="o">&amp;</span><span class="n">cyclops</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">cyclopsRedChloro</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">TurnerCyclops_RedChlorophyll</span><span class="p">(</span>
<span class="w">    </span><span class="o">&amp;</span><span class="n">cyclops</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="cm">/** End [turner_cyclops] */</span>
<span class="cp">#endif</span>


<span class="cp">#if defined BUILD_SENSOR_ANALOG_ELEC_CONDUCTIVITY</span>
<span class="c1">// ==========================================================================</span>
<span class="c1">//   Analog Electrical Conductivity using the Processor&#39;s Analog Pins</span>
<span class="c1">// ==========================================================================</span>
<span class="cm">/** Start [analog_elec_conductivity] */</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;sensors/AnalogElecConductivity.h&gt;</span>

<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w"> </span><span class="n">ECpwrPin</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="n">A4</span><span class="p">;</span><span class="w">  </span><span class="c1">// Power pin (-1 if continuously powered)</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w"> </span><span class="n">ECdataPin1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">A0</span><span class="p">;</span><span class="w">  </span><span class="c1">// Data pin (must be an analog pin, ie A#)</span>

<span class="c1">// Create an Analog Electrical Conductivity sensor object</span>
<span class="n">AnalogElecConductivity</span><span class="w"> </span><span class="nf">analogEC_phy</span><span class="p">(</span><span class="n">ECpwrPin</span><span class="p">,</span><span class="w"> </span><span class="n">ECdataPin1</span><span class="p">);</span>

<span class="c1">// Create a conductivity variable pointer for the analog sensor</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">analogEc_cond</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">AnalogElecConductivity_EC</span><span class="p">(</span>
<span class="w">    </span><span class="o">&amp;</span><span class="n">analogEC_phy</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>

<span class="c1">// Create a calculated variable for the temperature compensated conductivity</span>
<span class="c1">// (that is, the specific conductance).  For this example, we will use the</span>
<span class="c1">// temperature measured by the Maxim DS18 saved as ds18Temp several sections</span>
<span class="c1">// above this.  You could use the temperature returned by any other water</span>
<span class="c1">// temperature sensor if desired.  **DO NOT** use your logger board temperature</span>
<span class="c1">// (ie, from the DS3231) to calculate specific conductance!</span>
<span class="kr">float</span><span class="w"> </span><span class="nf">calculateAnalogSpCond</span><span class="p">(</span><span class="kr">void</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kr">float</span><span class="w"> </span><span class="n">spCond</span><span class="w">          </span><span class="o">=</span><span class="w"> </span><span class="mi">-9999</span><span class="p">;</span><span class="w">  </span><span class="c1">// Always safest to start with a bad value</span>
<span class="w">    </span><span class="kr">float</span><span class="w"> </span><span class="n">waterTemp</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="n">ds18Temp</span><span class="o">-&gt;</span><span class="n">getValue</span><span class="p">();</span>
<span class="w">    </span><span class="kr">float</span><span class="w"> </span><span class="n">rawCond</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="n">analogEc_cond</span><span class="o">-&gt;</span><span class="n">getValue</span><span class="p">();</span>
<span class="w">    </span><span class="kr">float</span><span class="w"> </span><span class="n">temperatureCoef</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.019</span><span class="p">;</span>
<span class="w">    </span><span class="c1">// ^^ Linearized temperature correction coefficient per degrees Celsius.</span>
<span class="w">    </span><span class="c1">// The value of 0.019 comes from measurements reported here:</span>
<span class="w">    </span><span class="c1">// Hayashi M. Temperature-electrical conductivity relation of water for</span>
<span class="w">    </span><span class="c1">// environmental monitoring and geophysical data inversion. Environ Monit</span>
<span class="w">    </span><span class="c1">// Assess. 2004 Aug-Sep;96(1-3):119-28.</span>
<span class="w">    </span><span class="c1">// doi: 10.1023/b:emas.0000031719.83065.68. PMID: 15327152.</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">waterTemp</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">-9999</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">rawCond</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">-9999</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// make sure both inputs are good</span>
<span class="w">        </span><span class="n">spCond</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rawCond</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">temperatureCoef</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="p">(</span><span class="n">waterTemp</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mf">25.0</span><span class="p">));</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">spCond</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// Properties of the calculated variable</span>
<span class="c1">// The number of digits after the decimal place</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">uint8_t</span><span class="w"> </span><span class="n">analogSpCondResolution</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="c1">// This must be a value from http://vocabulary.odm2.org/variablename/</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">char</span><span class="o">*</span><span class="w"> </span><span class="n">analogSpCondName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;specificConductance&quot;</span><span class="p">;</span>
<span class="c1">// This must be a value from http://vocabulary.odm2.org/units/</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">char</span><span class="o">*</span><span class="w"> </span><span class="n">analogSpCondUnit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;microsiemenPerCentimeter&quot;</span><span class="p">;</span>
<span class="c1">// A short code for the variable</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">char</span><span class="o">*</span><span class="w"> </span><span class="n">analogSpCondCode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;anlgSpCond&quot;</span><span class="p">;</span>
<span class="c1">// The (optional) universallly unique identifier</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">char</span><span class="o">*</span><span class="w"> </span><span class="n">analogSpCondUUID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">;</span>

<span class="c1">// Finally, Create the specific conductance variable and return a pointer to it</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">analogEc_spcond</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Variable</span><span class="p">(</span>
<span class="w">    </span><span class="n">calculateAnalogSpCond</span><span class="p">,</span><span class="w"> </span><span class="n">analogSpCondResolution</span><span class="p">,</span><span class="w"> </span><span class="n">analogSpCondName</span><span class="p">,</span>
<span class="w">    </span><span class="n">analogSpCondUnit</span><span class="p">,</span><span class="w"> </span><span class="n">analogSpCondCode</span><span class="p">,</span><span class="w"> </span><span class="n">analogSpCondUUID</span><span class="p">);</span>
<span class="cm">/** End [analog_elec_conductivity] */</span>
<span class="cp">#endif</span>


<span class="cp">#if defined BUILD_SENSOR_YOSEMITECH_Y504</span>
<span class="c1">// ==========================================================================</span>
<span class="c1">//  Yosemitech Y504 Dissolved Oxygen Sensor</span>
<span class="c1">// ==========================================================================</span>
<span class="cm">/** Start [yosemitech_y504] */</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;sensors/YosemitechY504.h&gt;</span>

<span class="c1">// NOTE: Extra hardware and software serial ports are created in the &quot;Settings</span>
<span class="c1">// for Additional Serial Ports&quot; section</span>

<span class="c1">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span>
<span class="kr">byte</span><span class="w">          </span><span class="n">y504ModbusAddress</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mh">0x04</span><span class="p">;</span><span class="w">  </span><span class="c1">// The modbus address of the Y504</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w">  </span><span class="n">y504AdapterPower</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="n">sensorPowerPin</span><span class="p">;</span><span class="w">  </span><span class="c1">// RS485 adapter power pin</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w">  </span><span class="n">y504SensorPower</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="n">A3</span><span class="p">;</span><span class="w">              </span><span class="c1">// Sensor power pin</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w">  </span><span class="n">y504EnablePin</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w">              </span><span class="c1">// Adapter RE/DE pin</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">uint8_t</span><span class="w"> </span><span class="n">y504NumberReadings</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="p">;</span>
<span class="c1">// The manufacturer recommends averaging 10 readings, but we take 5 to minimize</span>
<span class="c1">// power consumption</span>

<span class="c1">// Create a Yosemitech Y504 dissolved oxygen sensor object</span>
<span class="n">YosemitechY504</span><span class="w"> </span><span class="nf">y504</span><span class="p">(</span><span class="n">y504ModbusAddress</span><span class="p">,</span><span class="w"> </span><span class="n">modbusSerial</span><span class="p">,</span><span class="w"> </span><span class="n">y504AdapterPower</span><span class="p">,</span>
<span class="w">                    </span><span class="n">y504SensorPower</span><span class="p">,</span><span class="w"> </span><span class="n">y504EnablePin</span><span class="p">,</span><span class="w"> </span><span class="n">y504NumberReadings</span><span class="p">);</span>

<span class="c1">// Create the dissolved oxygen percent, dissolved oxygen concentration, and</span>
<span class="c1">// temperature variable pointers for the Y504</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">y504DOpct</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">YosemitechY504_DOpct</span><span class="p">(</span><span class="o">&amp;</span><span class="n">y504</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">y504DOmgL</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">YosemitechY504_DOmgL</span><span class="p">(</span><span class="o">&amp;</span><span class="n">y504</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">y504Temp</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">YosemitechY504_Temp</span><span class="p">(</span><span class="o">&amp;</span><span class="n">y504</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="cm">/** End [yosemitech_y504] */</span>
<span class="cp">#endif</span>


<span class="cp">#if defined BUILD_SENSOR_YOSEMITECH_Y510</span>
<span class="c1">// ==========================================================================</span>
<span class="c1">//  Yosemitech Y510 Turbidity Sensor</span>
<span class="c1">// ==========================================================================</span>
<span class="cm">/** Start [yosemitech_y510] */</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;sensors/YosemitechY510.h&gt;</span>

<span class="c1">// NOTE: Extra hardware and software serial ports are created in the &quot;Settings</span>
<span class="c1">// for Additional Serial Ports&quot; section</span>

<span class="c1">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span>
<span class="kr">byte</span><span class="w">          </span><span class="n">y510ModbusAddress</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mh">0x0B</span><span class="p">;</span><span class="w">  </span><span class="c1">// The modbus address of the Y510</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w">  </span><span class="n">y510AdapterPower</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="n">sensorPowerPin</span><span class="p">;</span><span class="w">  </span><span class="c1">// RS485 adapter power pin</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w">  </span><span class="n">y510SensorPower</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="n">A3</span><span class="p">;</span><span class="w">              </span><span class="c1">// Sensor power pin</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w">  </span><span class="n">y510EnablePin</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w">              </span><span class="c1">// Adapter RE/DE pin</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">uint8_t</span><span class="w"> </span><span class="n">y510NumberReadings</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="p">;</span>
<span class="c1">// The manufacturer recommends averaging 10 readings, but we take 5 to minimize</span>
<span class="c1">// power consumption</span>

<span class="c1">// Create a Y510-B Turbidity sensor object</span>
<span class="n">YosemitechY510</span><span class="w"> </span><span class="nf">y510</span><span class="p">(</span><span class="n">y510ModbusAddress</span><span class="p">,</span><span class="w"> </span><span class="n">modbusSerial</span><span class="p">,</span><span class="w"> </span><span class="n">y510AdapterPower</span><span class="p">,</span>
<span class="w">                    </span><span class="n">y510SensorPower</span><span class="p">,</span><span class="w"> </span><span class="n">y510EnablePin</span><span class="p">,</span><span class="w"> </span><span class="n">y510NumberReadings</span><span class="p">);</span>

<span class="c1">// Create turbidity and temperature variable pointers for the Y510</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">y510Turb</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">YosemitechY510_Turbidity</span><span class="p">(</span><span class="o">&amp;</span><span class="n">y510</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">y510Temp</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">YosemitechY510_Temp</span><span class="p">(</span><span class="o">&amp;</span><span class="n">y510</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="cm">/** End [yosemitech_y510] */</span>
<span class="cp">#endif</span>


<span class="cp">#if defined BUILD_SENSOR_YOSEMITECH_Y511</span>
<span class="c1">// ==========================================================================</span>
<span class="c1">//  Yosemitech Y511 Turbidity Sensor with Wiper</span>
<span class="c1">// ==========================================================================</span>
<span class="cm">/** Start [yosemitech_y511] */</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;sensors/YosemitechY511.h&gt;</span>

<span class="c1">// NOTE: Extra hardware and software serial ports are created in the &quot;Settings</span>
<span class="c1">// for Additional Serial Ports&quot; section</span>

<span class="c1">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span>
<span class="kr">byte</span><span class="w">          </span><span class="n">y511ModbusAddress</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mh">0x1A</span><span class="p">;</span><span class="w">  </span><span class="c1">// The modbus address of the Y511</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w">  </span><span class="n">y511AdapterPower</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="n">sensorPowerPin</span><span class="p">;</span><span class="w">  </span><span class="c1">// RS485 adapter power pin</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w">  </span><span class="n">y511SensorPower</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="n">A3</span><span class="p">;</span><span class="w">              </span><span class="c1">// Sensor power pin</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w">  </span><span class="n">y511EnablePin</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w">              </span><span class="c1">// Adapter RE/DE pin</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">uint8_t</span><span class="w"> </span><span class="n">y511NumberReadings</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="p">;</span>
<span class="c1">// The manufacturer recommends averaging 10 readings, but we take 5 to minimize</span>
<span class="c1">// power consumption</span>

<span class="c1">// Create a Y511-A Turbidity sensor object</span>
<span class="n">YosemitechY511</span><span class="w"> </span><span class="nf">y511</span><span class="p">(</span><span class="n">y511ModbusAddress</span><span class="p">,</span><span class="w"> </span><span class="n">modbusSerial</span><span class="p">,</span><span class="w"> </span><span class="n">y511AdapterPower</span><span class="p">,</span>
<span class="w">                    </span><span class="n">y511SensorPower</span><span class="p">,</span><span class="w"> </span><span class="n">y511EnablePin</span><span class="p">,</span><span class="w"> </span><span class="n">y511NumberReadings</span><span class="p">);</span>

<span class="c1">// Create turbidity and temperature variable pointers for the Y511</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">y511Turb</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">YosemitechY511_Turbidity</span><span class="p">(</span><span class="o">&amp;</span><span class="n">y511</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">y511Temp</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">YosemitechY511_Temp</span><span class="p">(</span><span class="o">&amp;</span><span class="n">y511</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="cm">/** End [yosemitech_y511] */</span>
<span class="cp">#endif</span>


<span class="cp">#if defined BUILD_SENSOR_YOSEMITECH_Y514</span>
<span class="c1">// ==========================================================================</span>
<span class="c1">//  Yosemitech Y514 Chlorophyll Sensor</span>
<span class="c1">// ==========================================================================</span>
<span class="cm">/** Start [yosemitech_y514] */</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;sensors/YosemitechY514.h&gt;</span>

<span class="c1">// NOTE: Extra hardware and software serial ports are created in the &quot;Settings</span>
<span class="c1">// for Additional Serial Ports&quot; section</span>

<span class="c1">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span>
<span class="kr">byte</span><span class="w">          </span><span class="n">y514ModbusAddress</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mh">0x14</span><span class="p">;</span><span class="w">  </span><span class="c1">// The modbus address of the Y514</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w">  </span><span class="n">y514AdapterPower</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="n">sensorPowerPin</span><span class="p">;</span><span class="w">  </span><span class="c1">// RS485 adapter power pin</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w">  </span><span class="n">y514SensorPower</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="n">A3</span><span class="p">;</span><span class="w">              </span><span class="c1">// Sensor power pin</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w">  </span><span class="n">y514EnablePin</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w">              </span><span class="c1">// Adapter RE/DE pin</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">uint8_t</span><span class="w"> </span><span class="n">y514NumberReadings</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="p">;</span>
<span class="c1">// The manufacturer recommends averaging 10 readings, but we take 5 to minimize</span>
<span class="c1">// power consumption</span>

<span class="c1">// Create a Y514 chlorophyll sensor object</span>
<span class="n">YosemitechY514</span><span class="w"> </span><span class="nf">y514</span><span class="p">(</span><span class="n">y514ModbusAddress</span><span class="p">,</span><span class="w"> </span><span class="n">modbusSerial</span><span class="p">,</span><span class="w"> </span><span class="n">y514AdapterPower</span><span class="p">,</span>
<span class="w">                    </span><span class="n">y514SensorPower</span><span class="p">,</span><span class="w"> </span><span class="n">y514EnablePin</span><span class="p">,</span><span class="w"> </span><span class="n">y514NumberReadings</span><span class="p">);</span>

<span class="c1">// Create chlorophyll concentration and temperature variable pointers for the</span>
<span class="c1">// Y514</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">y514Chloro</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">YosemitechY514_Chlorophyll</span><span class="p">(</span>
<span class="w">    </span><span class="o">&amp;</span><span class="n">y514</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">y514Temp</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">YosemitechY514_Temp</span><span class="p">(</span><span class="o">&amp;</span><span class="n">y514</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="cm">/** End [yosemitech_y514] */</span>
<span class="cp">#endif</span>


<span class="cp">#if defined BUILD_SENSOR_YOSEMITECH_Y520</span>
<span class="c1">// ==========================================================================</span>
<span class="c1">//  Yosemitech Y520 Conductivity Sensor</span>
<span class="c1">// ==========================================================================</span>
<span class="cm">/** Start [yosemitech_y520] */</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;sensors/YosemitechY520.h&gt;</span>

<span class="c1">// NOTE: Extra hardware and software serial ports are created in the &quot;Settings</span>
<span class="c1">// for Additional Serial Ports&quot; section</span>

<span class="c1">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span>
<span class="kr">byte</span><span class="w">          </span><span class="n">y520ModbusAddress</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mh">0x20</span><span class="p">;</span><span class="w">  </span><span class="c1">// The modbus address of the Y520</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w">  </span><span class="n">y520AdapterPower</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="n">sensorPowerPin</span><span class="p">;</span><span class="w">  </span><span class="c1">// RS485 adapter power pin</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w">  </span><span class="n">y520SensorPower</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="n">A3</span><span class="p">;</span><span class="w">              </span><span class="c1">// Sensor power pin</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w">  </span><span class="n">y520EnablePin</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w">              </span><span class="c1">// Adapter RE/DE pin</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">uint8_t</span><span class="w"> </span><span class="n">y520NumberReadings</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="p">;</span>
<span class="c1">// The manufacturer recommends averaging 10 readings, but we take 5 to minimize</span>
<span class="c1">// power consumption</span>

<span class="c1">// Create a Y520 conductivity sensor object</span>
<span class="n">YosemitechY520</span><span class="w"> </span><span class="nf">y520</span><span class="p">(</span><span class="n">y520ModbusAddress</span><span class="p">,</span><span class="w"> </span><span class="n">modbusSerial</span><span class="p">,</span><span class="w"> </span><span class="n">y520AdapterPower</span><span class="p">,</span>
<span class="w">                    </span><span class="n">y520SensorPower</span><span class="p">,</span><span class="w"> </span><span class="n">y520EnablePin</span><span class="p">,</span><span class="w"> </span><span class="n">y520NumberReadings</span><span class="p">);</span>

<span class="c1">// Create specific conductance and temperature variable pointers for the Y520</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">y520Cond</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">YosemitechY520_Cond</span><span class="p">(</span><span class="o">&amp;</span><span class="n">y520</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">y520Temp</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">YosemitechY520_Temp</span><span class="p">(</span><span class="o">&amp;</span><span class="n">y520</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="cm">/** End [yosemitech_y520] */</span>
<span class="cp">#endif</span>


<span class="cp">#if defined BUILD_SENSOR_YOSEMITECH_Y532</span>
<span class="c1">// ==========================================================================</span>
<span class="c1">//  Yosemitech Y532 pH</span>
<span class="c1">// ==========================================================================</span>
<span class="cm">/** Start [yosemitech_y532] */</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;sensors/YosemitechY532.h&gt;</span>

<span class="c1">// NOTE: Extra hardware and software serial ports are created in the &quot;Settings</span>
<span class="c1">// for Additional Serial Ports&quot; section</span>

<span class="c1">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span>
<span class="kr">byte</span><span class="w">          </span><span class="n">y532ModbusAddress</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mh">0x32</span><span class="p">;</span><span class="w">  </span><span class="c1">// The modbus address of the Y532</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w">  </span><span class="n">y532AdapterPower</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="n">sensorPowerPin</span><span class="p">;</span><span class="w">  </span><span class="c1">// RS485 adapter power pin</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w">  </span><span class="n">y532SensorPower</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="n">A3</span><span class="p">;</span><span class="w">              </span><span class="c1">// Sensor power pin</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w">  </span><span class="n">y532EnablePin</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span><span class="p">;</span><span class="w">               </span><span class="c1">// Adapter RE/DE pin</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">uint8_t</span><span class="w"> </span><span class="n">y532NumberReadings</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="c1">// The manufacturer actually doesn&#39;t mention averaging for this one</span>

<span class="c1">// Create a Yosemitech Y532 pH sensor object</span>
<span class="n">YosemitechY532</span><span class="w"> </span><span class="nf">y532</span><span class="p">(</span><span class="n">y532ModbusAddress</span><span class="p">,</span><span class="w"> </span><span class="n">modbusSerial</span><span class="p">,</span><span class="w"> </span><span class="n">y532AdapterPower</span><span class="p">,</span>
<span class="w">                    </span><span class="n">y532SensorPower</span><span class="p">,</span><span class="w"> </span><span class="n">y532EnablePin</span><span class="p">,</span><span class="w"> </span><span class="n">y532NumberReadings</span><span class="p">);</span>

<span class="c1">// Create pH, electrical potential, and temperature variable pointers for the</span>
<span class="c1">// Y532</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">y532Voltage</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">YosemitechY532_Voltage</span><span class="p">(</span><span class="o">&amp;</span><span class="n">y532</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">y532pH</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">YosemitechY532_pH</span><span class="p">(</span><span class="o">&amp;</span><span class="n">y532</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">y532Temp</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">YosemitechY532_Temp</span><span class="p">(</span><span class="o">&amp;</span><span class="n">y532</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="cm">/** End [yosemitech_y532] */</span>
<span class="cp">#endif</span>


<span class="cp">#if defined BUILD_SENSOR_YOSEMITECH_Y533</span>
<span class="c1">// ==========================================================================</span>
<span class="c1">//  Yosemitech Y533 Oxidation Reduction Potential (ORP)</span>
<span class="c1">// ==========================================================================</span>
<span class="cm">/** Start [yosemitech_y533] */</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;sensors/YosemitechY533.h&gt;</span>

<span class="c1">// NOTE: Extra hardware and software serial ports are created in the &quot;Settings</span>
<span class="c1">// for Additional Serial Ports&quot; section</span>

<span class="c1">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span>
<span class="kr">byte</span><span class="w">          </span><span class="n">y533ModbusAddress</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mh">0x32</span><span class="p">;</span><span class="w">  </span><span class="c1">// The modbus address of the Y533</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w">  </span><span class="n">y533AdapterPower</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="n">sensorPowerPin</span><span class="p">;</span><span class="w">  </span><span class="c1">// RS485 adapter power pin</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w">  </span><span class="n">y533SensorPower</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="n">A3</span><span class="p">;</span><span class="w">              </span><span class="c1">// Sensor power pin</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w">  </span><span class="n">y533EnablePin</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span><span class="p">;</span><span class="w">               </span><span class="c1">// Adapter RE/DE pin</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">uint8_t</span><span class="w"> </span><span class="n">y533NumberReadings</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="c1">// The manufacturer actually doesn&#39;t mention averaging for this one</span>

<span class="c1">// Create a Yosemitech Y533 ORP sensor object</span>
<span class="n">YosemitechY533</span><span class="w"> </span><span class="nf">y533</span><span class="p">(</span><span class="n">y533ModbusAddress</span><span class="p">,</span><span class="w"> </span><span class="n">modbusSerial</span><span class="p">,</span><span class="w"> </span><span class="n">y533AdapterPower</span><span class="p">,</span>
<span class="w">                    </span><span class="n">y533SensorPower</span><span class="p">,</span><span class="w"> </span><span class="n">y533EnablePin</span><span class="p">,</span><span class="w"> </span><span class="n">y533NumberReadings</span><span class="p">);</span>

<span class="c1">// Create ORP and temperature variable pointers for the Y533</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">y533ORP</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">YosemitechY533_ORP</span><span class="p">(</span><span class="o">&amp;</span><span class="n">y533</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">y533Temp</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">YosemitechY533_Temp</span><span class="p">(</span><span class="o">&amp;</span><span class="n">y533</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="cm">/** End [yosemitech_y533] */</span>
<span class="cp">#endif</span>


<span class="cp">#if defined BUILD_SENSOR_YOSEMITECH_Y551</span>
<span class="c1">// ==========================================================================</span>
<span class="c1">//  Yosemitech Y551 COD Sensor with Wiper</span>
<span class="c1">// ==========================================================================</span>
<span class="cm">/** Start [yosemitech_y551] */</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;sensors/YosemitechY551.h&gt;</span>

<span class="c1">// NOTE: Extra hardware and software serial ports are created in the &quot;Settings</span>
<span class="c1">// for Additional Serial Ports&quot; section</span>

<span class="c1">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span>
<span class="kr">byte</span><span class="w">          </span><span class="n">y551ModbusAddress</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mh">0x50</span><span class="p">;</span><span class="w">  </span><span class="c1">// The modbus address of the Y551</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w">  </span><span class="n">y551AdapterPower</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="n">sensorPowerPin</span><span class="p">;</span><span class="w">  </span><span class="c1">// RS485 adapter power pin</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w">  </span><span class="n">y551SensorPower</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="n">A3</span><span class="p">;</span><span class="w">              </span><span class="c1">// Sensor power pin</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w">  </span><span class="n">y551EnablePin</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w">              </span><span class="c1">// Adapter RE/DE pin</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">uint8_t</span><span class="w"> </span><span class="n">y551NumberReadings</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="p">;</span>
<span class="c1">// The manufacturer recommends averaging 10 readings, but we take 5 to minimize</span>
<span class="c1">// power consumption</span>

<span class="c1">// Create a Y551 chemical oxygen demand sensor object</span>
<span class="n">YosemitechY551</span><span class="w"> </span><span class="nf">y551</span><span class="p">(</span><span class="n">y551ModbusAddress</span><span class="p">,</span><span class="w"> </span><span class="n">modbusSerial</span><span class="p">,</span><span class="w"> </span><span class="n">y551AdapterPower</span><span class="p">,</span>
<span class="w">                    </span><span class="n">y551SensorPower</span><span class="p">,</span><span class="w"> </span><span class="n">y551EnablePin</span><span class="p">,</span><span class="w"> </span><span class="n">y551NumberReadings</span><span class="p">);</span>

<span class="c1">// Create COD, turbidity, and temperature variable pointers for the Y551</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">y551COD</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">YosemitechY551_COD</span><span class="p">(</span><span class="o">&amp;</span><span class="n">y551</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">y551Turbid</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">YosemitechY551_Turbidity</span><span class="p">(</span><span class="o">&amp;</span><span class="n">y551</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">y551Temp</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">YosemitechY551_Temp</span><span class="p">(</span><span class="o">&amp;</span><span class="n">y551</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="cm">/** End [yosemitech_y551] */</span>
<span class="cp">#endif</span>


<span class="cp">#if defined BUILD_SENSOR_YOSEMITECH_Y560</span>
<span class="c1">// ==========================================================================</span>
<span class="c1">//  Yosemitech Y560 Ammonium Probe with Wiper</span>
<span class="c1">// ==========================================================================</span>
<span class="cm">/** Start [yosemitech_y560] */</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;sensors/YosemitechY560.h&gt;</span>

<span class="c1">// NOTE: Extra hardware and software serial ports are created in the &quot;Settings</span>
<span class="c1">// for Additional Serial Ports&quot; section</span>

<span class="c1">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span>
<span class="kr">byte</span><span class="w"> </span><span class="n">y560ModbusAddress</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="mh">0x60</span><span class="p">;</span><span class="w">  </span><span class="c1">// The modbus address of the Y560.</span>
<span class="w">           </span><span class="c1">// NOTE: Hexidecimal 0x60 = 96 decimal used by Yosemitech SmartPC</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w">  </span><span class="n">y560AdapterPower</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="n">sensorPowerPin</span><span class="p">;</span><span class="w">  </span><span class="c1">// RS485 adapter power pin</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w">  </span><span class="n">y560SensorPower</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="n">A3</span><span class="p">;</span><span class="w">              </span><span class="c1">// Sensor power pin</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w">  </span><span class="n">y560EnablePin</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w">              </span><span class="c1">// Adapter RE/DE pin</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">uint8_t</span><span class="w"> </span><span class="n">y560NumberReadings</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span>
<span class="c1">// The manufacturer recommends averaging 10 readings, but we take 5 to minimize</span>
<span class="c1">// power consumption</span>

<span class="c1">// Create a Y560 Ammonium Probe object</span>
<span class="n">YosemitechY560</span><span class="w"> </span><span class="nf">y560</span><span class="p">(</span><span class="n">y560ModbusAddress</span><span class="p">,</span><span class="w"> </span><span class="n">modbusSerial</span><span class="p">,</span><span class="w"> </span><span class="n">y560AdapterPower</span><span class="p">,</span>
<span class="w">                    </span><span class="n">y560SensorPower</span><span class="p">,</span><span class="w"> </span><span class="n">y560EnablePin</span><span class="p">,</span><span class="w"> </span><span class="n">y560NumberReadings</span><span class="p">);</span>

<span class="c1">// Create COD, turbidity, and temperature variable pointers for the Y560</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">y560NH4_N</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">YosemitechY560_NH4_N</span><span class="p">(</span><span class="o">&amp;</span><span class="n">y560</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">y560pH</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">YosemitechY560_pH</span><span class="p">(</span><span class="o">&amp;</span><span class="n">y560</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">y560Temp</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">YosemitechY560_Temp</span><span class="p">(</span><span class="o">&amp;</span><span class="n">y560</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="cm">/** End [yosemitech_y560] */</span>
<span class="cp">#endif</span>


<span class="cp">#if defined BUILD_SENSOR_YOSEMITECH_Y700</span>
<span class="c1">// ==========================================================================</span>
<span class="c1">//  Yosemitech Y700 Pressure Sensor</span>
<span class="c1">// ==========================================================================</span>
<span class="cm">/** Start [yosemitech_y700] */</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;sensors/YosemitechY700.h&gt;</span>

<span class="c1">// NOTE: Extra hardware and software serial ports are created in the &quot;Settings</span>
<span class="c1">// for Additional Serial Ports&quot; section</span>

<span class="c1">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span>
<span class="kr">byte</span><span class="w">          </span><span class="n">y700ModbusAddress</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mh">0x70</span><span class="p">;</span><span class="w">  </span><span class="c1">// The modbus address of the Y700</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w">  </span><span class="n">y700AdapterPower</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="n">sensorPowerPin</span><span class="p">;</span><span class="w">  </span><span class="c1">// RS485 adapter power pin</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w">  </span><span class="n">y700SensorPower</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="n">A3</span><span class="p">;</span><span class="w">              </span><span class="c1">// Sensor power pin</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w">  </span><span class="n">y700EnablePin</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w">              </span><span class="c1">// Adapter RE/DE pin</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">uint8_t</span><span class="w"> </span><span class="n">y700NumberReadings</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="p">;</span>
<span class="c1">// The manufacturer recommends averaging 10 readings, but we take 5 to minimize</span>
<span class="c1">// power consumption</span>

<span class="c1">// Create a Y700 pressure sensor object</span>
<span class="n">YosemitechY700</span><span class="w"> </span><span class="nf">y700</span><span class="p">(</span><span class="n">y700ModbusAddress</span><span class="p">,</span><span class="w"> </span><span class="n">modbusSerial</span><span class="p">,</span><span class="w"> </span><span class="n">y700AdapterPower</span><span class="p">,</span>
<span class="w">                    </span><span class="n">y700SensorPower</span><span class="p">,</span><span class="w"> </span><span class="n">y700EnablePin</span><span class="p">,</span><span class="w"> </span><span class="n">y700NumberReadings</span><span class="p">);</span>

<span class="c1">// Create pressure and temperature variable pointers for the Y700</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">y700Pres</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">YosemitechY700_Pressure</span><span class="p">(</span><span class="o">&amp;</span><span class="n">y700</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">y700Temp</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">YosemitechY700_Temp</span><span class="p">(</span><span class="o">&amp;</span><span class="n">y700</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="cm">/** End [yosemitech_y700] */</span>
<span class="cp">#endif</span>


<span class="cp">#if defined BUILD_SENSOR_YOSEMITECH_Y4000</span>
<span class="c1">// ==========================================================================</span>
<span class="c1">//  Yosemitech Y4000 Multiparameter Sonde (DOmgL, Turbidity, Cond, pH, Temp,</span>
<span class="c1">//    ORP, Chlorophyll, BGA)</span>
<span class="c1">// ==========================================================================</span>
<span class="cm">/** Start [yosemitech_y4000] */</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;sensors/YosemitechY4000.h&gt;</span>

<span class="c1">// NOTE: Extra hardware and software serial ports are created in the &quot;Settings</span>
<span class="c1">// for Additional Serial Ports&quot; section</span>

<span class="c1">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span>
<span class="kr">byte</span><span class="w">          </span><span class="n">y4000ModbusAddress</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mh">0x05</span><span class="p">;</span><span class="w">  </span><span class="c1">// The modbus address of the Y4000</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w">  </span><span class="n">y4000AdapterPower</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="n">sensorPowerPin</span><span class="p">;</span><span class="w">  </span><span class="c1">// RS485 adapter power pin</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w">  </span><span class="n">y4000SensorPower</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="n">A3</span><span class="p">;</span><span class="w">              </span><span class="c1">// Sensor power pin</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w">  </span><span class="n">y4000EnablePin</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w">              </span><span class="c1">// Adapter RE/DE pin</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">uint8_t</span><span class="w"> </span><span class="n">y4000NumberReadings</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="p">;</span>
<span class="c1">// The manufacturer recommends averaging 10 readings, but we take 5 to minimize</span>
<span class="c1">// power consumption</span>

<span class="c1">// Create a Yosemitech Y4000 multi-parameter sensor object</span>
<span class="n">YosemitechY4000</span><span class="w"> </span><span class="nf">y4000</span><span class="p">(</span><span class="n">y4000ModbusAddress</span><span class="p">,</span><span class="w"> </span><span class="n">modbusSerial</span><span class="p">,</span><span class="w"> </span><span class="n">y4000AdapterPower</span><span class="p">,</span>
<span class="w">                      </span><span class="n">y4000SensorPower</span><span class="p">,</span><span class="w"> </span><span class="n">y4000EnablePin</span><span class="p">,</span><span class="w"> </span><span class="n">y4000NumberReadings</span><span class="p">);</span>

<span class="c1">// Create all of the variable pointers for the Y4000</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">y4000DO</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">YosemitechY4000_DOmgL</span><span class="p">(</span><span class="o">&amp;</span><span class="n">y4000</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">y4000Turb</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">YosemitechY4000_Turbidity</span><span class="p">(</span>
<span class="w">    </span><span class="o">&amp;</span><span class="n">y4000</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">y4000Cond</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">YosemitechY4000_Cond</span><span class="p">(</span><span class="o">&amp;</span><span class="n">y4000</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">y4000pH</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">YosemitechY4000_pH</span><span class="p">(</span><span class="o">&amp;</span><span class="n">y4000</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">y4000Temp</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">YosemitechY4000_Temp</span><span class="p">(</span><span class="o">&amp;</span><span class="n">y4000</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">y4000ORP</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">YosemitechY4000_ORP</span><span class="p">(</span><span class="o">&amp;</span><span class="n">y4000</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">y4000Chloro</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">YosemitechY4000_Chlorophyll</span><span class="p">(</span>
<span class="w">    </span><span class="o">&amp;</span><span class="n">y4000</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">y4000BGA</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">YosemitechY4000_BGA</span><span class="p">(</span><span class="o">&amp;</span><span class="n">y4000</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="cm">/** End [yosemitech_y4000] */</span>
<span class="cp">#endif</span>


<span class="cp">#if defined BUILD_SENSOR_ZEBRA_TECH_D_OPTO</span>
<span class="c1">// ==========================================================================</span>
<span class="c1">//  Zebra Tech D-Opto Dissolved Oxygen Sensor</span>
<span class="c1">// ==========================================================================</span>
<span class="cm">/** Start [zebra_tech_d_opto] */</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;sensors/ZebraTechDOpto.h&gt;</span>

<span class="c1">// NOTE: Use -1 for any pins that don&#39;t apply or aren&#39;t being used.</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">char</span><span class="o">*</span><span class="w">  </span><span class="n">DOptoSDI12address</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;5&quot;</span><span class="p">;</span><span class="w">  </span><span class="c1">// The SDI-12 Address of the D-Opto</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w"> </span><span class="n">ZTPower</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="n">sensorPowerPin</span><span class="p">;</span><span class="w">  </span><span class="c1">// Power pin</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">int8_t</span><span class="w"> </span><span class="n">ZTData</span><span class="w">            </span><span class="o">=</span><span class="w"> </span><span class="mi">7</span><span class="p">;</span><span class="w">               </span><span class="c1">// The SDI-12 data pin</span>

<span class="c1">// Create a Zebra Tech DOpto dissolved oxygen sensor object</span>
<span class="n">ZebraTechDOpto</span><span class="w"> </span><span class="nf">dopto</span><span class="p">(</span><span class="o">*</span><span class="n">DOptoSDI12address</span><span class="p">,</span><span class="w"> </span><span class="n">ZTPower</span><span class="p">,</span><span class="w"> </span><span class="n">ZTData</span><span class="p">);</span>

<span class="c1">// Create dissolved oxygen percent, dissolved oxygen concentration, and</span>
<span class="c1">// temperature variable pointers for the Zebra Tech</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">dOptoDOpct</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">ZebraTechDOpto_DOpct</span><span class="p">(</span><span class="o">&amp;</span><span class="n">dopto</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">dOptoDOmgL</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">ZebraTechDOpto_DOmgL</span><span class="p">(</span><span class="o">&amp;</span><span class="n">dopto</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">dOptoTemp</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">ZebraTechDOpto_Temp</span><span class="p">(</span><span class="o">&amp;</span><span class="n">dopto</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">);</span>
<span class="cm">/** End [zebra_tech_d_opto] */</span>
<span class="cp">#endif</span>


<span class="c1">// ==========================================================================</span>
<span class="c1">//  Calculated Variable[s]</span>
<span class="c1">// ==========================================================================</span>
<span class="cm">/** Start [calculated_variables] */</span>
<span class="c1">// Create the function to give your calculated result.</span>
<span class="c1">// The function should take no input (void) and return a float.</span>
<span class="c1">// You can use any named variable pointers to access values by way of</span>
<span class="c1">// variable-&gt;getValue()</span>

<span class="kr">float</span><span class="w"> </span><span class="nf">calculateVariableValue</span><span class="p">(</span><span class="kr">void</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kr">float</span><span class="w"> </span><span class="n">calculatedResult</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">-9999</span><span class="p">;</span><span class="w">  </span><span class="c1">// Always safest to start with a bad value</span>
<span class="w">    </span><span class="c1">// float inputVar1 = variable1-&gt;getValue();</span>
<span class="w">    </span><span class="c1">// float inputVar2 = variable2-&gt;getValue();</span>
<span class="w">    </span><span class="c1">// make sure both inputs are good</span>
<span class="w">    </span><span class="c1">// if (inputVar1 != -9999 &amp;&amp; inputVar2 != -9999) {</span>
<span class="w">    </span><span class="c1">//     calculatedResult = inputVar1 + inputVar2;</span>
<span class="w">    </span><span class="c1">// }</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">calculatedResult</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// Properties of the calculated variable</span>
<span class="c1">// The number of digits after the decimal place</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">uint8_t</span><span class="w"> </span><span class="n">calculatedVarResolution</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span>
<span class="c1">// This must be a value from http://vocabulary.odm2.org/variablename/</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">char</span><span class="o">*</span><span class="w"> </span><span class="n">calculatedVarName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;varName&quot;</span><span class="p">;</span>
<span class="c1">// This must be a value from http://vocabulary.odm2.org/units/</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">char</span><span class="o">*</span><span class="w"> </span><span class="n">calculatedVarUnit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;varUnit&quot;</span><span class="p">;</span>
<span class="c1">// A short code for the variable</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">char</span><span class="o">*</span><span class="w"> </span><span class="n">calculatedVarCode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;calcVar&quot;</span><span class="p">;</span>
<span class="c1">// The (optional) universallly unique identifier</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">char</span><span class="o">*</span><span class="w"> </span><span class="n">calculatedVarUUID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">;</span>

<span class="c1">// Finally, Create a calculated variable and return a variable pointer to it</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">calculatedVar</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Variable</span><span class="p">(</span>
<span class="w">    </span><span class="n">calculateVariableValue</span><span class="p">,</span><span class="w"> </span><span class="n">calculatedVarResolution</span><span class="p">,</span><span class="w"> </span><span class="n">calculatedVarName</span><span class="p">,</span>
<span class="w">    </span><span class="n">calculatedVarUnit</span><span class="p">,</span><span class="w"> </span><span class="n">calculatedVarCode</span><span class="p">,</span><span class="w"> </span><span class="n">calculatedVarUUID</span><span class="p">);</span>
<span class="cm">/** End [calculated_variables] */</span>


<span class="cp">#if defined BUILD_TEST_CREATE_IN_ARRAY</span>
<span class="c1">// ==========================================================================</span>
<span class="c1">//  Creating the Variable Array[s] and Filling with Variable Objects</span>
<span class="c1">//  NOTE:  This shows three differnt ways of creating the same variable array</span>
<span class="c1">//         and filling it with variables</span>
<span class="c1">// ==========================================================================</span>
<span class="cm">/** Start [variables_create_in_array] */</span>
<span class="c1">// Version 1: Create pointers for all of the variables from the sensors,</span>
<span class="c1">// at the same time putting them into an array</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">variableList</span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">ProcessorStats_SampleNumber</span><span class="p">(</span><span class="o">&amp;</span><span class="n">mcuBoard</span><span class="p">,</span>
<span class="w">                                    </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">ProcessorStats_FreeRam</span><span class="p">(</span><span class="o">&amp;</span><span class="n">mcuBoard</span><span class="p">,</span>
<span class="w">                               </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">ProcessorStats_Battery</span><span class="p">(</span><span class="o">&amp;</span><span class="n">mcuBoard</span><span class="p">,</span>
<span class="w">                               </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="c1">// new MaximDS3231_Temp(&amp;ds3231, &quot;12345678-abcd-1234-ef00-1234567890ab&quot;),</span>
<span class="w">    </span><span class="c1">//  ... Add more variables as needed!</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">Modem_RSSI</span><span class="p">(</span><span class="o">&amp;</span><span class="n">modem</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">Modem_SignalPercent</span><span class="p">(</span><span class="o">&amp;</span><span class="n">modem</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">Modem_Temp</span><span class="p">(</span><span class="o">&amp;</span><span class="n">modem</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">Variable</span><span class="p">(</span><span class="n">calculateVariableValue</span><span class="p">,</span><span class="w"> </span><span class="n">calculatedVarResolution</span><span class="p">,</span>
<span class="w">                 </span><span class="n">calculatedVarName</span><span class="p">,</span><span class="w"> </span><span class="n">calculatedVarUnit</span><span class="p">,</span><span class="w"> </span><span class="n">calculatedVarCode</span><span class="p">,</span>
<span class="w">                 </span><span class="n">calculatedVarUUID</span><span class="p">),</span>
<span class="p">};</span>
<span class="c1">// Count up the number of pointers in the array</span>
<span class="kr">int</span><span class="w"> </span><span class="n">variableCount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kr">sizeof</span><span class="p">(</span><span class="n">variableList</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="kr">sizeof</span><span class="p">(</span><span class="n">variableList</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>
<span class="c1">// Create the VariableArray object</span>
<span class="n">VariableArray</span><span class="w"> </span><span class="nf">varArray</span><span class="p">(</span><span class="n">variableCount</span><span class="p">,</span><span class="w"> </span><span class="n">variableList</span><span class="p">);</span>
<span class="cm">/** End [variables_create_in_array] */</span>
<span class="c1">// ==========================================================================</span>


<span class="cp">#elif defined BUILD_TEST_SEPARATE_UUIDS</span>
<span class="cm">/** Start [variables_separate_uuids] */</span>
<span class="c1">// Version 2: Create two separate arrays, on for the variables and a separate</span>
<span class="c1">// one for the UUID&#39;s, then give both as input to the variable array</span>
<span class="c1">// constructor.  Be cautious when doing this though because order is CRUCIAL!</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">variableList</span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">ProcessorStats_SampleNumber</span><span class="p">(</span><span class="o">&amp;</span><span class="n">mcuBoard</span><span class="p">),</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">ProcessorStats_FreeRam</span><span class="p">(</span><span class="o">&amp;</span><span class="n">mcuBoard</span><span class="p">),</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">ProcessorStats_Battery</span><span class="p">(</span><span class="o">&amp;</span><span class="n">mcuBoard</span><span class="p">),</span>
<span class="w">    </span><span class="c1">// new MaximDS3231_Temp(&amp;ds3231),</span>
<span class="w">    </span><span class="c1">//  ... Add all of your variables!</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">Modem_RSSI</span><span class="p">(</span><span class="o">&amp;</span><span class="n">modem</span><span class="p">),</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">Modem_SignalPercent</span><span class="p">(</span><span class="o">&amp;</span><span class="n">modem</span><span class="p">),</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">Modem_Temp</span><span class="p">(</span><span class="o">&amp;</span><span class="n">modem</span><span class="p">),</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">Variable</span><span class="p">(</span><span class="n">calculateVariableValue</span><span class="p">,</span><span class="w"> </span><span class="n">calculatedVarResolution</span><span class="p">,</span>
<span class="w">                 </span><span class="n">calculatedVarName</span><span class="p">,</span><span class="w"> </span><span class="n">calculatedVarUnit</span><span class="p">,</span><span class="w"> </span><span class="n">calculatedVarCode</span><span class="p">),</span>
<span class="p">};</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">char</span><span class="o">*</span><span class="w"> </span><span class="n">UUIDs</span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="c1">//  ... The number of UUID&#39;s must match the number of variables!</span>
<span class="w">    </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">,</span>
<span class="p">};</span>
<span class="c1">// Count up the number of pointers in the array</span>
<span class="kr">int</span><span class="w"> </span><span class="n">variableCount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kr">sizeof</span><span class="p">(</span><span class="n">variableList</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="kr">sizeof</span><span class="p">(</span><span class="n">variableList</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>
<span class="c1">// Create the VariableArray object and attach the UUID&#39;s</span>
<span class="n">VariableArray</span><span class="w"> </span><span class="nf">varArray</span><span class="p">(</span><span class="n">variableCount</span><span class="p">,</span><span class="w"> </span><span class="n">variableList</span><span class="p">,</span><span class="w"> </span><span class="n">UUIDs</span><span class="p">);</span>
<span class="cm">/** End [variables_separate_uuids] */</span>
<span class="c1">// ==========================================================================</span>


<span class="cp">#else  </span><span class="c1">// BUILD_TEST_PRE_NAMED_VARS</span>
<span class="cm">/** Start [variables_pre_named] */</span>
<span class="c1">// Version 3: Fill array with already created and named variable pointers</span>
<span class="n">Variable</span><span class="o">*</span><span class="w"> </span><span class="n">variableList</span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">mcuBoardSampNo</span><span class="p">,</span>
<span class="w">    </span><span class="n">mcuBoardAvailableRAM</span><span class="p">,</span>
<span class="w">    </span><span class="n">mcuBoardBatt</span><span class="p">,</span>
<span class="w">    </span><span class="n">calculatedVar</span><span class="p">,</span>
<span class="cp">#if defined(ARDUINO_ARCH_AVR) || defined(MS_SAMD_DS3231)</span>
<span class="w">    </span><span class="n">ds3231Temp</span><span class="p">,</span>
<span class="cp">#endif</span>
<span class="cp">#if defined BUILD_SENSOR_AO_SONG_AM2315</span>
<span class="w">    </span><span class="n">am2315Humid</span><span class="p">,</span>
<span class="w">    </span><span class="n">am2315Temp</span><span class="p">,</span>
<span class="cp">#endif</span>
<span class="cp">#if defined BUILD_SENSOR_AO_SONG_DHT</span>
<span class="w">    </span><span class="n">dhtHumid</span><span class="p">,</span>
<span class="w">    </span><span class="n">dhtTemp</span><span class="p">,</span>
<span class="w">    </span><span class="n">dhtHI</span><span class="p">,</span>
<span class="cp">#endif</span>
<span class="cp">#if defined BUILD_SENSOR_APOGEE_SQ212</span>
<span class="w">    </span><span class="n">sq212PAR</span><span class="p">,</span>
<span class="w">    </span><span class="n">sq212voltage</span><span class="p">,</span>
<span class="cp">#endif</span>
<span class="cp">#if defined BUILD_SENSOR_ATLAS_SCIENTIFIC_CO2</span>
<span class="w">    </span><span class="n">atlasCO2CO2</span><span class="p">,</span>
<span class="w">    </span><span class="n">atlasCO2Temp</span><span class="p">,</span>
<span class="cp">#endif</span>
<span class="cp">#if defined BUILD_SENSOR_ATLAS_SCIENTIFIC_DO</span>
<span class="w">    </span><span class="n">atlasDOconc</span><span class="p">,</span>
<span class="w">    </span><span class="n">atlasDOpct</span><span class="p">,</span>
<span class="cp">#endif</span>
<span class="cp">#if defined BUILD_SENSOR_ATLAS_SCIENTIFIC_ORP</span>
<span class="w">    </span><span class="n">atlasORPot</span><span class="p">,</span>
<span class="cp">#endif</span>
<span class="cp">#if defined BUILD_SENSOR_ATLAS_SCIENTIFIC_PH</span>
<span class="w">    </span><span class="n">atlaspHpH</span><span class="p">,</span>
<span class="cp">#endif</span>
<span class="cp">#if defined BUILD_SENSOR_ATLAS_SCIENTIFIC_RTD</span>
<span class="w">    </span><span class="n">atlasTemp</span><span class="p">,</span>
<span class="cp">#endif</span>
<span class="cp">#if defined BUILD_SENSOR_ATLAS_SCIENTIFIC_EC</span>
<span class="w">    </span><span class="n">atlasCond</span><span class="p">,</span>
<span class="w">    </span><span class="n">atlasTDS</span><span class="p">,</span>
<span class="w">    </span><span class="n">atlasSal</span><span class="p">,</span>
<span class="w">    </span><span class="n">atlasGrav</span><span class="p">,</span>
<span class="w">    </span><span class="n">atlasSpCond</span><span class="p">,</span>
<span class="cp">#endif</span>
<span class="cp">#if defined BUILD_SENSOR_BOSCH_BME280</span>
<span class="w">    </span><span class="n">bme280Temp</span><span class="p">,</span>
<span class="w">    </span><span class="n">bme280Humid</span><span class="p">,</span>
<span class="w">    </span><span class="n">bme280Press</span><span class="p">,</span>
<span class="w">    </span><span class="n">bme280Alt</span><span class="p">,</span>
<span class="cp">#endif</span>
<span class="cp">#if defined BUILD_SENSOR_BOSCH_BMP3XX</span>
<span class="w">    </span><span class="n">bmp3xxTemp</span><span class="p">,</span>
<span class="w">    </span><span class="n">bmp3xxPress</span><span class="p">,</span>
<span class="w">    </span><span class="n">bmp3xxAlt</span><span class="p">,</span>
<span class="cp">#endif</span>
<span class="cp">#if defined BUILD_SENSOR_CAMPBELL_CLARI_VUE10</span>
<span class="w">    </span><span class="n">clarivueTurbidity</span><span class="p">,</span>
<span class="w">    </span><span class="n">clarivueTemp</span><span class="p">,</span>
<span class="w">    </span><span class="n">clarivueError</span><span class="p">,</span>
<span class="cp">#endif</span>
<span class="cp">#if defined BUILD_SENSOR_CAMPBELL_OBS3</span>
<span class="w">    </span><span class="n">obs3TurbLow</span><span class="p">,</span>
<span class="w">    </span><span class="n">obs3VoltLow</span><span class="p">,</span>
<span class="w">    </span><span class="n">obs3TurbHigh</span><span class="p">,</span>
<span class="w">    </span><span class="n">obs3VoltHigh</span><span class="p">,</span>
<span class="cp">#endif</span>
<span class="cp">#if defined BUILD_SENSOR_CAMPBELL_RAIN_VUE10</span>
<span class="w">    </span><span class="n">rainvuePrecipitation</span><span class="p">,</span>
<span class="w">    </span><span class="n">rainvueTips</span><span class="p">,</span>
<span class="w">    </span><span class="n">rainvueRainRateAve</span><span class="p">,</span>
<span class="w">    </span><span class="n">rainvueRainRateMax</span><span class="p">,</span>
<span class="cp">#endif</span>
<span class="cp">#if defined BUILD_SENSOR_DECAGON_CTD</span>
<span class="w">    </span><span class="n">ctdCond</span><span class="p">,</span>
<span class="w">    </span><span class="n">ctdTemp</span><span class="p">,</span>
<span class="w">    </span><span class="n">ctdDepth</span><span class="p">,</span>
<span class="cp">#endif</span>
<span class="cp">#if defined BUILD_SENSOR_DECAGON_ES2</span>
<span class="w">    </span><span class="n">es2Cond</span><span class="p">,</span>
<span class="w">    </span><span class="n">es2Temp</span><span class="p">,</span>
<span class="cp">#endif</span>
<span class="cp">#if defined BUILD_SENSOR_EVERLIGHT_ALSPT19</span>
<span class="w">    </span><span class="n">alsPt19Volt</span><span class="p">,</span>
<span class="w">    </span><span class="n">alsPt19Current</span><span class="p">,</span>
<span class="w">    </span><span class="n">alsPt19Lux</span><span class="p">,</span>
<span class="cp">#endif</span>
<span class="cp">#if defined BUILD_SENSOR_TIADS1X15</span>
<span class="w">    </span><span class="n">ads1x15Volt</span><span class="p">,</span>
<span class="cp">#endif</span>
<span class="cp">#if defined BUILD_SENSOR_FREESCALE_MPL115A2</span>
<span class="w">    </span><span class="n">mplTemp</span><span class="p">,</span>
<span class="w">    </span><span class="n">mplPress</span><span class="p">,</span>
<span class="cp">#endif</span>
<span class="cp">#if defined BUILD_SENSOR_IN_SITU_RDO</span>
<span class="w">    </span><span class="n">rdoTemp</span><span class="p">,</span>
<span class="w">    </span><span class="n">rdoDOpct</span><span class="p">,</span>
<span class="w">    </span><span class="n">rdoDOmgL</span><span class="p">,</span>
<span class="w">    </span><span class="n">rdoO2pp</span><span class="p">,</span>
<span class="cp">#endif</span>
<span class="cp">#if defined BUILD_SENSOR_IN_SITU_TROLL_SDI12A</span>
<span class="w">    </span><span class="n">trollPressure</span><span class="p">,</span>
<span class="w">    </span><span class="n">trollTemp</span><span class="p">,</span>
<span class="w">    </span><span class="n">trollDepth</span><span class="p">,</span>
<span class="cp">#endif</span>
<span class="cp">#if defined BUILD_SENSOR_KELLER_ACCULEVEL</span>
<span class="w">    </span><span class="n">acculevPress</span><span class="p">,</span>
<span class="w">    </span><span class="n">acculevTemp</span><span class="p">,</span>
<span class="w">    </span><span class="n">acculevHeight</span><span class="p">,</span>
<span class="cp">#endif</span>
<span class="cp">#if defined BUILD_SENSOR_KELLER_NANOLEVEL</span>
<span class="w">    </span><span class="n">nanolevPress</span><span class="p">,</span>
<span class="w">    </span><span class="n">nanolevTemp</span><span class="p">,</span>
<span class="w">    </span><span class="n">nanolevHeight</span><span class="p">,</span>
<span class="cp">#endif</span>
<span class="cp">#if defined BUILD_SENSOR_MAX_BOTIX_SONAR</span>
<span class="w">    </span><span class="n">sonar1Range</span><span class="p">,</span>
<span class="cp">#endif</span>
<span class="cp">#if defined BUILD_SENSOR_MAXIM_DS18</span>
<span class="w">    </span><span class="n">ds18Temp</span><span class="p">,</span>
<span class="cp">#endif</span>
<span class="cp">#if defined BUILD_SENSOR_MEA_SPEC_MS5803</span>
<span class="w">    </span><span class="n">ms5803Temp</span><span class="p">,</span>
<span class="w">    </span><span class="n">ms5803Press</span><span class="p">,</span>
<span class="cp">#endif</span>
<span class="cp">#if defined BUILD_SENSOR_DECAGON_5TM</span>
<span class="w">    </span><span class="n">fivetmEa</span><span class="p">,</span>
<span class="w">    </span><span class="n">fivetmVWC</span><span class="p">,</span>
<span class="w">    </span><span class="n">fivetmTemp</span><span class="p">,</span>
<span class="cp">#endif</span>
<span class="cp">#if defined BUILD_SENSOR_METER_HYDROS21</span>
<span class="w">    </span><span class="n">hydros21Cond</span><span class="p">,</span>
<span class="w">    </span><span class="n">hydros21Temp</span><span class="p">,</span>
<span class="w">    </span><span class="n">hydros21Depth</span><span class="p">,</span>
<span class="cp">#endif</span>
<span class="cp">#if defined BUILD_SENSOR_METER_TEROS11</span>
<span class="w">    </span><span class="n">teros11Ea</span><span class="p">,</span>
<span class="w">    </span><span class="n">teros11Temp</span><span class="p">,</span>
<span class="w">    </span><span class="n">teros11VWC</span><span class="p">,</span>
<span class="w">    </span><span class="n">teros11Count</span><span class="p">,</span>
<span class="cp">#endif</span>
<span class="cp">#if defined BUILD_SENSOR_PALEO_TERRA_REDOX</span>
<span class="w">    </span><span class="n">ptVolt</span><span class="p">,</span>
<span class="cp">#endif</span>
<span class="cp">#if defined BUILD_SENSOR_RAIN_COUNTER_I2C</span>
<span class="w">    </span><span class="n">tbi2cTips</span><span class="p">,</span>
<span class="w">    </span><span class="n">tbi2cDepth</span><span class="p">,</span>
<span class="cp">#endif</span>
<span class="cp">#if defined BUILD_SENSOR_SENSIRION_SHT4X</span>
<span class="w">    </span><span class="n">sht4xHumid</span><span class="p">,</span>
<span class="w">    </span><span class="n">sht4xTemp</span><span class="p">,</span>
<span class="cp">#endif</span>
<span class="cp">#if defined BUILD_SENSOR_TALLY_COUNTER_I2C</span>
<span class="w">    </span><span class="n">tallyEvents</span><span class="p">,</span>
<span class="cp">#endif</span>
<span class="cp">#if defined BUILD_SENSOR_TI_INA219</span>
<span class="w">    </span><span class="n">inaVolt</span><span class="p">,</span>
<span class="w">    </span><span class="n">inaCurrent</span><span class="p">,</span>
<span class="w">    </span><span class="n">inaPower</span><span class="p">,</span>
<span class="cp">#endif</span>
<span class="cp">#if defined BUILD_SENSOR_TURNER_CYCLOPS</span>
<span class="w">    </span><span class="n">cyclopsVoltage</span><span class="p">,</span>
<span class="w">    </span><span class="n">cyclopsChloro</span><span class="p">,</span>
<span class="w">    </span><span class="n">cyclopsRWT</span><span class="p">,</span>
<span class="w">    </span><span class="n">cyclopsFluoroscein</span><span class="p">,</span>
<span class="w">    </span><span class="n">cyclopsPhycocyanin</span><span class="p">,</span>
<span class="w">    </span><span class="n">cyclopsPhycoerythrin</span><span class="p">,</span>
<span class="w">    </span><span class="n">cyclopsCDOM</span><span class="p">,</span>
<span class="w">    </span><span class="n">cyclopsCrudeOil</span><span class="p">,</span>
<span class="w">    </span><span class="n">cyclopsBrighteners</span><span class="p">,</span>
<span class="w">    </span><span class="n">cyclopsTurbidity</span><span class="p">,</span>
<span class="w">    </span><span class="n">cyclopsPTSA</span><span class="p">,</span>
<span class="w">    </span><span class="n">cyclopsBTEX</span><span class="p">,</span>
<span class="w">    </span><span class="n">cyclopsTryptophan</span><span class="p">,</span>
<span class="w">    </span><span class="n">cyclopsRedChloro</span><span class="p">,</span>
<span class="cp">#endif</span>
<span class="cp">#if defined BUILD_SENSOR_ANALOG_ELEC_CONDUCTIVITY</span>
<span class="w">    </span><span class="n">analogEc_cond</span><span class="p">,</span>
<span class="w">    </span><span class="n">analogEc_spcond</span><span class="p">,</span>
<span class="cp">#endif</span>
<span class="cp">#if defined BUILD_SENSOR_YOSEMITECH_Y504</span>
<span class="w">    </span><span class="n">y504DOpct</span><span class="p">,</span>
<span class="w">    </span><span class="n">y504DOmgL</span><span class="p">,</span>
<span class="w">    </span><span class="n">y504Temp</span><span class="p">,</span>
<span class="cp">#endif</span>
<span class="cp">#if defined BUILD_SENSOR_YOSEMITECH_Y510</span>
<span class="w">    </span><span class="n">y510Turb</span><span class="p">,</span>
<span class="w">    </span><span class="n">y510Temp</span><span class="p">,</span>
<span class="cp">#endif</span>
<span class="cp">#if defined BUILD_SENSOR_YOSEMITECH_Y511</span>
<span class="w">    </span><span class="n">y511Turb</span><span class="p">,</span>
<span class="w">    </span><span class="n">y511Temp</span><span class="p">,</span>
<span class="cp">#endif</span>
<span class="cp">#if defined BUILD_SENSOR_YOSEMITECH_Y514</span>
<span class="w">    </span><span class="n">y514Chloro</span><span class="p">,</span>
<span class="w">    </span><span class="n">y514Temp</span><span class="p">,</span>
<span class="cp">#endif</span>
<span class="cp">#if defined BUILD_SENSOR_YOSEMITECH_Y520</span>
<span class="w">    </span><span class="n">y520Cond</span><span class="p">,</span>
<span class="w">    </span><span class="n">y520Temp</span><span class="p">,</span>
<span class="cp">#endif</span>
<span class="cp">#if defined BUILD_SENSOR_YOSEMITECH_Y532</span>
<span class="w">    </span><span class="n">y532Voltage</span><span class="p">,</span>
<span class="w">    </span><span class="n">y532pH</span><span class="p">,</span>
<span class="w">    </span><span class="n">y532Temp</span><span class="p">,</span>
<span class="cp">#endif</span>
<span class="cp">#if defined BUILD_SENSOR_YOSEMITECH_Y533</span>
<span class="w">    </span><span class="n">y533ORP</span><span class="p">,</span>
<span class="w">    </span><span class="n">y533Temp</span><span class="p">,</span>
<span class="cp">#endif</span>
<span class="cp">#if defined BUILD_SENSOR_YOSEMITECH_Y551</span>
<span class="w">    </span><span class="n">y551COD</span><span class="p">,</span>
<span class="w">    </span><span class="n">y551Turbid</span><span class="p">,</span>
<span class="w">    </span><span class="n">y551Temp</span><span class="p">,</span>
<span class="cp">#endif</span>
<span class="cp">#if defined BUILD_SENSOR_YOSEMITECH_Y560</span>
<span class="w">    </span><span class="n">y560NH4_N</span><span class="p">,</span>
<span class="w">    </span><span class="n">y560pH</span><span class="p">,</span>
<span class="w">    </span><span class="n">y560Temp</span><span class="p">,</span>
<span class="cp">#endif</span>
<span class="cp">#if defined BUILD_SENSOR_YOSEMITECH_Y700</span>
<span class="w">    </span><span class="n">y700Pres</span><span class="p">,</span>
<span class="w">    </span><span class="n">y700Temp</span><span class="p">,</span>
<span class="cp">#endif</span>
<span class="cp">#if defined BUILD_SENSOR_YOSEMITECH_Y4000</span>
<span class="w">    </span><span class="n">y4000DO</span><span class="p">,</span>
<span class="w">    </span><span class="n">y4000Turb</span><span class="p">,</span>
<span class="w">    </span><span class="n">y4000Cond</span><span class="p">,</span>
<span class="w">    </span><span class="n">y4000pH</span><span class="p">,</span>
<span class="w">    </span><span class="n">y4000Temp</span><span class="p">,</span>
<span class="w">    </span><span class="n">y4000ORP</span><span class="p">,</span>
<span class="w">    </span><span class="n">y4000Chloro</span><span class="p">,</span>
<span class="w">    </span><span class="n">y4000BGA</span><span class="p">,</span>
<span class="cp">#endif</span>
<span class="cp">#if defined BUILD_SENSOR_ZEBRA_TECH_D_OPTO</span>
<span class="w">    </span><span class="n">dOptoDOpct</span><span class="p">,</span>
<span class="w">    </span><span class="n">dOptoDOmgL</span><span class="p">,</span>
<span class="w">    </span><span class="n">dOptoTemp</span><span class="p">,</span>
<span class="cp">#endif</span>
<span class="w">    </span><span class="n">modemRSSI</span><span class="p">,</span>
<span class="w">    </span><span class="n">modemSignalPct</span><span class="p">,</span>
<span class="cp">#ifdef TINY_GSM_MODEM_HAS_BATTERY</span>
<span class="w">    </span><span class="n">modemBatteryState</span><span class="p">,</span>
<span class="w">    </span><span class="n">modemBatteryPct</span><span class="p">,</span>
<span class="w">    </span><span class="n">modemBatteryVoltage</span><span class="p">,</span>
<span class="cp">#endif</span>
<span class="cp">#ifdef TINY_GSM_MODEM_HAS_TEMPERATURE</span>
<span class="w">    </span><span class="n">modemTemperature</span><span class="p">,</span>
<span class="cp">#endif</span>
<span class="p">};</span>
<span class="c1">// Count up the number of pointers in the array</span>
<span class="kr">int</span><span class="w"> </span><span class="n">variableCount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kr">sizeof</span><span class="p">(</span><span class="n">variableList</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="kr">sizeof</span><span class="p">(</span><span class="n">variableList</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>
<span class="c1">// Create the VariableArray object</span>
<span class="n">VariableArray</span><span class="w"> </span><span class="nf">varArray</span><span class="p">(</span><span class="n">variableCount</span><span class="p">,</span><span class="w"> </span><span class="n">variableList</span><span class="p">);</span>
<span class="cm">/** End [variables_pre_named] */</span>
<span class="cp">#endif</span>


<span class="c1">// ==========================================================================</span>
<span class="c1">//  The Logger Object[s]</span>
<span class="c1">// ==========================================================================</span>
<span class="cm">/** Start [loggers] */</span>
<span class="c1">// Create a new logger instance</span>
<span class="n">Logger</span><span class="w"> </span><span class="nf">dataLogger</span><span class="p">(</span><span class="n">LoggerID</span><span class="p">,</span><span class="w"> </span><span class="n">loggingInterval</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">varArray</span><span class="p">);</span>
<span class="cm">/** End [loggers] */</span>


<span class="cp">#if defined BUILD_PUB_ENVIRO_DIY_PUBLISHER</span>
<span class="c1">// ==========================================================================</span>
<span class="c1">//  A Publisher to Monitor My Watershed / EnviroDIY Data Sharing Portal</span>
<span class="c1">// ==========================================================================</span>
<span class="cm">/** Start [enviro_diy_publisher] */</span>
<span class="c1">// Device registration and sampling feature information can be obtained after</span>
<span class="c1">// registration at https://monitormywatershed.org or https://data.envirodiy.org</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">char</span><span class="o">*</span><span class="w"> </span><span class="n">registrationToken</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">;</span><span class="w">  </span><span class="c1">// Device registration token</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">char</span><span class="o">*</span><span class="w"> </span><span class="n">samplingFeature</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="s">&quot;12345678-abcd-1234-ef00-1234567890ab&quot;</span><span class="p">;</span><span class="w">  </span><span class="c1">// Sampling feature UUID</span>

<span class="c1">// Create a data publisher for the Monitor My Watershed/EnviroDIY POST endpoint</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;publishers/EnviroDIYPublisher.h&gt;</span>
<span class="n">EnviroDIYPublisher</span><span class="w"> </span><span class="nf">EnviroDIYPOST</span><span class="p">(</span><span class="n">dataLogger</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">modem</span><span class="p">.</span><span class="n">gsmClient</span><span class="p">,</span>
<span class="w">                                 </span><span class="n">registrationToken</span><span class="p">,</span><span class="w"> </span><span class="n">samplingFeature</span><span class="p">);</span>
<span class="cm">/** End [enviro_diy_publisher] */</span>
<span class="cp">#endif</span>


<span class="cp">#if defined BUILD_PUB_DREAM_HOST_PUBLISHER</span>
<span class="c1">// ==========================================================================</span>
<span class="c1">//  A Publisher to DreamHost</span>
<span class="c1">// ==========================================================================</span>
<span class="cm">/** Start [dream_host_publisher] */</span>
<span class="c1">// NOTE:  This is an outdated data collection tool used by the Stroud Center.</span>
<span class="c1">// It very, very unlikely that you will use this.</span>

<span class="kr">const</span><span class="w"> </span><span class="kr">char</span><span class="o">*</span><span class="w"> </span><span class="n">DreamHostPortalRX</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;xxxx&quot;</span><span class="p">;</span>

<span class="c1">// Create a data publisher to DreamHost</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;publishers/DreamHostPublisher.h&gt;</span>
<span class="n">DreamHostPublisher</span><span class="w"> </span><span class="nf">DreamHostGET</span><span class="p">(</span><span class="n">dataLogger</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">modem</span><span class="p">.</span><span class="n">gsmClient</span><span class="p">,</span>
<span class="w">                                </span><span class="n">DreamHostPortalRX</span><span class="p">);</span>
<span class="cm">/** End [dream_host_publisher] */</span>
<span class="cp">#endif</span>


<span class="cp">#if defined BUILD_PUB_THING_SPEAK_PUBLISHER</span>
<span class="c1">// ==========================================================================</span>
<span class="c1">//  ThingSpeak Data Publisher</span>
<span class="c1">// ==========================================================================</span>
<span class="cm">/** Start [thing_speak_publisher] */</span>
<span class="c1">// Create a channel with fields on ThingSpeak in advance.</span>
<span class="c1">// The fields will be sent in exactly the order they are in the variable array.</span>
<span class="c1">// Any custom name or identifier given to the field on ThingSpeak is irrelevant.</span>
<span class="c1">// No more than 8 fields of data can go to any one channel.  Any fields beyond</span>
<span class="c1">// the eighth in the array will be ignored.</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">char</span><span class="o">*</span><span class="w"> </span><span class="n">thingSpeakMQTTKey</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="s">&quot;XXXXXXXXXXXXXXXX&quot;</span><span class="p">;</span><span class="w">  </span><span class="c1">// Your MQTT API Key from Account &gt; MyProfile.</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">char</span><span class="o">*</span><span class="w"> </span><span class="n">thingSpeakChannelID</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="s">&quot;######&quot;</span><span class="p">;</span><span class="w">  </span><span class="c1">// The numeric channel id for your channel</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">char</span><span class="o">*</span><span class="w"> </span><span class="n">thingSpeakChannelKey</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="s">&quot;XXXXXXXXXXXXXXXX&quot;</span><span class="p">;</span><span class="w">  </span><span class="c1">// The Write API Key for your channel</span>

<span class="c1">// Create a data publisher for ThingSpeak</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;publishers/ThingSpeakPublisher.h&gt;</span>
<span class="n">ThingSpeakPublisher</span><span class="w"> </span><span class="nf">TsMqtt</span><span class="p">(</span><span class="n">dataLogger</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">modem</span><span class="p">.</span><span class="n">gsmClient</span><span class="p">,</span><span class="w"> </span><span class="n">thingSpeakMQTTKey</span><span class="p">,</span>
<span class="w">                           </span><span class="n">thingSpeakChannelID</span><span class="p">,</span><span class="w"> </span><span class="n">thingSpeakChannelKey</span><span class="p">);</span>
<span class="cm">/** End [thing_speak_publisher] */</span>
<span class="cp">#endif</span>


<span class="cp">#if defined BUILD_PUB_UBIDOTS_PUBLISHER</span>
<span class="c1">// ==========================================================================</span>
<span class="c1">//  Ubidots Data Publisher</span>
<span class="c1">// ==========================================================================</span>
<span class="cm">/** Start [ubidots_publisher] */</span>
<span class="c1">// The authentication token from Ubdots, either the Organization&#39;s Integration</span>
<span class="c1">// Token (under Users &gt; Organization menu,visible by Admin only) OR the STEM</span>
<span class="c1">// User&#39;s Device Token (under the specific evice&#39;s setup panel).</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">char</span><span class="o">*</span><span class="w"> </span><span class="n">ubidotsToken</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;XXXXXXXXXXXXXXXX&quot;</span><span class="p">;</span>
<span class="c1">// The device API Label from Ubidots, derived from the user-specified device</span>
<span class="c1">// name.</span>
<span class="kr">const</span><span class="w"> </span><span class="kr">char</span><span class="o">*</span><span class="w"> </span><span class="n">ubidotsDeviceID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;######&quot;</span><span class="p">;</span>

<span class="c1">// Create a data publisher for ThingSpeak</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;publishers/UbidotsPublisher.h&gt;</span>
<span class="n">UbidotsPublisher</span><span class="w"> </span><span class="nf">ubidots</span><span class="p">(</span><span class="n">dataLogger</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">modem</span><span class="p">.</span><span class="n">gsmClient</span><span class="p">,</span><span class="w"> </span><span class="n">ubidotsToken</span><span class="p">,</span>
<span class="w">                         </span><span class="n">ubidotsDeviceID</span><span class="p">);</span>
<span class="cm">/** End [ubidots_publisher] */</span>
<span class="cp">#endif</span>


<span class="c1">// ==========================================================================</span>
<span class="c1">//  Working Functions</span>
<span class="c1">// ==========================================================================</span>
<span class="cm">/** Start [working_functions] */</span>
<span class="c1">// Flashes the LED&#39;s on the primary board</span>
<span class="kr">void</span><span class="w"> </span><span class="nf">greenredflash</span><span class="p">(</span><span class="kr">uint8_t</span><span class="w"> </span><span class="n">numFlash</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="kr">uint8_t</span><span class="w"> </span><span class="n">rate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">75</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kr">uint8_t</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">numFlash</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nf">digitalWrite</span><span class="p">(</span><span class="n">greenLED</span><span class="p">,</span><span class="w"> </span><span class="kr">HIGH</span><span class="p">);</span>
<span class="w">        </span><span class="nf">digitalWrite</span><span class="p">(</span><span class="n">redLED</span><span class="p">,</span><span class="w"> </span><span class="kr">LOW</span><span class="p">);</span>
<span class="w">        </span><span class="nf">delay</span><span class="p">(</span><span class="n">rate</span><span class="p">);</span>
<span class="w">        </span><span class="nf">digitalWrite</span><span class="p">(</span><span class="n">greenLED</span><span class="p">,</span><span class="w"> </span><span class="kr">LOW</span><span class="p">);</span>
<span class="w">        </span><span class="nf">digitalWrite</span><span class="p">(</span><span class="n">redLED</span><span class="p">,</span><span class="w"> </span><span class="kr">HIGH</span><span class="p">);</span>
<span class="w">        </span><span class="nf">delay</span><span class="p">(</span><span class="n">rate</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="nf">digitalWrite</span><span class="p">(</span><span class="n">redLED</span><span class="p">,</span><span class="w"> </span><span class="kr">LOW</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// Uses the processor sensor object to read the battery voltage</span>
<span class="c1">// NOTE: This will actually return the battery level from the previous update!</span>
<span class="kr">float</span><span class="w"> </span><span class="nf">getBatteryVoltage</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">mcuBoard</span><span class="p">.</span><span class="n">sensorValues</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">-9999</span><span class="p">)</span><span class="w"> </span><span class="n">mcuBoard</span><span class="p">.</span><span class="n">update</span><span class="p">();</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">mcuBoard</span><span class="p">.</span><span class="n">sensorValues</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
<span class="p">}</span>
<span class="cm">/** End [working_functions] */</span>


<span class="c1">// ==========================================================================</span>
<span class="c1">//  Arduino Setup Function</span>
<span class="c1">// ==========================================================================</span>
<span class="kr">void</span><span class="w"> </span><span class="nb">setup</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="cm">/** Start [setup_wait] */</span>
<span class="c1">// Wait for USB connection to be established by PC</span>
<span class="c1">// NOTE:  Only use this when debugging - if not connected to a PC, this</span>
<span class="c1">// could prevent the script from starting</span>
<span class="cp">#if defined SERIAL_PORT_USBVIRTUAL</span>
<span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">SERIAL_PORT_USBVIRTUAL</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">(</span><span class="nf">millis</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mf">10000L</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// wait</span>
<span class="w">    </span><span class="p">}</span>
<span class="cp">#endif</span>
<span class="w">    </span><span class="cm">/** End [setup_wait] */</span>

<span class="w">    </span><span class="cm">/** Start [setup_prints] */</span>
<span class="w">    </span><span class="c1">// Start the primary serial connection</span>
<span class="w">    </span><span class="nf">Serial</span><span class="p">.</span><span class="nf">begin</span><span class="p">(</span><span class="n">serialBaud</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// Print a start-up note to the first serial port</span>
<span class="w">    </span><span class="nf">Serial</span><span class="p">.</span><span class="nf">print</span><span class="p">(</span><span class="n">F</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n\n</span><span class="s">Now running &quot;</span><span class="p">));</span>
<span class="w">    </span><span class="nf">Serial</span><span class="p">.</span><span class="nf">print</span><span class="p">(</span><span class="n">sketchName</span><span class="p">);</span>
<span class="w">    </span><span class="nf">Serial</span><span class="p">.</span><span class="nf">print</span><span class="p">(</span><span class="n">F</span><span class="p">(</span><span class="s">&quot; on Logger &quot;</span><span class="p">));</span>
<span class="w">    </span><span class="nf">Serial</span><span class="p">.</span><span class="nf">println</span><span class="p">(</span><span class="n">LoggerID</span><span class="p">);</span>
<span class="w">    </span><span class="nf">Serial</span><span class="p">.</span><span class="nf">println</span><span class="p">();</span>

<span class="w">    </span><span class="nf">Serial</span><span class="p">.</span><span class="nf">print</span><span class="p">(</span><span class="n">F</span><span class="p">(</span><span class="s">&quot;Using ModularSensors Library version &quot;</span><span class="p">));</span>
<span class="w">    </span><span class="nf">Serial</span><span class="p">.</span><span class="nf">println</span><span class="p">(</span><span class="n">MODULAR_SENSORS_VERSION</span><span class="p">);</span>
<span class="w">    </span><span class="nf">Serial</span><span class="p">.</span><span class="nf">print</span><span class="p">(</span><span class="n">F</span><span class="p">(</span><span class="s">&quot;TinyGSM Library version &quot;</span><span class="p">));</span>
<span class="w">    </span><span class="nf">Serial</span><span class="p">.</span><span class="nf">println</span><span class="p">(</span><span class="n">TINYGSM_VERSION</span><span class="p">);</span>
<span class="w">    </span><span class="nf">Serial</span><span class="p">.</span><span class="nf">println</span><span class="p">();</span>
<span class="cm">/** End [setup_prints] */</span>

<span class="cm">/** Start [setup_softserial] */</span>
<span class="c1">// Allow interrupts for software serial</span>
<span class="cp">#if defined SoftwareSerial_ExtInts_h</span>
<span class="w">    </span><span class="n">enableInterrupt</span><span class="p">(</span><span class="n">softSerialRx</span><span class="p">,</span><span class="w"> </span><span class="n">SoftwareSerial_ExtInts</span><span class="o">::</span><span class="n">handle_interrupt</span><span class="p">,</span>
<span class="w">                    </span><span class="n">CHANGE</span><span class="p">);</span>
<span class="cp">#endif</span>
<span class="cp">#if defined NeoSWSerial_h</span>
<span class="w">    </span><span class="n">enableInterrupt</span><span class="p">(</span><span class="n">neoSSerial1Rx</span><span class="p">,</span><span class="w"> </span><span class="n">neoSSerial1ISR</span><span class="p">,</span><span class="w"> </span><span class="n">CHANGE</span><span class="p">);</span>
<span class="cp">#endif</span>
<span class="w">    </span><span class="cm">/** End [setup_softserial] */</span>

<span class="w">    </span><span class="cm">/** Start [setup_serial_begins] */</span>
<span class="w">    </span><span class="c1">// Start the serial connection with the modem</span>
<span class="w">    </span><span class="n">modemSerial</span><span class="p">.</span><span class="nf">begin</span><span class="p">(</span><span class="n">modemBaud</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// Start the stream for the modbus sensors;</span>
<span class="w">    </span><span class="c1">// all currently supported modbus sensors use 9600 baud</span>
<span class="w">    </span><span class="n">modbusSerial</span><span class="p">.</span><span class="nf">begin</span><span class="p">(</span><span class="mi">9600</span><span class="p">);</span>

<span class="cp">#if defined BUILD_SENSOR_MAX_BOTIX_SONAR</span>
<span class="w">    </span><span class="c1">// Start the SoftwareSerial stream for the sonar; it will always be at 9600</span>
<span class="w">    </span><span class="c1">// baud</span>
<span class="w">    </span><span class="n">sonarSerial</span><span class="p">.</span><span class="nf">begin</span><span class="p">(</span><span class="mi">9600</span><span class="p">);</span>
<span class="cp">#endif</span>
<span class="cm">/** End [setup_serial_begins] */</span>

<span class="c1">// Assign pins SERCOM functionality for SAMD boards</span>
<span class="c1">// NOTE:  This must happen *after* the various serial.begin statements</span>
<span class="cm">/** Start [setup_samd_pins] */</span>
<span class="cp">#if defined ARDUINO_ARCH_SAMD</span>
<span class="cp">#ifndef ENABLE_SERIAL2</span>
<span class="w">    </span><span class="n">pinPeripheral</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="n">PIO_SERCOM</span><span class="p">);</span><span class="w">  </span><span class="c1">// Serial2 Tx/Dout = SERCOM1 Pad #2</span>
<span class="w">    </span><span class="n">pinPeripheral</span><span class="p">(</span><span class="mi">11</span><span class="p">,</span><span class="w"> </span><span class="n">PIO_SERCOM</span><span class="p">);</span><span class="w">  </span><span class="c1">// Serial2 Rx/Din = SERCOM1 Pad #0</span>
<span class="cp">#endif</span>
<span class="cp">#ifndef ENABLE_SERIAL3</span>
<span class="w">    </span><span class="n">pinPeripheral</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">PIO_SERCOM</span><span class="p">);</span><span class="w">  </span><span class="c1">// Serial3 Tx/Dout = SERCOM2 Pad #2</span>
<span class="w">    </span><span class="n">pinPeripheral</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="n">PIO_SERCOM</span><span class="p">);</span><span class="w">  </span><span class="c1">// Serial3 Rx/Din = SERCOM2 Pad #3</span>
<span class="cp">#endif</span>
<span class="cp">#endif</span>
<span class="w">    </span><span class="cm">/** End [setup_samd_pins] */</span>

<span class="w">    </span><span class="cm">/** Start [setup_flashing_led] */</span>
<span class="w">    </span><span class="c1">// Set up pins for the LED&#39;s</span>
<span class="w">    </span><span class="nf">pinMode</span><span class="p">(</span><span class="n">greenLED</span><span class="p">,</span><span class="w"> </span><span class="kr">OUTPUT</span><span class="p">);</span>
<span class="w">    </span><span class="nf">digitalWrite</span><span class="p">(</span><span class="n">greenLED</span><span class="p">,</span><span class="w"> </span><span class="kr">LOW</span><span class="p">);</span>
<span class="w">    </span><span class="nf">pinMode</span><span class="p">(</span><span class="n">redLED</span><span class="p">,</span><span class="w"> </span><span class="kr">OUTPUT</span><span class="p">);</span>
<span class="w">    </span><span class="nf">digitalWrite</span><span class="p">(</span><span class="n">redLED</span><span class="p">,</span><span class="w"> </span><span class="kr">LOW</span><span class="p">);</span>
<span class="w">    </span><span class="c1">// Blink the LEDs to show the board is on and starting up</span>
<span class="w">    </span><span class="n">greenredflash</span><span class="p">();</span>
<span class="w">    </span><span class="cm">/** End [setup_flashing_led] */</span>

<span class="w">    </span><span class="cm">/** Start [setup_logger] */</span>
<span class="w">    </span><span class="c1">// Set the timezones for the logger/data and the RTC</span>
<span class="w">    </span><span class="c1">// Logging in the given time zone</span>
<span class="w">    </span><span class="n">Logger</span><span class="o">::</span><span class="n">setLoggerTimeZone</span><span class="p">(</span><span class="n">timeZone</span><span class="p">);</span>
<span class="w">    </span><span class="c1">// It is STRONGLY RECOMMENDED that you set the RTC to be in UTC (UTC+0)</span>
<span class="w">    </span><span class="n">Logger</span><span class="o">::</span><span class="n">setRTCTimeZone</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// Attach the modem and information pins to the logger</span>
<span class="w">    </span><span class="n">dataLogger</span><span class="p">.</span><span class="n">attachModem</span><span class="p">(</span><span class="n">modem</span><span class="p">);</span>
<span class="w">    </span><span class="n">modem</span><span class="p">.</span><span class="n">setModemLED</span><span class="p">(</span><span class="n">modemLEDPin</span><span class="p">);</span>
<span class="w">    </span><span class="n">dataLogger</span><span class="p">.</span><span class="n">setLoggerPins</span><span class="p">(</span><span class="n">wakePin</span><span class="p">,</span><span class="w"> </span><span class="n">sdCardSSPin</span><span class="p">,</span><span class="w"> </span><span class="n">sdCardPwrPin</span><span class="p">,</span><span class="w"> </span><span class="n">buttonPin</span><span class="p">,</span>
<span class="w">                             </span><span class="n">greenLED</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// Begin the logger</span>
<span class="w">    </span><span class="n">dataLogger</span><span class="p">.</span><span class="nf">begin</span><span class="p">();</span>
<span class="w">    </span><span class="cm">/** End [setup_logger] */</span>

<span class="w">    </span><span class="cm">/** Start [setup_sensors] */</span>
<span class="w">    </span><span class="c1">// Note:  Please change these battery voltages to match your battery</span>
<span class="w">    </span><span class="c1">// Set up the sensors, except at lowest battery level</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">getBatteryVoltage</span><span class="p">()</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mf">3.4</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nf">Serial</span><span class="p">.</span><span class="nf">println</span><span class="p">(</span><span class="n">F</span><span class="p">(</span><span class="s">&quot;Setting up sensors...&quot;</span><span class="p">));</span>
<span class="w">        </span><span class="n">varArray</span><span class="p">.</span><span class="n">setupSensors</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="cm">/** End [setup_sensors] */</span>

<span class="cp">#if (defined BUILD_MODEM_ESPRESSIF_ESP8266 || \</span>
<span class="cp">     defined BUILD_MODEM_ESPRESSIF_ESP32) &amp;&amp;  \</span>
<span class="cp">    F_CPU == 8000000L</span>
<span class="w">    </span><span class="cm">/** Start [setup_esp] */</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">modemBaud</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">57600</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">modem</span><span class="p">.</span><span class="n">modemWake</span><span class="p">();</span><span class="w">  </span><span class="c1">// NOTE:  This will also set up the modem</span>
<span class="w">        </span><span class="n">modemSerial</span><span class="p">.</span><span class="nf">begin</span><span class="p">(</span><span class="n">modemBaud</span><span class="p">);</span>
<span class="w">        </span><span class="n">modem</span><span class="p">.</span><span class="n">gsmModem</span><span class="p">.</span><span class="n">sendAT</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="s">&quot;+UART_DEF=9600,8,1,0,0&quot;</span><span class="p">));</span>
<span class="w">        </span><span class="n">modem</span><span class="p">.</span><span class="n">gsmModem</span><span class="p">.</span><span class="n">waitResponse</span><span class="p">();</span>
<span class="w">        </span><span class="n">modemSerial</span><span class="p">.</span><span class="nf">end</span><span class="p">();</span>
<span class="w">        </span><span class="n">modemSerial</span><span class="p">.</span><span class="nf">begin</span><span class="p">(</span><span class="mi">9600</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="cm">/** End [setup_esp] */</span>
<span class="cp">#endif</span>

<span class="cp">#if defined BUILD_TEST_SKYWIRE</span>
<span class="w">    </span><span class="cm">/** Start [setup_skywire] */</span>
<span class="w">    </span><span class="n">modem</span><span class="p">.</span><span class="n">setModemStatusLevel</span><span class="p">(</span><span class="kr">LOW</span><span class="p">);</span><span class="w">  </span><span class="c1">// If using CTS, LOW</span>
<span class="w">    </span><span class="n">modem</span><span class="p">.</span><span class="n">setModemWakeLevel</span><span class="p">(</span><span class="kr">HIGH</span><span class="p">);</span><span class="w">   </span><span class="c1">// Skywire dev board inverts the signal</span>
<span class="w">    </span><span class="n">modem</span><span class="p">.</span><span class="n">setModemResetLevel</span><span class="p">(</span><span class="kr">HIGH</span><span class="p">);</span><span class="w">  </span><span class="c1">// Skywire dev board inverts the signal</span>
<span class="w">    </span><span class="cm">/** End [setup_skywire] */</span>
<span class="cp">#endif</span>

<span class="cp">#if defined BUILD_MODEM_SIM_COM_SIM7080</span>
<span class="w">    </span><span class="cm">/** Start [setup_sim7080] */</span>
<span class="w">    </span><span class="n">modem</span><span class="p">.</span><span class="n">setModemWakeLevel</span><span class="p">(</span><span class="kr">HIGH</span><span class="p">);</span><span class="w">   </span><span class="c1">// ModuleFun Bee inverts the signal</span>
<span class="w">    </span><span class="n">modem</span><span class="p">.</span><span class="n">setModemResetLevel</span><span class="p">(</span><span class="kr">HIGH</span><span class="p">);</span><span class="w">  </span><span class="c1">// ModuleFun Bee inverts the signal</span>
<span class="w">    </span><span class="nf">Serial</span><span class="p">.</span><span class="nf">println</span><span class="p">(</span><span class="n">F</span><span class="p">(</span><span class="s">&quot;Waking modem and setting Cellular Carrier Options...&quot;</span><span class="p">));</span>
<span class="w">    </span><span class="n">modem</span><span class="p">.</span><span class="n">modemWake</span><span class="p">();</span><span class="w">  </span><span class="c1">// NOTE:  This will also set up the modem</span>
<span class="w">    </span><span class="n">modem</span><span class="p">.</span><span class="n">gsmModem</span><span class="p">.</span><span class="n">setBaud</span><span class="p">(</span><span class="n">modemBaud</span><span class="p">);</span><span class="w">   </span><span class="c1">// Make sure we&#39;re *NOT* auto-bauding!</span>
<span class="w">    </span><span class="n">modem</span><span class="p">.</span><span class="n">gsmModem</span><span class="p">.</span><span class="n">setNetworkMode</span><span class="p">(</span><span class="mi">38</span><span class="p">);</span><span class="w">   </span><span class="c1">// set to LTE only</span>
<span class="w">                                         </span><span class="c1">// 2 Automatic</span>
<span class="w">                                         </span><span class="c1">// 13 GSM only</span>
<span class="w">                                         </span><span class="c1">// 38 LTE only</span>
<span class="w">                                         </span><span class="c1">// 51 GSM and LTE only</span>
<span class="w">    </span><span class="n">modem</span><span class="p">.</span><span class="n">gsmModem</span><span class="p">.</span><span class="n">setPreferredMode</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span><span class="w">  </span><span class="c1">// set to CAT-M</span>
<span class="w">                                         </span><span class="c1">// 1 CAT-M</span>
<span class="w">                                         </span><span class="c1">// 2 NB-IoT</span>
<span class="w">                                         </span><span class="c1">// 3 CAT-M and NB-IoT</span>
<span class="w">    </span><span class="cm">/** End [setup_sim7080] */</span>
<span class="cp">#endif</span>

<span class="cp">#if defined BUILD_MODEM_DIGI_XBEE_CELLULAR_TRANSPARENT</span>
<span class="w">    </span><span class="cm">/** Start [setup_xbeec_carrier] */</span>
<span class="w">    </span><span class="c1">// Extra modem set-up</span>
<span class="w">    </span><span class="nf">Serial</span><span class="p">.</span><span class="nf">println</span><span class="p">(</span><span class="n">F</span><span class="p">(</span><span class="s">&quot;Waking modem and setting Cellular Carrier Options...&quot;</span><span class="p">));</span>
<span class="w">    </span><span class="n">modem</span><span class="p">.</span><span class="n">modemWake</span><span class="p">();</span><span class="w">  </span><span class="c1">// NOTE:  This will also set up the modem</span>
<span class="w">    </span><span class="c1">// Go back to command mode to set carrier options</span>
<span class="w">    </span><span class="n">modem</span><span class="p">.</span><span class="n">gsmModem</span><span class="p">.</span><span class="n">commandMode</span><span class="p">();</span>
<span class="w">    </span><span class="c1">// Carrier Profile - 0 = Automatic selection</span>
<span class="w">    </span><span class="c1">//                 - 1 = No profile/SIM ICCID selected</span>
<span class="w">    </span><span class="c1">//                 - 2 = AT&amp;T</span>
<span class="w">    </span><span class="c1">//                 - 3 = Verizon</span>
<span class="w">    </span><span class="c1">// NOTE:  To select T-Mobile, you must enter bypass mode!</span>
<span class="w">    </span><span class="n">modem</span><span class="p">.</span><span class="n">gsmModem</span><span class="p">.</span><span class="n">sendAT</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="s">&quot;CP&quot;</span><span class="p">),</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span>
<span class="w">    </span><span class="n">modem</span><span class="p">.</span><span class="n">gsmModem</span><span class="p">.</span><span class="n">waitResponse</span><span class="p">();</span>
<span class="w">    </span><span class="c1">// Cellular network technology - 0 = LTE-M with NB-IoT fallback</span>
<span class="w">    </span><span class="c1">//                             - 1 = NB-IoT with LTE-M fallback</span>
<span class="w">    </span><span class="c1">//                             - 2 = LTE-M only</span>
<span class="w">    </span><span class="c1">//                             - 3 = NB-IoT only</span>
<span class="w">    </span><span class="c1">// NOTE:  As of 2020 in the USA, AT&amp;T and Verizon only use LTE-M</span>
<span class="w">    </span><span class="c1">// T-Mobile uses NB-IOT</span>
<span class="w">    </span><span class="n">modem</span><span class="p">.</span><span class="n">gsmModem</span><span class="p">.</span><span class="n">sendAT</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="s">&quot;N#&quot;</span><span class="p">),</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span>
<span class="w">    </span><span class="n">modem</span><span class="p">.</span><span class="n">gsmModem</span><span class="p">.</span><span class="n">waitResponse</span><span class="p">();</span>
<span class="w">    </span><span class="c1">// Write changes to flash and apply them</span>
<span class="w">    </span><span class="nf">Serial</span><span class="p">.</span><span class="nf">println</span><span class="p">(</span><span class="n">F</span><span class="p">(</span><span class="s">&quot;Wait while applying changes...&quot;</span><span class="p">));</span>
<span class="w">    </span><span class="c1">// Write changes to flash</span>
<span class="w">    </span><span class="n">modem</span><span class="p">.</span><span class="n">gsmModem</span><span class="p">.</span><span class="n">writeChanges</span><span class="p">();</span>
<span class="w">    </span><span class="c1">// Reset the cellular component to ensure network settings are changed</span>
<span class="w">    </span><span class="n">modem</span><span class="p">.</span><span class="n">gsmModem</span><span class="p">.</span><span class="n">sendAT</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="s">&quot;!R&quot;</span><span class="p">));</span>
<span class="w">    </span><span class="n">modem</span><span class="p">.</span><span class="n">gsmModem</span><span class="p">.</span><span class="n">waitResponse</span><span class="p">(</span><span class="mf">30000L</span><span class="p">);</span>
<span class="w">    </span><span class="c1">// Force reset of the Digi component as well</span>
<span class="w">    </span><span class="c1">// This effectively exits command mode</span>
<span class="w">    </span><span class="n">modem</span><span class="p">.</span><span class="n">gsmModem</span><span class="p">.</span><span class="n">sendAT</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="s">&quot;FR&quot;</span><span class="p">));</span>
<span class="w">    </span><span class="n">modem</span><span class="p">.</span><span class="n">gsmModem</span><span class="p">.</span><span class="n">waitResponse</span><span class="p">(</span><span class="mf">5000L</span><span class="p">);</span>
<span class="cm">/** End [setup_xbeec_carrier] */</span>
<span class="cp">#endif</span>


<span class="cp">#if defined BUILD_MODEM_DIGI_XBEE_LTE_BYPASS</span>
<span class="w">    </span><span class="cm">/** Start [setup_r4_carrrier] */</span>
<span class="w">    </span><span class="c1">// Extra modem set-up</span>
<span class="w">    </span><span class="nf">Serial</span><span class="p">.</span><span class="nf">println</span><span class="p">(</span><span class="n">F</span><span class="p">(</span><span class="s">&quot;Waking modem and setting Cellular Carrier Options...&quot;</span><span class="p">));</span>
<span class="w">    </span><span class="n">modem</span><span class="p">.</span><span class="n">modemWake</span><span class="p">();</span><span class="w">  </span><span class="c1">// NOTE:  This will also set up the modem</span>
<span class="w">    </span><span class="c1">// Turn off the cellular radio while making network changes</span>
<span class="w">    </span><span class="n">modem</span><span class="p">.</span><span class="n">gsmModem</span><span class="p">.</span><span class="n">sendAT</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="s">&quot;+CFUN=0&quot;</span><span class="p">));</span>
<span class="w">    </span><span class="n">modem</span><span class="p">.</span><span class="n">gsmModem</span><span class="p">.</span><span class="n">waitResponse</span><span class="p">();</span>
<span class="w">    </span><span class="c1">// Mobile Network Operator Profile - 0 = SW default</span>
<span class="w">    </span><span class="c1">//                                 - 1 = SIM ICCID selected</span>
<span class="w">    </span><span class="c1">//                                 - 2: ATT</span>
<span class="w">    </span><span class="c1">//                                 - 6: China Telecom</span>
<span class="w">    </span><span class="c1">//                                 - 100: Standard Europe</span>
<span class="w">    </span><span class="c1">//                                 - 4: Telstra</span>
<span class="w">    </span><span class="c1">//                                 - 5: T-Mobile US</span>
<span class="w">    </span><span class="c1">//                                 - 19: Vodafone</span>
<span class="w">    </span><span class="c1">//                                 - 3: Verizon</span>
<span class="w">    </span><span class="c1">//                                 - 31: Deutsche Telekom</span>
<span class="w">    </span><span class="n">modem</span><span class="p">.</span><span class="n">gsmModem</span><span class="p">.</span><span class="n">sendAT</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="s">&quot;+UMNOPROF=&quot;</span><span class="p">),</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span>
<span class="w">    </span><span class="n">modem</span><span class="p">.</span><span class="n">gsmModem</span><span class="p">.</span><span class="n">waitResponse</span><span class="p">();</span>
<span class="w">    </span><span class="c1">// Selected network technology - 7: LTE Cat.M1</span>
<span class="w">    </span><span class="c1">//                             - 8: LTE Cat.NB1</span>
<span class="w">    </span><span class="c1">// Fallback network technology - 7: LTE Cat.M1</span>
<span class="w">    </span><span class="c1">//                              - 8: LTE Cat.NB1</span>
<span class="w">    </span><span class="c1">// NOTE:  As of 2020 in the USA, AT&amp;T and Verizon only use LTE-M</span>
<span class="w">    </span><span class="c1">// T-Mobile uses NB-IOT</span>
<span class="w">    </span><span class="n">modem</span><span class="p">.</span><span class="n">gsmModem</span><span class="p">.</span><span class="n">sendAT</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="s">&quot;+URAT=&quot;</span><span class="p">),</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="sc">&#39;,&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">);</span>
<span class="w">    </span><span class="n">modem</span><span class="p">.</span><span class="n">gsmModem</span><span class="p">.</span><span class="n">waitResponse</span><span class="p">();</span>
<span class="w">    </span><span class="c1">// Restart the module to apply changes</span>
<span class="w">    </span><span class="n">modem</span><span class="p">.</span><span class="n">gsmModem</span><span class="p">.</span><span class="n">sendAT</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="s">&quot;+CFUN=1,1&quot;</span><span class="p">));</span>
<span class="w">    </span><span class="n">modem</span><span class="p">.</span><span class="n">gsmModem</span><span class="p">.</span><span class="n">waitResponse</span><span class="p">(</span><span class="mf">10000L</span><span class="p">);</span>
<span class="cm">/** End [setup_r4_carrrier] */</span>
<span class="cp">#endif</span>

<span class="w">    </span><span class="cm">/** Start [setup_clock] */</span>
<span class="w">    </span><span class="c1">// Sync the clock if it isn&#39;t valid or we have battery to spare</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">getBatteryVoltage</span><span class="p">()</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mf">3.55</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="o">!</span><span class="n">dataLogger</span><span class="p">.</span><span class="n">isRTCSane</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// Synchronize the RTC with NIST</span>
<span class="w">        </span><span class="c1">// This will also set up the modem</span>
<span class="w">        </span><span class="n">dataLogger</span><span class="p">.</span><span class="n">syncRTC</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="cm">/** End [setup_clock] */</span>

<span class="w">    </span><span class="cm">/** Start [setup_file] */</span>
<span class="w">    </span><span class="c1">// Create the log file, adding the default header to it</span>
<span class="w">    </span><span class="c1">// Do this last so we have the best chance of getting the time correct and</span>
<span class="w">    </span><span class="c1">// all sensor names correct</span>
<span class="w">    </span><span class="c1">// Writing to the SD card can be power intensive, so if we&#39;re skipping</span>
<span class="w">    </span><span class="c1">// the sensor setup we&#39;ll skip this too.</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">getBatteryVoltage</span><span class="p">()</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mf">3.4</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nf">Serial</span><span class="p">.</span><span class="nf">println</span><span class="p">(</span><span class="n">F</span><span class="p">(</span><span class="s">&quot;Setting up file on SD card&quot;</span><span class="p">));</span>
<span class="w">        </span><span class="n">dataLogger</span><span class="p">.</span><span class="n">turnOnSDcard</span><span class="p">(</span><span class="kr">true</span><span class="p">);</span>
<span class="w">        </span><span class="c1">// true = wait for card to settle after power up</span>
<span class="w">        </span><span class="n">dataLogger</span><span class="p">.</span><span class="n">createLogFile</span><span class="p">(</span><span class="kr">true</span><span class="p">);</span><span class="w">  </span><span class="c1">// true = write a new header</span>
<span class="w">        </span><span class="n">dataLogger</span><span class="p">.</span><span class="n">turnOffSDcard</span><span class="p">(</span><span class="kr">true</span><span class="p">);</span>
<span class="w">        </span><span class="c1">// true = wait for internal housekeeping after write</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="cm">/** End [setup_file] */</span>

<span class="w">    </span><span class="cm">/** Start [setup_sleep] */</span>
<span class="w">    </span><span class="c1">// Call the processor sleep</span>
<span class="w">    </span><span class="nf">Serial</span><span class="p">.</span><span class="nf">println</span><span class="p">(</span><span class="n">F</span><span class="p">(</span><span class="s">&quot;Putting processor to sleep</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">));</span>
<span class="w">    </span><span class="n">dataLogger</span><span class="p">.</span><span class="n">systemSleep</span><span class="p">();</span>
<span class="w">    </span><span class="cm">/** End [setup_sleep] */</span>
<span class="p">}</span>


<span class="c1">// ==========================================================================</span>
<span class="c1">//  Arduino Loop Function</span>
<span class="c1">// ==========================================================================</span>
<span class="cp">#ifndef BUILD_TEST_COMPLEX_LOOP</span>
<span class="c1">// Use this short loop for simple data logging and sending</span>
<span class="cm">/** Start [simple_loop] */</span>
<span class="kr">void</span><span class="w"> </span><span class="nb">loop</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// Note:  Please change these battery voltages to match your battery</span>
<span class="w">    </span><span class="c1">// At very low battery, just go back to sleep</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">getBatteryVoltage</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mf">3.4</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">dataLogger</span><span class="p">.</span><span class="n">systemSleep</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">getBatteryVoltage</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mf">3.55</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// At moderate voltage, log data but don&#39;t send it over the modem</span>
<span class="w">        </span><span class="n">dataLogger</span><span class="p">.</span><span class="n">logData</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// If the battery is good, send the data to the world</span>
<span class="w">        </span><span class="n">dataLogger</span><span class="p">.</span><span class="n">logDataAndPublish</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="cm">/** End [simple_loop] */</span>

<span class="cp">#else</span>
<span class="cm">/** Start [complex_loop] */</span>
<span class="c1">// Use this long loop when you want to do something special</span>
<span class="c1">// Because of the way alarms work on the RTC, it will wake the processor and</span>
<span class="c1">// start the loop every minute exactly on the minute.</span>
<span class="c1">// The processor may also be woken up by another interrupt or level change on a</span>
<span class="c1">// pin - from a button or some other input.</span>
<span class="c1">// The &quot;if&quot; statements in the loop determine what will happen - whether the</span>
<span class="c1">// sensors update, testing mode starts, or it goes back to sleep.</span>
<span class="kr">void</span><span class="w"> </span><span class="nb">loop</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// Reset the watchdog</span>
<span class="w">    </span><span class="n">dataLogger</span><span class="p">.</span><span class="n">watchDogTimer</span><span class="p">.</span><span class="n">resetWatchDog</span><span class="p">();</span>

<span class="w">    </span><span class="c1">// Assuming we were woken up by the clock, check if the current time is an</span>
<span class="w">    </span><span class="c1">// even interval of the logging interval</span>
<span class="w">    </span><span class="c1">// We&#39;re only doing anything at all if the battery is above 3.4V</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">dataLogger</span><span class="p">.</span><span class="n">checkInterval</span><span class="p">()</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">getBatteryVoltage</span><span class="p">()</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mf">3.4</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// Flag to notify that we&#39;re in already awake and logging a point</span>
<span class="w">        </span><span class="n">Logger</span><span class="o">::</span><span class="n">isLoggingNow</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kr">true</span><span class="p">;</span>
<span class="w">        </span><span class="n">dataLogger</span><span class="p">.</span><span class="n">watchDogTimer</span><span class="p">.</span><span class="n">resetWatchDog</span><span class="p">();</span>

<span class="w">        </span><span class="c1">// Print a line to show new reading</span>
<span class="w">        </span><span class="nf">Serial</span><span class="p">.</span><span class="nf">println</span><span class="p">(</span><span class="n">F</span><span class="p">(</span><span class="s">&quot;------------------------------------------&quot;</span><span class="p">));</span>
<span class="w">        </span><span class="c1">// Turn on the LED to show we&#39;re taking a reading</span>
<span class="w">        </span><span class="n">dataLogger</span><span class="p">.</span><span class="n">alertOn</span><span class="p">();</span>
<span class="w">        </span><span class="c1">// Power up the SD Card, but skip any waits after power up</span>
<span class="w">        </span><span class="n">dataLogger</span><span class="p">.</span><span class="n">turnOnSDcard</span><span class="p">(</span><span class="kr">false</span><span class="p">);</span>
<span class="w">        </span><span class="n">dataLogger</span><span class="p">.</span><span class="n">watchDogTimer</span><span class="p">.</span><span class="n">resetWatchDog</span><span class="p">();</span>

<span class="w">        </span><span class="c1">// Turn on the modem to let it start searching for the network</span>
<span class="w">        </span><span class="c1">// Only turn the modem on if the battery at the last interval was high</span>
<span class="w">        </span><span class="c1">// enough</span>
<span class="w">        </span><span class="c1">// NOTE:  if the modemPowerUp function is not run before the</span>
<span class="w">        </span><span class="c1">// completeUpdate</span>
<span class="w">        </span><span class="c1">// function is run, the modem will not be powered and will not</span>
<span class="w">        </span><span class="c1">// return a signal strength reading.</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">getBatteryVoltage</span><span class="p">()</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mf">3.6</span><span class="p">)</span><span class="w"> </span><span class="n">modem</span><span class="p">.</span><span class="n">modemPowerUp</span><span class="p">();</span>

<span class="cp">#ifdef BUILD_TEST_ALTSOFTSERIAL</span>
<span class="w">        </span><span class="c1">// Start the stream for the modbus sensors, if your RS485 adapter bleeds</span>
<span class="w">        </span><span class="c1">// current from data pins when powered off &amp; you stop modbus serial</span>
<span class="w">        </span><span class="c1">// connection with digitalWrite(5, LOW), below.</span>
<span class="w">        </span><span class="c1">// https://github.com/EnviroDIY/ModularSensors/issues/140#issuecomment-389380833</span>
<span class="w">        </span><span class="n">altSoftSerial</span><span class="p">.</span><span class="nf">begin</span><span class="p">(</span><span class="mi">9600</span><span class="p">);</span>
<span class="cp">#endif</span>

<span class="w">        </span><span class="c1">// Do a complete update on the variable array.</span>
<span class="w">        </span><span class="c1">// This this includes powering all of the sensors, getting updated</span>
<span class="w">        </span><span class="c1">// values, and turing them back off.</span>
<span class="w">        </span><span class="c1">// NOTE:  The wake function for each sensor should force sensor setup</span>
<span class="w">        </span><span class="c1">// to run if the sensor was not previously set up.</span>
<span class="w">        </span><span class="n">varArray</span><span class="p">.</span><span class="n">completeUpdate</span><span class="p">();</span>

<span class="w">        </span><span class="n">dataLogger</span><span class="p">.</span><span class="n">watchDogTimer</span><span class="p">.</span><span class="n">resetWatchDog</span><span class="p">();</span>

<span class="cp">#ifdef BUILD_TEST_ALTSOFTSERIAL</span>
<span class="w">        </span><span class="c1">// Reset modbus serial pins to LOW, if your RS485 adapter bleeds power</span>
<span class="w">        </span><span class="c1">// on sleep, because Modbus Stop bit leaves these pins HIGH.</span>
<span class="w">        </span><span class="c1">// https://github.com/EnviroDIY/ModularSensors/issues/140#issuecomment-389380833</span>
<span class="w">        </span><span class="nf">digitalWrite</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="kr">LOW</span><span class="p">);</span><span class="w">  </span><span class="c1">// Reset AltSoftSerial Tx pin to LOW</span>
<span class="w">        </span><span class="nf">digitalWrite</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="kr">LOW</span><span class="p">);</span><span class="w">  </span><span class="c1">// Reset AltSoftSerial Rx pin to LOW</span>
<span class="cp">#endif</span>

<span class="w">        </span><span class="c1">// Create a csv data record and save it to the log file</span>
<span class="w">        </span><span class="n">dataLogger</span><span class="p">.</span><span class="n">logToSD</span><span class="p">();</span>
<span class="w">        </span><span class="n">dataLogger</span><span class="p">.</span><span class="n">watchDogTimer</span><span class="p">.</span><span class="n">resetWatchDog</span><span class="p">();</span>

<span class="w">        </span><span class="c1">// Connect to the network</span>
<span class="w">        </span><span class="c1">// Again, we&#39;re only doing this if the battery is doing well</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">getBatteryVoltage</span><span class="p">()</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mf">3.55</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">dataLogger</span><span class="p">.</span><span class="n">watchDogTimer</span><span class="p">.</span><span class="n">resetWatchDog</span><span class="p">();</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">modem</span><span class="p">.</span><span class="n">connectInternet</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">dataLogger</span><span class="p">.</span><span class="n">watchDogTimer</span><span class="p">.</span><span class="n">resetWatchDog</span><span class="p">();</span>
<span class="w">                </span><span class="c1">// Publish data to remotes</span>
<span class="w">                </span><span class="nf">Serial</span><span class="p">.</span><span class="nf">println</span><span class="p">(</span><span class="n">F</span><span class="p">(</span><span class="s">&quot;Modem connected to internet.&quot;</span><span class="p">));</span>
<span class="w">                </span><span class="n">dataLogger</span><span class="p">.</span><span class="n">publishDataToRemotes</span><span class="p">();</span>

<span class="w">                </span><span class="c1">// Sync the clock at noon</span>
<span class="w">                </span><span class="n">dataLogger</span><span class="p">.</span><span class="n">watchDogTimer</span><span class="p">.</span><span class="n">resetWatchDog</span><span class="p">();</span>
<span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">Logger</span><span class="o">::</span><span class="n">markedLocalEpochTime</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">&amp;&amp;</span>
<span class="w">                    </span><span class="n">Logger</span><span class="o">::</span><span class="n">markedLocalEpochTime</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="mi">86400</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">43200</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="nf">Serial</span><span class="p">.</span><span class="nf">println</span><span class="p">(</span><span class="n">F</span><span class="p">(</span><span class="s">&quot;Running a daily clock sync...&quot;</span><span class="p">));</span>
<span class="w">                    </span><span class="n">dataLogger</span><span class="p">.</span><span class="n">setRTClock</span><span class="p">(</span><span class="n">modem</span><span class="p">.</span><span class="n">getNISTTime</span><span class="p">());</span>
<span class="w">                    </span><span class="n">dataLogger</span><span class="p">.</span><span class="n">watchDogTimer</span><span class="p">.</span><span class="n">resetWatchDog</span><span class="p">();</span>
<span class="w">                    </span><span class="n">modem</span><span class="p">.</span><span class="n">updateModemMetadata</span><span class="p">();</span>
<span class="w">                    </span><span class="n">dataLogger</span><span class="p">.</span><span class="n">watchDogTimer</span><span class="p">.</span><span class="n">resetWatchDog</span><span class="p">();</span>
<span class="w">                </span><span class="p">}</span>

<span class="w">                </span><span class="c1">// Disconnect from the network</span>
<span class="w">                </span><span class="n">modem</span><span class="p">.</span><span class="n">disconnectInternet</span><span class="p">();</span>
<span class="w">                </span><span class="n">dataLogger</span><span class="p">.</span><span class="n">watchDogTimer</span><span class="p">.</span><span class="n">resetWatchDog</span><span class="p">();</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">            </span><span class="c1">// Turn the modem off</span>
<span class="w">            </span><span class="n">modem</span><span class="p">.</span><span class="n">modemSleepPowerDown</span><span class="p">();</span>
<span class="w">            </span><span class="n">dataLogger</span><span class="p">.</span><span class="n">watchDogTimer</span><span class="p">.</span><span class="n">resetWatchDog</span><span class="p">();</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="c1">// Cut power from the SD card - without additional housekeeping wait</span>
<span class="w">        </span><span class="n">dataLogger</span><span class="p">.</span><span class="n">turnOffSDcard</span><span class="p">(</span><span class="kr">false</span><span class="p">);</span>
<span class="w">        </span><span class="n">dataLogger</span><span class="p">.</span><span class="n">watchDogTimer</span><span class="p">.</span><span class="n">resetWatchDog</span><span class="p">();</span>
<span class="w">        </span><span class="c1">// Turn off the LED</span>
<span class="w">        </span><span class="n">dataLogger</span><span class="p">.</span><span class="n">alertOff</span><span class="p">();</span>
<span class="w">        </span><span class="c1">// Print a line to show reading ended</span>
<span class="w">        </span><span class="nf">Serial</span><span class="p">.</span><span class="nf">println</span><span class="p">(</span><span class="n">F</span><span class="p">(</span><span class="s">&quot;------------------------------------------</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">));</span>

<span class="w">        </span><span class="c1">// Unset flag</span>
<span class="w">        </span><span class="n">Logger</span><span class="o">::</span><span class="n">isLoggingNow</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kr">false</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// Check if it was instead the testing interrupt that woke us up</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">Logger</span><span class="o">::</span><span class="n">startTesting</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="cp">#ifdef BUILD_TEST_ALTSOFTSERIAL</span>
<span class="w">        </span><span class="c1">// Start the stream for the modbus sensors, if your RS485 adapter bleeds</span>
<span class="w">        </span><span class="c1">// current from data pins when powered off &amp; you stop modbus serial</span>
<span class="w">        </span><span class="c1">// connection with digitalWrite(5, LOW), below.</span>
<span class="w">        </span><span class="c1">// https://github.com/EnviroDIY/ModularSensors/issues/140#issuecomment-389380833</span>
<span class="w">        </span><span class="n">altSoftSerial</span><span class="p">.</span><span class="nf">begin</span><span class="p">(</span><span class="mi">9600</span><span class="p">);</span>
<span class="cp">#endif</span>

<span class="w">        </span><span class="n">dataLogger</span><span class="p">.</span><span class="n">testingMode</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>

<span class="cp">#ifdef BUILD_TEST_ALTSOFTSERIAL</span>
<span class="w">    </span><span class="c1">// Reset modbus serial pins to LOW, if your RS485 adapter bleeds power</span>
<span class="w">    </span><span class="c1">// on sleep, because Modbus Stop bit leaves these pins HIGH.</span>
<span class="w">    </span><span class="c1">// https://github.com/EnviroDIY/ModularSensors/issues/140#issuecomment-389380833</span>
<span class="w">    </span><span class="nf">digitalWrite</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="kr">LOW</span><span class="p">);</span><span class="w">  </span><span class="c1">// Reset AltSoftSerial Tx pin to LOW</span>
<span class="w">    </span><span class="nf">digitalWrite</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="kr">LOW</span><span class="p">);</span><span class="w">  </span><span class="c1">// Reset AltSoftSerial Rx pin to LOW</span>
<span class="cp">#endif</span>

<span class="w">    </span><span class="c1">// Call the processor sleep</span>
<span class="w">    </span><span class="n">dataLogger</span><span class="p">.</span><span class="n">systemSleep</span><span class="p">();</span>
<span class="p">}</span>
<span class="cp">#endif</span>
<span class="cm">/** End [complex_loop] */</span></pre>
        <div class="m-note m-dim m-thin m-text-center"><a href="_d_r_w_i__no_cellular_8ino-example.html" class="m-doc">&laquo; DRWI_NoCellular.ino</a> | <a href="example_menu.html" class="m-doc">Example showing all possible functionality</a></div>

                    </div>
                  </div>
                </div>
              </article>
            </main>

          </div>      </div></div><div id="footer-image">
          <div class="gp-container">
            <img
              src="https://www.envirodiy.org/wp-content/uploads/2016/05/EnviroDIY_LogoMaster_Square_V5_TwoTree_Trans_notext-e1462820115833.png"
              width="99"
              height="22"
              alt=""
            />
          </div>
        </div>

    <footer id="gp-footer">
      <div id="gp-copyright">
        <div class="gp-container">
          <div id="gp-copyright-text">
            <p>
              <a href="http://www.stroudcenter.org/" target="_blank"
                ><img
                  style="float: left; margin-right: 20px;"
                  src="https://www.envirodiy.org/wp-content/uploads/2017/01/stroud-white-white-165px.png"
                  alt=""
                  width="165"
                  height="70" /></a
              >EnviroDIY™ is a community for do-it-yourself ideas for
              environmental science and monitoring. EnviroDIY is an
              initiative of
              <a href="http://www.stroudcenter.org/" target="_blank"
                >Stroud™ Water Research Center</a
              >, which seeks to advance knowledge and stewardship of
              freshwater systems through global research, education, and
              watershed restoration.
            </p>
            <p>
              All content on EnviroDIY is licensed as Creative Commons
              Attribution-ShareAlike 4.0 International (CC-BY-SA). Hardware
              designs on this website are released under the CERN Open
              Hardware License 1.2.
              <a href="https://envirodiy.org/licenses/"
                >Alternative licenses are available.</a
              >
              <a href="https://envirodiy.org/terms/">Terms of Use</a> |
              <a href="https://envirodiy.org/privacy/">Privacy Policy</a> |
              <a href="https://envirodiy.org/cookies/">Cookie Policy</a> |
              <a href="https://envirodiy.org/contact/">Contact</a>
            </p>
            <p>
              Created with <a href="https://doxygen.org/">Doxygen</a> 1.9.6 and <a href="https://mcss.mosra.cz/">m.css</a>.
            </p>
          </div>
        </div>
      </div>
    </footer>

    <div class="gp-clear"></div>

    </div></div><script
  type="text/javascript"
  src="https://www.envirodiy.org/wp-content/themes/socialize/lib/scripts/modernizr.js?ver=6.1.1"
  id="modernizr-js"
></script>
<script
  type="text/javascript"
  src="https://www.envirodiy.org/wp-includes/js/imagesloaded.min.js?ver=4.1.4"
  id="imagesloaded-js"
></script>
<script
  type="text/javascript"
  src="https://www.envirodiy.org/wp-content/themes/socialize/lib/scripts/selectivizr.min.js?ver=6.1.1"
  id="selectivizr-js"
></script>
<script
  type="text/javascript"
  src="https://www.envirodiy.org/wp-content/themes/socialize/lib/scripts/placeholders.min.js?ver=6.1.1"
  id="placeholder-js"
></script>
<script
  type="text/javascript"
  src="https://www.envirodiy.org/wp-content/themes/socialize/lib/scripts/jquery.ui.totop.min.js.js?ver=6.1.1"
  id="jquery-totop-js"
></script>
<script
  type="text/javascript"
  src="https://www.envirodiy.org/wp-content/themes/socialize/lib/scripts/jquery.flexslider-min.js?ver=6.1.1"
  id="jquery-flexslider-js"
></script>
<script type="text/javascript" id="ghostpool-custom-js-js-extra">
  /* <![CDATA[ */
  var ghostpool_script = {
    lightbox: 'separate_images',
    url: 'https:\/\/www.envirodiy.org\/',
    related_items_in_view: '',
  };
  /* ]]> */
</script>
<script
  type="text/javascript"
  src="https://www.envirodiy.org/wp-content/themes/socialize/lib/scripts/jquery.stellar.min.js?ver=6.1.1"
  id="jquery-stellar-js"
></script>

<script
  type="text/javascript"
  src="https://www.envirodiy.org/wp-content/themes/socialize/lib/scripts/custom.js?ver=6.1.1"
  id="ghostpool-custom-js-js"
></script>
<script type="text/javascript" id="ghostpool-ajax-loop-js-extra">
  /* <![CDATA[ */
  var ghostpoolAjax = {
    ajaxurl: 'https:\/\/www.envirodiy.org\/wp-admin\/admin-ajax.php',
    ajaxnonce: 'e2424257d3',
    querystring: '',
  };
  /* ]]> */
</script>
<script
  type="text/javascript"
  src="https://www.envirodiy.org/wp-content/themes/socialize/lib/scripts/ajax-loop.js?ver=6.1.1"
  id="ghostpool-ajax-loop-js"
></script>
</body>
</html>
